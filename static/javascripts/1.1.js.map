{"version":3,"sources":["webpack:///1.1.js","webpack:///./asyncModules ^\\.\\/.*$","webpack:///./asyncModules/TemplateEngine.js","webpack:///./asyncModules/dropzoneUploader.js","webpack:///./asyncModules/job.js","webpack:////projects/rede_gsti/resources/~/selectize/dist/js/selectize.js","webpack:////projects/rede_gsti/resources/~/sifter/sifter.js","webpack:////projects/rede_gsti/resources/~/microplugin/src/microplugin.js","webpack:///./asyncModules/profession.js","webpack:///./asyncModules/tagger.js","webpack:///./asyncModules/taxonomy.js"],"names":["webpackJsonp","module","exports","__webpack_require__","webpackContext","req","webpackContextResolve","map","Error","./TemplateEngine","./TemplateEngine.js","./dropzoneUploader","./dropzoneUploader.js","./index","./index.js","./job","./job.js","./profession","./profession.js","./tagger","./tagger.js","./taxonomy","./taxonomy.js","keys","Object","resolve","id","html","options","result","re","reExp","code","cursor","add","line","js","match","replace","exec","slice","index","length","substr","Function","apply","err","console","error","message","defineProperty","value","$","_module","element","cbDragOver","event","dropZone","addClass","cbDragLeave","removeClass","cbDrop","file","originalEvent","dataTransfer","files","stopPropagation","preventDefault","readFile","$input","val","cbChangeFile","this","cbTriggerFile","trigger","find","$altInput","defaultImage","data","fakeLoad","on","dragover","dragleave","drop","change","click","name","src","load","createPreview","getCanvasImage","attr","reader","FileReader","onload","e","target","readAsDataURL","image","imgWidth","width","imgHeight","height","canvas","document","createElement","ctx","getContext","drawImage","toDataURL","filename","newURL","fileName","lastIndexOf","filePath","show","hide","_interopRequireDefault","obj","__esModule","default","_jquery","_jquery2","job","elementData","$element","defaultSettings","plugins","delimiter","persist","create","render","option_create","item","input","selectize","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","Sifter","MicroPlugin","highlight","pattern","regex","RegExp","node","skip","nodeType","pos","search","spannode","className","middlebit","splitText","middleclone","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","tagName","i","each","fn","removeHighlight","firstChild","nodeName","parent","normalize","end","MicroEvent","prototype","fct","_events","push","off","n","arguments","splice","indexOf","Array","call","mixin","destObject","props","IS_MAC","navigator","userAgent","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_P","KEY_RIGHT","KEY_DOWN","KEY_N","KEY_BACKSPACE","KEY_DELETE","KEY_SHIFT","KEY_CMD","KEY_CTRL","KEY_TAB","TAG_SELECT","TAG_INPUT","SUPPORTS_VALIDITY_API","window","validity","isset","object","hash_key","escape_html","str","hook","before","self","method","original","after","once","called","debounce","delay","timeout","args","clearTimeout","setTimeout","debounce_events","types","type","event_args","hasOwnProperty","watchChildEvent","$parent","selector","child","currentTarget","getSelection","start","selectionStart","selectionEnd","selection","focus","sel","createRange","selLen","text","moveStart","transferStyles","$from","$to","properties","styles","css","measureString","$test","position","top","left","padding","whiteSpace","appendTo","remove","autoGrow","currentWidth","update","keyCode","printable","placeholder","shift","character","metaKey","altKey","force","toLowerCase","substring","shiftKey","String","fromCharCode","toUpperCase","triggerHandler","domToString","d","tmp","innerHTML","logError","component","explanation","group","groupEnd","Selectize","settings","dir","computedStyle","getComputedStyle","getPropertyValue","currentStyle","direction","parents","extend","order","tabIndex","tagType","rtl","eventNS","count","highlightedValue","isOpen","isDisabled","isRequired","is","isInvalid","isLocked","isFocused","isInputHidden","isSetup","isShiftDown","isCmdDown","isCtrlDown","ignoreFocus","ignoreBlur","ignoreHover","hasOptions","currentResults","lastValue","caretPos","loading","loadedSearches","$activeOption","$activeItems","optgroups","userOptions","items","renderCache","onSearchChange","loadThrottle","sifter","diacritics","registerOption","registerOptionGroup","mode","maxItems","hideSelected","initializePlugins","setupCallbacks","setupTemplates","setup","$wrapper","$control","$control_input","$dropdown","$dropdown_content","$dropdown_parent","inputMode","classes","classes_plugins","inputId","$window","$document","wrapperClass","inputClass","dropdownParent","dropdownClass","dropdownContentClass","copyClassesToDropdown","style","names","join","splitOn","delimiterEscaped","onOptionHover","onOptionSelect","onItemSelect","mousedown","onMouseDown","onClick","keydown","onKeyDown","keyup","onKeyUp","keypress","onKeyPress","resize","positionDropdown","blur","onBlur","onFocus","paste","onPaste","has","revertSettings","$children","children","detach","tabindex","isArray","setValue","refreshState","updateOriginalInput","refreshItems","updatePlaceholder","disable","onChange","preload","field_label","labelField","field_optgroup","optgroupLabelField","templates","optgroup","optgroup_header","escape","option","key","callbacks","initialize","item_add","item_remove","clear","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","defaultPrevented","isDefaultPrevented","close","open","setActiveItem","isFull","pastedText","splitInput","trim","split","createItem","which","selectAll","ctrlKey","$next","getAdjacentOption","setActiveOption","$prev","advanceSelection","selectOnTab","deleteSelection","refreshOptions","callback","wasFocused","showInput","openOnFocus","dest","activeElement","deactivate","setTextboxValue","setCaret","createOnBlur","$target","hasClass","closeAfterSelect","lastQuery","addItem","getOption","loadingClass","results","Math","max","addOption","changed","getValue","silent","events","addItems","$item","eventName","idx","begin","swap","$last","hideInput","$option","scroll","animate","height_menu","height_item","y","scroll_top","scroll_bottom","outerHeight","scrollTop","offset","stop","scrollDuration","opacity","getScoreFunction","query","getSearchOptions","sort","sortField","field","fields","searchField","conjunction","searchConjunction","calculateScore","score","triggerDropdown","j","k","groups","groups_order","option_html","html_children","has_create_option","$active","$active_before","$create","active_before","maxOptions","min","optgroupField","createDocumentFragment","lockOptgroupOrder","a","b","a_order","$order","b_order","dom","tokens","canCreate","prepend","addPrecedence","valueField","optgroupValueField","addOptionGroup","removeOptionGroup","clearOptionGroups","updateOption","$item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","replaceWith","removeOption","removeItem","clearOptions","getElementWithValue","$options","eq","$els","getAttribute","values","isPending","value_next","wasFull","insertAtCaret","caret","lock","unlock","output","refreshValidityState","refreshClasses","invalid","prop","toggleClass","isEmptyObject","opts","label","removeAttr","visibility","display","outerWidth","$el","option_select","$option_select","$tail","onDelete","pop","tail","valueLength","cursorAtEdge","advanceCaret","$adj","$child","append","enable","destroy","removeData","body","templateName","cache","clearCache","filter","createFilter","defaults","allowEmptyOption","dataAttr","settings_user","attr_data","field_value","field_optgroup_label","field_optgroup_value","init_textbox","settings_element","data_raw","JSON","parse","init_select","optionsMap","readData","arr","addGroup","$optgroup","instance","tag_name","support","define","sortable","forcePlaceholderSize","disabled","ui","helper","overflow","active","title","headerClass","titleRowClass","labelClass","closeClass","$dropdown_header","equalizeWidth","equalizeHeight","closest","prev","next","getScrollbarWidth","div","doc","offsetWidth","clientWidth","removeChild","equalizeSizes","height_max","width_last","width_parent","$optgroups","innerWidth","round","singleClose","thisRef","html_container","html_element","context","render_item","multiClose","tokenize","letter","words","escape_regex","DIACRITICS","string","iterator","is_array","forEach","token_count","nesting","prepareSearch","scoreValue","token","scoreObject","field_count","getattr","sum","getSortFunction","fields_count","multiplier","multipliers","get_field","implicit_score","sort_empty","unshift","cmp","option_fields","option_sort","option_sort_empty","total","fn_sort","fn_score","limit","asciifold","toString","c","f","g","h","l","o","p","q","r","s","t","u","v","w","x","z","chunk","foreignletters","lookup","charAt","regexp","foreignletter","Interface","queue","requested","loaded","utils","require","loadPlugin","plugin","vArg","profession","templateItem","templateOption","img","loadUsers","ajax","url","criteria","success","res","users","suggest","tagger","renderItem","renderTemplate","defaultTemplates","TemplateEngine","renderOption","loadItems","_data","taxonomy","selectizeSettings"],"mappings":"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","file":"1.1.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./TemplateEngine\": 5,\n\t\t\"./TemplateEngine.js\": 5,\n\t\t\"./dropzoneUploader\": 6,\n\t\t\"./dropzoneUploader.js\": 6,\n\t\t\"./index\": 3,\n\t\t\"./index.js\": 3,\n\t\t\"./job\": 7,\n\t\t\"./job.js\": 7,\n\t\t\"./profession\": 11,\n\t\t\"./profession.js\": 11,\n\t\t\"./tagger\": 12,\n\t\t\"./tagger.js\": 12,\n\t\t\"./taxonomy\": 13,\n\t\t\"./taxonomy.js\": 13\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 4;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function (html, options) {\n\t\tvar re = /<%(.+?)%>/g,\n\t\t    reExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,\n\t\t    code = 'with(obj) { var r=[];\\n',\n\t\t    cursor = 0,\n\t\t    result;\n\t\tvar add = function add(line, js) {\n\t\t\tjs ? code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n' : code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '';\n\t\t\treturn add;\n\t\t};\n\t\tvar match = re.exec(html);\n\t\twhile (match) {\n\t\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\t\tcursor = match.index + match[0].length;\n\t\t\tmatch = re.exec(html);\n\t\t}\n\t\tadd(html.substr(cursor, html.length - cursor));\n\t\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\t\ttry {\n\t\t\tresult = new Function('obj', code).apply(options, [options]);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\");\n\t\t}\n\t\treturn result;\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Dependecies\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tvar $ = __webpack_require__(2);\n\t\n\tvar _module = function _module(element) {\n\t  var dropZone = $(element);\n\t  var $input = dropZone.find('input'); // TODO: Change this selector name\n\t  var $altInput = dropZone.find('[data-trigger=\"file\"]');\n\t  var defaultImage = dropZone.data('original-image');\n\t\n\t  if (defaultImage) {\n\t    fakeLoad('Imagem Padro', defaultImage);\n\t  }\n\t\n\t  dropZone.on({\n\t    dragover: cbDragOver,\n\t    dragleave: cbDragLeave,\n\t    drop: cbDrop\n\t  });\n\t\n\t  $input.on({\n\t    change: cbChangeFile\n\t  });\n\t\n\t  $altInput.on({\n\t    click: cbTriggerFile\n\t  });\n\t\n\t  function cbDragOver(event) {\n\t    dropZone.addClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDragLeave(event) {\n\t    dropZone.removeClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDrop(event) {\n\t    var file = event.originalEvent.dataTransfer.files[0];\n\t\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    dropZone.removeClass('hover');\n\t\n\t    readFile(file);\n\t    $input.files = file;\n\t    $input.val('');\n\t    return false;\n\t  }\n\t\n\t  function cbChangeFile(event) {\n\t    readFile(this.files[0]);\n\t    return false;\n\t  }\n\t\n\t  function cbTriggerFile(event) {\n\t    $input.trigger('click');\n\t  }\n\t};\n\t\n\tvar fakeLoad = function fakeLoad(name, src) {\n\t  var $image = $('<img/>').load(function () {\n\t    createPreview(name, getCanvasImage(this));\n\t  }).attr('src', src);\n\t};\n\t\n\tvar readFile = function readFile(file) {\n\t  var reader = new FileReader();\n\t\n\t  reader.onload = function (e) {\n\t    fakeLoad(file.name, e.target.result);\n\t  };\n\t  reader.readAsDataURL(file);\n\t};\n\t\n\tvar getCanvasImage = function getCanvasImage(image) {\n\t\n\t  var imgWidth = image.width,\n\t      imgHeight = image.height;\n\t\n\t  var canvas = document.createElement('canvas');\n\t  canvas.width = imgWidth;\n\t  canvas.height = imgHeight;\n\t\n\t  var ctx = canvas.getContext('2d');\n\t  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\t\n\t  return canvas.toDataURL('image/jpeg');\n\t};\n\t\n\tvar createPreview = function createPreview(filename, newURL) {\n\t  var fileName = filename.substr(0, filename.lastIndexOf('.')); //subtract file extension\n\t  var filePath = newURL;\n\t  var image = '<img src=\"' + filePath + '\" class=\"img-responsive\" alt=\"' + fileName + '\"/>';\n\t  //append new image through jQuery Template\n\t  $('[data-content=\"file\"]').html(image).show();\n\t  $('.custom-file-content').hide();\n\t};\n\t\n\texports['default'] = _module;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(8);\n\t\n\tvar job, elementData, $element;\n\t\n\tvar defaultSettings = {\n\t  plugins: ['remove_button'],\n\t  delimiter: ',',\n\t  persist: false,\n\t  create: true,\n\t  render: {\n\t    option_create: function option_create(item) {\n\t      return '<div class=\"create\">' + item.input + '</div>';\n\t    }\n\t  }\n\t};\n\t\n\tjob = function (element) {\n\t  $element = (0, _jquery2['default'])(element);\n\t  elementData = $element.data();\n\t  (0, _jquery2['default'])(element).selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = job;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * selectize.js (v0.12.4)\n\t * Copyright (c) 20132015 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t/*jshint curly:false */\n\t/*jshint browser:true */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2),__webpack_require__(9),__webpack_require__(10)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t\t} else {\n\t\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t\t}\n\t}(this, function($, Sifter, MicroPlugin) {\n\t\t'use strict';\n\t\n\t\tvar highlight = function($element, pattern) {\n\t\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\t\n\t\t\tvar highlight = function(node) {\n\t\t\t\tvar skip = 0;\n\t\t\t\tif (node.nodeType === 3) {\n\t\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\t\tskip = 1;\n\t\t\t\t\t}\n\t\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn skip;\n\t\t\t};\n\t\t\n\t\t\treturn $element.each(function() {\n\t\t\t\thighlight(this);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * removeHighlight fn copied from highlight v5 and\n\t\t * edited to remove with() and pass js strict mode\n\t\t */\n\t\t$.fn.removeHighlight = function() {\n\t\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\t\tvar parent = this.parentNode;\n\t\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\t\tparent.normalize();\n\t\t\t}).end();\n\t\t};\n\t\t\n\t\t\n\t\tvar MicroEvent = function() {};\n\t\tMicroEvent.prototype = {\n\t\t\ton: function(event, fct){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\t\tthis._events[event].push(fct);\n\t\t\t},\n\t\t\toff: function(event, fct){\n\t\t\t\tvar n = arguments.length;\n\t\t\t\tif (n === 0) return delete this._events;\n\t\t\t\tif (n === 1) return delete this._events[event];\n\t\t\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t\t},\n\t\t\ttrigger: function(event /* , args... */){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t\t *\n\t\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t\t *\n\t\t * @param {object} the object which will support MicroEvent\n\t\t */\n\t\tMicroEvent.mixin = function(destObject){\n\t\t\tvar props = ['on', 'off', 'trigger'];\n\t\t\tfor (var i = 0; i < props.length; i++){\n\t\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\t\n\t\tvar KEY_A         = 65;\n\t\tvar KEY_COMMA     = 188;\n\t\tvar KEY_RETURN    = 13;\n\t\tvar KEY_ESC       = 27;\n\t\tvar KEY_LEFT      = 37;\n\t\tvar KEY_UP        = 38;\n\t\tvar KEY_P         = 80;\n\t\tvar KEY_RIGHT     = 39;\n\t\tvar KEY_DOWN      = 40;\n\t\tvar KEY_N         = 78;\n\t\tvar KEY_BACKSPACE = 8;\n\t\tvar KEY_DELETE    = 46;\n\t\tvar KEY_SHIFT     = 16;\n\t\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\t\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\t\tvar KEY_TAB       = 9;\n\t\t\n\t\tvar TAG_SELECT    = 1;\n\t\tvar TAG_INPUT     = 2;\n\t\t\n\t\t// for now, android support in general is too spotty to support validity\n\t\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\t\n\t\t\n\t\tvar isset = function(object) {\n\t\t\treturn typeof object !== 'undefined';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Converts a scalar to its best string representation\n\t\t * for hash keys and HTML attribute values.\n\t\t *\n\t\t * Transformations:\n\t\t *   'str'     -> 'str'\n\t\t *   null      -> ''\n\t\t *   undefined -> ''\n\t\t *   true      -> '1'\n\t\t *   false     -> '0'\n\t\t *   0         -> '0'\n\t\t *   1         -> '1'\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {string|null}\n\t\t */\n\t\tvar hash_key = function(value) {\n\t\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\t\treturn value + '';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes a string for use within HTML.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_html = function(str) {\n\t\t\treturn (str + '')\n\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes \"$\" characters in replacement strings.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_replace = function(str) {\n\t\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t\t};\n\t\t\n\t\tvar hook = {};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked before the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.before = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked after the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.after = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tvar result = original.apply(self, arguments);\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be invoked once.\n\t\t *\n\t\t * @param {function} fn\n\t\t * @returns {function}\n\t\t */\n\t\tvar once = function(fn) {\n\t\t\tvar called = false;\n\t\t\treturn function() {\n\t\t\t\tif (called) return;\n\t\t\t\tcalled = true;\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be called once\n\t\t * every `delay` milliseconds (invoked on the falling edge).\n\t\t *\n\t\t * @param {function} fn\n\t\t * @param {int} delay\n\t\t * @returns {function}\n\t\t */\n\t\tvar debounce = function(fn, delay) {\n\t\t\tvar timeout;\n\t\t\treturn function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\twindow.clearTimeout(timeout);\n\t\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\t\tfn.apply(self, args);\n\t\t\t\t}, delay);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Debounce all fired events types listed in `types`\n\t\t * while executing the provided `fn`.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {array} types\n\t\t * @param {function} fn\n\t\t */\n\t\tvar debounce_events = function(self, types, fn) {\n\t\t\tvar type;\n\t\t\tvar trigger = self.trigger;\n\t\t\tvar event_args = {};\n\t\t\n\t\t\t// override trigger method\n\t\t\tself.trigger = function() {\n\t\t\t\tvar type = arguments[0];\n\t\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\t\tevent_args[type] = arguments;\n\t\t\t\t} else {\n\t\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t// invoke provided function\n\t\t\tfn.apply(self, []);\n\t\t\tself.trigger = trigger;\n\t\t\n\t\t\t// trigger queued events\n\t\t\tfor (type in event_args) {\n\t\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t\t *\n\t\t * @param {object} $parent - Parent element to listen on.\n\t\t * @param {string} event - Event name.\n\t\t * @param {string} selector - Descendant selector to filter by.\n\t\t * @param {function} fn - Event handler.\n\t\t */\n\t\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t\t$parent.on(event, selector, function(e) {\n\t\t\t\tvar child = e.target;\n\t\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\t\tchild = child.parentNode;\n\t\t\t\t}\n\t\t\t\te.currentTarget = child;\n\t\t\t\treturn fn.apply(this, [e]);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * Determines the current selection within a text input control.\n\t\t * Returns an object containing:\n\t\t *   - start\n\t\t *   - length\n\t\t *\n\t\t * @param {object} input\n\t\t * @returns {object}\n\t\t */\n\t\tvar getSelection = function(input) {\n\t\t\tvar result = {};\n\t\t\tif ('selectionStart' in input) {\n\t\t\t\tresult.start = input.selectionStart;\n\t\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t\t} else if (document.selection) {\n\t\t\t\tinput.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\t\tresult.start = sel.text.length - selLen;\n\t\t\t\tresult.length = selLen;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Copies CSS properties from one element to another.\n\t\t *\n\t\t * @param {object} $from\n\t\t * @param {object} $to\n\t\t * @param {array} properties\n\t\t */\n\t\tvar transferStyles = function($from, $to, properties) {\n\t\t\tvar i, n, styles = {};\n\t\t\tif (properties) {\n\t\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstyles = $from.css();\n\t\t\t}\n\t\t\t$to.css(styles);\n\t\t};\n\t\t\n\t\t/**\n\t\t * Measures the width of a string within a\n\t\t * parent element (in pixels).\n\t\t *\n\t\t * @param {string} str\n\t\t * @param {object} $parent\n\t\t * @returns {int}\n\t\t */\n\t\tvar measureString = function(str, $parent) {\n\t\t\tif (!str) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\n\t\t\tvar $test = $('<test>').css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: -99999,\n\t\t\t\tleft: -99999,\n\t\t\t\twidth: 'auto',\n\t\t\t\tpadding: 0,\n\t\t\t\twhiteSpace: 'pre'\n\t\t\t}).text(str).appendTo('body');\n\t\t\n\t\t\ttransferStyles($parent, $test, [\n\t\t\t\t'letterSpacing',\n\t\t\t\t'fontSize',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontWeight',\n\t\t\t\t'textTransform'\n\t\t\t]);\n\t\t\n\t\t\tvar width = $test.width();\n\t\t\t$test.remove();\n\t\t\n\t\t\treturn width;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Sets up an input to grow horizontally as the user\n\t\t * types. If the value is changed manually, you can\n\t\t * trigger the \"update\" handler to resize:\n\t\t *\n\t\t * $input.trigger('update');\n\t\t *\n\t\t * @param {object} $input\n\t\t */\n\t\tvar autoGrow = function($input) {\n\t\t\tvar currentWidth = null;\n\t\t\n\t\t\tvar update = function(e, options) {\n\t\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\t\tvar shift, character, selection;\n\t\t\t\te = e || window.event || {};\n\t\t\t\toptions = options || {};\n\t\t\n\t\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\t\n\t\t\t\tvalue = $input.val();\n\t\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\t\tprintable = (\n\t\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t\t);\n\t\t\n\t\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (printable) {\n\t\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\t\tvalue += character;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\t\tif (!value && placeholder) {\n\t\t\t\t\tvalue = placeholder;\n\t\t\t\t}\n\t\t\n\t\t\t\twidth = measureString(value, $input) + 4;\n\t\t\t\tif (width !== currentWidth) {\n\t\t\t\t\tcurrentWidth = width;\n\t\t\t\t\t$input.width(width);\n\t\t\t\t\t$input.triggerHandler('resize');\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t$input.on('keydown keyup update blur', update);\n\t\t\tupdate();\n\t\t};\n\t\t\n\t\tvar domToString = function(d) {\n\t\t\tvar tmp = document.createElement('div');\n\t\t\n\t\t\ttmp.appendChild(d.cloneNode(true));\n\t\t\n\t\t\treturn tmp.innerHTML;\n\t\t};\n\t\t\n\t\tvar logError = function(message, options){\n\t\t\tif(!options) options = {};\n\t\t\tvar component = \"Selectize\";\n\t\t\n\t\t\tconsole.error(component + \": \" + message)\n\t\t\n\t\t\tif(options.explanation){\n\t\t\t\t// console.group is undefined in <IE11\n\t\t\t\tif(console.group) console.group();\n\t\t\t\tconsole.error(options.explanation);\n\t\t\t\tif(console.group) console.groupEnd();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tvar Selectize = function($input, settings) {\n\t\t\tvar key, i, n, dir, input, self = this;\n\t\t\tinput = $input[0];\n\t\t\tinput.selectize = self;\n\t\t\n\t\t\t// detect rtl environment\n\t\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\t\n\t\t\t// setup default state\n\t\t\t$.extend(self, {\n\t\t\t\torder            : 0,\n\t\t\t\tsettings         : settings,\n\t\t\t\t$input           : $input,\n\t\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\t\trtl              : /rtl/i.test(dir),\n\t\t\n\t\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\t\thighlightedValue : null,\n\t\t\t\tisOpen           : false,\n\t\t\t\tisDisabled       : false,\n\t\t\t\tisRequired       : $input.is('[required]'),\n\t\t\t\tisInvalid        : false,\n\t\t\t\tisLocked         : false,\n\t\t\t\tisFocused        : false,\n\t\t\t\tisInputHidden    : false,\n\t\t\t\tisSetup          : false,\n\t\t\t\tisShiftDown      : false,\n\t\t\t\tisCmdDown        : false,\n\t\t\t\tisCtrlDown       : false,\n\t\t\t\tignoreFocus      : false,\n\t\t\t\tignoreBlur       : false,\n\t\t\t\tignoreHover      : false,\n\t\t\t\thasOptions       : false,\n\t\t\t\tcurrentResults   : null,\n\t\t\t\tlastValue        : '',\n\t\t\t\tcaretPos         : 0,\n\t\t\t\tloading          : 0,\n\t\t\t\tloadedSearches   : {},\n\t\t\n\t\t\t\t$activeOption    : null,\n\t\t\t\t$activeItems     : [],\n\t\t\n\t\t\t\toptgroups        : {},\n\t\t\t\toptions          : {},\n\t\t\t\tuserOptions      : {},\n\t\t\t\titems            : [],\n\t\t\t\trenderCache      : {},\n\t\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t\t});\n\t\t\n\t\t\t// search system\n\t\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\t\n\t\t\t// build options table\n\t\t\tif (self.settings.options) {\n\t\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.options;\n\t\t\t}\n\t\t\n\t\t\t// build optgroup table\n\t\t\tif (self.settings.optgroups) {\n\t\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.optgroups;\n\t\t\t}\n\t\t\n\t\t\t// option-dependent defaults\n\t\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t\t}\n\t\t\n\t\t\tself.initializePlugins(self.settings.plugins);\n\t\t\tself.setupCallbacks();\n\t\t\tself.setupTemplates();\n\t\t\tself.setup();\n\t\t};\n\t\t\n\t\t// mixins\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\tMicroEvent.mixin(Selectize);\n\t\t\n\t\tif(typeof MicroPlugin !== \"undefined\"){\n\t\t\tMicroPlugin.mixin(Selectize);\n\t\t}else{\n\t\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t\t{explanation:\n\t\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\t\"load Selectize.\"}\n\t\t\t);\n\t\t}\n\t\t\n\t\t\n\t\t// methods\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\t$.extend(Selectize.prototype, {\n\t\t\n\t\t\t/**\n\t\t\t * Creates all elements and sets up event bindings.\n\t\t\t */\n\t\t\tsetup: function() {\n\t\t\t\tvar self      = this;\n\t\t\t\tvar settings  = self.settings;\n\t\t\t\tvar eventNS   = self.eventNS;\n\t\t\t\tvar $window   = $(window);\n\t\t\t\tvar $document = $(document);\n\t\t\t\tvar $input    = self.$input;\n\t\t\n\t\t\t\tvar $wrapper;\n\t\t\t\tvar $control;\n\t\t\t\tvar $control_input;\n\t\t\t\tvar $dropdown;\n\t\t\t\tvar $dropdown_content;\n\t\t\t\tvar $dropdown_parent;\n\t\t\t\tvar inputMode;\n\t\t\t\tvar timeout_blur;\n\t\t\t\tvar timeout_focus;\n\t\t\t\tvar classes;\n\t\t\t\tvar classes_plugins;\n\t\t\t\tvar inputId;\n\t\t\n\t\t\t\tinputMode         = self.settings.mode;\n\t\t\t\tclasses           = $input.attr('class') || '';\n\t\t\n\t\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\t\n\t\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t\t}\n\t\t\n\t\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t\t$dropdown.addClass(classes);\n\t\t\t\t}\n\t\t\n\t\t\t\t$wrapper.css({\n\t\t\t\t\twidth: $input[0].style.width\n\t\t\t\t});\n\t\t\n\t\t\t\tif (self.plugins.names.length) {\n\t\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.settings.placeholder) {\n\t\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t\t}\n\t\t\n\t\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t\t}\n\t\t\n\t\t\t\tself.$wrapper          = $wrapper;\n\t\t\t\tself.$control          = $control;\n\t\t\t\tself.$control_input    = $control_input;\n\t\t\t\tself.$dropdown         = $dropdown;\n\t\t\t\tself.$dropdown_content = $dropdown_content;\n\t\t\n\t\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\t\tautoGrow($control_input);\n\t\t\n\t\t\t\t$control.on({\n\t\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$control_input.on({\n\t\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// blur on click outside\n\t\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\t\tself.ignoreHover = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t// store original children and tab index so that they can be\n\t\t\t\t// restored when the destroy() method is called.\n\t\t\t\tthis.revertSettings = {\n\t\t\t\t\t$children : $input.children().detach(),\n\t\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t\t};\n\t\t\n\t\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\t\n\t\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\t\tself.setValue(settings.items);\n\t\t\t\t\tdelete settings.items;\n\t\t\t\t}\n\t\t\n\t\t\t\t// feature detect for the validation API\n\t\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tself.updateOriginalInput();\n\t\t\t\tself.refreshItems();\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.isSetup = true;\n\t\t\n\t\t\t\tif ($input.is(':disabled')) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\n\t\t\t\tself.on('change', this.onChange);\n\t\t\n\t\t\t\t$input.data('selectize', self);\n\t\t\t\t$input.addClass('selectized');\n\t\t\t\tself.trigger('initialize');\n\t\t\n\t\t\t\t// preload options\n\t\t\t\tif (settings.preload === true) {\n\t\t\t\t\tself.onSearchChange('');\n\t\t\t\t}\n\t\t\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets up default rendering functions.\n\t\t\t */\n\t\t\tsetupTemplates: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar field_label = self.settings.labelField;\n\t\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\t\n\t\t\t\tvar templates = {\n\t\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Maps fired events to callbacks provided\n\t\t\t * in the settings used when creating the control.\n\t\t\t */\n\t\t\tsetupCallbacks: function() {\n\t\t\t\tvar key, fn, callbacks = {\n\t\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t\t'change'          : 'onChange',\n\t\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t\t'type'            : 'onType',\n\t\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t\t'blur'            : 'onBlur'\n\t\t\t\t};\n\t\t\n\t\t\t\tfor (key in callbacks) {\n\t\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a click event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonClick: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t\t// is ignored unless invoked within a click event)\n\t\t\t\tif (!self.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a mouse down event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonMouseDown: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\t\tvar $target = $(e.target);\n\t\t\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// give control focus\n\t\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the value of the control has been changed.\n\t\t\t * This should propagate the event to the original DOM\n\t\t\t * input / select element.\n\t\t\t */\n\t\t\tonChange: function() {\n\t\t\t\tthis.$input.trigger('change');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> paste.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonPaste: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t\t// input and create Items for each separate value\n\t\t\t\tif (self.settings.splitOn) {\n\t\t\n\t\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\t\n\t\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keypress.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyPress: function(e) {\n\t\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\t\tthis.createItem();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keydown.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyDown: function(e) {\n\t\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) {\n\t\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase KEY_A:\n\t\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_ESC:\n\t\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_N:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\t\tself.open();\n\t\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_P:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_UP:\n\t\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_TAB:\n\t\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\n\t\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keyup.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyUp: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\t\tvar value = self.$control_input.val() || '';\n\t\t\t\tif (self.lastValue !== value) {\n\t\t\t\t\tself.lastValue = value;\n\t\t\t\t\tself.onSearchChange(value);\n\t\t\t\t\tself.refreshOptions();\n\t\t\t\t\tself.trigger('type', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the user-provide option provider / loader.\n\t\t\t *\n\t\t\t * Note: this function is debounced in the Selectize\n\t\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tonSearchChange: function(value) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar fn = self.settings.load;\n\t\t\t\tif (!fn) return;\n\t\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\t\tself.loadedSearches[value] = true;\n\t\t\t\tself.load(function(callback) {\n\t\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> focus.\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonFocus: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar wasFocused = self.isFocused;\n\t\t\n\t\t\t\tif (self.isDisabled) {\n\t\t\t\t\tself.blur();\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.ignoreFocus) return;\n\t\t\t\tself.isFocused = true;\n\t\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\t\n\t\t\t\tif (!wasFocused) self.trigger('focus');\n\t\t\n\t\t\t\tif (!self.$activeItems.length) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t\t}\n\t\t\n\t\t\t\tself.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> blur.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tonBlur: function(e, dest) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.isFocused) return;\n\t\t\t\tself.isFocused = false;\n\t\t\n\t\t\t\tif (self.ignoreFocus) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\t\tself.ignoreBlur = true;\n\t\t\t\t\tself.onFocus(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar deactivate = function() {\n\t\t\t\t\tself.close();\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\t\tdest && dest.focus && dest.focus();\n\t\t\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.trigger('blur');\n\t\t\t\t};\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t\t} else {\n\t\t\t\t\tdeactivate();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user rolls over\n\t\t\t * an option in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionHover: function(e) {\n\t\t\t\tif (this.ignoreHover) return;\n\t\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an option\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionSelect: function(e) {\n\t\t\t\tvar value, $target, $option, self = this;\n\t\t\n\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\n\t\t\t\t$target = $(e.currentTarget);\n\t\t\t\tif ($target.hasClass('create')) {\n\t\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\t\tself.addItem(value);\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an item\n\t\t\t * that has been selected.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonItemSelect: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return;\n\t\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the provided method that provides\n\t\t\t * results to a callback---which are then added\n\t\t\t * as options to the control.\n\t\t\t *\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tload: function(fn) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\t\n\t\t\t\tself.loading++;\n\t\t\t\tfn.apply(self, [function(results) {\n\t\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\t\tif (results && results.length) {\n\t\t\t\t\t\tself.addOption(results);\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t\t}\n\t\t\t\t\tif (!self.loading) {\n\t\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t\t}\n\t\t\t\t\tself.trigger('load', results);\n\t\t\t\t}]);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the input field of the control to the specified value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tsetTextboxValue: function(value) {\n\t\t\t\tvar $input = this.$control_input;\n\t\t\t\tvar changed = $input.val() !== value;\n\t\t\t\tif (changed) {\n\t\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\t\tthis.lastValue = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the value of the control. If multiple items\n\t\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t\t * an array. If only one item can be selected, this\n\t\t\t * returns a string.\n\t\t\t *\n\t\t\t * @returns {mixed}\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\t\treturn this.items;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets the selected items to the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t */\n\t\t\tsetValue: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tthis.clear(silent);\n\t\t\t\t\tthis.addItems(value, silent);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item.\n\t\t\t *\n\t\t\t * @param {object} $item\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tsetActiveItem: function($item, e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventName;\n\t\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\t\tvar $last;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t\t$item = $($item);\n\t\t\n\t\t\t\t// clear the active selection\n\t\t\t\tif (!$item.length) {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [];\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\tself.showInput();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// modify selection\n\t\t\t\teventName = e && e.type.toLowerCase();\n\t\t\n\t\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\t\tif (begin > end) {\n\t\t\t\t\t\tswap  = begin;\n\t\t\t\t\t\tbegin = end;\n\t\t\t\t\t\tend   = swap;\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t\t}\n\t\t\n\t\t\t\t// ensure control has focus\n\t\t\t\tself.hideInput();\n\t\t\t\tif (!this.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item in the dropdown menu\n\t\t\t * of available options.\n\t\t\t *\n\t\t\t * @param {object} $object\n\t\t\t * @param {boolean} scroll\n\t\t\t * @param {boolean} animate\n\t\t\t */\n\t\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\t\tvar height_menu, height_item, y;\n\t\t\t\tvar scroll_top, scroll_bottom;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\t\tself.$activeOption = null;\n\t\t\n\t\t\t\t$option = $($option);\n\t\t\t\tif (!$option.length) return;\n\t\t\n\t\t\t\tself.$activeOption = $option.addClass('active');\n\t\t\n\t\t\t\tif (scroll || !isset(scroll)) {\n\t\t\n\t\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\t\tscroll_top    = y;\n\t\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\t\n\t\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects all items (CTRL + A).\n\t\t\t */\n\t\t\tselectAll: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\n\t\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t\tself.focus();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Hides the input element out of view, while\n\t\t\t * retaining its focus.\n\t\t\t */\n\t\t\thideInput: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\t\tself.isInputHidden = true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Restores input visibility.\n\t\t\t */\n\t\t\tshowInput: function() {\n\t\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\t\tthis.isInputHidden = false;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Gives the control focus.\n\t\t\t */\n\t\t\tfocus: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.isDisabled) return;\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tself.$control_input[0].focus();\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.onFocus();\n\t\t\t\t}, 0);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Forces the control out of focus.\n\t\t\t *\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tblur: function(dest) {\n\t\t\t\tthis.$control_input[0].blur();\n\t\t\t\tthis.onBlur(null, dest);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns a function that scores an object\n\t\t\t * to show how good of a match it is to the\n\t\t\t * provided query.\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @param {object} options\n\t\t\t * @return {function}\n\t\t\t */\n\t\t\tgetScoreFunction: function(query) {\n\t\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns search options for sifter (the system\n\t\t\t * for scoring and sorting results).\n\t\t\t *\n\t\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetSearchOptions: function() {\n\t\t\t\tvar settings = this.settings;\n\t\t\t\tvar sort = settings.sortField;\n\t\t\t\tif (typeof sort === 'string') {\n\t\t\t\t\tsort = [{field: sort}];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tfields      : settings.searchField,\n\t\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\t\tsort        : sort\n\t\t\t\t};\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Searches through available options and returns\n\t\t\t * a sorted array of matches.\n\t\t\t *\n\t\t\t * Returns an object containing:\n\t\t\t *\n\t\t\t *   - query {string}\n\t\t\t *   - tokens {array}\n\t\t\t *   - total {int}\n\t\t\t *   - items {array}\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tsearch: function(query) {\n\t\t\t\tvar i, value, score, result, calculateScore;\n\t\t\t\tvar self     = this;\n\t\t\t\tvar settings = self.settings;\n\t\t\t\tvar options  = this.getSearchOptions();\n\t\t\n\t\t\t\t// validate user-provided result scoring function\n\t\t\t\tif (settings.score) {\n\t\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform search\n\t\t\t\tif (query !== self.lastQuery) {\n\t\t\t\t\tself.lastQuery = query;\n\t\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\t\tself.currentResults = result;\n\t\t\t\t} else {\n\t\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t\t}\n\t\t\n\t\t\t\t// filter out selected items\n\t\t\t\tif (settings.hideSelected) {\n\t\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the list of available options shown\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {boolean} triggerDropdown\n\t\t\t */\n\t\t\trefreshOptions: function(triggerDropdown) {\n\t\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\t\tvar $active, $active_before, $create;\n\t\t\n\t\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar self              = this;\n\t\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\t\tvar results           = self.search(query);\n\t\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\t\n\t\t\t\t// build markup\n\t\t\t\tn = results.items.length;\n\t\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t\t}\n\t\t\n\t\t\t\t// render and group available options individually\n\t\t\t\tgroups = {};\n\t\t\t\tgroups_order = [];\n\t\t\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\t\toption_html = self.render('option', option);\n\t\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\t\n\t\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// sort optgroups\n\t\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\t// render optgroup headers & join groups\n\t\t\t\thtml = document.createDocumentFragment();\n\t\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\t\toptgroup = groups_order[i];\n\t\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\t\n\t\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t\t})));\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t$dropdown_content.html(html);\n\t\t\n\t\t\t\t// highlight matching terms inline\n\t\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add \"selected\" class to selected options\n\t\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add create option\n\t\t\t\thas_create_option = self.canCreate(query);\n\t\t\t\tif (has_create_option) {\n\t\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t\t}\n\t\t\n\t\t\t\t// activate\n\t\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\t\tif (self.hasOptions) {\n\t\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$active = $create;\n\t\t\t\t\t}\n\t\t\t\t\tself.setActiveOption($active);\n\t\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t\t} else {\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Adds an available option. If it already exists,\n\t\t\t * nothing will happen. Note: this does not refresh\n\t\t\t * the options list dropdown (use `refreshOptions`\n\t\t\t * for that).\n\t\t\t *\n\t\t\t * Usage:\n\t\t\t *\n\t\t\t *   this.addOption(data)\n\t\t\t *\n\t\t\t * @param {object|array} data\n\t\t\t */\n\t\t\taddOption: function(data) {\n\t\t\t\tvar i, n, value, self = this;\n\t\t\n\t\t\t\tif ($.isArray(data)) {\n\t\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\t\tself.userOptions[value] = true;\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option to the pool of options.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOption: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.options[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option group to the pool of option groups.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOptionGroup: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\t\tif (!key) return false;\n\t\t\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.optgroups[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers a new optgroup for options\n\t\t\t * to be bucketed into.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\taddOptionGroup: function(id, data) {\n\t\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes an existing option group.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t */\n\t\t\tremoveOptionGroup: function(id) {\n\t\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\t\tdelete this.optgroups[id];\n\t\t\t\t\tthis.renderCache = {};\n\t\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all existing option groups.\n\t\t\t */\n\t\t\tclearOptionGroups: function() {\n\t\t\t\tthis.optgroups = {};\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates an option available for selection. If\n\t\t\t * it is visible in the selected items or options\n\t\t\t * dropdown, it will be re-rendered automatically.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\tupdateOption: function(value, data) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, $item_new;\n\t\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\t\n\t\t\t\tvalue     = hash_key(value);\n\t\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\t\n\t\t\t\t// sanity checks\n\t\t\t\tif (value === null) return;\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\t\n\t\t\t\torder_old = self.options[value].$order;\n\t\t\n\t\t\t\t// update references\n\t\t\t\tif (value_new !== value) {\n\t\t\t\t\tdelete self.options[value];\n\t\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.$order = data.$order || order_old;\n\t\t\t\tself.options[value_new] = data;\n\t\t\n\t\t\t\t// invalidate render cache\n\t\t\t\tcache_items = self.renderCache['item'];\n\t\t\t\tcache_options = self.renderCache['option'];\n\t\t\n\t\t\t\tif (cache_items) {\n\t\t\t\t\tdelete cache_items[value];\n\t\t\t\t\tdelete cache_items[value_new];\n\t\t\t\t}\n\t\t\t\tif (cache_options) {\n\t\t\t\t\tdelete cache_options[value];\n\t\t\t\t\tdelete cache_options[value_new];\n\t\t\t\t}\n\t\t\n\t\t\t\t// update the item if it's selected\n\t\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t\t$item = self.getItem(value);\n\t\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t\t$item.replaceWith($item_new);\n\t\t\t\t}\n\t\t\n\t\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\t\tself.lastQuery = null;\n\t\t\n\t\t\t\t// update dropdown contents\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.refreshOptions(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes a single option.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tremoveOption: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\t\tif (cache_items) delete cache_items[value];\n\t\t\t\tif (cache_options) delete cache_options[value];\n\t\t\n\t\t\t\tdelete self.userOptions[value];\n\t\t\t\tdelete self.options[value];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_remove', value);\n\t\t\t\tself.removeItem(value, silent);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all options.\n\t\t\t */\n\t\t\tclearOptions: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.loadedSearches = {};\n\t\t\t\tself.userOptions = {};\n\t\t\t\tself.renderCache = {};\n\t\t\t\tself.options = self.sifter.items = {};\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_clear');\n\t\t\t\tself.clear();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the option\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetOption: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the next or\n\t\t\t * previous selectable option.\n\t\t\t *\n\t\t\t * @param {object} $option\n\t\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetAdjacentOption: function($option, direction) {\n\t\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Finds the first element with a \"data-value\" attribute\n\t\t\t * that matches the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} $els\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetElementWithValue: function(value, $els) {\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the item\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetItem: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItems: function(values, silent) {\n\t\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" an item. Adds it to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItem: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tvar $item, $option, $options;\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\t\n\t\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\t\twasFull = self.isFull();\n\t\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\t\tself.insertAtCaret($item);\n\t\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\t\n\t\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the selected item matching\n\t\t\t * the provided value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tremoveItem: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, i, idx;\n\t\t\n\t\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\t\ti = self.items.indexOf(value);\n\t\t\n\t\t\t\tif (i !== -1) {\n\t\t\t\t\t$item.remove();\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.items.splice(i, 1);\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.refreshState();\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the `create` method provided in the\n\t\t\t * selectize options that should provide the data\n\t\t\t * for the new item, given the user input.\n\t\t\t *\n\t\t\t * Once this completes, it will be added\n\t\t\t * to the item list.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} [triggerDropdown]\n\t\t\t * @param {function} [callback]\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\t\tvar self  = this;\n\t\t\t\tvar caret = self.caretPos;\n\t\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\t\n\t\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\t\n\t\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!self.canCreate(input)) {\n\t\t\t\t\tcallback();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tself.lock();\n\t\t\n\t\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar create = once(function(data) {\n\t\t\t\t\tself.unlock();\n\t\t\n\t\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tif (typeof value !== 'string') return callback();\n\t\t\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addOption(data);\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\t\tcallback(data);\n\t\t\t\t});\n\t\t\n\t\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\t\tcreate(output);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-renders the selected item lists.\n\t\t\t */\n\t\t\trefreshItems: function() {\n\t\t\t\tthis.lastQuery = null;\n\t\t\n\t\t\t\tif (this.isSetup) {\n\t\t\t\t\tthis.addItem(this.items);\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.refreshState();\n\t\t\t\tthis.updateOriginalInput();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent attributes\n\t\t\t * and CSS classes.\n\t\t\t */\n\t\t\trefreshState: function() {\n\t\t\t\tthis.refreshValidityState();\n\t\t\t\tthis.refreshClasses();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Update the `required` attribute of both input and control input.\n\t\t\t *\n\t\t\t * The `required` property needs to be activated on the control input\n\t\t\t * for the error to be displayed at the right place. `required` also\n\t\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t\t * hidden and can't show errors.\n\t\t\t */\n\t\t\trefreshValidityState: function() {\n\t\t\t\tif (!this.isRequired) return false;\n\t\t\n\t\t\t\tvar invalid = !this.items.length;\n\t\t\n\t\t\t\tthis.isInvalid = invalid;\n\t\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\t\tthis.$input.prop('required', !invalid);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent CSS classes.\n\t\t\t */\n\t\t\trefreshClasses: function() {\n\t\t\t\tvar self     = this;\n\t\t\t\tvar isFull   = self.isFull();\n\t\t\t\tvar isLocked = self.isLocked;\n\t\t\n\t\t\t\tself.$wrapper\n\t\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\t\n\t\t\t\tself.$control\n\t\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\t\n\t\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not more items can be added\n\t\t\t * to the control without exceeding the user-defined maximum.\n\t\t\t *\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisFull: function() {\n\t\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the original <select> or <input>\n\t\t\t * element to reflect the current state.\n\t\t\t */\n\t\t\tupdateOriginalInput: function(opts) {\n\t\t\t\tvar i, n, options, label, self = this;\n\t\t\t\topts = opts || {};\n\t\t\n\t\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\t\toptions = [];\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t\t}\n\t\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t\t}\n\t\t\t\t\tself.$input.html(options.join(''));\n\t\t\t\t} else {\n\t\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\tif (!opts.silent) {\n\t\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows/hide the input placeholder depending\n\t\t\t * on if there items in the list already.\n\t\t\t */\n\t\t\tupdatePlaceholder: function() {\n\t\t\t\tif (!this.settings.placeholder) return;\n\t\t\t\tvar $input = this.$control_input;\n\t\t\n\t\t\t\tif (this.items.length) {\n\t\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t\t} else {\n\t\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t\t}\n\t\t\t\t$input.triggerHandler('update', {force: true});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows the autocomplete dropdown containing\n\t\t\t * the available options.\n\t\t\t */\n\t\t\topen: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\t\tself.focus();\n\t\t\t\tself.isOpen = true;\n\t\t\t\tself.refreshState();\n\t\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Closes the autocomplete dropdown menu.\n\t\t\t */\n\t\t\tclose: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar trigger = self.isOpen;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t\t}\n\t\t\n\t\t\t\tself.isOpen = false;\n\t\t\t\tself.$dropdown.hide();\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Calculates and applies the appropriate\n\t\t\t * position of the dropdown.\n\t\t\t */\n\t\t\tpositionDropdown: function() {\n\t\t\t\tvar $control = this.$control;\n\t\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\t\toffset.top += $control.outerHeight(true);\n\t\t\n\t\t\t\tthis.$dropdown.css({\n\t\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\t\ttop   : offset.top,\n\t\t\t\t\tleft  : offset.left\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets / clears all selected items\n\t\t\t * from the control.\n\t\t\t *\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tclear: function(silent) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (!self.items.length) return;\n\t\t\t\tself.$control.children(':not(input)').remove();\n\t\t\t\tself.items = [];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.setCaret(0);\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.refreshState();\n\t\t\t\tself.showInput();\n\t\t\t\tself.trigger('clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for inserting an element\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {object} $el\n\t\t\t */\n\t\t\tinsertAtCaret: function($el) {\n\t\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\t\tif (caret === 0) {\n\t\t\t\t\tthis.$control.prepend($el);\n\t\t\t\t} else {\n\t\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t\t}\n\t\t\t\tthis.setCaret(caret + 1);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the current selected item(s).\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tdeleteSelection: function(e) {\n\t\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t\t}\n\t\t\n\t\t\t\t// determine items that will be removed\n\t\t\t\tvalues = [];\n\t\t\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tif (direction > 0) { caret++; }\n\t\t\n\t\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t\t}\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// allow the callback to abort\n\t\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform removal\n\t\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t}\n\t\t\t\twhile (values.length) {\n\t\t\t\t\tself.removeItem(values.pop());\n\t\t\t\t}\n\t\t\n\t\t\t\tself.showInput();\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.refreshOptions(true);\n\t\t\n\t\t\t\t// select previous option\n\t\t\t\tif (option_select) {\n\t\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\t\tif ($option_select.length) {\n\t\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects the previous / next item (depending\n\t\t\t * on the `direction` argument).\n\t\t\t *\n\t\t\t * > 0 - right\n\t\t\t * < 0 - left\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceSelection: function(direction, e) {\n\t\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\t\tif (self.rtl) direction *= -1;\n\t\t\n\t\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t\t: selection.start === valueLength;\n\t\t\n\t\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\t\tif ($tail.length) {\n\t\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret left / right.\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceCaret: function(direction, e) {\n\t\t\t\tvar self = this, fn, $adj;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\n\t\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\t\tif (self.isShiftDown) {\n\t\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\t\tif ($adj.length) {\n\t\t\t\t\t\tself.hideInput();\n\t\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret to the specified index.\n\t\t\t *\n\t\t\t * @param {int} i\n\t\t\t */\n\t\t\tsetCaret: function(i) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\ti = self.items.length;\n\t\t\t\t} else {\n\t\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t\t}\n\t\t\n\t\t\t\tif(!self.isPending) {\n\t\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t\t// on mobile webkit devices\n\t\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tself.caretPos = i;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control. Used while\n\t\t\t * items are being asynchronously created.\n\t\t\t */\n\t\t\tlock: function() {\n\t\t\t\tthis.close();\n\t\t\t\tthis.isLocked = true;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-enables user input on the control.\n\t\t\t */\n\t\t\tunlock: function() {\n\t\t\t\tthis.isLocked = false;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control completely.\n\t\t\t * While disabled, it cannot receive focus.\n\t\t\t */\n\t\t\tdisable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', true);\n\t\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\t\tself.isDisabled = true;\n\t\t\t\tself.lock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Enables the control so that it can respond\n\t\t\t * to focus and user input.\n\t\t\t */\n\t\t\tenable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', false);\n\t\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\t\tself.isDisabled = false;\n\t\t\t\tself.unlock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Completely destroys the control and\n\t\t\t * unbinds all event listeners so that it can\n\t\t\t * be garbage collected.\n\t\t\t */\n\t\t\tdestroy: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventNS = self.eventNS;\n\t\t\t\tvar revertSettings = self.revertSettings;\n\t\t\n\t\t\t\tself.trigger('destroy');\n\t\t\t\tself.off();\n\t\t\t\tself.$wrapper.remove();\n\t\t\t\tself.$dropdown.remove();\n\t\t\n\t\t\t\tself.$input\n\t\t\t\t\t.html('')\n\t\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t\t.removeClass('selectized')\n\t\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t\t.show();\n\t\t\n\t\t\t\tself.$control_input.removeData('grow');\n\t\t\t\tself.$input.removeData('selectize');\n\t\t\n\t\t\t\t$(window).off(eventNS);\n\t\t\t\t$(document).off(eventNS);\n\t\t\t\t$(document.body).off(eventNS);\n\t\t\n\t\t\t\tdelete self.$input[0].selectize;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for rendering \"item\" and\n\t\t\t * \"option\" templates, given the data.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t * @param {object} data\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\trender: function(templateName, data) {\n\t\t\t\tvar value, id, label;\n\t\t\t\tvar html = '';\n\t\t\t\tvar cache = false;\n\t\t\t\tvar self = this;\n\t\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\t\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tcache = !!value;\n\t\t\t\t}\n\t\t\n\t\t\t\t// pull markup from cache if it exists\n\t\t\t\tif (cache) {\n\t\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// render markup\n\t\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\t\n\t\t\t\t// add mandatory attributes\n\t\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t\t}\n\t\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\t\thtml.attr('data-group', id);\n\t\t\t\t}\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t\t}\n\t\t\n\t\t\t\t// update cache\n\t\t\t\tif (cache) {\n\t\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn html[0];\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears the render cache for a template. If\n\t\t\t * no template is given, clears all render\n\t\t\t * caches.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t */\n\t\t\tclearCache: function(templateName) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\t\tself.renderCache = {};\n\t\t\t\t} else {\n\t\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not to display the\n\t\t\t * create item prompt, given a user input.\n\t\t\t *\n\t\t\t * @param {string} input\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcanCreate: function(input) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.settings.create) return false;\n\t\t\t\tvar filter = self.settings.createFilter;\n\t\t\t\treturn input.length\n\t\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t\t}\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.count = 0;\n\t\tSelectize.defaults = {\n\t\t\toptions: [],\n\t\t\toptgroups: [],\n\t\t\n\t\t\tplugins: [],\n\t\t\tdelimiter: ',',\n\t\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\t\tpersist: true,\n\t\t\tdiacritics: true,\n\t\t\tcreate: false,\n\t\t\tcreateOnBlur: false,\n\t\t\tcreateFilter: null,\n\t\t\thighlight: true,\n\t\t\topenOnFocus: true,\n\t\t\tmaxOptions: 1000,\n\t\t\tmaxItems: null,\n\t\t\thideSelected: null,\n\t\t\taddPrecedence: false,\n\t\t\tselectOnTab: false,\n\t\t\tpreload: false,\n\t\t\tallowEmptyOption: false,\n\t\t\tcloseAfterSelect: false,\n\t\t\n\t\t\tscrollDuration: 60,\n\t\t\tloadThrottle: 300,\n\t\t\tloadingClass: 'loading',\n\t\t\n\t\t\tdataAttr: 'data-data',\n\t\t\toptgroupField: 'optgroup',\n\t\t\tvalueField: 'value',\n\t\t\tlabelField: 'text',\n\t\t\toptgroupLabelField: 'label',\n\t\t\toptgroupValueField: 'value',\n\t\t\tlockOptgroupOrder: false,\n\t\t\n\t\t\tsortField: '$order',\n\t\t\tsearchField: ['text'],\n\t\t\tsearchConjunction: 'and',\n\t\t\n\t\t\tmode: null,\n\t\t\twrapperClass: 'selectize-control',\n\t\t\tinputClass: 'selectize-input',\n\t\t\tdropdownClass: 'selectize-dropdown',\n\t\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\t\n\t\t\tdropdownParent: null,\n\t\t\n\t\t\tcopyClassesToDropdown: true,\n\t\t\n\t\t\t/*\n\t\t\tload                 : null, // function(query, callback) { ... }\n\t\t\tscore                : null, // function(search) { ... }\n\t\t\tonInitialize         : null, // function() { ... }\n\t\t\tonChange             : null, // function(value) { ... }\n\t\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\t\tonItemRemove         : null, // function(value) { ... }\n\t\t\tonClear              : null, // function() { ... }\n\t\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\t\tonOptionRemove       : null, // function(value) { ... }\n\t\t\tonOptionClear        : null, // function() { ... }\n\t\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\t\tonOptionGroupClear   : null, // function() { ... }\n\t\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\t\tonType               : null, // function(str) { ... }\n\t\t\tonDelete             : null, // function(values) { ... }\n\t\t\t*/\n\t\t\n\t\t\trender: {\n\t\t\t\t/*\n\t\t\t\titem: null,\n\t\t\t\toptgroup: null,\n\t\t\t\toptgroup_header: null,\n\t\t\t\toption: null,\n\t\t\t\toption_create: null\n\t\t\t\t*/\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t$.fn.selectize = function(settings_user) {\n\t\t\tvar defaults             = $.fn.selectize.defaults;\n\t\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\t\tvar attr_data            = settings.dataAttr;\n\t\t\tvar field_label          = settings.labelField;\n\t\t\tvar field_value          = settings.valueField;\n\t\t\tvar field_optgroup       = settings.optgroupField;\n\t\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_textbox = function($input, settings_element) {\n\t\t\t\tvar i, n, values, option;\n\t\t\n\t\t\t\tvar data_raw = $input.attr(attr_data);\n\t\t\n\t\t\t\tif (!data_raw) {\n\t\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\t\toption = {};\n\t\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t\t}\n\t\t\t\t\tsettings_element.items = values;\n\t\t\t\t} else {\n\t\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <select> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_select = function($input, settings_element) {\n\t\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\t\tvar options = settings_element.options;\n\t\t\t\tvar optionsMap = {};\n\t\t\n\t\t\t\tvar readData = function($el) {\n\t\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addOption = function($option, group) {\n\t\t\t\t\t$option = $($option);\n\t\t\n\t\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\t\n\t\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\t\n\t\t\t\t\toptionsMap[value] = option;\n\t\t\t\t\toptions.push(option);\n\t\t\n\t\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\t\tvar i, n, id, optgroup, $options;\n\t\t\n\t\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\t\tid = $optgroup.attr('label');\n\t\t\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\t\n\t\t\t\t$children = $input.children();\n\t\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\t\taddOption($children[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn this.each(function() {\n\t\t\t\tif (this.selectize) return;\n\t\t\n\t\t\t\tvar instance;\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t\t}\n\t\t\n\t\t\t\tvar settings_element = {\n\t\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t\t'options'     : [],\n\t\t\t\t\t'optgroups'   : [],\n\t\t\t\t\t'items'       : []\n\t\t\t\t};\n\t\t\n\t\t\t\tif (tag_name === 'select') {\n\t\t\t\t\tinit_select($input, settings_element);\n\t\t\t\t} else {\n\t\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t\t}\n\t\t\n\t\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t\t});\n\t\t};\n\t\t\n\t\t$.fn.selectize.defaults = Selectize.defaults;\n\t\t$.fn.selectize.support = {\n\t\t\tvalidity: SUPPORTS_VALIDITY_API\n\t\t};\n\t\t\n\t\t\n\t\tSelectize.define('drag_drop', function(options) {\n\t\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\t\tif (this.settings.mode !== 'multi') return;\n\t\t\tvar self = this;\n\t\t\n\t\t\tself.lock = (function() {\n\t\t\t\tvar original = self.lock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.unlock = (function() {\n\t\t\t\tvar original = self.unlock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(this, arguments);\n\t\t\n\t\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('dropdown_header', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\ttitle         : 'Untitled',\n\t\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\t\n\t\t\t\thtml: function(data) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, options);\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('optgroup_columns', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\tequalizeWidth  : true,\n\t\t\t\tequalizeHeight : true\n\t\t\t}, options);\n\t\t\n\t\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, $option, $options, $optgroup;\n\t\t\n\t\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\t\n\t\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tvar getScrollbarWidth = function() {\n\t\t\t\tvar div;\n\t\t\t\tvar width = getScrollbarWidth.width;\n\t\t\t\tvar doc = document;\n\t\t\n\t\t\t\tif (typeof width === 'undefined') {\n\t\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\t\tdiv = div.firstChild;\n\t\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\t\tdoc.body.removeChild(div);\n\t\t\t\t}\n\t\t\t\treturn width;\n\t\t\t};\n\t\t\n\t\t\tvar equalizeSizes = function() {\n\t\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\t\n\t\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\t\tn = $optgroups.length;\n\t\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\t\n\t\t\t\tif (options.equalizeHeight) {\n\t\t\t\t\theight_max = 0;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t\t}\n\t\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (options.equalizeWidth) {\n\t\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t\t$optgroups.css({width: width});\n\t\t\t\t\tif (n > 1) {\n\t\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t\t}\n\t\t\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('remove_button', function(options) {\n\t\t\toptions = $.extend({\n\t\t\t\t\tlabel     : '&times;',\n\t\t\t\t\ttitle     : 'Remove',\n\t\t\t\t\tclassName : 'remove',\n\t\t\t\t\tappend    : true\n\t\t\t\t}, options);\n\t\t\n\t\t\t\tvar singleClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\toptions.className = 'remove-single';\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\t\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tvar multiClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\t\tsingleClose(this, options);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmultiClose(this, options);\n\t\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.define('restore_on_backspace', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions.text = options.text || function(option) {\n\t\t\t\treturn option[this.settings.labelField];\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, option;\n\t\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t});\n\t\t\n\t\n\t\treturn Selectize;\n\t}));\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function($) {/**\n\t * sifter.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.Sifter = factory();\n\t\t}\n\t}(this, function() {\n\t\n\t\t/**\n\t\t * Textually searches arrays and hashes of objects\n\t\t * by property (or multiple properties). Designed\n\t\t * specifically for autocomplete.\n\t\t *\n\t\t * @constructor\n\t\t * @param {array|object} items\n\t\t * @param {object} items\n\t\t */\n\t\tvar Sifter = function(items, settings) {\n\t\t\tthis.items = items;\n\t\t\tthis.settings = settings || {diacritics: true};\n\t\t};\n\t\n\t\t/**\n\t\t * Splits a search string into an array of individual\n\t\t * regexps to be used to match results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {array}\n\t\t */\n\t\tSifter.prototype.tokenize = function(query) {\n\t\t\tquery = trim(String(query || '').toLowerCase());\n\t\t\tif (!query || !query.length) return [];\n\t\n\t\t\tvar i, n, regex, letter;\n\t\t\tvar tokens = [];\n\t\t\tvar words = query.split(/ +/);\n\t\n\t\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\t\tregex = escape_regex(words[i]);\n\t\t\t\tif (this.settings.diacritics) {\n\t\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttokens.push({\n\t\t\t\t\tstring : words[i],\n\t\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn tokens;\n\t\t};\n\t\n\t\t/**\n\t\t * Iterates over arrays and hashes.\n\t\t *\n\t\t * ```\n\t\t * this.iterator(this.items, function(item, id) {\n\t\t *    // invoked for each item\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * @param {array|object} object\n\t\t */\n\t\tSifter.prototype.iterator = function(object, callback) {\n\t\t\tvar iterator;\n\t\t\tif (is_array(object)) {\n\t\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\titerator = function(callback) {\n\t\t\t\t\tfor (var key in this) {\n\t\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\titerator.apply(object, [callback]);\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function to be used to score individual results.\n\t\t *\n\t\t * Good matches will have a higher score than poor matches.\n\t\t * If an item is not a match, 0 will be returned by the function.\n\t\t *\n\t\t * @param {object|string} search\n\t\t * @param {object} options (optional)\n\t\t * @returns {function}\n\t\t */\n\t\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\t\tvar self, fields, tokens, token_count, nesting;\n\t\n\t\t\tself        = this;\n\t\t\tsearch      = self.prepareSearch(search, options);\n\t\t\ttokens      = search.tokens;\n\t\t\tfields      = search.options.fields;\n\t\t\ttoken_count = tokens.length;\n\t\t\tnesting     = search.options.nesting;\n\t\n\t\t\t/**\n\t\t\t * Calculates how close of a match the\n\t\t\t * given value is against a search token.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} token\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreValue = function(value, token) {\n\t\t\t\tvar score, pos;\n\t\n\t\t\t\tif (!value) return 0;\n\t\t\t\tvalue = String(value || '');\n\t\t\t\tpos = value.search(token.regex);\n\t\t\t\tif (pos === -1) return 0;\n\t\t\t\tscore = token.string.length / value.length;\n\t\t\t\tif (pos === 0) score += 0.5;\n\t\t\t\treturn score;\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Calculates the score of an object\n\t\t\t * against the search query.\n\t\t\t *\n\t\t\t * @param {object} token\n\t\t\t * @param {object} data\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreObject = (function() {\n\t\t\t\tvar field_count = fields.length;\n\t\t\t\tif (!field_count) {\n\t\t\t\t\treturn function() { return 0; };\n\t\t\t\t}\n\t\t\t\tif (field_count === 1) {\n\t\t\t\t\treturn function(token, data) {\n\t\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / field_count;\n\t\t\t\t};\n\t\t\t})();\n\t\n\t\t\tif (!token_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (token_count === 1) {\n\t\t\t\treturn function(data) {\n\t\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tif (search.options.conjunction === 'and') {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tvar score;\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\t\tsum += score;\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function that can be used to compare two\n\t\t * results, for sorting purposes. If no sorting should\n\t\t * be performed, `null` will be returned.\n\t\t *\n\t\t * @param {string|object} search\n\t\t * @param {object} options\n\t\t * @return function(a,b)\n\t\t */\n\t\tSifter.prototype.getSortFunction = function(search, options) {\n\t\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\t\n\t\t\tself   = this;\n\t\t\tsearch = self.prepareSearch(search, options);\n\t\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\t\n\t\t\t/**\n\t\t\t * Fetches the specified sort field value\n\t\t\t * from a search result item.\n\t\t\t *\n\t\t\t * @param  {string} name\n\t\t\t * @param  {object} result\n\t\t\t * @return {mixed}\n\t\t\t */\n\t\t\tget_field = function(name, result) {\n\t\t\t\tif (name === '$score') return result.score;\n\t\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t\t};\n\t\n\t\t\t// parse options\n\t\t\tfields = [];\n\t\t\tif (sort) {\n\t\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// the \"$score\" field is implied to be the primary\n\t\t\t// sort field, unless it's manually specified\n\t\t\tif (search.query) {\n\t\t\t\timplicit_score = true;\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\timplicit_score = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (implicit_score) {\n\t\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tmultipliers = [];\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t\t}\n\t\n\t\t\t// build function\n\t\t\tfields_count = fields.length;\n\t\t\tif (!fields_count) {\n\t\t\t\treturn null;\n\t\t\t} else if (fields_count === 1) {\n\t\t\t\tfield = fields[0].field;\n\t\t\t\tmultiplier = multipliers[0];\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (result) return result;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Parses a search query and returns an object\n\t\t * with tokens and fields ready to be populated\n\t\t * with results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.prepareSearch = function(query, options) {\n\t\t\tif (typeof query === 'object') return query;\n\t\n\t\t\toptions = extend({}, options);\n\t\n\t\t\tvar option_fields     = options.fields;\n\t\t\tvar option_sort       = options.sort;\n\t\t\tvar option_sort_empty = options.sort_empty;\n\t\n\t\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\t\n\t\t\treturn {\n\t\t\t\toptions : options,\n\t\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\t\ttokens  : this.tokenize(query),\n\t\t\t\ttotal   : 0,\n\t\t\t\titems   : []\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t\t * Searches through all items and returns a sorted array of matches.\n\t\t *\n\t\t * The `options` parameter can contain:\n\t\t *\n\t\t *   - fields {string|array}\n\t\t *   - sort {array}\n\t\t *   - score {function}\n\t\t *   - filter {bool}\n\t\t *   - limit {integer}\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - options {object}\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.search = function(query, options) {\n\t\t\tvar self = this, value, score, search, calculateScore;\n\t\t\tvar fn_sort;\n\t\t\tvar fn_score;\n\t\n\t\t\tsearch  = this.prepareSearch(query, options);\n\t\t\toptions = search.options;\n\t\t\tquery   = search.query;\n\t\n\t\t\t// generate result scoring function\n\t\t\tfn_score = options.score || self.getScoreFunction(search);\n\t\n\t\t\t// perform search and sort\n\t\t\tif (query.length) {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tscore = fn_score(item);\n\t\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tfn_sort = self.getSortFunction(search, options);\n\t\t\tif (fn_sort) search.items.sort(fn_sort);\n\t\n\t\t\t// apply limits\n\t\t\tsearch.total = search.items.length;\n\t\t\tif (typeof options.limit === 'number') {\n\t\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t\t}\n\t\n\t\t\treturn search;\n\t\t};\n\t\n\t\t// utilities\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\tvar cmp = function(a, b) {\n\t\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t\t}\n\t\t\ta = asciifold(String(a || ''));\n\t\t\tb = asciifold(String(b || ''));\n\t\t\tif (a > b) return 1;\n\t\t\tif (b > a) return -1;\n\t\t\treturn 0;\n\t\t};\n\t\n\t\tvar extend = function(a, b) {\n\t\t\tvar i, n, k, object;\n\t\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\t\tobject = arguments[i];\n\t\t\t\tif (!object) continue;\n\t\t\t\tfor (k in object) {\n\t\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\t\ta[k] = object[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\t\n\t\t/**\n\t\t * A property getter resolving dot-notation\n\t\t * @param  {Object}  obj     The root object to fetch property on\n\t\t * @param  {String}  name    The optionally dotted property name to fetch\n\t\t * @param  {Boolean} nesting Handle nesting or not\n\t\t * @return {Object}          The resolved property value\n\t\t */\n\t\tvar getattr = function(obj, name, nesting) {\n\t\t    if (!obj || !name) return;\n\t\t    if (!nesting) return obj[name];\n\t\t    var names = name.split(\".\");\n\t\t    while(names.length && (obj = obj[names.shift()]));\n\t\t    return obj;\n\t\t};\n\t\n\t\tvar trim = function(str) {\n\t\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t\t};\n\t\n\t\tvar escape_regex = function(str) {\n\t\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t\t};\n\t\n\t\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t\t};\n\t\n\t\tvar DIACRITICS = {\n\t\t\t'a': '[a]',\n\t\t\t'b': '[bB]',\n\t\t\t'c': '[cCc]',\n\t\t\t'd': '[dDd]',\n\t\t\t'e': '[e]',\n\t\t\t'f': '[f]',\n\t\t\t'g': '[g]',\n\t\t\t'h': '[h]',\n\t\t\t'i': '[iiI]',\n\t\t\t'j': '[j]',\n\t\t\t'k': '[k]',\n\t\t\t'l': '[l]',\n\t\t\t'n': '[nNn]',\n\t\t\t'o': '[o]',\n\t\t\t'p': '[p]',\n\t\t\t'q': '[qq]',\n\t\t\t'r': '[r]',\n\t\t\t's': '[sSs]',\n\t\t\t't': '[t]',\n\t\t\t'u': '[u]',\n\t\t\t'v': '[v]',\n\t\t\t'w': '[w]',\n\t\t\t'x': '[x]',\n\t\t\t'y': '[y]',\n\t\t\t'z': '[z]'\n\t\t};\n\t\n\t\tvar asciifold = (function() {\n\t\t\tvar i, n, k, chunk;\n\t\t\tvar foreignletters = '';\n\t\t\tvar lookup = {};\n\t\t\tfor (k in DIACRITICS) {\n\t\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\t\tforeignletters += chunk;\n\t\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\t\treturn function(str) {\n\t\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\t\treturn lookup[foreignletter];\n\t\t\t\t}).toLowerCase();\n\t\t\t};\n\t\t})();\n\t\n\t\n\t\t// export\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\treturn Sifter;\n\t}));\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * microplugin.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.MicroPlugin = factory();\n\t\t}\n\t}(this, function() {\n\t\tvar MicroPlugin = {};\n\t\n\t\tMicroPlugin.mixin = function(Interface) {\n\t\t\tInterface.plugins = {};\n\t\n\t\t\t/**\n\t\t\t * Initializes the listed plugins (with options).\n\t\t\t * Acceptable formats:\n\t\t\t *\n\t\t\t * List (without options):\n\t\t\t *   ['a', 'b', 'c']\n\t\t\t *\n\t\t\t * List (with options):\n\t\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t\t *\n\t\t\t * Hash (with options):\n\t\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t\t *\n\t\t\t * @param {mixed} plugins\n\t\t\t */\n\t\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\t\tvar i, n, key;\n\t\t\t\tvar self  = this;\n\t\t\t\tvar queue = [];\n\t\n\t\t\t\tself.plugins = {\n\t\t\t\t\tnames     : [],\n\t\t\t\t\tsettings  : {},\n\t\t\t\t\trequested : {},\n\t\t\t\t\tloaded    : {}\n\t\t\t\t};\n\t\n\t\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (plugins) {\n\t\t\t\t\tfor (key in plugins) {\n\t\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\twhile (queue.length) {\n\t\t\t\t\tself.require(queue.shift());\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\t\tvar self    = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\t\t\tvar plugin  = Interface.plugins[name];\n\t\n\t\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t\t}\n\t\n\t\t\t\tplugins.requested[name] = true;\n\t\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\t\tplugins.names.push(name);\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Initializes a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t */\n\t\t\tInterface.prototype.require = function(name) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\n\t\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t\t}\n\t\t\t\t\tself.loadPlugin(name);\n\t\t\t\t}\n\t\n\t\t\t\treturn plugins.loaded[name];\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Registers a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tInterface.define = function(name, fn) {\n\t\t\t\tInterface.plugins[name] = {\n\t\t\t\t\t'name' : name,\n\t\t\t\t\t'fn'   : fn\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\n\t\tvar utils = {\n\t\t\tisArray: Array.isArray || function(vArg) {\n\t\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t\t}\n\t\t};\n\t\n\t\treturn MicroPlugin;\n\t}));\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(8);\n\t\n\tvar profession, elementData, $element;\n\t\n\tvar defaultSettings = {\n\t  // plugins: ['remove_button'],\n\t  // delimiter: ',',\n\t  // persist: false,\n\t  // create: true,\n\t  // render: {\n\t  //   option_create: function (item) {\n\t  //     return `<div class=\"create\">${item.input}</div>`;\n\t  //   }\n\t  // }\n\t};\n\t\n\tprofession = function (element) {\n\t  $element = (0, _jquery2['default'])(element);\n\t  elementData = $element.data();\n\t  var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t  (0, _jquery2['default'])(element).selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = profession;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(8);\n\t\n\tvar suggest = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'id',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    // , hideSelected: true\n\t    render: {\n\t        item: templateItem,\n\t        option: templateOption\n\t    },\n\t    load: loadUsers\n\t};\n\t\n\tvar tagger = function tagger(element) {\n\t    var type = (0, _jquery2['default'])(element).data('taggerType');\n\t    switch (type) {\n\t        case 'suggest':\n\t            (0, _jquery2['default'])(element).selectize(suggest);\n\t    }\n\t};\n\t\n\tfunction templateItem(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div>' + name + '</div>';\n\t}\n\tfunction templateOption(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div class=\"item-float-notification\">\\n    <span><img src=\"' + item.img + '\" alt=\"' + name + '\"></span>\\n    <span>' + name + '</span>\\n  </div>';\n\t}\n\t\n\tfunction loadUsers(query, callback) {\n\t    var options = this.$wrapper.prev().data();\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        type: 'GET',\n\t        data: {\n\t            criteria: query\n\t        },\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res.users);\n\t        }\n\t    });\n\t}\n\t\n\texports['default'] = tagger;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(8);\n\t\n\tvar taxonomy,\n\t    elementData,\n\t    $element,\n\t    TemplateEngine = __webpack_require__(5);\n\t\n\tvar defaultSettings = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'url',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    render: {\n\t        'item': renderItem,\n\t        'option': renderOption\n\t    },\n\t    load: loadItems\n\t};\n\t\n\tvar defaultTemplates = {\n\t    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n\t    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n\t};\n\t\n\tfunction renderItem(item) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.item;\n\t    var elementData = $element.data();\n\t    if ('templateItem' in elementData && (0, _jquery2['default'])(elementData.templateItem).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateItem).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction renderOption(item, escape) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.option;\n\t    var elementData = $element.data();\n\t    if ('templateOption' in elementData && (0, _jquery2['default'])(elementData.templateOption).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateOption).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction loadItems(query, callback) {\n\t\n\t    var options = (0, _jquery2['default'])(this.$input).data();\n\t\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        data: _data,\n\t        type: options.method || 'GET',\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res);\n\t        }\n\t    });\n\t}\n\t\n\ttaxonomy = function (element) {\n\t    $element = (0, _jquery2['default'])(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t    (0, _jquery2['default'])(element).selectize(selectizeSettings);\n\t};\n\t\n\texports['default'] = taxonomy;\n\tmodule.exports = exports['default'];\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// 1.1.js","var map = {\n\t\"./TemplateEngine\": 5,\n\t\"./TemplateEngine.js\": 5,\n\t\"./dropzoneUploader\": 6,\n\t\"./dropzoneUploader.js\": 6,\n\t\"./index\": 3,\n\t\"./index.js\": 3,\n\t\"./job\": 7,\n\t\"./job.js\": 7,\n\t\"./profession\": 11,\n\t\"./profession.js\": 11,\n\t\"./tagger\": 12,\n\t\"./tagger.js\": 12,\n\t\"./taxonomy\": 13,\n\t\"./taxonomy.js\": 13\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./asyncModules ^\\.\\/.*$\n// module id = 4\n// module chunks = 1","module.exports = function(html, options) {\n\tvar re = /<%(.+?)%>/g, \n\t\treExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g, \n\t\tcode = 'with(obj) { var r=[];\\n', \n\t\tcursor = 0, \n\t\tresult;\n\tvar add = function(line, js) {\n\t\tjs? (code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n') :\n\t\t\t(code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '');\n\t\treturn add;\n\t}\n\tvar match = re.exec(html);\n\twhile(match) {\n\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\tcursor = match.index + match[0].length;\n\t\tmatch = re.exec(html);\n\t}\n\tadd(html.substr(cursor, html.length - cursor));\n\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\ttry { result = new Function('obj', code).apply(options, [options]); }\n\tcatch(err) { console.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\"); }\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/TemplateEngine.js","'use strict'\n\n// Dependecies\nconst $ =  require('jquery')\n\nvar module = (element) => {\n  const dropZone = $(element)\n  let $input = dropZone.find('input') // TODO: Change this selector name\n  let $altInput = dropZone.find('[data-trigger=\"file\"]')\n  let defaultImage = dropZone.data('original-image')\n\n  if(defaultImage){\n      fakeLoad('Imagem Padro', defaultImage)\n  }\n\n  dropZone.on({\n    dragover: cbDragOver,\n    dragleave: cbDragLeave,\n    drop: cbDrop\n  })\n\n  $input.on({\n    change: cbChangeFile\n  })\n\n  $altInput.on({\n    click: cbTriggerFile\n  })\n\n  function cbDragOver (event) {\n    dropZone.addClass('hover')\n    return false\n  }\n\n  function cbDragLeave (event) {\n    dropZone.removeClass('hover')\n    return false\n  }\n\n  function cbDrop (event) {\n    let file = event.originalEvent.dataTransfer.files[0]\n\n    event.stopPropagation()\n    event.preventDefault()\n    dropZone.removeClass('hover')\n\n    readFile(file)\n    $input.files = file\n    $input.val('')\n    return false\n  }\n\n  function cbChangeFile (event) {\n    readFile(this.files[0])\n    return false\n  }\n\n  function cbTriggerFile (event) {\n    $input.trigger('click')\n  }\n\n}\n\nvar fakeLoad = function(name, src){\n  var $image = $('<img/>')\n      .load(function() {\n          createPreview(name, getCanvasImage(this))\n      })\n      .attr('src', src);\n}\n\nvar readFile = function (file) {\n  var reader = new FileReader();\n\n  reader.onload = function(e) {\n      fakeLoad(file.name, e.target.result)\n  }\n  reader.readAsDataURL(file);\n}\n\nvar getCanvasImage = function(image) {\n\n  let imgWidth = image.width,\n      imgHeight = image.height;\n\n  let canvas = document.createElement('canvas');\n  canvas.width = imgWidth;\n  canvas.height = imgHeight;\n\n  let ctx = canvas.getContext('2d');\n  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\n  return canvas.toDataURL('image/jpeg');\n}\n\nvar createPreview = function(filename, newURL) {\n  let fileName = filename.substr(0, filename.lastIndexOf('.')) //subtract file extension\n  let filePath = newURL\n  let image = `<img src=\"${filePath}\" class=\"img-responsive\" alt=\"${fileName}\"/>`\n  //append new image through jQuery Template\n  $('[data-content=\"file\"]').html(image).show()\n  $('.custom-file-content').hide()\n}\n\nexport default module\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/dropzoneUploader.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar job,\n  elementData,\n  $element;\n\nvar defaultSettings = {\n  plugins: ['remove_button'],\n  delimiter: ',',\n  persist: false,\n  create: true,\n  render: {\n    option_create: function (item) {\n      return `<div class=\"create\">${item.input}</div>`;\n    }\n  }\n};\n\njob = (element) => {\n  $element = $(element);\n  elementData = $element.data();\n  $(element).selectize(defaultSettings);\n};\n\nexport default job;\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/job.js","/**\n * selectize.js (v0.12.4)\n * Copyright (c) 20132015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery','sifter','microplugin'], factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t} else {\n\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t}\n}(this, function($, Sifter, MicroPlugin) {\n\t'use strict';\n\n\tvar highlight = function($element, pattern) {\n\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\n\t\tvar highlight = function(node) {\n\t\t\tvar skip = 0;\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\tskip = 1;\n\t\t\t\t}\n\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn skip;\n\t\t};\n\t\n\t\treturn $element.each(function() {\n\t\t\thighlight(this);\n\t\t});\n\t};\n\t\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with() and pass js strict mode\n\t */\n\t$.fn.removeHighlight = function() {\n\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\tvar parent = this.parentNode;\n\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\tparent.normalize();\n\t\t}).end();\n\t};\n\t\n\t\n\tvar MicroEvent = function() {};\n\tMicroEvent.prototype = {\n\t\ton: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\tthis._events[event].push(fct);\n\t\t},\n\t\toff: function(event, fct){\n\t\t\tvar n = arguments.length;\n\t\t\tif (n === 0) return delete this._events;\n\t\t\tif (n === 1) return delete this._events[event];\n\t\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t},\n\t\ttrigger: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t *\n\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t *\n\t * @param {object} the object which will support MicroEvent\n\t */\n\tMicroEvent.mixin = function(destObject){\n\t\tvar props = ['on', 'off', 'trigger'];\n\t\tfor (var i = 0; i < props.length; i++){\n\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t}\n\t};\n\t\n\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\n\tvar KEY_A         = 65;\n\tvar KEY_COMMA     = 188;\n\tvar KEY_RETURN    = 13;\n\tvar KEY_ESC       = 27;\n\tvar KEY_LEFT      = 37;\n\tvar KEY_UP        = 38;\n\tvar KEY_P         = 80;\n\tvar KEY_RIGHT     = 39;\n\tvar KEY_DOWN      = 40;\n\tvar KEY_N         = 78;\n\tvar KEY_BACKSPACE = 8;\n\tvar KEY_DELETE    = 46;\n\tvar KEY_SHIFT     = 16;\n\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\tvar KEY_TAB       = 9;\n\t\n\tvar TAG_SELECT    = 1;\n\tvar TAG_INPUT     = 2;\n\t\n\t// for now, android support in general is too spotty to support validity\n\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\n\t\n\tvar isset = function(object) {\n\t\treturn typeof object !== 'undefined';\n\t};\n\t\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t * @param {string} value\n\t * @returns {string|null}\n\t */\n\tvar hash_key = function(value) {\n\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\treturn value + '';\n\t};\n\t\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_html = function(str) {\n\t\treturn (str + '')\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t};\n\t\n\t/**\n\t * Escapes \"$\" characters in replacement strings.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_replace = function(str) {\n\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t};\n\t\n\tvar hook = {};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked before the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.before = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn original.apply(self, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked after the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.after = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tvar result = original.apply(self, arguments);\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn result;\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be invoked once.\n\t *\n\t * @param {function} fn\n\t * @returns {function}\n\t */\n\tvar once = function(fn) {\n\t\tvar called = false;\n\t\treturn function() {\n\t\t\tif (called) return;\n\t\t\tcalled = true;\n\t\t\tfn.apply(this, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be called once\n\t * every `delay` milliseconds (invoked on the falling edge).\n\t *\n\t * @param {function} fn\n\t * @param {int} delay\n\t * @returns {function}\n\t */\n\tvar debounce = function(fn, delay) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar self = this;\n\t\t\tvar args = arguments;\n\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\tfn.apply(self, args);\n\t\t\t}, delay);\n\t\t};\n\t};\n\t\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t * @param {object} self\n\t * @param {array} types\n\t * @param {function} fn\n\t */\n\tvar debounce_events = function(self, types, fn) {\n\t\tvar type;\n\t\tvar trigger = self.trigger;\n\t\tvar event_args = {};\n\t\n\t\t// override trigger method\n\t\tself.trigger = function() {\n\t\t\tvar type = arguments[0];\n\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\tevent_args[type] = arguments;\n\t\t\t} else {\n\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t}\n\t\t};\n\t\n\t\t// invoke provided function\n\t\tfn.apply(self, []);\n\t\tself.trigger = trigger;\n\t\n\t\t// trigger queued events\n\t\tfor (type in event_args) {\n\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t *\n\t * @param {object} $parent - Parent element to listen on.\n\t * @param {string} event - Event name.\n\t * @param {string} selector - Descendant selector to filter by.\n\t * @param {function} fn - Event handler.\n\t */\n\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t$parent.on(event, selector, function(e) {\n\t\t\tvar child = e.target;\n\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\tchild = child.parentNode;\n\t\t\t}\n\t\t\te.currentTarget = child;\n\t\t\treturn fn.apply(this, [e]);\n\t\t});\n\t};\n\t\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t * @param {object} input\n\t * @returns {object}\n\t */\n\tvar getSelection = function(input) {\n\t\tvar result = {};\n\t\tif ('selectionStart' in input) {\n\t\t\tresult.start = input.selectionStart;\n\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t} else if (document.selection) {\n\t\t\tinput.focus();\n\t\t\tvar sel = document.selection.createRange();\n\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\tresult.start = sel.text.length - selLen;\n\t\t\tresult.length = selLen;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t/**\n\t * Copies CSS properties from one element to another.\n\t *\n\t * @param {object} $from\n\t * @param {object} $to\n\t * @param {array} properties\n\t */\n\tvar transferStyles = function($from, $to, properties) {\n\t\tvar i, n, styles = {};\n\t\tif (properties) {\n\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tstyles = $from.css();\n\t\t}\n\t\t$to.css(styles);\n\t};\n\t\n\t/**\n\t * Measures the width of a string within a\n\t * parent element (in pixels).\n\t *\n\t * @param {string} str\n\t * @param {object} $parent\n\t * @returns {int}\n\t */\n\tvar measureString = function(str, $parent) {\n\t\tif (!str) {\n\t\t\treturn 0;\n\t\t}\n\t\n\t\tvar $test = $('<test>').css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -99999,\n\t\t\tleft: -99999,\n\t\t\twidth: 'auto',\n\t\t\tpadding: 0,\n\t\t\twhiteSpace: 'pre'\n\t\t}).text(str).appendTo('body');\n\t\n\t\ttransferStyles($parent, $test, [\n\t\t\t'letterSpacing',\n\t\t\t'fontSize',\n\t\t\t'fontFamily',\n\t\t\t'fontWeight',\n\t\t\t'textTransform'\n\t\t]);\n\t\n\t\tvar width = $test.width();\n\t\t$test.remove();\n\t\n\t\treturn width;\n\t};\n\t\n\t/**\n\t * Sets up an input to grow horizontally as the user\n\t * types. If the value is changed manually, you can\n\t * trigger the \"update\" handler to resize:\n\t *\n\t * $input.trigger('update');\n\t *\n\t * @param {object} $input\n\t */\n\tvar autoGrow = function($input) {\n\t\tvar currentWidth = null;\n\t\n\t\tvar update = function(e, options) {\n\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\tvar shift, character, selection;\n\t\t\te = e || window.event || {};\n\t\t\toptions = options || {};\n\t\n\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\n\t\t\tvalue = $input.val();\n\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\tprintable = (\n\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t);\n\t\n\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (printable) {\n\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\tvalue += character;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\tif (!value && placeholder) {\n\t\t\t\tvalue = placeholder;\n\t\t\t}\n\t\n\t\t\twidth = measureString(value, $input) + 4;\n\t\t\tif (width !== currentWidth) {\n\t\t\t\tcurrentWidth = width;\n\t\t\t\t$input.width(width);\n\t\t\t\t$input.triggerHandler('resize');\n\t\t\t}\n\t\t};\n\t\n\t\t$input.on('keydown keyup update blur', update);\n\t\tupdate();\n\t};\n\t\n\tvar domToString = function(d) {\n\t\tvar tmp = document.createElement('div');\n\t\n\t\ttmp.appendChild(d.cloneNode(true));\n\t\n\t\treturn tmp.innerHTML;\n\t};\n\t\n\tvar logError = function(message, options){\n\t\tif(!options) options = {};\n\t\tvar component = \"Selectize\";\n\t\n\t\tconsole.error(component + \": \" + message)\n\t\n\t\tif(options.explanation){\n\t\t\t// console.group is undefined in <IE11\n\t\t\tif(console.group) console.group();\n\t\t\tconsole.error(options.explanation);\n\t\t\tif(console.group) console.groupEnd();\n\t\t}\n\t}\n\t\n\t\n\tvar Selectize = function($input, settings) {\n\t\tvar key, i, n, dir, input, self = this;\n\t\tinput = $input[0];\n\t\tinput.selectize = self;\n\t\n\t\t// detect rtl environment\n\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\n\t\t// setup default state\n\t\t$.extend(self, {\n\t\t\torder            : 0,\n\t\t\tsettings         : settings,\n\t\t\t$input           : $input,\n\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\trtl              : /rtl/i.test(dir),\n\t\n\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\thighlightedValue : null,\n\t\t\tisOpen           : false,\n\t\t\tisDisabled       : false,\n\t\t\tisRequired       : $input.is('[required]'),\n\t\t\tisInvalid        : false,\n\t\t\tisLocked         : false,\n\t\t\tisFocused        : false,\n\t\t\tisInputHidden    : false,\n\t\t\tisSetup          : false,\n\t\t\tisShiftDown      : false,\n\t\t\tisCmdDown        : false,\n\t\t\tisCtrlDown       : false,\n\t\t\tignoreFocus      : false,\n\t\t\tignoreBlur       : false,\n\t\t\tignoreHover      : false,\n\t\t\thasOptions       : false,\n\t\t\tcurrentResults   : null,\n\t\t\tlastValue        : '',\n\t\t\tcaretPos         : 0,\n\t\t\tloading          : 0,\n\t\t\tloadedSearches   : {},\n\t\n\t\t\t$activeOption    : null,\n\t\t\t$activeItems     : [],\n\t\n\t\t\toptgroups        : {},\n\t\t\toptions          : {},\n\t\t\tuserOptions      : {},\n\t\t\titems            : [],\n\t\t\trenderCache      : {},\n\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t});\n\t\n\t\t// search system\n\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\n\t\t// build options table\n\t\tif (self.settings.options) {\n\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t}\n\t\t\tdelete self.settings.options;\n\t\t}\n\t\n\t\t// build optgroup table\n\t\tif (self.settings.optgroups) {\n\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t}\n\t\t\tdelete self.settings.optgroups;\n\t\t}\n\t\n\t\t// option-dependent defaults\n\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t}\n\t\n\t\tself.initializePlugins(self.settings.plugins);\n\t\tself.setupCallbacks();\n\t\tself.setupTemplates();\n\t\tself.setup();\n\t};\n\t\n\t// mixins\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\tMicroEvent.mixin(Selectize);\n\t\n\tif(typeof MicroPlugin !== \"undefined\"){\n\t\tMicroPlugin.mixin(Selectize);\n\t}else{\n\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t{explanation:\n\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\"load Selectize.\"}\n\t\t);\n\t}\n\t\n\t\n\t// methods\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t$.extend(Selectize.prototype, {\n\t\n\t\t/**\n\t\t * Creates all elements and sets up event bindings.\n\t\t */\n\t\tsetup: function() {\n\t\t\tvar self      = this;\n\t\t\tvar settings  = self.settings;\n\t\t\tvar eventNS   = self.eventNS;\n\t\t\tvar $window   = $(window);\n\t\t\tvar $document = $(document);\n\t\t\tvar $input    = self.$input;\n\t\n\t\t\tvar $wrapper;\n\t\t\tvar $control;\n\t\t\tvar $control_input;\n\t\t\tvar $dropdown;\n\t\t\tvar $dropdown_content;\n\t\t\tvar $dropdown_parent;\n\t\t\tvar inputMode;\n\t\t\tvar timeout_blur;\n\t\t\tvar timeout_focus;\n\t\t\tvar classes;\n\t\t\tvar classes_plugins;\n\t\t\tvar inputId;\n\t\n\t\t\tinputMode         = self.settings.mode;\n\t\t\tclasses           = $input.attr('class') || '';\n\t\n\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\n\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t}\n\t\n\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t$dropdown.addClass(classes);\n\t\t\t}\n\t\n\t\t\t$wrapper.css({\n\t\t\t\twidth: $input[0].style.width\n\t\t\t});\n\t\n\t\t\tif (self.plugins.names.length) {\n\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t}\n\t\n\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t}\n\t\n\t\t\tif (self.settings.placeholder) {\n\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t}\n\t\n\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t}\n\t\n\t\t\tself.$wrapper          = $wrapper;\n\t\t\tself.$control          = $control;\n\t\t\tself.$control_input    = $control_input;\n\t\t\tself.$dropdown         = $dropdown;\n\t\t\tself.$dropdown_content = $dropdown_content;\n\t\n\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\tautoGrow($control_input);\n\t\n\t\t\t$control.on({\n\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$control_input.on({\n\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t});\n\t\n\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t});\n\t\n\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// blur on click outside\n\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\tself.ignoreHover = false;\n\t\t\t});\n\t\n\t\t\t// store original children and tab index so that they can be\n\t\t\t// restored when the destroy() method is called.\n\t\t\tthis.revertSettings = {\n\t\t\t\t$children : $input.children().detach(),\n\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t};\n\t\n\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\n\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\tself.setValue(settings.items);\n\t\t\t\tdelete settings.items;\n\t\t\t}\n\t\n\t\t\t// feature detect for the validation API\n\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\tself.refreshState();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tself.updateOriginalInput();\n\t\t\tself.refreshItems();\n\t\t\tself.refreshState();\n\t\t\tself.updatePlaceholder();\n\t\t\tself.isSetup = true;\n\t\n\t\t\tif ($input.is(':disabled')) {\n\t\t\t\tself.disable();\n\t\t\t}\n\t\n\t\t\tself.on('change', this.onChange);\n\t\n\t\t\t$input.data('selectize', self);\n\t\t\t$input.addClass('selectized');\n\t\t\tself.trigger('initialize');\n\t\n\t\t\t// preload options\n\t\t\tif (settings.preload === true) {\n\t\t\t\tself.onSearchChange('');\n\t\t\t}\n\t\n\t\t},\n\t\n\t\t/**\n\t\t * Sets up default rendering functions.\n\t\t */\n\t\tsetupTemplates: function() {\n\t\t\tvar self = this;\n\t\t\tvar field_label = self.settings.labelField;\n\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\n\t\t\tvar templates = {\n\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t},\n\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t},\n\t\n\t\t/**\n\t\t * Maps fired events to callbacks provided\n\t\t * in the settings used when creating the control.\n\t\t */\n\t\tsetupCallbacks: function() {\n\t\t\tvar key, fn, callbacks = {\n\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t'change'          : 'onChange',\n\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t'type'            : 'onType',\n\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t'blur'            : 'onBlur'\n\t\t\t};\n\t\n\t\t\tfor (key in callbacks) {\n\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a click event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonClick: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t// is ignored unless invoked within a click event)\n\t\t\tif (!self.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a mouse down event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonMouseDown: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\tvar $target = $(e.target);\n\t\n\t\t\tif (self.isFocused) {\n\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// give control focus\n\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the value of the control has been changed.\n\t\t * This should propagate the event to the original DOM\n\t\t * input / select element.\n\t\t */\n\t\tonChange: function() {\n\t\t\tthis.$input.trigger('change');\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> paste.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonPaste: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t// input and create Items for each separate value\n\t\t\tif (self.settings.splitOn) {\n\t\n\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\n\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keypress.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyPress: function(e) {\n\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\tthis.createItem();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keydown.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyDown: function(e) {\n\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) {\n\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase KEY_A:\n\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase KEY_ESC:\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_N:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\tself.open();\n\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_P:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_UP:\n\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_TAB:\n\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\n\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keyup.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyUp: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\tvar value = self.$control_input.val() || '';\n\t\t\tif (self.lastValue !== value) {\n\t\t\t\tself.lastValue = value;\n\t\t\t\tself.onSearchChange(value);\n\t\t\t\tself.refreshOptions();\n\t\t\t\tself.trigger('type', value);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the user-provide option provider / loader.\n\t\t *\n\t\t * Note: this function is debounced in the Selectize\n\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tonSearchChange: function(value) {\n\t\t\tvar self = this;\n\t\t\tvar fn = self.settings.load;\n\t\t\tif (!fn) return;\n\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\tself.loadedSearches[value] = true;\n\t\t\tself.load(function(callback) {\n\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> focus.\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tonFocus: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar wasFocused = self.isFocused;\n\t\n\t\t\tif (self.isDisabled) {\n\t\t\t\tself.blur();\n\t\t\t\te && e.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tif (self.ignoreFocus) return;\n\t\t\tself.isFocused = true;\n\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\n\t\t\tif (!wasFocused) self.trigger('focus');\n\t\n\t\t\tif (!self.$activeItems.length) {\n\t\t\t\tself.showInput();\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t}\n\t\n\t\t\tself.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> blur.\n\t\t *\n\t\t * @param {object} e\n\t\t * @param {Element} dest\n\t\t */\n\t\tonBlur: function(e, dest) {\n\t\t\tvar self = this;\n\t\t\tif (!self.isFocused) return;\n\t\t\tself.isFocused = false;\n\t\n\t\t\tif (self.ignoreFocus) {\n\t\t\t\treturn;\n\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\tself.ignoreBlur = true;\n\t\t\t\tself.onFocus(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar deactivate = function() {\n\t\t\t\tself.close();\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\tself.refreshState();\n\t\n\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\tdest && dest.focus && dest.focus();\n\t\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.trigger('blur');\n\t\t\t};\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t} else {\n\t\t\t\tdeactivate();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user rolls over\n\t\t * an option in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionHover: function(e) {\n\t\t\tif (this.ignoreHover) return;\n\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an option\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionSelect: function(e) {\n\t\t\tvar value, $target, $option, self = this;\n\t\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\n\t\t\t$target = $(e.currentTarget);\n\t\t\tif ($target.hasClass('create')) {\n\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an item\n\t\t * that has been selected.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonItemSelect: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return;\n\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the provided method that provides\n\t\t * results to a callback---which are then added\n\t\t * as options to the control.\n\t\t *\n\t\t * @param {function} fn\n\t\t */\n\t\tload: function(fn) {\n\t\t\tvar self = this;\n\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\n\t\t\tself.loading++;\n\t\t\tfn.apply(self, [function(results) {\n\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\tif (results && results.length) {\n\t\t\t\t\tself.addOption(results);\n\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t}\n\t\t\t\tif (!self.loading) {\n\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t}\n\t\t\t\tself.trigger('load', results);\n\t\t\t}]);\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the input field of the control to the specified value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tsetTextboxValue: function(value) {\n\t\t\tvar $input = this.$control_input;\n\t\t\tvar changed = $input.val() !== value;\n\t\t\tif (changed) {\n\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\tthis.lastValue = value;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the value of the control. If multiple items\n\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t * an array. If only one item can be selected, this\n\t\t * returns a string.\n\t\t *\n\t\t * @returns {mixed}\n\t\t */\n\t\tgetValue: function() {\n\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\treturn this.items;\n\t\t\t} else {\n\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Resets the selected items to the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t */\n\t\tsetValue: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tthis.clear(silent);\n\t\t\t\tthis.addItems(value, silent);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item.\n\t\t *\n\t\t * @param {object} $item\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tsetActiveItem: function($item, e) {\n\t\t\tvar self = this;\n\t\t\tvar eventName;\n\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\tvar $last;\n\t\n\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t$item = $($item);\n\t\n\t\t\t// clear the active selection\n\t\t\tif (!$item.length) {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [];\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// modify selection\n\t\t\teventName = e && e.type.toLowerCase();\n\t\n\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\tif (begin > end) {\n\t\t\t\t\tswap  = begin;\n\t\t\t\t\tbegin = end;\n\t\t\t\t\tend   = swap;\n\t\t\t\t}\n\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t}\n\t\n\t\t\t// ensure control has focus\n\t\t\tself.hideInput();\n\t\t\tif (!this.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item in the dropdown menu\n\t\t * of available options.\n\t\t *\n\t\t * @param {object} $object\n\t\t * @param {boolean} scroll\n\t\t * @param {boolean} animate\n\t\t */\n\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\tvar height_menu, height_item, y;\n\t\t\tvar scroll_top, scroll_bottom;\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\tself.$activeOption = null;\n\t\n\t\t\t$option = $($option);\n\t\t\tif (!$option.length) return;\n\t\n\t\t\tself.$activeOption = $option.addClass('active');\n\t\n\t\t\tif (scroll || !isset(scroll)) {\n\t\n\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\tscroll_top    = y;\n\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\n\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Selects all items (CTRL + A).\n\t\t */\n\t\tselectAll: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.settings.mode === 'single') return;\n\t\n\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.close();\n\t\t\t}\n\t\t\tself.focus();\n\t\t},\n\t\n\t\t/**\n\t\t * Hides the input element out of view, while\n\t\t * retaining its focus.\n\t\t */\n\t\thideInput: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.setTextboxValue('');\n\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\tself.isInputHidden = true;\n\t\t},\n\t\n\t\t/**\n\t\t * Restores input visibility.\n\t\t */\n\t\tshowInput: function() {\n\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\tthis.isInputHidden = false;\n\t\t},\n\t\n\t\t/**\n\t\t * Gives the control focus.\n\t\t */\n\t\tfocus: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.isDisabled) return;\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tself.$control_input[0].focus();\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.onFocus();\n\t\t\t}, 0);\n\t\t},\n\t\n\t\t/**\n\t\t * Forces the control out of focus.\n\t\t *\n\t\t * @param {Element} dest\n\t\t */\n\t\tblur: function(dest) {\n\t\t\tthis.$control_input[0].blur();\n\t\t\tthis.onBlur(null, dest);\n\t\t},\n\t\n\t\t/**\n\t\t * Returns a function that scores an object\n\t\t * to show how good of a match it is to the\n\t\t * provided query.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @return {function}\n\t\t */\n\t\tgetScoreFunction: function(query) {\n\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t},\n\t\n\t\t/**\n\t\t * Returns search options for sifter (the system\n\t\t * for scoring and sorting results).\n\t\t *\n\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t * @return {object}\n\t\t */\n\t\tgetSearchOptions: function() {\n\t\t\tvar settings = this.settings;\n\t\t\tvar sort = settings.sortField;\n\t\t\tif (typeof sort === 'string') {\n\t\t\t\tsort = [{field: sort}];\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tfields      : settings.searchField,\n\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\tsort        : sort\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Searches through available options and returns\n\t\t * a sorted array of matches.\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {object}\n\t\t */\n\t\tsearch: function(query) {\n\t\t\tvar i, value, score, result, calculateScore;\n\t\t\tvar self     = this;\n\t\t\tvar settings = self.settings;\n\t\t\tvar options  = this.getSearchOptions();\n\t\n\t\t\t// validate user-provided result scoring function\n\t\t\tif (settings.score) {\n\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// perform search\n\t\t\tif (query !== self.lastQuery) {\n\t\t\t\tself.lastQuery = query;\n\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\tself.currentResults = result;\n\t\t\t} else {\n\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t}\n\t\n\t\t\t// filter out selected items\n\t\t\tif (settings.hideSelected) {\n\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the list of available options shown\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {boolean} triggerDropdown\n\t\t */\n\t\trefreshOptions: function(triggerDropdown) {\n\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\tvar $active, $active_before, $create;\n\t\n\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tvar self              = this;\n\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\tvar results           = self.search(query);\n\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\n\t\t\t// build markup\n\t\t\tn = results.items.length;\n\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t}\n\t\n\t\t\t// render and group available options individually\n\t\t\tgroups = {};\n\t\t\tgroups_order = [];\n\t\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\toption_html = self.render('option', option);\n\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\n\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t}\n\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// sort optgroups\n\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// render optgroup headers & join groups\n\t\t\thtml = document.createDocumentFragment();\n\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\toptgroup = groups_order[i];\n\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\n\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t$dropdown_content.html(html);\n\t\n\t\t\t// highlight matching terms inline\n\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add \"selected\" class to selected options\n\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add create option\n\t\t\thas_create_option = self.canCreate(query);\n\t\t\tif (has_create_option) {\n\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t}\n\t\n\t\t\t// activate\n\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\tif (self.hasOptions) {\n\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t}\n\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$active = $create;\n\t\t\t\t}\n\t\t\t\tself.setActiveOption($active);\n\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t} else {\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Adds an available option. If it already exists,\n\t\t * nothing will happen. Note: this does not refresh\n\t\t * the options list dropdown (use `refreshOptions`\n\t\t * for that).\n\t\t *\n\t\t * Usage:\n\t\t *\n\t\t *   this.addOption(data)\n\t\t *\n\t\t * @param {object|array} data\n\t\t */\n\t\taddOption: function(data) {\n\t\t\tvar i, n, value, self = this;\n\t\n\t\t\tif ($.isArray(data)) {\n\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\tself.userOptions[value] = true;\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option to the pool of options.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOption: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.options[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option group to the pool of option groups.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOptionGroup: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\tif (!key) return false;\n\t\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.optgroups[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers a new optgroup for options\n\t\t * to be bucketed into.\n\t\t *\n\t\t * @param {string} id\n\t\t * @param {object} data\n\t\t */\n\t\taddOptionGroup: function(id, data) {\n\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes an existing option group.\n\t\t *\n\t\t * @param {string} id\n\t\t */\n\t\tremoveOptionGroup: function(id) {\n\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\tdelete this.optgroups[id];\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all existing option groups.\n\t\t */\n\t\tclearOptionGroups: function() {\n\t\t\tthis.optgroups = {};\n\t\t\tthis.renderCache = {};\n\t\t\tthis.trigger('optgroup_clear');\n\t\t},\n\t\n\t\t/**\n\t\t * Updates an option available for selection. If\n\t\t * it is visible in the selected items or options\n\t\t * dropdown, it will be re-rendered automatically.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {object} data\n\t\t */\n\t\tupdateOption: function(value, data) {\n\t\t\tvar self = this;\n\t\t\tvar $item, $item_new;\n\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\n\t\t\tvalue     = hash_key(value);\n\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\n\t\t\t// sanity checks\n\t\t\tif (value === null) return;\n\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\n\t\t\torder_old = self.options[value].$order;\n\t\n\t\t\t// update references\n\t\t\tif (value_new !== value) {\n\t\t\t\tdelete self.options[value];\n\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.$order = data.$order || order_old;\n\t\t\tself.options[value_new] = data;\n\t\n\t\t\t// invalidate render cache\n\t\t\tcache_items = self.renderCache['item'];\n\t\t\tcache_options = self.renderCache['option'];\n\t\n\t\t\tif (cache_items) {\n\t\t\t\tdelete cache_items[value];\n\t\t\t\tdelete cache_items[value_new];\n\t\t\t}\n\t\t\tif (cache_options) {\n\t\t\t\tdelete cache_options[value];\n\t\t\t\tdelete cache_options[value_new];\n\t\t\t}\n\t\n\t\t\t// update the item if it's selected\n\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t$item = self.getItem(value);\n\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t$item.replaceWith($item_new);\n\t\t\t}\n\t\n\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\tself.lastQuery = null;\n\t\n\t\t\t// update dropdown contents\n\t\t\tif (self.isOpen) {\n\t\t\t\tself.refreshOptions(false);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes a single option.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\tremoveOption: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\tif (cache_items) delete cache_items[value];\n\t\t\tif (cache_options) delete cache_options[value];\n\t\n\t\t\tdelete self.userOptions[value];\n\t\t\tdelete self.options[value];\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_remove', value);\n\t\t\tself.removeItem(value, silent);\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all options.\n\t\t */\n\t\tclearOptions: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.loadedSearches = {};\n\t\t\tself.userOptions = {};\n\t\t\tself.renderCache = {};\n\t\t\tself.options = self.sifter.items = {};\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_clear');\n\t\t\tself.clear();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the option\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetOption: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the next or\n\t\t * previous selectable option.\n\t\t *\n\t\t * @param {object} $option\n\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t * @return {object}\n\t\t */\n\t\tgetAdjacentOption: function($option, direction) {\n\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t},\n\t\n\t\t/**\n\t\t * Finds the first element with a \"data-value\" attribute\n\t\t * that matches the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} $els\n\t\t * @return {object}\n\t\t */\n\t\tgetElementWithValue: function(value, $els) {\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn $();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the item\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetItem: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItems: function(values, silent) {\n\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" an item. Adds it to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItem: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tvar $item, $option, $options;\n\t\t\t\tvar self = this;\n\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\tvalue = hash_key(value);\n\t\n\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\n\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\twasFull = self.isFull();\n\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\tself.insertAtCaret($item);\n\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\tself.refreshState();\n\t\t\t\t}\n\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\n\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the selected item matching\n\t\t * the provided value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tremoveItem: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvar $item, i, idx;\n\t\n\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\ti = self.items.indexOf(value);\n\t\n\t\t\tif (i !== -1) {\n\t\t\t\t$item.remove();\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.items.splice(i, 1);\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t}\n\t\n\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the `create` method provided in the\n\t\t * selectize options that should provide the data\n\t\t * for the new item, given the user input.\n\t\t *\n\t\t * Once this completes, it will be added\n\t\t * to the item list.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} [triggerDropdown]\n\t\t * @param {function} [callback]\n\t\t * @return {boolean}\n\t\t */\n\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\tvar self  = this;\n\t\t\tvar caret = self.caretPos;\n\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\n\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\n\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tif (!self.canCreate(input)) {\n\t\t\t\tcallback();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tself.lock();\n\t\n\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\tvar data = {};\n\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\treturn data;\n\t\t\t};\n\t\n\t\t\tvar create = once(function(data) {\n\t\t\t\tself.unlock();\n\t\n\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\tif (typeof value !== 'string') return callback();\n\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.addOption(data);\n\t\t\t\tself.setCaret(caret);\n\t\t\t\tself.addItem(value);\n\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\n\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\tcreate(output);\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Re-renders the selected item lists.\n\t\t */\n\t\trefreshItems: function() {\n\t\t\tthis.lastQuery = null;\n\t\n\t\t\tif (this.isSetup) {\n\t\t\t\tthis.addItem(this.items);\n\t\t\t}\n\t\n\t\t\tthis.refreshState();\n\t\t\tthis.updateOriginalInput();\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent attributes\n\t\t * and CSS classes.\n\t\t */\n\t\trefreshState: function() {\n\t\t\tthis.refreshValidityState();\n\t\t\tthis.refreshClasses();\n\t\t},\n\t\n\t\t/**\n\t\t * Update the `required` attribute of both input and control input.\n\t\t *\n\t\t * The `required` property needs to be activated on the control input\n\t\t * for the error to be displayed at the right place. `required` also\n\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t * hidden and can't show errors.\n\t\t */\n\t\trefreshValidityState: function() {\n\t\t\tif (!this.isRequired) return false;\n\t\n\t\t\tvar invalid = !this.items.length;\n\t\n\t\t\tthis.isInvalid = invalid;\n\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\tthis.$input.prop('required', !invalid);\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent CSS classes.\n\t\t */\n\t\trefreshClasses: function() {\n\t\t\tvar self     = this;\n\t\t\tvar isFull   = self.isFull();\n\t\t\tvar isLocked = self.isLocked;\n\t\n\t\t\tself.$wrapper\n\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\n\t\t\tself.$control\n\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\n\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not more items can be added\n\t\t * to the control without exceeding the user-defined maximum.\n\t\t *\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFull: function() {\n\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the original <select> or <input>\n\t\t * element to reflect the current state.\n\t\t */\n\t\tupdateOriginalInput: function(opts) {\n\t\t\tvar i, n, options, label, self = this;\n\t\t\topts = opts || {};\n\t\n\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\toptions = [];\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t}\n\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t}\n\t\t\t\tself.$input.html(options.join(''));\n\t\t\t} else {\n\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t}\n\t\n\t\t\tif (self.isSetup) {\n\t\t\t\tif (!opts.silent) {\n\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Shows/hide the input placeholder depending\n\t\t * on if there items in the list already.\n\t\t */\n\t\tupdatePlaceholder: function() {\n\t\t\tif (!this.settings.placeholder) return;\n\t\t\tvar $input = this.$control_input;\n\t\n\t\t\tif (this.items.length) {\n\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t} else {\n\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t}\n\t\t\t$input.triggerHandler('update', {force: true});\n\t\t},\n\t\n\t\t/**\n\t\t * Shows the autocomplete dropdown containing\n\t\t * the available options.\n\t\t */\n\t\topen: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\tself.focus();\n\t\t\tself.isOpen = true;\n\t\t\tself.refreshState();\n\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\tself.positionDropdown();\n\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Closes the autocomplete dropdown menu.\n\t\t */\n\t\tclose: function() {\n\t\t\tvar self = this;\n\t\t\tvar trigger = self.isOpen;\n\t\n\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t}\n\t\n\t\t\tself.isOpen = false;\n\t\t\tself.$dropdown.hide();\n\t\t\tself.setActiveOption(null);\n\t\t\tself.refreshState();\n\t\n\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Calculates and applies the appropriate\n\t\t * position of the dropdown.\n\t\t */\n\t\tpositionDropdown: function() {\n\t\t\tvar $control = this.$control;\n\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\toffset.top += $control.outerHeight(true);\n\t\n\t\t\tthis.$dropdown.css({\n\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\ttop   : offset.top,\n\t\t\t\tleft  : offset.left\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Resets / clears all selected items\n\t\t * from the control.\n\t\t *\n\t\t * @param {boolean} silent\n\t\t */\n\t\tclear: function(silent) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (!self.items.length) return;\n\t\t\tself.$control.children(':not(input)').remove();\n\t\t\tself.items = [];\n\t\t\tself.lastQuery = null;\n\t\t\tself.setCaret(0);\n\t\t\tself.setActiveItem(null);\n\t\t\tself.updatePlaceholder();\n\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\tself.refreshState();\n\t\t\tself.showInput();\n\t\t\tself.trigger('clear');\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for inserting an element\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {object} $el\n\t\t */\n\t\tinsertAtCaret: function($el) {\n\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\tif (caret === 0) {\n\t\t\t\tthis.$control.prepend($el);\n\t\t\t} else {\n\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t}\n\t\t\tthis.setCaret(caret + 1);\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the current selected item(s).\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tdeleteSelection: function(e) {\n\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t}\n\t\n\t\t\t// determine items that will be removed\n\t\t\tvalues = [];\n\t\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\tif (direction > 0) { caret++; }\n\t\n\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t}\n\t\t\t\tif (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// allow the callback to abort\n\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// perform removal\n\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\tself.setCaret(caret);\n\t\t\t}\n\t\t\twhile (values.length) {\n\t\t\t\tself.removeItem(values.pop());\n\t\t\t}\n\t\n\t\t\tself.showInput();\n\t\t\tself.positionDropdown();\n\t\t\tself.refreshOptions(true);\n\t\n\t\t\t// select previous option\n\t\t\tif (option_select) {\n\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\tif ($option_select.length) {\n\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Selects the previous / next item (depending\n\t\t * on the `direction` argument).\n\t\t *\n\t\t * > 0 - right\n\t\t * < 0 - left\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceSelection: function(direction, e) {\n\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tif (direction === 0) return;\n\t\t\tif (self.rtl) direction *= -1;\n\t\n\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t: selection.start === valueLength;\n\t\n\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\tif ($tail.length) {\n\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret left / right.\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceCaret: function(direction, e) {\n\t\t\tvar self = this, fn, $adj;\n\t\n\t\t\tif (direction === 0) return;\n\t\n\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\tif (self.isShiftDown) {\n\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\tif ($adj.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret to the specified index.\n\t\t *\n\t\t * @param {int} i\n\t\t */\n\t\tsetCaret: function(i) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\ti = self.items.length;\n\t\t\t} else {\n\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t}\n\t\n\t\t\tif(!self.isPending) {\n\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t// on mobile webkit devices\n\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tself.caretPos = i;\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control. Used while\n\t\t * items are being asynchronously created.\n\t\t */\n\t\tlock: function() {\n\t\t\tthis.close();\n\t\t\tthis.isLocked = true;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Re-enables user input on the control.\n\t\t */\n\t\tunlock: function() {\n\t\t\tthis.isLocked = false;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control completely.\n\t\t * While disabled, it cannot receive focus.\n\t\t */\n\t\tdisable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', true);\n\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\tself.isDisabled = true;\n\t\t\tself.lock();\n\t\t},\n\t\n\t\t/**\n\t\t * Enables the control so that it can respond\n\t\t * to focus and user input.\n\t\t */\n\t\tenable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', false);\n\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\tself.isDisabled = false;\n\t\t\tself.unlock();\n\t\t},\n\t\n\t\t/**\n\t\t * Completely destroys the control and\n\t\t * unbinds all event listeners so that it can\n\t\t * be garbage collected.\n\t\t */\n\t\tdestroy: function() {\n\t\t\tvar self = this;\n\t\t\tvar eventNS = self.eventNS;\n\t\t\tvar revertSettings = self.revertSettings;\n\t\n\t\t\tself.trigger('destroy');\n\t\t\tself.off();\n\t\t\tself.$wrapper.remove();\n\t\t\tself.$dropdown.remove();\n\t\n\t\t\tself.$input\n\t\t\t\t.html('')\n\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t.removeClass('selectized')\n\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t.show();\n\t\n\t\t\tself.$control_input.removeData('grow');\n\t\t\tself.$input.removeData('selectize');\n\t\n\t\t\t$(window).off(eventNS);\n\t\t\t$(document).off(eventNS);\n\t\t\t$(document.body).off(eventNS);\n\t\n\t\t\tdelete self.$input[0].selectize;\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for rendering \"item\" and\n\t\t * \"option\" templates, given the data.\n\t\t *\n\t\t * @param {string} templateName\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(templateName, data) {\n\t\t\tvar value, id, label;\n\t\t\tvar html = '';\n\t\t\tvar cache = false;\n\t\t\tvar self = this;\n\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\tcache = !!value;\n\t\t\t}\n\t\n\t\t\t// pull markup from cache if it exists\n\t\t\tif (cache) {\n\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t}\n\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// render markup\n\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\n\t\t\t// add mandatory attributes\n\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t}\n\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\thtml.attr('data-group', id);\n\t\t\t}\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t}\n\t\n\t\t\t// update cache\n\t\t\tif (cache) {\n\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t}\n\t\n\t\t\treturn html[0];\n\t\t},\n\t\n\t\t/**\n\t\t * Clears the render cache for a template. If\n\t\t * no template is given, clears all render\n\t\t * caches.\n\t\t *\n\t\t * @param {string} templateName\n\t\t */\n\t\tclearCache: function(templateName) {\n\t\t\tvar self = this;\n\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\tself.renderCache = {};\n\t\t\t} else {\n\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not to display the\n\t\t * create item prompt, given a user input.\n\t\t *\n\t\t * @param {string} input\n\t\t * @return {boolean}\n\t\t */\n\t\tcanCreate: function(input) {\n\t\t\tvar self = this;\n\t\t\tif (!self.settings.create) return false;\n\t\t\tvar filter = self.settings.createFilter;\n\t\t\treturn input.length\n\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t}\n\t\n\t});\n\t\n\t\n\tSelectize.count = 0;\n\tSelectize.defaults = {\n\t\toptions: [],\n\t\toptgroups: [],\n\t\n\t\tplugins: [],\n\t\tdelimiter: ',',\n\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\tpersist: true,\n\t\tdiacritics: true,\n\t\tcreate: false,\n\t\tcreateOnBlur: false,\n\t\tcreateFilter: null,\n\t\thighlight: true,\n\t\topenOnFocus: true,\n\t\tmaxOptions: 1000,\n\t\tmaxItems: null,\n\t\thideSelected: null,\n\t\taddPrecedence: false,\n\t\tselectOnTab: false,\n\t\tpreload: false,\n\t\tallowEmptyOption: false,\n\t\tcloseAfterSelect: false,\n\t\n\t\tscrollDuration: 60,\n\t\tloadThrottle: 300,\n\t\tloadingClass: 'loading',\n\t\n\t\tdataAttr: 'data-data',\n\t\toptgroupField: 'optgroup',\n\t\tvalueField: 'value',\n\t\tlabelField: 'text',\n\t\toptgroupLabelField: 'label',\n\t\toptgroupValueField: 'value',\n\t\tlockOptgroupOrder: false,\n\t\n\t\tsortField: '$order',\n\t\tsearchField: ['text'],\n\t\tsearchConjunction: 'and',\n\t\n\t\tmode: null,\n\t\twrapperClass: 'selectize-control',\n\t\tinputClass: 'selectize-input',\n\t\tdropdownClass: 'selectize-dropdown',\n\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\n\t\tdropdownParent: null,\n\t\n\t\tcopyClassesToDropdown: true,\n\t\n\t\t/*\n\t\tload                 : null, // function(query, callback) { ... }\n\t\tscore                : null, // function(search) { ... }\n\t\tonInitialize         : null, // function() { ... }\n\t\tonChange             : null, // function(value) { ... }\n\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\tonItemRemove         : null, // function(value) { ... }\n\t\tonClear              : null, // function() { ... }\n\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\tonOptionRemove       : null, // function(value) { ... }\n\t\tonOptionClear        : null, // function() { ... }\n\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\tonOptionGroupClear   : null, // function() { ... }\n\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\tonType               : null, // function(str) { ... }\n\t\tonDelete             : null, // function(values) { ... }\n\t\t*/\n\t\n\t\trender: {\n\t\t\t/*\n\t\t\titem: null,\n\t\t\toptgroup: null,\n\t\t\toptgroup_header: null,\n\t\t\toption: null,\n\t\t\toption_create: null\n\t\t\t*/\n\t\t}\n\t};\n\t\n\t\n\t$.fn.selectize = function(settings_user) {\n\t\tvar defaults             = $.fn.selectize.defaults;\n\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\tvar attr_data            = settings.dataAttr;\n\t\tvar field_label          = settings.labelField;\n\t\tvar field_value          = settings.valueField;\n\t\tvar field_optgroup       = settings.optgroupField;\n\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\n\t\t/**\n\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_textbox = function($input, settings_element) {\n\t\t\tvar i, n, values, option;\n\t\n\t\t\tvar data_raw = $input.attr(attr_data);\n\t\n\t\t\tif (!data_raw) {\n\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\toption = {};\n\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t}\n\t\t\t\tsettings_element.items = values;\n\t\t\t} else {\n\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Initializes selectize from a <select> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_select = function($input, settings_element) {\n\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\tvar options = settings_element.options;\n\t\t\tvar optionsMap = {};\n\t\n\t\t\tvar readData = function($el) {\n\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\t\n\t\t\tvar addOption = function($option, group) {\n\t\t\t\t$option = $($option);\n\t\n\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\n\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\n\t\t\t\toptionsMap[value] = option;\n\t\t\t\toptions.push(option);\n\t\n\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\tvar i, n, id, optgroup, $options;\n\t\n\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\tid = $optgroup.attr('label');\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t}\n\t\n\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\n\t\t\t$children = $input.children();\n\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\taddOption($children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\treturn this.each(function() {\n\t\t\tif (this.selectize) return;\n\t\n\t\t\tvar instance;\n\t\t\tvar $input = $(this);\n\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t}\n\t\n\t\t\tvar settings_element = {\n\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t'options'     : [],\n\t\t\t\t'optgroups'   : [],\n\t\t\t\t'items'       : []\n\t\t\t};\n\t\n\t\t\tif (tag_name === 'select') {\n\t\t\t\tinit_select($input, settings_element);\n\t\t\t} else {\n\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t}\n\t\n\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t});\n\t};\n\t\n\t$.fn.selectize.defaults = Selectize.defaults;\n\t$.fn.selectize.support = {\n\t\tvalidity: SUPPORTS_VALIDITY_API\n\t};\n\t\n\t\n\tSelectize.define('drag_drop', function(options) {\n\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\tif (this.settings.mode !== 'multi') return;\n\t\tvar self = this;\n\t\n\t\tself.lock = (function() {\n\t\t\tvar original = self.lock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.unlock = (function() {\n\t\t\tvar original = self.unlock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(this, arguments);\n\t\n\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t},\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('dropdown_header', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\ttitle         : 'Untitled',\n\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\n\t\t\thtml: function(data) {\n\t\t\t\treturn (\n\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</div>'\n\t\t\t\t);\n\t\t\t}\n\t\t}, options);\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('optgroup_columns', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\tequalizeWidth  : true,\n\t\t\tequalizeHeight : true\n\t\t}, options);\n\t\n\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, $option, $options, $optgroup;\n\t\n\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\n\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tvar getScrollbarWidth = function() {\n\t\t\tvar div;\n\t\t\tvar width = getScrollbarWidth.width;\n\t\t\tvar doc = document;\n\t\n\t\t\tif (typeof width === 'undefined') {\n\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\tdiv = div.firstChild;\n\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\tdoc.body.removeChild(div);\n\t\t\t}\n\t\t\treturn width;\n\t\t};\n\t\n\t\tvar equalizeSizes = function() {\n\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\n\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\tn = $optgroups.length;\n\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\n\t\t\tif (options.equalizeHeight) {\n\t\t\t\theight_max = 0;\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t}\n\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t}\n\t\n\t\t\tif (options.equalizeWidth) {\n\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t$optgroups.css({width: width});\n\t\t\t\tif (n > 1) {\n\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t}\n\t\n\t\n\t});\n\t\n\tSelectize.define('remove_button', function(options) {\n\t\toptions = $.extend({\n\t\t\t\tlabel     : '&times;',\n\t\t\t\ttitle     : 'Remove',\n\t\t\t\tclassName : 'remove',\n\t\t\t\tappend    : true\n\t\t\t}, options);\n\t\n\t\t\tvar singleClose = function(thisRef, options) {\n\t\n\t\t\t\toptions.className = 'remove-single';\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tvar multiClose = function(thisRef, options) {\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\tsingleClose(this, options);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tmultiClose(this, options);\n\t\t\t}\n\t});\n\t\n\t\n\tSelectize.define('restore_on_backspace', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions.text = options.text || function(option) {\n\t\t\treturn option[this.settings.labelField];\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, option;\n\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t});\n\t\n\n\treturn Selectize;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/dist/js/selectize.js\n// module id = 8\n// module chunks = 1","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.Sifter = factory();\n\t}\n}(this, function() {\n\n\t/**\n\t * Textually searches arrays and hashes of objects\n\t * by property (or multiple properties). Designed\n\t * specifically for autocomplete.\n\t *\n\t * @constructor\n\t * @param {array|object} items\n\t * @param {object} items\n\t */\n\tvar Sifter = function(items, settings) {\n\t\tthis.items = items;\n\t\tthis.settings = settings || {diacritics: true};\n\t};\n\n\t/**\n\t * Splits a search string into an array of individual\n\t * regexps to be used to match results.\n\t *\n\t * @param {string} query\n\t * @returns {array}\n\t */\n\tSifter.prototype.tokenize = function(query) {\n\t\tquery = trim(String(query || '').toLowerCase());\n\t\tif (!query || !query.length) return [];\n\n\t\tvar i, n, regex, letter;\n\t\tvar tokens = [];\n\t\tvar words = query.split(/ +/);\n\n\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\tregex = escape_regex(words[i]);\n\t\t\tif (this.settings.diacritics) {\n\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttokens.push({\n\t\t\t\tstring : words[i],\n\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t});\n\t\t}\n\n\t\treturn tokens;\n\t};\n\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * this.iterator(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t * @param {array|object} object\n\t */\n\tSifter.prototype.iterator = function(object, callback) {\n\t\tvar iterator;\n\t\tif (is_array(object)) {\n\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\titerator = function(callback) {\n\t\t\t\tfor (var key in this) {\n\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\titerator.apply(object, [callback]);\n\t};\n\n\t/**\n\t * Returns a function to be used to score individual results.\n\t *\n\t * Good matches will have a higher score than poor matches.\n\t * If an item is not a match, 0 will be returned by the function.\n\t *\n\t * @param {object|string} search\n\t * @param {object} options (optional)\n\t * @returns {function}\n\t */\n\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\tvar self, fields, tokens, token_count, nesting;\n\n\t\tself        = this;\n\t\tsearch      = self.prepareSearch(search, options);\n\t\ttokens      = search.tokens;\n\t\tfields      = search.options.fields;\n\t\ttoken_count = tokens.length;\n\t\tnesting     = search.options.nesting;\n\n\t\t/**\n\t\t * Calculates how close of a match the\n\t\t * given value is against a search token.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} token\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreValue = function(value, token) {\n\t\t\tvar score, pos;\n\n\t\t\tif (!value) return 0;\n\t\t\tvalue = String(value || '');\n\t\t\tpos = value.search(token.regex);\n\t\t\tif (pos === -1) return 0;\n\t\t\tscore = token.string.length / value.length;\n\t\t\tif (pos === 0) score += 0.5;\n\t\t\treturn score;\n\t\t};\n\n\t\t/**\n\t\t * Calculates the score of an object\n\t\t * against the search query.\n\t\t *\n\t\t * @param {object} token\n\t\t * @param {object} data\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreObject = (function() {\n\t\t\tvar field_count = fields.length;\n\t\t\tif (!field_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (field_count === 1) {\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn function(token, data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t}\n\t\t\t\treturn sum / field_count;\n\t\t\t};\n\t\t})();\n\n\t\tif (!token_count) {\n\t\t\treturn function() { return 0; };\n\t\t}\n\t\tif (token_count === 1) {\n\t\t\treturn function(data) {\n\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t};\n\t\t}\n\n\t\tif (search.options.conjunction === 'and') {\n\t\t\treturn function(data) {\n\t\t\t\tvar score;\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\tsum += score;\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Returns a function that can be used to compare two\n\t * results, for sorting purposes. If no sorting should\n\t * be performed, `null` will be returned.\n\t *\n\t * @param {string|object} search\n\t * @param {object} options\n\t * @return function(a,b)\n\t */\n\tSifter.prototype.getSortFunction = function(search, options) {\n\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n\t\tself   = this;\n\t\tsearch = self.prepareSearch(search, options);\n\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\n\t\t/**\n\t\t * Fetches the specified sort field value\n\t\t * from a search result item.\n\t\t *\n\t\t * @param  {string} name\n\t\t * @param  {object} result\n\t\t * @return {mixed}\n\t\t */\n\t\tget_field = function(name, result) {\n\t\t\tif (name === '$score') return result.score;\n\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t};\n\n\t\t// parse options\n\t\tfields = [];\n\t\tif (sort) {\n\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// the \"$score\" field is implied to be the primary\n\t\t// sort field, unless it's manually specified\n\t\tif (search.query) {\n\t\t\timplicit_score = true;\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\timplicit_score = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (implicit_score) {\n\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmultipliers = [];\n\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t}\n\n\t\t// build function\n\t\tfields_count = fields.length;\n\t\tif (!fields_count) {\n\t\t\treturn null;\n\t\t} else if (fields_count === 1) {\n\t\t\tfield = fields[0].field;\n\t\t\tmultiplier = multipliers[0];\n\t\t\treturn function(a, b) {\n\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\tget_field(field, a),\n\t\t\t\t\tget_field(field, b)\n\t\t\t\t);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(a, b) {\n\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t\tif (result) return result;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Parses a search query and returns an object\n\t * with tokens and fields ready to be populated\n\t * with results.\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.prepareSearch = function(query, options) {\n\t\tif (typeof query === 'object') return query;\n\n\t\toptions = extend({}, options);\n\n\t\tvar option_fields     = options.fields;\n\t\tvar option_sort       = options.sort;\n\t\tvar option_sort_empty = options.sort_empty;\n\n\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n\t\treturn {\n\t\t\toptions : options,\n\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\ttokens  : this.tokenize(query),\n\t\t\ttotal   : 0,\n\t\t\titems   : []\n\t\t};\n\t};\n\n\t/**\n\t * Searches through all items and returns a sorted array of matches.\n\t *\n\t * The `options` parameter can contain:\n\t *\n\t *   - fields {string|array}\n\t *   - sort {array}\n\t *   - score {function}\n\t *   - filter {bool}\n\t *   - limit {integer}\n\t *\n\t * Returns an object containing:\n\t *\n\t *   - options {object}\n\t *   - query {string}\n\t *   - tokens {array}\n\t *   - total {int}\n\t *   - items {array}\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.search = function(query, options) {\n\t\tvar self = this, value, score, search, calculateScore;\n\t\tvar fn_sort;\n\t\tvar fn_score;\n\n\t\tsearch  = this.prepareSearch(query, options);\n\t\toptions = search.options;\n\t\tquery   = search.query;\n\n\t\t// generate result scoring function\n\t\tfn_score = options.score || self.getScoreFunction(search);\n\n\t\t// perform search and sort\n\t\tif (query.length) {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tscore = fn_score(item);\n\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t});\n\t\t}\n\n\t\tfn_sort = self.getSortFunction(search, options);\n\t\tif (fn_sort) search.items.sort(fn_sort);\n\n\t\t// apply limits\n\t\tsearch.total = search.items.length;\n\t\tif (typeof options.limit === 'number') {\n\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t}\n\n\t\treturn search;\n\t};\n\n\t// utilities\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\tvar cmp = function(a, b) {\n\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t}\n\t\ta = asciifold(String(a || ''));\n\t\tb = asciifold(String(b || ''));\n\t\tif (a > b) return 1;\n\t\tif (b > a) return -1;\n\t\treturn 0;\n\t};\n\n\tvar extend = function(a, b) {\n\t\tvar i, n, k, object;\n\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\tobject = arguments[i];\n\t\t\tif (!object) continue;\n\t\t\tfor (k in object) {\n\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\ta[k] = object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t};\n\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @param  {Boolean} nesting Handle nesting or not\n\t * @return {Object}          The resolved property value\n\t */\n\tvar getattr = function(obj, name, nesting) {\n\t    if (!obj || !name) return;\n\t    if (!nesting) return obj[name];\n\t    var names = name.split(\".\");\n\t    while(names.length && (obj = obj[names.shift()]));\n\t    return obj;\n\t};\n\n\tvar trim = function(str) {\n\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t};\n\n\tvar escape_regex = function(str) {\n\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t};\n\n\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t};\n\n\tvar DIACRITICS = {\n\t\t'a': '[a]',\n\t\t'b': '[bB]',\n\t\t'c': '[cCc]',\n\t\t'd': '[dDd]',\n\t\t'e': '[e]',\n\t\t'f': '[f]',\n\t\t'g': '[g]',\n\t\t'h': '[h]',\n\t\t'i': '[iiI]',\n\t\t'j': '[j]',\n\t\t'k': '[k]',\n\t\t'l': '[l]',\n\t\t'n': '[nNn]',\n\t\t'o': '[o]',\n\t\t'p': '[p]',\n\t\t'q': '[qq]',\n\t\t'r': '[r]',\n\t\t's': '[sSs]',\n\t\t't': '[t]',\n\t\t'u': '[u]',\n\t\t'v': '[v]',\n\t\t'w': '[w]',\n\t\t'x': '[x]',\n\t\t'y': '[y]',\n\t\t'z': '[z]'\n\t};\n\n\tvar asciifold = (function() {\n\t\tvar i, n, k, chunk;\n\t\tvar foreignletters = '';\n\t\tvar lookup = {};\n\t\tfor (k in DIACRITICS) {\n\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\tforeignletters += chunk;\n\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\treturn function(str) {\n\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\treturn lookup[foreignletter];\n\t\t\t}).toLowerCase();\n\t\t};\n\t})();\n\n\n\t// export\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\treturn Sifter;\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/sifter/sifter.js\n// module id = 9\n// module chunks = 1","/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MicroPlugin = factory();\n\t}\n}(this, function() {\n\tvar MicroPlugin = {};\n\n\tMicroPlugin.mixin = function(Interface) {\n\t\tInterface.plugins = {};\n\n\t\t/**\n\t\t * Initializes the listed plugins (with options).\n\t\t * Acceptable formats:\n\t\t *\n\t\t * List (without options):\n\t\t *   ['a', 'b', 'c']\n\t\t *\n\t\t * List (with options):\n\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t *\n\t\t * Hash (with options):\n\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t *\n\t\t * @param {mixed} plugins\n\t\t */\n\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\tvar i, n, key;\n\t\t\tvar self  = this;\n\t\t\tvar queue = [];\n\n\t\t\tself.plugins = {\n\t\t\t\tnames     : [],\n\t\t\t\tsettings  : {},\n\t\t\t\trequested : {},\n\t\t\t\tloaded    : {}\n\t\t\t};\n\n\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (plugins) {\n\t\t\t\tfor (key in plugins) {\n\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (queue.length) {\n\t\t\t\tself.require(queue.shift());\n\t\t\t}\n\t\t};\n\n\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\tvar self    = this;\n\t\t\tvar plugins = self.plugins;\n\t\t\tvar plugin  = Interface.plugins[name];\n\n\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t}\n\n\t\t\tplugins.requested[name] = true;\n\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\tplugins.names.push(name);\n\t\t};\n\n\t\t/**\n\t\t * Initializes a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t */\n\t\tInterface.prototype.require = function(name) {\n\t\t\tvar self = this;\n\t\t\tvar plugins = self.plugins;\n\n\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t}\n\t\t\t\tself.loadPlugin(name);\n\t\t\t}\n\n\t\t\treturn plugins.loaded[name];\n\t\t};\n\n\t\t/**\n\t\t * Registers a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\tInterface.define = function(name, fn) {\n\t\t\tInterface.plugins[name] = {\n\t\t\t\t'name' : name,\n\t\t\t\t'fn'   : fn\n\t\t\t};\n\t\t};\n\t};\n\n\tvar utils = {\n\t\tisArray: Array.isArray || function(vArg) {\n\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t}\n\t};\n\n\treturn MicroPlugin;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/microplugin/src/microplugin.js\n// module id = 10\n// module chunks = 1","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar profession,\n  elementData,\n  $element;\n\nvar defaultSettings = {\n  // plugins: ['remove_button'],\n  // delimiter: ',',\n  // persist: false,\n  // create: true,\n  // render: {\n  //   option_create: function (item) {\n  //     return `<div class=\"create\">${item.input}</div>`;\n  //   }\n  // }\n};\n\nprofession = (element) => {\n  $element = $(element);\n  elementData = $element.data();\n  var selectizeSettings = $.extend({}, defaultSettings, elementData);\n  $(element).selectize(defaultSettings);\n};\n\nexport default profession;\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/profession.js","'use strict'\n\nimport $ from 'jquery'\nrequire('selectize')\n\nconst [suggest] = [{\n  plugins: ['remove_button']\n  , maxItems: 5\n  , valueField: 'id'\n  , labelField: 'name'\n  , searchField: 'name'\n  , create: false\n  // , hideSelected: true\n  , render: {\n    item: templateItem\n    , option: templateOption\n  }\n  , load: loadUsers\n}]\n\nvar tagger = (element) => {\n    var type = $(element).data('taggerType')\n    switch (type) {\n        case 'suggest':\n            $(element).selectize(suggest)\n    }\n}\n\nfunction templateItem (item, escape) {\n  let name = item.name ? escape(item.name) : ''\n  return `<div>${name}</div>`\n}\nfunction templateOption (item, escape) {\n  let name = item.name ? escape(item.name) : ''\n  return `<div class=\"item-float-notification\">\n    <span><img src=\"${item.img}\" alt=\"${name}\"></span>\n    <span>${name}</span>\n  </div>`\n}\n\nfunction loadUsers(query, callback) {\n    var options = this.$wrapper.prev().data();\n    if (!query.length) {\n        return callback()\n    }\n    $.ajax({\n        url: options.url,\n        type: 'GET',\n        data: {\n            criteria: query\n        },\n        error: function () {\n            callback()\n        },\n        success: function (res) {\n            callback(res.users);\n        }\n    })\n}\n\n\nexport default tagger\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/tagger.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar taxonomy,\n    elementData,\n    $element,\n    TemplateEngine = require('./TemplateEngine');\n\nvar defaultSettings = {\n    plugins: ['remove_button'],\n    maxItems: 5,\n    valueField: 'url',\n    labelField: 'name',\n    searchField: 'name',\n    create: false,\n    render: {\n        'item': renderItem,\n        'option': renderOption\n    },\n    load: loadItems\n};\n\nvar defaultTemplates = {\n    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n};\n\nfunction renderItem(item){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.item;\n    var elementData = $element.data();\n    if('templateItem' in elementData && $(elementData.templateItem).length){\n        renderTemplate = $(elementData.templateItem).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n}\n\nfunction renderOption(item, escape){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.option;\n    var elementData = $element.data();\n    if('templateOption' in elementData && $(elementData.templateOption).length){\n        renderTemplate = $(elementData.templateOption).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n\n}\n\nfunction loadItems(query, callback) {\n\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function(res){\n            callback(res);\n        }\n    });\n}\n\ntaxonomy = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, defaultSettings, elementData);\n    $(element).selectize(selectizeSettings);\n};\n\nexport default taxonomy\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/taxonomy.js"],"sourceRoot":""}