{"version":3,"sources":["webpack:///1.1.js","webpack:///./asyncModules ^\\.\\/.*$","webpack:///./asyncModules/TemplateEngine.js","webpack:///./asyncModules/ajaxselect.js","webpack:////projects/rede_gsti/resources/~/selectize/dist/js/selectize.js","webpack:////projects/rede_gsti/resources/~/selectize/~/sifter/sifter.js","webpack:////projects/rede_gsti/resources/~/selectize/~/microplugin/src/microplugin.js","webpack:///./asyncModules/dropzoneUploader.js","webpack:///./asyncModules/job.js","webpack:///./asyncModules/profession.js","webpack:///./asyncModules/steps.js","webpack:///./components/geography.js","webpack:///./components/customform/input.js","webpack:///./components/customform/toggle-select.js","webpack:///./components/customform/toggle-check.js","webpack:///./vendor/jquery.steps.js","webpack:///./vendor/jquery.validate.js","webpack:///./vendor/jquery.formset.js","webpack:///./asyncModules/tagger.js","webpack:///./asyncModules/taxonomy.js"],"names":["webpackJsonp","module","exports","__webpack_require__","webpackContext","req","webpackContextResolve","map","Error","./TemplateEngine","./TemplateEngine.js","./ajaxselect","./ajaxselect.js","./dropzoneUploader","./dropzoneUploader.js","./index","./index.js","./job","./job.js","./profession","./profession.js","./steps","./steps.js","./tagger","./tagger.js","./taxonomy","./taxonomy.js","keys","Object","resolve","id","html","options","result","re","reExp","code","cursor","add","line","js","match","replace","exec","slice","index","length","substr","Function","apply","err","console","error","message","_interopRequireDefault","obj","__esModule","default","templateItem","item","escape","name","templateOption","template","img","log","loadUsers","query","callback","this","$wrapper","prev","data","_data","settings","searchField","_jquery2","ajax","url","type","success","res","items","defineProperty","value","_jquery","elementData","$element","suggest","valueField","labelField","create","highlight","render","option","load","ajaxselect","element","selectizeSettings","extend","selectize","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","$","Sifter","MicroPlugin","pattern","regex","RegExp","node","skip","nodeType","pos","search","spannode","document","createElement","className","middlebit","splitText","middleclone","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","tagName","i","each","fn","removeHighlight","find","firstChild","nodeName","parent","normalize","end","MicroEvent","prototype","on","event","fct","_events","push","off","n","arguments","splice","indexOf","trigger","Array","call","mixin","destObject","props","IS_MAC","navigator","userAgent","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_P","KEY_RIGHT","KEY_DOWN","KEY_N","KEY_BACKSPACE","KEY_DELETE","KEY_SHIFT","KEY_CMD","KEY_CTRL","KEY_TAB","TAG_SELECT","TAG_INPUT","SUPPORTS_VALIDITY_API","window","validity","isset","object","hash_key","escape_html","str","hook","before","self","method","original","after","once","called","debounce","delay","timeout","args","clearTimeout","setTimeout","debounce_events","types","event_args","hasOwnProperty","watchChildEvent","$parent","selector","e","child","target","currentTarget","getSelection","input","start","selectionStart","selectionEnd","selection","focus","sel","createRange","selLen","text","moveStart","transferStyles","$from","$to","properties","styles","css","measureString","$test","position","top","left","width","padding","whiteSpace","appendTo","remove","autoGrow","$input","currentWidth","update","keyCode","printable","placeholder","shift","character","metaKey","altKey","force","val","toLowerCase","substring","shiftKey","String","fromCharCode","toUpperCase","attr","triggerHandler","domToString","d","tmp","innerHTML","logError","component","explanation","group","groupEnd","Selectize","dir","computedStyle","getComputedStyle","getPropertyValue","currentStyle","direction","parents","order","tabIndex","tagType","rtl","eventNS","count","highlightedValue","isOpen","isDisabled","isRequired","is","isInvalid","isLocked","isFocused","isInputHidden","isSetup","isShiftDown","isCmdDown","isCtrlDown","ignoreFocus","ignoreBlur","ignoreHover","hasOptions","currentResults","lastValue","caretPos","loading","loadedSearches","$activeOption","$activeItems","optgroups","userOptions","renderCache","onSearchChange","loadThrottle","sifter","diacritics","registerOption","registerOptionGroup","mode","maxItems","hideSelected","initializePlugins","plugins","setupCallbacks","setupTemplates","setup","$control","$control_input","$dropdown","$dropdown_content","$dropdown_parent","inputMode","classes","classes_plugins","inputId","$window","$document","addClass","wrapperClass","inputClass","dropdownParent","dropdownClass","hide","dropdownContentClass","copyClassesToDropdown","style","names","join","splitOn","delimiter","delimiterEscaped","onOptionHover","onOptionSelect","onItemSelect","mousedown","onMouseDown","click","onClick","stopPropagation","keydown","onKeyDown","keyup","onKeyUp","keypress","onKeyPress","resize","positionDropdown","blur","onBlur","onFocus","paste","onPaste","has","revertSettings","$children","children","detach","tabindex","isArray","setValue","preventDefault","refreshState","updateOriginalInput","refreshItems","updatePlaceholder","disable","onChange","preload","field_label","field_optgroup","optgroupLabelField","templates","optgroup","optgroup_header","option_create","key","callbacks","initialize","change","item_add","item_remove","clear","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","defaultPrevented","isDefaultPrevented","close","open","setActiveItem","isFull","pastedText","splitInput","trim","split","createItem","which","selectAll","ctrlKey","$next","getAdjacentOption","setActiveOption","$prev","advanceSelection","selectOnTab","deleteSelection","refreshOptions","wasFocused","showInput","openOnFocus","dest","activeElement","deactivate","setTextboxValue","setCaret","createOnBlur","$target","hasClass","closeAfterSelect","lastQuery","addItem","getOption","loadingClass","results","Math","max","addOption","removeClass","changed","getValue","silent","events","addItems","$item","eventName","idx","begin","swap","$last","hideInput","$option","scroll","animate","height_menu","height_item","y","scroll_top","scroll_bottom","height","outerHeight","scrollTop","offset","stop","scrollDuration","opacity","getScoreFunction","getSearchOptions","sort","sortField","field","fields","conjunction","searchConjunction","calculateScore","score","triggerDropdown","j","k","groups","groups_order","option_html","html_children","has_create_option","$active","$active_before","$create","active_before","maxOptions","min","optgroupField","createDocumentFragment","lockOptgroupOrder","a","b","a_order","$order","b_order","dom","tokens","canCreate","prepend","addPrecedence","optgroupValueField","addOptionGroup","removeOptionGroup","clearOptionGroups","updateOption","$item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","replaceWith","removeOption","removeItem","clearOptions","getElementWithValue","$options","eq","$els","getAttribute","values","isPending","value_next","wasFull","insertAtCaret","persist","caret","lock","unlock","output","refreshValidityState","refreshClasses","invalid","prop","toggleClass","isEmptyObject","opts","label","removeAttr","visibility","display","outerWidth","$el","option_select","$option_select","$tail","onDelete","pop","tail","valueLength","cursorAtEdge","advanceCaret","$adj","$child","append","enable","destroy","show","removeData","body","templateName","cache","clearCache","filter","createFilter","defaults","allowEmptyOption","dataAttr","settings_user","attr_data","field_value","field_optgroup_label","field_optgroup_value","init_textbox","settings_element","data_raw","JSON","parse","init_select","optionsMap","readData","arr","addGroup","$optgroup","instance","tag_name","support","define","sortable","forcePlaceholderSize","disabled","ui","helper","overflow","active","title","headerClass","titleRowClass","labelClass","closeClass","$dropdown_header","equalizeWidth","equalizeHeight","closest","next","getScrollbarWidth","div","doc","offsetWidth","clientWidth","removeChild","equalizeSizes","height_max","width_last","width_parent","$optgroups","innerWidth","round","singleClose","thisRef","html_container","html_element","context","render_item","multiClose","tokenize","letter","words","escape_regex","DIACRITICS","string","iterator","is_array","forEach","token_count","nesting","prepareSearch","scoreValue","token","scoreObject","field_count","getattr","sum","getSortFunction","fields_count","multiplier","multipliers","get_field","implicit_score","sort_empty","unshift","cmp","option_fields","option_sort","option_sort_empty","total","fn_sort","fn_score","limit","asciifold","toString","c","f","g","h","l","o","p","q","r","s","t","u","v","w","x","z","chunk","foreignletters","lookup","charAt","regexp","foreignletter","Interface","queue","requested","loaded","utils","require","loadPlugin","plugin","vArg","_module","cbDragOver","dropZone","cbDragLeave","cbDrop","file","originalEvent","dataTransfer","files","readFile","cbChangeFile","cbTriggerFile","$altInput","defaultImage","fakeLoad","dragover","dragleave","drop","src","createPreview","getCanvasImage","reader","FileReader","onload","readAsDataURL","image","imgWidth","imgHeight","canvas","ctx","getContext","drawImage","toDataURL","filename","newURL","fileName","lastIndexOf","filePath","job","defaultSettings","profession","_profession","_profession2","_componentsGeography","_componentsGeography2","_componentsCustomformInput","_componentsCustomformInput2","_componentsCustomformToggleSelect","_componentsCustomformToggleSelect2","_componentsCustomformToggleCheck","_componentsCustomformToggleCheck2","steps","$root","$form","validate","errorPlacement","errorClass","validClass","unhighlight","submitHandler","form","valid","submit","headerTag","bodyTag","enableAllSteps","titleTemplate","enablePagination","startIndex","onInit","currentIndex","tooltip","formsetLength","professionLength","geographyLength","$containerForm","dataFormset","formset","prefix","formCssClass","addCssClass","addText","deleteTemplate","onStepChanging","newIndex","ignore","_item","_option","dataType","geography","inputResize","$this","siblings","scrollHeight","select","dataTarget","$select","check","$check","jQuery","addStepToCache","wizard","step","getSteps","analyzeData","state","stepTitles","stepContents","throwError","_missingCorrespondingElementErrorMessage","stepCount","saveState","cookie","savedState","_cookiePrefix","getUniqueId","savedIndex","parseInt","isNaN","content","modeData","contentMode","getValidEnumValue","contentUrl","contentLoaded","stepModel","cancel","decreaseCurrentIndexBy","decreaseBy","eventNamespace","getEventNamespace","unbind","clearFixCssClass","contents","_removeAria","empty","wizardSubstitute","format","get","wizardId","_id","finishStep","currentStep","getStepAnchor","uniqueId","_tabSuffix","getStepPanel","_tabpanelSuffix","getStepTitle","_titleSuffix","getOptions","getState","getStep","_indexOutOfRangeErrorMessage","concat","_uniqueId","enumType","keyOrValue","validateArgument","goToNextStep","paginationClick","increaseCurrentIndexBy","goToPreviousStep","goToStep","forceMoveForward","oldIndex","saveCurrentStateToCookie","refreshStepNavigation","refreshPagination","loadAsyncContent","startTransitionEffect","increaseBy","transitionElement","registerEvents","autoFocus","insertStep","insertStepToCache","contentContainer","header","renderBody","renderTitle","refreshSteps","keyUpHandler","suppressPaginationOnFocus","keyCodes","right","enableContentCache","iframe","async","currentStepContent","_aria","renderTemplate","loadingTemplate","labels","done","anchor","_enableAria","paginationClickHandler","href","finish","previous","enableFinishButton","showFinishButtonAlways","_showAria","currentOrNewStepAnchor","currentInfo","current","oldStepAnchor","_selectAria","uniqueStepId","uniqueBodyId","uniqueHeaderId","bind","onCanceled","onContentLoaded","onFinishing","onFinished","onStepChanged","enableKeyNavigation","removeStep","removeStepFromCache","first","wrapperTemplate","orientation","stepsOrientation","verticalCssClass","vertical","contentWrapper","contentContainerTag","stepsWrapper","stepsContainerTag","cssClass","renderPagination","pagination","buttonTemplate","buttons","enableCancelButton","actionContainerTag","substitutes","matches","stepCollection","stepItem","stepClickHandler","doneCallback","effect","transitionEffect","effectSpeed","transitionEffectSpeed","newStep","fade","slide","promise","slideLeft","posFadeOut","posFadeIn","when","argumentName","argumentValue","formattedString","getCurrentIndex","getCurrentStep","insert","setStep","horizontal","none","preloadContent","priorIndex","debug","warn","validator","onsubmit","submitButton","cancelSubmit","handle","hidden","currentForm","pendingRequest","formSubmitted","focusInvalid","errorList","rules","command","argument","staticRules","existingRules","param","filtered","normalizeRule","messages","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","blank","filled","unchecked","init","source","params","makeArray","constructor","pendingClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignoreTitle","onfocusin","lastActive","hideThese","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","excludedKeys","elementValue","inArray","onclick","findByName","setDefaults","email","date","dateISO","number","digits","equalTo","maxlength","minlength","rangelength","range","autoCreateRanges","delegate","eventType","labelContainer","errorContext","containers","valueCache","pending","reset","invalidHandler","checkForm","errorMap","showErrors","prepareForm","elements","currentElements","_element","rs","cleanElement","clean","checkElement","validationTargetFor","prepareElement","testgroup","numberOfInvalids","toHide","errors","successList","grep","defaultShowErrors","resetForm","hideErrors","resetElements","objectLength","not","addWrapper","size","findLastActive","rulesCache","hasAttribute","resetInternals","toShow","badInput","rule","rulesCount","dependencyMismatch","normalizer","TypeError","parameters","methods","formatAndAdd","customDataMessage","customMessage","m","findDefined","defaultMessage","theregex","toToggle","wrapper","showLabel","validElements","invalidElements","place","errorID","elementID","idOrName","describedBy","wrap","insertAfter","escapeCssMeta","describer","getLength","depend","dependTypes","boolean","function","startRequest","stopRequest","previousValue","old","classRuleSettings","creditcard","addClassRules","normalizeAttributeRule","Number","depends","keepRule","parameter","isFunction","parts","transformed","addMethod","Date","errorMessage","supportedTypes","notSupported","optionDataString","originalMessage","port","response","pendingRequests","ajaxPrefilter","_","xhr","abort","ajaxSettings","flatExtraClasses","extraClasses","totalForms","maxForms","minForms","childElementSelector","$$","applyExtraClasses","row","ndx","updateElementIndex","elem","idRegex","replacement","hasChildElements","showAddButton","showDeleteLinks","insertDeleteLink","delCssSelector","deleteCssClass","addCssSelector","deleteText","forms","del","buttonRow","formCount","removed","addButton","hideAddButton","formTemplate","clone","keepFieldValues","numCols","insertBefore","added","criteria","users","tagger","renderItem","defaultTemplates","TemplateEngine","renderOption","loadItems","taxonomy"],"mappings":"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","file":"1.1.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./TemplateEngine\": 8,\n\t\t\"./TemplateEngine.js\": 8,\n\t\t\"./ajaxselect\": 9,\n\t\t\"./ajaxselect.js\": 9,\n\t\t\"./dropzoneUploader\": 13,\n\t\t\"./dropzoneUploader.js\": 13,\n\t\t\"./index\": 6,\n\t\t\"./index.js\": 6,\n\t\t\"./job\": 14,\n\t\t\"./job.js\": 14,\n\t\t\"./profession\": 15,\n\t\t\"./profession.js\": 15,\n\t\t\"./steps\": 16,\n\t\t\"./steps.js\": 16,\n\t\t\"./tagger\": 24,\n\t\t\"./tagger.js\": 24,\n\t\t\"./taxonomy\": 25,\n\t\t\"./taxonomy.js\": 25\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 7;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function (html, options) {\n\t\tvar re = /<%(.+?)%>/g,\n\t\t    reExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,\n\t\t    code = 'with(obj) { var r=[];\\n',\n\t\t    cursor = 0,\n\t\t    result;\n\t\tvar add = function add(line, js) {\n\t\t\tjs ? code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n' : code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '';\n\t\t\treturn add;\n\t\t};\n\t\tvar match = re.exec(html);\n\t\twhile (match) {\n\t\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\t\tcursor = match.index + match[0].length;\n\t\t\tmatch = re.exec(html);\n\t\t}\n\t\tadd(html.substr(cursor, html.length - cursor));\n\t\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\t\ttry {\n\t\t\tresult = new Function('obj', code).apply(options, [options]);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\");\n\t\t}\n\t\treturn result;\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar elementData, $element;\n\t\n\tvar suggest = {\n\t    valueField: 'id',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    highlight: false,\n\t    render: {\n\t        item: templateItem,\n\t        option: templateOption\n\t    },\n\t    load: loadUsers\n\t};\n\t\n\tvar ajaxselect = function ajaxselect(element) {\n\t    $element = (0, _jquery2['default'])(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = _jquery2['default'].extend({}, suggest, elementData);\n\t    (0, _jquery2['default'])(element).selectize(selectizeSettings);\n\t};\n\t\n\tfunction templateItem(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div>' + name + '</div>';\n\t}\n\tfunction templateOption(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    var template = '<div class=\"item-float-notification\">\\n      <span><img src=\"' + item.img + '\" alt=\"' + name + '\"></span>\\n      ' + name + '\\n    </div>';\n\t    console.log(template);\n\t    return template;\n\t}\n\t\n\tfunction loadUsers(query, callback) {\n\t    var options = this.$wrapper.prev().data();\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t    console.log(_data);\n\t\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        type: 'GET',\n\t        data: _data,\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res.items);\n\t        }\n\t    });\n\t}\n\t\n\texports['default'] = ajaxselect;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * selectize.js (v0.12.4)\n\t * Copyright (c) 2013–2015 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t/*jshint curly:false */\n\t/*jshint browser:true */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2),__webpack_require__(11),__webpack_require__(12)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t\t} else {\n\t\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t\t}\n\t}(this, function($, Sifter, MicroPlugin) {\n\t\t'use strict';\n\t\n\t\tvar highlight = function($element, pattern) {\n\t\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\t\n\t\t\tvar highlight = function(node) {\n\t\t\t\tvar skip = 0;\n\t\t\t\tif (node.nodeType === 3) {\n\t\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\t\tskip = 1;\n\t\t\t\t\t}\n\t\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn skip;\n\t\t\t};\n\t\t\n\t\t\treturn $element.each(function() {\n\t\t\t\thighlight(this);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * removeHighlight fn copied from highlight v5 and\n\t\t * edited to remove with() and pass js strict mode\n\t\t */\n\t\t$.fn.removeHighlight = function() {\n\t\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\t\tvar parent = this.parentNode;\n\t\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\t\tparent.normalize();\n\t\t\t}).end();\n\t\t};\n\t\t\n\t\t\n\t\tvar MicroEvent = function() {};\n\t\tMicroEvent.prototype = {\n\t\t\ton: function(event, fct){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\t\tthis._events[event].push(fct);\n\t\t\t},\n\t\t\toff: function(event, fct){\n\t\t\t\tvar n = arguments.length;\n\t\t\t\tif (n === 0) return delete this._events;\n\t\t\t\tif (n === 1) return delete this._events[event];\n\t\t\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t\t},\n\t\t\ttrigger: function(event /* , args... */){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t\t *\n\t\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t\t *\n\t\t * @param {object} the object which will support MicroEvent\n\t\t */\n\t\tMicroEvent.mixin = function(destObject){\n\t\t\tvar props = ['on', 'off', 'trigger'];\n\t\t\tfor (var i = 0; i < props.length; i++){\n\t\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\t\n\t\tvar KEY_A         = 65;\n\t\tvar KEY_COMMA     = 188;\n\t\tvar KEY_RETURN    = 13;\n\t\tvar KEY_ESC       = 27;\n\t\tvar KEY_LEFT      = 37;\n\t\tvar KEY_UP        = 38;\n\t\tvar KEY_P         = 80;\n\t\tvar KEY_RIGHT     = 39;\n\t\tvar KEY_DOWN      = 40;\n\t\tvar KEY_N         = 78;\n\t\tvar KEY_BACKSPACE = 8;\n\t\tvar KEY_DELETE    = 46;\n\t\tvar KEY_SHIFT     = 16;\n\t\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\t\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\t\tvar KEY_TAB       = 9;\n\t\t\n\t\tvar TAG_SELECT    = 1;\n\t\tvar TAG_INPUT     = 2;\n\t\t\n\t\t// for now, android support in general is too spotty to support validity\n\t\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\t\n\t\t\n\t\tvar isset = function(object) {\n\t\t\treturn typeof object !== 'undefined';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Converts a scalar to its best string representation\n\t\t * for hash keys and HTML attribute values.\n\t\t *\n\t\t * Transformations:\n\t\t *   'str'     -> 'str'\n\t\t *   null      -> ''\n\t\t *   undefined -> ''\n\t\t *   true      -> '1'\n\t\t *   false     -> '0'\n\t\t *   0         -> '0'\n\t\t *   1         -> '1'\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {string|null}\n\t\t */\n\t\tvar hash_key = function(value) {\n\t\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\t\treturn value + '';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes a string for use within HTML.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_html = function(str) {\n\t\t\treturn (str + '')\n\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes \"$\" characters in replacement strings.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_replace = function(str) {\n\t\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t\t};\n\t\t\n\t\tvar hook = {};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked before the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.before = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked after the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.after = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tvar result = original.apply(self, arguments);\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be invoked once.\n\t\t *\n\t\t * @param {function} fn\n\t\t * @returns {function}\n\t\t */\n\t\tvar once = function(fn) {\n\t\t\tvar called = false;\n\t\t\treturn function() {\n\t\t\t\tif (called) return;\n\t\t\t\tcalled = true;\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be called once\n\t\t * every `delay` milliseconds (invoked on the falling edge).\n\t\t *\n\t\t * @param {function} fn\n\t\t * @param {int} delay\n\t\t * @returns {function}\n\t\t */\n\t\tvar debounce = function(fn, delay) {\n\t\t\tvar timeout;\n\t\t\treturn function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\twindow.clearTimeout(timeout);\n\t\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\t\tfn.apply(self, args);\n\t\t\t\t}, delay);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Debounce all fired events types listed in `types`\n\t\t * while executing the provided `fn`.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {array} types\n\t\t * @param {function} fn\n\t\t */\n\t\tvar debounce_events = function(self, types, fn) {\n\t\t\tvar type;\n\t\t\tvar trigger = self.trigger;\n\t\t\tvar event_args = {};\n\t\t\n\t\t\t// override trigger method\n\t\t\tself.trigger = function() {\n\t\t\t\tvar type = arguments[0];\n\t\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\t\tevent_args[type] = arguments;\n\t\t\t\t} else {\n\t\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t// invoke provided function\n\t\t\tfn.apply(self, []);\n\t\t\tself.trigger = trigger;\n\t\t\n\t\t\t// trigger queued events\n\t\t\tfor (type in event_args) {\n\t\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t\t *\n\t\t * @param {object} $parent - Parent element to listen on.\n\t\t * @param {string} event - Event name.\n\t\t * @param {string} selector - Descendant selector to filter by.\n\t\t * @param {function} fn - Event handler.\n\t\t */\n\t\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t\t$parent.on(event, selector, function(e) {\n\t\t\t\tvar child = e.target;\n\t\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\t\tchild = child.parentNode;\n\t\t\t\t}\n\t\t\t\te.currentTarget = child;\n\t\t\t\treturn fn.apply(this, [e]);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * Determines the current selection within a text input control.\n\t\t * Returns an object containing:\n\t\t *   - start\n\t\t *   - length\n\t\t *\n\t\t * @param {object} input\n\t\t * @returns {object}\n\t\t */\n\t\tvar getSelection = function(input) {\n\t\t\tvar result = {};\n\t\t\tif ('selectionStart' in input) {\n\t\t\t\tresult.start = input.selectionStart;\n\t\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t\t} else if (document.selection) {\n\t\t\t\tinput.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\t\tresult.start = sel.text.length - selLen;\n\t\t\t\tresult.length = selLen;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Copies CSS properties from one element to another.\n\t\t *\n\t\t * @param {object} $from\n\t\t * @param {object} $to\n\t\t * @param {array} properties\n\t\t */\n\t\tvar transferStyles = function($from, $to, properties) {\n\t\t\tvar i, n, styles = {};\n\t\t\tif (properties) {\n\t\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstyles = $from.css();\n\t\t\t}\n\t\t\t$to.css(styles);\n\t\t};\n\t\t\n\t\t/**\n\t\t * Measures the width of a string within a\n\t\t * parent element (in pixels).\n\t\t *\n\t\t * @param {string} str\n\t\t * @param {object} $parent\n\t\t * @returns {int}\n\t\t */\n\t\tvar measureString = function(str, $parent) {\n\t\t\tif (!str) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\n\t\t\tvar $test = $('<test>').css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: -99999,\n\t\t\t\tleft: -99999,\n\t\t\t\twidth: 'auto',\n\t\t\t\tpadding: 0,\n\t\t\t\twhiteSpace: 'pre'\n\t\t\t}).text(str).appendTo('body');\n\t\t\n\t\t\ttransferStyles($parent, $test, [\n\t\t\t\t'letterSpacing',\n\t\t\t\t'fontSize',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontWeight',\n\t\t\t\t'textTransform'\n\t\t\t]);\n\t\t\n\t\t\tvar width = $test.width();\n\t\t\t$test.remove();\n\t\t\n\t\t\treturn width;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Sets up an input to grow horizontally as the user\n\t\t * types. If the value is changed manually, you can\n\t\t * trigger the \"update\" handler to resize:\n\t\t *\n\t\t * $input.trigger('update');\n\t\t *\n\t\t * @param {object} $input\n\t\t */\n\t\tvar autoGrow = function($input) {\n\t\t\tvar currentWidth = null;\n\t\t\n\t\t\tvar update = function(e, options) {\n\t\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\t\tvar shift, character, selection;\n\t\t\t\te = e || window.event || {};\n\t\t\t\toptions = options || {};\n\t\t\n\t\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\t\n\t\t\t\tvalue = $input.val();\n\t\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\t\tprintable = (\n\t\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t\t);\n\t\t\n\t\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (printable) {\n\t\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\t\tvalue += character;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\t\tif (!value && placeholder) {\n\t\t\t\t\tvalue = placeholder;\n\t\t\t\t}\n\t\t\n\t\t\t\twidth = measureString(value, $input) + 4;\n\t\t\t\tif (width !== currentWidth) {\n\t\t\t\t\tcurrentWidth = width;\n\t\t\t\t\t$input.width(width);\n\t\t\t\t\t$input.triggerHandler('resize');\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t$input.on('keydown keyup update blur', update);\n\t\t\tupdate();\n\t\t};\n\t\t\n\t\tvar domToString = function(d) {\n\t\t\tvar tmp = document.createElement('div');\n\t\t\n\t\t\ttmp.appendChild(d.cloneNode(true));\n\t\t\n\t\t\treturn tmp.innerHTML;\n\t\t};\n\t\t\n\t\tvar logError = function(message, options){\n\t\t\tif(!options) options = {};\n\t\t\tvar component = \"Selectize\";\n\t\t\n\t\t\tconsole.error(component + \": \" + message)\n\t\t\n\t\t\tif(options.explanation){\n\t\t\t\t// console.group is undefined in <IE11\n\t\t\t\tif(console.group) console.group();\n\t\t\t\tconsole.error(options.explanation);\n\t\t\t\tif(console.group) console.groupEnd();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tvar Selectize = function($input, settings) {\n\t\t\tvar key, i, n, dir, input, self = this;\n\t\t\tinput = $input[0];\n\t\t\tinput.selectize = self;\n\t\t\n\t\t\t// detect rtl environment\n\t\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\t\n\t\t\t// setup default state\n\t\t\t$.extend(self, {\n\t\t\t\torder            : 0,\n\t\t\t\tsettings         : settings,\n\t\t\t\t$input           : $input,\n\t\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\t\trtl              : /rtl/i.test(dir),\n\t\t\n\t\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\t\thighlightedValue : null,\n\t\t\t\tisOpen           : false,\n\t\t\t\tisDisabled       : false,\n\t\t\t\tisRequired       : $input.is('[required]'),\n\t\t\t\tisInvalid        : false,\n\t\t\t\tisLocked         : false,\n\t\t\t\tisFocused        : false,\n\t\t\t\tisInputHidden    : false,\n\t\t\t\tisSetup          : false,\n\t\t\t\tisShiftDown      : false,\n\t\t\t\tisCmdDown        : false,\n\t\t\t\tisCtrlDown       : false,\n\t\t\t\tignoreFocus      : false,\n\t\t\t\tignoreBlur       : false,\n\t\t\t\tignoreHover      : false,\n\t\t\t\thasOptions       : false,\n\t\t\t\tcurrentResults   : null,\n\t\t\t\tlastValue        : '',\n\t\t\t\tcaretPos         : 0,\n\t\t\t\tloading          : 0,\n\t\t\t\tloadedSearches   : {},\n\t\t\n\t\t\t\t$activeOption    : null,\n\t\t\t\t$activeItems     : [],\n\t\t\n\t\t\t\toptgroups        : {},\n\t\t\t\toptions          : {},\n\t\t\t\tuserOptions      : {},\n\t\t\t\titems            : [],\n\t\t\t\trenderCache      : {},\n\t\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t\t});\n\t\t\n\t\t\t// search system\n\t\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\t\n\t\t\t// build options table\n\t\t\tif (self.settings.options) {\n\t\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.options;\n\t\t\t}\n\t\t\n\t\t\t// build optgroup table\n\t\t\tif (self.settings.optgroups) {\n\t\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.optgroups;\n\t\t\t}\n\t\t\n\t\t\t// option-dependent defaults\n\t\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t\t}\n\t\t\n\t\t\tself.initializePlugins(self.settings.plugins);\n\t\t\tself.setupCallbacks();\n\t\t\tself.setupTemplates();\n\t\t\tself.setup();\n\t\t};\n\t\t\n\t\t// mixins\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\tMicroEvent.mixin(Selectize);\n\t\t\n\t\tif(typeof MicroPlugin !== \"undefined\"){\n\t\t\tMicroPlugin.mixin(Selectize);\n\t\t}else{\n\t\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t\t{explanation:\n\t\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\t\"load Selectize.\"}\n\t\t\t);\n\t\t}\n\t\t\n\t\t\n\t\t// methods\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\t$.extend(Selectize.prototype, {\n\t\t\n\t\t\t/**\n\t\t\t * Creates all elements and sets up event bindings.\n\t\t\t */\n\t\t\tsetup: function() {\n\t\t\t\tvar self      = this;\n\t\t\t\tvar settings  = self.settings;\n\t\t\t\tvar eventNS   = self.eventNS;\n\t\t\t\tvar $window   = $(window);\n\t\t\t\tvar $document = $(document);\n\t\t\t\tvar $input    = self.$input;\n\t\t\n\t\t\t\tvar $wrapper;\n\t\t\t\tvar $control;\n\t\t\t\tvar $control_input;\n\t\t\t\tvar $dropdown;\n\t\t\t\tvar $dropdown_content;\n\t\t\t\tvar $dropdown_parent;\n\t\t\t\tvar inputMode;\n\t\t\t\tvar timeout_blur;\n\t\t\t\tvar timeout_focus;\n\t\t\t\tvar classes;\n\t\t\t\tvar classes_plugins;\n\t\t\t\tvar inputId;\n\t\t\n\t\t\t\tinputMode         = self.settings.mode;\n\t\t\t\tclasses           = $input.attr('class') || '';\n\t\t\n\t\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\t\n\t\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t\t}\n\t\t\n\t\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t\t$dropdown.addClass(classes);\n\t\t\t\t}\n\t\t\n\t\t\t\t$wrapper.css({\n\t\t\t\t\twidth: $input[0].style.width\n\t\t\t\t});\n\t\t\n\t\t\t\tif (self.plugins.names.length) {\n\t\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.settings.placeholder) {\n\t\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t\t}\n\t\t\n\t\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t\t}\n\t\t\n\t\t\t\tself.$wrapper          = $wrapper;\n\t\t\t\tself.$control          = $control;\n\t\t\t\tself.$control_input    = $control_input;\n\t\t\t\tself.$dropdown         = $dropdown;\n\t\t\t\tself.$dropdown_content = $dropdown_content;\n\t\t\n\t\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\t\tautoGrow($control_input);\n\t\t\n\t\t\t\t$control.on({\n\t\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$control_input.on({\n\t\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// blur on click outside\n\t\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\t\tself.ignoreHover = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t// store original children and tab index so that they can be\n\t\t\t\t// restored when the destroy() method is called.\n\t\t\t\tthis.revertSettings = {\n\t\t\t\t\t$children : $input.children().detach(),\n\t\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t\t};\n\t\t\n\t\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\t\n\t\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\t\tself.setValue(settings.items);\n\t\t\t\t\tdelete settings.items;\n\t\t\t\t}\n\t\t\n\t\t\t\t// feature detect for the validation API\n\t\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tself.updateOriginalInput();\n\t\t\t\tself.refreshItems();\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.isSetup = true;\n\t\t\n\t\t\t\tif ($input.is(':disabled')) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\n\t\t\t\tself.on('change', this.onChange);\n\t\t\n\t\t\t\t$input.data('selectize', self);\n\t\t\t\t$input.addClass('selectized');\n\t\t\t\tself.trigger('initialize');\n\t\t\n\t\t\t\t// preload options\n\t\t\t\tif (settings.preload === true) {\n\t\t\t\t\tself.onSearchChange('');\n\t\t\t\t}\n\t\t\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets up default rendering functions.\n\t\t\t */\n\t\t\tsetupTemplates: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar field_label = self.settings.labelField;\n\t\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\t\n\t\t\t\tvar templates = {\n\t\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Maps fired events to callbacks provided\n\t\t\t * in the settings used when creating the control.\n\t\t\t */\n\t\t\tsetupCallbacks: function() {\n\t\t\t\tvar key, fn, callbacks = {\n\t\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t\t'change'          : 'onChange',\n\t\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t\t'type'            : 'onType',\n\t\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t\t'blur'            : 'onBlur'\n\t\t\t\t};\n\t\t\n\t\t\t\tfor (key in callbacks) {\n\t\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a click event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonClick: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t\t// is ignored unless invoked within a click event)\n\t\t\t\tif (!self.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a mouse down event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonMouseDown: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\t\tvar $target = $(e.target);\n\t\t\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// give control focus\n\t\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the value of the control has been changed.\n\t\t\t * This should propagate the event to the original DOM\n\t\t\t * input / select element.\n\t\t\t */\n\t\t\tonChange: function() {\n\t\t\t\tthis.$input.trigger('change');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> paste.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonPaste: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t\t// input and create Items for each separate value\n\t\t\t\tif (self.settings.splitOn) {\n\t\t\n\t\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\t\n\t\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keypress.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyPress: function(e) {\n\t\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\t\tthis.createItem();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keydown.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyDown: function(e) {\n\t\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) {\n\t\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase KEY_A:\n\t\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_ESC:\n\t\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_N:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\t\tself.open();\n\t\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_P:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_UP:\n\t\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_TAB:\n\t\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\n\t\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keyup.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyUp: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\t\tvar value = self.$control_input.val() || '';\n\t\t\t\tif (self.lastValue !== value) {\n\t\t\t\t\tself.lastValue = value;\n\t\t\t\t\tself.onSearchChange(value);\n\t\t\t\t\tself.refreshOptions();\n\t\t\t\t\tself.trigger('type', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the user-provide option provider / loader.\n\t\t\t *\n\t\t\t * Note: this function is debounced in the Selectize\n\t\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tonSearchChange: function(value) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar fn = self.settings.load;\n\t\t\t\tif (!fn) return;\n\t\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\t\tself.loadedSearches[value] = true;\n\t\t\t\tself.load(function(callback) {\n\t\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> focus.\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonFocus: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar wasFocused = self.isFocused;\n\t\t\n\t\t\t\tif (self.isDisabled) {\n\t\t\t\t\tself.blur();\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.ignoreFocus) return;\n\t\t\t\tself.isFocused = true;\n\t\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\t\n\t\t\t\tif (!wasFocused) self.trigger('focus');\n\t\t\n\t\t\t\tif (!self.$activeItems.length) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t\t}\n\t\t\n\t\t\t\tself.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> blur.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tonBlur: function(e, dest) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.isFocused) return;\n\t\t\t\tself.isFocused = false;\n\t\t\n\t\t\t\tif (self.ignoreFocus) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\t\tself.ignoreBlur = true;\n\t\t\t\t\tself.onFocus(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar deactivate = function() {\n\t\t\t\t\tself.close();\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\t\tdest && dest.focus && dest.focus();\n\t\t\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.trigger('blur');\n\t\t\t\t};\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t\t} else {\n\t\t\t\t\tdeactivate();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user rolls over\n\t\t\t * an option in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionHover: function(e) {\n\t\t\t\tif (this.ignoreHover) return;\n\t\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an option\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionSelect: function(e) {\n\t\t\t\tvar value, $target, $option, self = this;\n\t\t\n\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\n\t\t\t\t$target = $(e.currentTarget);\n\t\t\t\tif ($target.hasClass('create')) {\n\t\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\t\tself.addItem(value);\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an item\n\t\t\t * that has been selected.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonItemSelect: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return;\n\t\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the provided method that provides\n\t\t\t * results to a callback---which are then added\n\t\t\t * as options to the control.\n\t\t\t *\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tload: function(fn) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\t\n\t\t\t\tself.loading++;\n\t\t\t\tfn.apply(self, [function(results) {\n\t\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\t\tif (results && results.length) {\n\t\t\t\t\t\tself.addOption(results);\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t\t}\n\t\t\t\t\tif (!self.loading) {\n\t\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t\t}\n\t\t\t\t\tself.trigger('load', results);\n\t\t\t\t}]);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the input field of the control to the specified value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tsetTextboxValue: function(value) {\n\t\t\t\tvar $input = this.$control_input;\n\t\t\t\tvar changed = $input.val() !== value;\n\t\t\t\tif (changed) {\n\t\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\t\tthis.lastValue = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the value of the control. If multiple items\n\t\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t\t * an array. If only one item can be selected, this\n\t\t\t * returns a string.\n\t\t\t *\n\t\t\t * @returns {mixed}\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\t\treturn this.items;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets the selected items to the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t */\n\t\t\tsetValue: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tthis.clear(silent);\n\t\t\t\t\tthis.addItems(value, silent);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item.\n\t\t\t *\n\t\t\t * @param {object} $item\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tsetActiveItem: function($item, e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventName;\n\t\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\t\tvar $last;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t\t$item = $($item);\n\t\t\n\t\t\t\t// clear the active selection\n\t\t\t\tif (!$item.length) {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [];\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\tself.showInput();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// modify selection\n\t\t\t\teventName = e && e.type.toLowerCase();\n\t\t\n\t\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\t\tif (begin > end) {\n\t\t\t\t\t\tswap  = begin;\n\t\t\t\t\t\tbegin = end;\n\t\t\t\t\t\tend   = swap;\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t\t}\n\t\t\n\t\t\t\t// ensure control has focus\n\t\t\t\tself.hideInput();\n\t\t\t\tif (!this.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item in the dropdown menu\n\t\t\t * of available options.\n\t\t\t *\n\t\t\t * @param {object} $object\n\t\t\t * @param {boolean} scroll\n\t\t\t * @param {boolean} animate\n\t\t\t */\n\t\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\t\tvar height_menu, height_item, y;\n\t\t\t\tvar scroll_top, scroll_bottom;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\t\tself.$activeOption = null;\n\t\t\n\t\t\t\t$option = $($option);\n\t\t\t\tif (!$option.length) return;\n\t\t\n\t\t\t\tself.$activeOption = $option.addClass('active');\n\t\t\n\t\t\t\tif (scroll || !isset(scroll)) {\n\t\t\n\t\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\t\tscroll_top    = y;\n\t\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\t\n\t\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects all items (CTRL + A).\n\t\t\t */\n\t\t\tselectAll: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\n\t\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t\tself.focus();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Hides the input element out of view, while\n\t\t\t * retaining its focus.\n\t\t\t */\n\t\t\thideInput: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\t\tself.isInputHidden = true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Restores input visibility.\n\t\t\t */\n\t\t\tshowInput: function() {\n\t\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\t\tthis.isInputHidden = false;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Gives the control focus.\n\t\t\t */\n\t\t\tfocus: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.isDisabled) return;\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tself.$control_input[0].focus();\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.onFocus();\n\t\t\t\t}, 0);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Forces the control out of focus.\n\t\t\t *\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tblur: function(dest) {\n\t\t\t\tthis.$control_input[0].blur();\n\t\t\t\tthis.onBlur(null, dest);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns a function that scores an object\n\t\t\t * to show how good of a match it is to the\n\t\t\t * provided query.\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @param {object} options\n\t\t\t * @return {function}\n\t\t\t */\n\t\t\tgetScoreFunction: function(query) {\n\t\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns search options for sifter (the system\n\t\t\t * for scoring and sorting results).\n\t\t\t *\n\t\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetSearchOptions: function() {\n\t\t\t\tvar settings = this.settings;\n\t\t\t\tvar sort = settings.sortField;\n\t\t\t\tif (typeof sort === 'string') {\n\t\t\t\t\tsort = [{field: sort}];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tfields      : settings.searchField,\n\t\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\t\tsort        : sort\n\t\t\t\t};\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Searches through available options and returns\n\t\t\t * a sorted array of matches.\n\t\t\t *\n\t\t\t * Returns an object containing:\n\t\t\t *\n\t\t\t *   - query {string}\n\t\t\t *   - tokens {array}\n\t\t\t *   - total {int}\n\t\t\t *   - items {array}\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tsearch: function(query) {\n\t\t\t\tvar i, value, score, result, calculateScore;\n\t\t\t\tvar self     = this;\n\t\t\t\tvar settings = self.settings;\n\t\t\t\tvar options  = this.getSearchOptions();\n\t\t\n\t\t\t\t// validate user-provided result scoring function\n\t\t\t\tif (settings.score) {\n\t\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform search\n\t\t\t\tif (query !== self.lastQuery) {\n\t\t\t\t\tself.lastQuery = query;\n\t\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\t\tself.currentResults = result;\n\t\t\t\t} else {\n\t\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t\t}\n\t\t\n\t\t\t\t// filter out selected items\n\t\t\t\tif (settings.hideSelected) {\n\t\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the list of available options shown\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {boolean} triggerDropdown\n\t\t\t */\n\t\t\trefreshOptions: function(triggerDropdown) {\n\t\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\t\tvar $active, $active_before, $create;\n\t\t\n\t\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar self              = this;\n\t\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\t\tvar results           = self.search(query);\n\t\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\t\n\t\t\t\t// build markup\n\t\t\t\tn = results.items.length;\n\t\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t\t}\n\t\t\n\t\t\t\t// render and group available options individually\n\t\t\t\tgroups = {};\n\t\t\t\tgroups_order = [];\n\t\t\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\t\toption_html = self.render('option', option);\n\t\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\t\n\t\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// sort optgroups\n\t\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\t// render optgroup headers & join groups\n\t\t\t\thtml = document.createDocumentFragment();\n\t\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\t\toptgroup = groups_order[i];\n\t\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\t\n\t\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t\t})));\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t$dropdown_content.html(html);\n\t\t\n\t\t\t\t// highlight matching terms inline\n\t\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add \"selected\" class to selected options\n\t\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add create option\n\t\t\t\thas_create_option = self.canCreate(query);\n\t\t\t\tif (has_create_option) {\n\t\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t\t}\n\t\t\n\t\t\t\t// activate\n\t\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\t\tif (self.hasOptions) {\n\t\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$active = $create;\n\t\t\t\t\t}\n\t\t\t\t\tself.setActiveOption($active);\n\t\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t\t} else {\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Adds an available option. If it already exists,\n\t\t\t * nothing will happen. Note: this does not refresh\n\t\t\t * the options list dropdown (use `refreshOptions`\n\t\t\t * for that).\n\t\t\t *\n\t\t\t * Usage:\n\t\t\t *\n\t\t\t *   this.addOption(data)\n\t\t\t *\n\t\t\t * @param {object|array} data\n\t\t\t */\n\t\t\taddOption: function(data) {\n\t\t\t\tvar i, n, value, self = this;\n\t\t\n\t\t\t\tif ($.isArray(data)) {\n\t\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\t\tself.userOptions[value] = true;\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option to the pool of options.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOption: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.options[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option group to the pool of option groups.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOptionGroup: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\t\tif (!key) return false;\n\t\t\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.optgroups[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers a new optgroup for options\n\t\t\t * to be bucketed into.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\taddOptionGroup: function(id, data) {\n\t\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes an existing option group.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t */\n\t\t\tremoveOptionGroup: function(id) {\n\t\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\t\tdelete this.optgroups[id];\n\t\t\t\t\tthis.renderCache = {};\n\t\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all existing option groups.\n\t\t\t */\n\t\t\tclearOptionGroups: function() {\n\t\t\t\tthis.optgroups = {};\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates an option available for selection. If\n\t\t\t * it is visible in the selected items or options\n\t\t\t * dropdown, it will be re-rendered automatically.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\tupdateOption: function(value, data) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, $item_new;\n\t\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\t\n\t\t\t\tvalue     = hash_key(value);\n\t\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\t\n\t\t\t\t// sanity checks\n\t\t\t\tif (value === null) return;\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\t\n\t\t\t\torder_old = self.options[value].$order;\n\t\t\n\t\t\t\t// update references\n\t\t\t\tif (value_new !== value) {\n\t\t\t\t\tdelete self.options[value];\n\t\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.$order = data.$order || order_old;\n\t\t\t\tself.options[value_new] = data;\n\t\t\n\t\t\t\t// invalidate render cache\n\t\t\t\tcache_items = self.renderCache['item'];\n\t\t\t\tcache_options = self.renderCache['option'];\n\t\t\n\t\t\t\tif (cache_items) {\n\t\t\t\t\tdelete cache_items[value];\n\t\t\t\t\tdelete cache_items[value_new];\n\t\t\t\t}\n\t\t\t\tif (cache_options) {\n\t\t\t\t\tdelete cache_options[value];\n\t\t\t\t\tdelete cache_options[value_new];\n\t\t\t\t}\n\t\t\n\t\t\t\t// update the item if it's selected\n\t\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t\t$item = self.getItem(value);\n\t\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t\t$item.replaceWith($item_new);\n\t\t\t\t}\n\t\t\n\t\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\t\tself.lastQuery = null;\n\t\t\n\t\t\t\t// update dropdown contents\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.refreshOptions(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes a single option.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tremoveOption: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\t\tif (cache_items) delete cache_items[value];\n\t\t\t\tif (cache_options) delete cache_options[value];\n\t\t\n\t\t\t\tdelete self.userOptions[value];\n\t\t\t\tdelete self.options[value];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_remove', value);\n\t\t\t\tself.removeItem(value, silent);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all options.\n\t\t\t */\n\t\t\tclearOptions: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.loadedSearches = {};\n\t\t\t\tself.userOptions = {};\n\t\t\t\tself.renderCache = {};\n\t\t\t\tself.options = self.sifter.items = {};\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_clear');\n\t\t\t\tself.clear();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the option\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetOption: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the next or\n\t\t\t * previous selectable option.\n\t\t\t *\n\t\t\t * @param {object} $option\n\t\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetAdjacentOption: function($option, direction) {\n\t\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Finds the first element with a \"data-value\" attribute\n\t\t\t * that matches the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} $els\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetElementWithValue: function(value, $els) {\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the item\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetItem: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItems: function(values, silent) {\n\t\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" an item. Adds it to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItem: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tvar $item, $option, $options;\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\t\n\t\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\t\twasFull = self.isFull();\n\t\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\t\tself.insertAtCaret($item);\n\t\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\t\n\t\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the selected item matching\n\t\t\t * the provided value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tremoveItem: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, i, idx;\n\t\t\n\t\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\t\ti = self.items.indexOf(value);\n\t\t\n\t\t\t\tif (i !== -1) {\n\t\t\t\t\t$item.remove();\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.items.splice(i, 1);\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.refreshState();\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the `create` method provided in the\n\t\t\t * selectize options that should provide the data\n\t\t\t * for the new item, given the user input.\n\t\t\t *\n\t\t\t * Once this completes, it will be added\n\t\t\t * to the item list.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} [triggerDropdown]\n\t\t\t * @param {function} [callback]\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\t\tvar self  = this;\n\t\t\t\tvar caret = self.caretPos;\n\t\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\t\n\t\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\t\n\t\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!self.canCreate(input)) {\n\t\t\t\t\tcallback();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tself.lock();\n\t\t\n\t\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar create = once(function(data) {\n\t\t\t\t\tself.unlock();\n\t\t\n\t\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tif (typeof value !== 'string') return callback();\n\t\t\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addOption(data);\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\t\tcallback(data);\n\t\t\t\t});\n\t\t\n\t\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\t\tcreate(output);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-renders the selected item lists.\n\t\t\t */\n\t\t\trefreshItems: function() {\n\t\t\t\tthis.lastQuery = null;\n\t\t\n\t\t\t\tif (this.isSetup) {\n\t\t\t\t\tthis.addItem(this.items);\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.refreshState();\n\t\t\t\tthis.updateOriginalInput();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent attributes\n\t\t\t * and CSS classes.\n\t\t\t */\n\t\t\trefreshState: function() {\n\t\t\t\tthis.refreshValidityState();\n\t\t\t\tthis.refreshClasses();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Update the `required` attribute of both input and control input.\n\t\t\t *\n\t\t\t * The `required` property needs to be activated on the control input\n\t\t\t * for the error to be displayed at the right place. `required` also\n\t\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t\t * hidden and can't show errors.\n\t\t\t */\n\t\t\trefreshValidityState: function() {\n\t\t\t\tif (!this.isRequired) return false;\n\t\t\n\t\t\t\tvar invalid = !this.items.length;\n\t\t\n\t\t\t\tthis.isInvalid = invalid;\n\t\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\t\tthis.$input.prop('required', !invalid);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent CSS classes.\n\t\t\t */\n\t\t\trefreshClasses: function() {\n\t\t\t\tvar self     = this;\n\t\t\t\tvar isFull   = self.isFull();\n\t\t\t\tvar isLocked = self.isLocked;\n\t\t\n\t\t\t\tself.$wrapper\n\t\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\t\n\t\t\t\tself.$control\n\t\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\t\n\t\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not more items can be added\n\t\t\t * to the control without exceeding the user-defined maximum.\n\t\t\t *\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisFull: function() {\n\t\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the original <select> or <input>\n\t\t\t * element to reflect the current state.\n\t\t\t */\n\t\t\tupdateOriginalInput: function(opts) {\n\t\t\t\tvar i, n, options, label, self = this;\n\t\t\t\topts = opts || {};\n\t\t\n\t\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\t\toptions = [];\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t\t}\n\t\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t\t}\n\t\t\t\t\tself.$input.html(options.join(''));\n\t\t\t\t} else {\n\t\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\tif (!opts.silent) {\n\t\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows/hide the input placeholder depending\n\t\t\t * on if there items in the list already.\n\t\t\t */\n\t\t\tupdatePlaceholder: function() {\n\t\t\t\tif (!this.settings.placeholder) return;\n\t\t\t\tvar $input = this.$control_input;\n\t\t\n\t\t\t\tif (this.items.length) {\n\t\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t\t} else {\n\t\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t\t}\n\t\t\t\t$input.triggerHandler('update', {force: true});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows the autocomplete dropdown containing\n\t\t\t * the available options.\n\t\t\t */\n\t\t\topen: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\t\tself.focus();\n\t\t\t\tself.isOpen = true;\n\t\t\t\tself.refreshState();\n\t\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Closes the autocomplete dropdown menu.\n\t\t\t */\n\t\t\tclose: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar trigger = self.isOpen;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t\t}\n\t\t\n\t\t\t\tself.isOpen = false;\n\t\t\t\tself.$dropdown.hide();\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Calculates and applies the appropriate\n\t\t\t * position of the dropdown.\n\t\t\t */\n\t\t\tpositionDropdown: function() {\n\t\t\t\tvar $control = this.$control;\n\t\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\t\toffset.top += $control.outerHeight(true);\n\t\t\n\t\t\t\tthis.$dropdown.css({\n\t\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\t\ttop   : offset.top,\n\t\t\t\t\tleft  : offset.left\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets / clears all selected items\n\t\t\t * from the control.\n\t\t\t *\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tclear: function(silent) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (!self.items.length) return;\n\t\t\t\tself.$control.children(':not(input)').remove();\n\t\t\t\tself.items = [];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.setCaret(0);\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.refreshState();\n\t\t\t\tself.showInput();\n\t\t\t\tself.trigger('clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for inserting an element\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {object} $el\n\t\t\t */\n\t\t\tinsertAtCaret: function($el) {\n\t\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\t\tif (caret === 0) {\n\t\t\t\t\tthis.$control.prepend($el);\n\t\t\t\t} else {\n\t\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t\t}\n\t\t\t\tthis.setCaret(caret + 1);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the current selected item(s).\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tdeleteSelection: function(e) {\n\t\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t\t}\n\t\t\n\t\t\t\t// determine items that will be removed\n\t\t\t\tvalues = [];\n\t\t\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tif (direction > 0) { caret++; }\n\t\t\n\t\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t\t}\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// allow the callback to abort\n\t\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform removal\n\t\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t}\n\t\t\t\twhile (values.length) {\n\t\t\t\t\tself.removeItem(values.pop());\n\t\t\t\t}\n\t\t\n\t\t\t\tself.showInput();\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.refreshOptions(true);\n\t\t\n\t\t\t\t// select previous option\n\t\t\t\tif (option_select) {\n\t\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\t\tif ($option_select.length) {\n\t\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects the previous / next item (depending\n\t\t\t * on the `direction` argument).\n\t\t\t *\n\t\t\t * > 0 - right\n\t\t\t * < 0 - left\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceSelection: function(direction, e) {\n\t\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\t\tif (self.rtl) direction *= -1;\n\t\t\n\t\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t\t: selection.start === valueLength;\n\t\t\n\t\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\t\tif ($tail.length) {\n\t\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret left / right.\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceCaret: function(direction, e) {\n\t\t\t\tvar self = this, fn, $adj;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\n\t\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\t\tif (self.isShiftDown) {\n\t\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\t\tif ($adj.length) {\n\t\t\t\t\t\tself.hideInput();\n\t\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret to the specified index.\n\t\t\t *\n\t\t\t * @param {int} i\n\t\t\t */\n\t\t\tsetCaret: function(i) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\ti = self.items.length;\n\t\t\t\t} else {\n\t\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t\t}\n\t\t\n\t\t\t\tif(!self.isPending) {\n\t\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t\t// on mobile webkit devices\n\t\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tself.caretPos = i;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control. Used while\n\t\t\t * items are being asynchronously created.\n\t\t\t */\n\t\t\tlock: function() {\n\t\t\t\tthis.close();\n\t\t\t\tthis.isLocked = true;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-enables user input on the control.\n\t\t\t */\n\t\t\tunlock: function() {\n\t\t\t\tthis.isLocked = false;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control completely.\n\t\t\t * While disabled, it cannot receive focus.\n\t\t\t */\n\t\t\tdisable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', true);\n\t\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\t\tself.isDisabled = true;\n\t\t\t\tself.lock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Enables the control so that it can respond\n\t\t\t * to focus and user input.\n\t\t\t */\n\t\t\tenable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', false);\n\t\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\t\tself.isDisabled = false;\n\t\t\t\tself.unlock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Completely destroys the control and\n\t\t\t * unbinds all event listeners so that it can\n\t\t\t * be garbage collected.\n\t\t\t */\n\t\t\tdestroy: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventNS = self.eventNS;\n\t\t\t\tvar revertSettings = self.revertSettings;\n\t\t\n\t\t\t\tself.trigger('destroy');\n\t\t\t\tself.off();\n\t\t\t\tself.$wrapper.remove();\n\t\t\t\tself.$dropdown.remove();\n\t\t\n\t\t\t\tself.$input\n\t\t\t\t\t.html('')\n\t\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t\t.removeClass('selectized')\n\t\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t\t.show();\n\t\t\n\t\t\t\tself.$control_input.removeData('grow');\n\t\t\t\tself.$input.removeData('selectize');\n\t\t\n\t\t\t\t$(window).off(eventNS);\n\t\t\t\t$(document).off(eventNS);\n\t\t\t\t$(document.body).off(eventNS);\n\t\t\n\t\t\t\tdelete self.$input[0].selectize;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for rendering \"item\" and\n\t\t\t * \"option\" templates, given the data.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t * @param {object} data\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\trender: function(templateName, data) {\n\t\t\t\tvar value, id, label;\n\t\t\t\tvar html = '';\n\t\t\t\tvar cache = false;\n\t\t\t\tvar self = this;\n\t\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\t\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tcache = !!value;\n\t\t\t\t}\n\t\t\n\t\t\t\t// pull markup from cache if it exists\n\t\t\t\tif (cache) {\n\t\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// render markup\n\t\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\t\n\t\t\t\t// add mandatory attributes\n\t\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t\t}\n\t\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\t\thtml.attr('data-group', id);\n\t\t\t\t}\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t\t}\n\t\t\n\t\t\t\t// update cache\n\t\t\t\tif (cache) {\n\t\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn html[0];\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears the render cache for a template. If\n\t\t\t * no template is given, clears all render\n\t\t\t * caches.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t */\n\t\t\tclearCache: function(templateName) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\t\tself.renderCache = {};\n\t\t\t\t} else {\n\t\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not to display the\n\t\t\t * create item prompt, given a user input.\n\t\t\t *\n\t\t\t * @param {string} input\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcanCreate: function(input) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.settings.create) return false;\n\t\t\t\tvar filter = self.settings.createFilter;\n\t\t\t\treturn input.length\n\t\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t\t}\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.count = 0;\n\t\tSelectize.defaults = {\n\t\t\toptions: [],\n\t\t\toptgroups: [],\n\t\t\n\t\t\tplugins: [],\n\t\t\tdelimiter: ',',\n\t\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\t\tpersist: true,\n\t\t\tdiacritics: true,\n\t\t\tcreate: false,\n\t\t\tcreateOnBlur: false,\n\t\t\tcreateFilter: null,\n\t\t\thighlight: true,\n\t\t\topenOnFocus: true,\n\t\t\tmaxOptions: 1000,\n\t\t\tmaxItems: null,\n\t\t\thideSelected: null,\n\t\t\taddPrecedence: false,\n\t\t\tselectOnTab: false,\n\t\t\tpreload: false,\n\t\t\tallowEmptyOption: false,\n\t\t\tcloseAfterSelect: false,\n\t\t\n\t\t\tscrollDuration: 60,\n\t\t\tloadThrottle: 300,\n\t\t\tloadingClass: 'loading',\n\t\t\n\t\t\tdataAttr: 'data-data',\n\t\t\toptgroupField: 'optgroup',\n\t\t\tvalueField: 'value',\n\t\t\tlabelField: 'text',\n\t\t\toptgroupLabelField: 'label',\n\t\t\toptgroupValueField: 'value',\n\t\t\tlockOptgroupOrder: false,\n\t\t\n\t\t\tsortField: '$order',\n\t\t\tsearchField: ['text'],\n\t\t\tsearchConjunction: 'and',\n\t\t\n\t\t\tmode: null,\n\t\t\twrapperClass: 'selectize-control',\n\t\t\tinputClass: 'selectize-input',\n\t\t\tdropdownClass: 'selectize-dropdown',\n\t\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\t\n\t\t\tdropdownParent: null,\n\t\t\n\t\t\tcopyClassesToDropdown: true,\n\t\t\n\t\t\t/*\n\t\t\tload                 : null, // function(query, callback) { ... }\n\t\t\tscore                : null, // function(search) { ... }\n\t\t\tonInitialize         : null, // function() { ... }\n\t\t\tonChange             : null, // function(value) { ... }\n\t\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\t\tonItemRemove         : null, // function(value) { ... }\n\t\t\tonClear              : null, // function() { ... }\n\t\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\t\tonOptionRemove       : null, // function(value) { ... }\n\t\t\tonOptionClear        : null, // function() { ... }\n\t\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\t\tonOptionGroupClear   : null, // function() { ... }\n\t\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\t\tonType               : null, // function(str) { ... }\n\t\t\tonDelete             : null, // function(values) { ... }\n\t\t\t*/\n\t\t\n\t\t\trender: {\n\t\t\t\t/*\n\t\t\t\titem: null,\n\t\t\t\toptgroup: null,\n\t\t\t\toptgroup_header: null,\n\t\t\t\toption: null,\n\t\t\t\toption_create: null\n\t\t\t\t*/\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t$.fn.selectize = function(settings_user) {\n\t\t\tvar defaults             = $.fn.selectize.defaults;\n\t\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\t\tvar attr_data            = settings.dataAttr;\n\t\t\tvar field_label          = settings.labelField;\n\t\t\tvar field_value          = settings.valueField;\n\t\t\tvar field_optgroup       = settings.optgroupField;\n\t\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_textbox = function($input, settings_element) {\n\t\t\t\tvar i, n, values, option;\n\t\t\n\t\t\t\tvar data_raw = $input.attr(attr_data);\n\t\t\n\t\t\t\tif (!data_raw) {\n\t\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\t\toption = {};\n\t\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t\t}\n\t\t\t\t\tsettings_element.items = values;\n\t\t\t\t} else {\n\t\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <select> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_select = function($input, settings_element) {\n\t\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\t\tvar options = settings_element.options;\n\t\t\t\tvar optionsMap = {};\n\t\t\n\t\t\t\tvar readData = function($el) {\n\t\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addOption = function($option, group) {\n\t\t\t\t\t$option = $($option);\n\t\t\n\t\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\t\n\t\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\t\n\t\t\t\t\toptionsMap[value] = option;\n\t\t\t\t\toptions.push(option);\n\t\t\n\t\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\t\tvar i, n, id, optgroup, $options;\n\t\t\n\t\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\t\tid = $optgroup.attr('label');\n\t\t\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\t\n\t\t\t\t$children = $input.children();\n\t\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\t\taddOption($children[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn this.each(function() {\n\t\t\t\tif (this.selectize) return;\n\t\t\n\t\t\t\tvar instance;\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t\t}\n\t\t\n\t\t\t\tvar settings_element = {\n\t\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t\t'options'     : [],\n\t\t\t\t\t'optgroups'   : [],\n\t\t\t\t\t'items'       : []\n\t\t\t\t};\n\t\t\n\t\t\t\tif (tag_name === 'select') {\n\t\t\t\t\tinit_select($input, settings_element);\n\t\t\t\t} else {\n\t\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t\t}\n\t\t\n\t\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t\t});\n\t\t};\n\t\t\n\t\t$.fn.selectize.defaults = Selectize.defaults;\n\t\t$.fn.selectize.support = {\n\t\t\tvalidity: SUPPORTS_VALIDITY_API\n\t\t};\n\t\t\n\t\t\n\t\tSelectize.define('drag_drop', function(options) {\n\t\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\t\tif (this.settings.mode !== 'multi') return;\n\t\t\tvar self = this;\n\t\t\n\t\t\tself.lock = (function() {\n\t\t\t\tvar original = self.lock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.unlock = (function() {\n\t\t\t\tvar original = self.unlock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(this, arguments);\n\t\t\n\t\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('dropdown_header', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\ttitle         : 'Untitled',\n\t\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\t\n\t\t\t\thtml: function(data) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, options);\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('optgroup_columns', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\tequalizeWidth  : true,\n\t\t\t\tequalizeHeight : true\n\t\t\t}, options);\n\t\t\n\t\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, $option, $options, $optgroup;\n\t\t\n\t\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\t\n\t\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tvar getScrollbarWidth = function() {\n\t\t\t\tvar div;\n\t\t\t\tvar width = getScrollbarWidth.width;\n\t\t\t\tvar doc = document;\n\t\t\n\t\t\t\tif (typeof width === 'undefined') {\n\t\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\t\tdiv = div.firstChild;\n\t\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\t\tdoc.body.removeChild(div);\n\t\t\t\t}\n\t\t\t\treturn width;\n\t\t\t};\n\t\t\n\t\t\tvar equalizeSizes = function() {\n\t\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\t\n\t\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\t\tn = $optgroups.length;\n\t\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\t\n\t\t\t\tif (options.equalizeHeight) {\n\t\t\t\t\theight_max = 0;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t\t}\n\t\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (options.equalizeWidth) {\n\t\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t\t$optgroups.css({width: width});\n\t\t\t\t\tif (n > 1) {\n\t\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t\t}\n\t\t\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('remove_button', function(options) {\n\t\t\toptions = $.extend({\n\t\t\t\t\tlabel     : '&times;',\n\t\t\t\t\ttitle     : 'Remove',\n\t\t\t\t\tclassName : 'remove',\n\t\t\t\t\tappend    : true\n\t\t\t\t}, options);\n\t\t\n\t\t\t\tvar singleClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\toptions.className = 'remove-single';\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\t\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tvar multiClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\t\tsingleClose(this, options);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmultiClose(this, options);\n\t\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.define('restore_on_backspace', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions.text = options.text || function(option) {\n\t\t\t\treturn option[this.settings.labelField];\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, option;\n\t\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t});\n\t\t\n\t\n\t\treturn Selectize;\n\t}));\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function($) {/**\n\t * sifter.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.Sifter = factory();\n\t\t}\n\t}(this, function() {\n\t\n\t\t/**\n\t\t * Textually searches arrays and hashes of objects\n\t\t * by property (or multiple properties). Designed\n\t\t * specifically for autocomplete.\n\t\t *\n\t\t * @constructor\n\t\t * @param {array|object} items\n\t\t * @param {object} items\n\t\t */\n\t\tvar Sifter = function(items, settings) {\n\t\t\tthis.items = items;\n\t\t\tthis.settings = settings || {diacritics: true};\n\t\t};\n\t\n\t\t/**\n\t\t * Splits a search string into an array of individual\n\t\t * regexps to be used to match results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {array}\n\t\t */\n\t\tSifter.prototype.tokenize = function(query) {\n\t\t\tquery = trim(String(query || '').toLowerCase());\n\t\t\tif (!query || !query.length) return [];\n\t\n\t\t\tvar i, n, regex, letter;\n\t\t\tvar tokens = [];\n\t\t\tvar words = query.split(/ +/);\n\t\n\t\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\t\tregex = escape_regex(words[i]);\n\t\t\t\tif (this.settings.diacritics) {\n\t\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttokens.push({\n\t\t\t\t\tstring : words[i],\n\t\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn tokens;\n\t\t};\n\t\n\t\t/**\n\t\t * Iterates over arrays and hashes.\n\t\t *\n\t\t * ```\n\t\t * this.iterator(this.items, function(item, id) {\n\t\t *    // invoked for each item\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * @param {array|object} object\n\t\t */\n\t\tSifter.prototype.iterator = function(object, callback) {\n\t\t\tvar iterator;\n\t\t\tif (is_array(object)) {\n\t\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\titerator = function(callback) {\n\t\t\t\t\tfor (var key in this) {\n\t\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\titerator.apply(object, [callback]);\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function to be used to score individual results.\n\t\t *\n\t\t * Good matches will have a higher score than poor matches.\n\t\t * If an item is not a match, 0 will be returned by the function.\n\t\t *\n\t\t * @param {object|string} search\n\t\t * @param {object} options (optional)\n\t\t * @returns {function}\n\t\t */\n\t\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\t\tvar self, fields, tokens, token_count, nesting;\n\t\n\t\t\tself        = this;\n\t\t\tsearch      = self.prepareSearch(search, options);\n\t\t\ttokens      = search.tokens;\n\t\t\tfields      = search.options.fields;\n\t\t\ttoken_count = tokens.length;\n\t\t\tnesting     = search.options.nesting;\n\t\n\t\t\t/**\n\t\t\t * Calculates how close of a match the\n\t\t\t * given value is against a search token.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} token\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreValue = function(value, token) {\n\t\t\t\tvar score, pos;\n\t\n\t\t\t\tif (!value) return 0;\n\t\t\t\tvalue = String(value || '');\n\t\t\t\tpos = value.search(token.regex);\n\t\t\t\tif (pos === -1) return 0;\n\t\t\t\tscore = token.string.length / value.length;\n\t\t\t\tif (pos === 0) score += 0.5;\n\t\t\t\treturn score;\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Calculates the score of an object\n\t\t\t * against the search query.\n\t\t\t *\n\t\t\t * @param {object} token\n\t\t\t * @param {object} data\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreObject = (function() {\n\t\t\t\tvar field_count = fields.length;\n\t\t\t\tif (!field_count) {\n\t\t\t\t\treturn function() { return 0; };\n\t\t\t\t}\n\t\t\t\tif (field_count === 1) {\n\t\t\t\t\treturn function(token, data) {\n\t\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / field_count;\n\t\t\t\t};\n\t\t\t})();\n\t\n\t\t\tif (!token_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (token_count === 1) {\n\t\t\t\treturn function(data) {\n\t\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tif (search.options.conjunction === 'and') {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tvar score;\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\t\tsum += score;\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function that can be used to compare two\n\t\t * results, for sorting purposes. If no sorting should\n\t\t * be performed, `null` will be returned.\n\t\t *\n\t\t * @param {string|object} search\n\t\t * @param {object} options\n\t\t * @return function(a,b)\n\t\t */\n\t\tSifter.prototype.getSortFunction = function(search, options) {\n\t\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\t\n\t\t\tself   = this;\n\t\t\tsearch = self.prepareSearch(search, options);\n\t\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\t\n\t\t\t/**\n\t\t\t * Fetches the specified sort field value\n\t\t\t * from a search result item.\n\t\t\t *\n\t\t\t * @param  {string} name\n\t\t\t * @param  {object} result\n\t\t\t * @return {mixed}\n\t\t\t */\n\t\t\tget_field = function(name, result) {\n\t\t\t\tif (name === '$score') return result.score;\n\t\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t\t};\n\t\n\t\t\t// parse options\n\t\t\tfields = [];\n\t\t\tif (sort) {\n\t\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// the \"$score\" field is implied to be the primary\n\t\t\t// sort field, unless it's manually specified\n\t\t\tif (search.query) {\n\t\t\t\timplicit_score = true;\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\timplicit_score = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (implicit_score) {\n\t\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tmultipliers = [];\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t\t}\n\t\n\t\t\t// build function\n\t\t\tfields_count = fields.length;\n\t\t\tif (!fields_count) {\n\t\t\t\treturn null;\n\t\t\t} else if (fields_count === 1) {\n\t\t\t\tfield = fields[0].field;\n\t\t\t\tmultiplier = multipliers[0];\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (result) return result;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Parses a search query and returns an object\n\t\t * with tokens and fields ready to be populated\n\t\t * with results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.prepareSearch = function(query, options) {\n\t\t\tif (typeof query === 'object') return query;\n\t\n\t\t\toptions = extend({}, options);\n\t\n\t\t\tvar option_fields     = options.fields;\n\t\t\tvar option_sort       = options.sort;\n\t\t\tvar option_sort_empty = options.sort_empty;\n\t\n\t\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\t\n\t\t\treturn {\n\t\t\t\toptions : options,\n\t\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\t\ttokens  : this.tokenize(query),\n\t\t\t\ttotal   : 0,\n\t\t\t\titems   : []\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t\t * Searches through all items and returns a sorted array of matches.\n\t\t *\n\t\t * The `options` parameter can contain:\n\t\t *\n\t\t *   - fields {string|array}\n\t\t *   - sort {array}\n\t\t *   - score {function}\n\t\t *   - filter {bool}\n\t\t *   - limit {integer}\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - options {object}\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.search = function(query, options) {\n\t\t\tvar self = this, value, score, search, calculateScore;\n\t\t\tvar fn_sort;\n\t\t\tvar fn_score;\n\t\n\t\t\tsearch  = this.prepareSearch(query, options);\n\t\t\toptions = search.options;\n\t\t\tquery   = search.query;\n\t\n\t\t\t// generate result scoring function\n\t\t\tfn_score = options.score || self.getScoreFunction(search);\n\t\n\t\t\t// perform search and sort\n\t\t\tif (query.length) {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tscore = fn_score(item);\n\t\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tfn_sort = self.getSortFunction(search, options);\n\t\t\tif (fn_sort) search.items.sort(fn_sort);\n\t\n\t\t\t// apply limits\n\t\t\tsearch.total = search.items.length;\n\t\t\tif (typeof options.limit === 'number') {\n\t\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t\t}\n\t\n\t\t\treturn search;\n\t\t};\n\t\n\t\t// utilities\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\tvar cmp = function(a, b) {\n\t\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t\t}\n\t\t\ta = asciifold(String(a || ''));\n\t\t\tb = asciifold(String(b || ''));\n\t\t\tif (a > b) return 1;\n\t\t\tif (b > a) return -1;\n\t\t\treturn 0;\n\t\t};\n\t\n\t\tvar extend = function(a, b) {\n\t\t\tvar i, n, k, object;\n\t\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\t\tobject = arguments[i];\n\t\t\t\tif (!object) continue;\n\t\t\t\tfor (k in object) {\n\t\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\t\ta[k] = object[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\t\n\t\t/**\n\t\t * A property getter resolving dot-notation\n\t\t * @param  {Object}  obj     The root object to fetch property on\n\t\t * @param  {String}  name    The optionally dotted property name to fetch\n\t\t * @param  {Boolean} nesting Handle nesting or not\n\t\t * @return {Object}          The resolved property value\n\t\t */\n\t\tvar getattr = function(obj, name, nesting) {\n\t\t    if (!obj || !name) return;\n\t\t    if (!nesting) return obj[name];\n\t\t    var names = name.split(\".\");\n\t\t    while(names.length && (obj = obj[names.shift()]));\n\t\t    return obj;\n\t\t};\n\t\n\t\tvar trim = function(str) {\n\t\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t\t};\n\t\n\t\tvar escape_regex = function(str) {\n\t\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t\t};\n\t\n\t\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t\t};\n\t\n\t\tvar DIACRITICS = {\n\t\t\t'a': '[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]',\n\t\t\t'b': '[b␢βΒB฿𐌁ᛒ]',\n\t\t\t'c': '[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]',\n\t\t\t'd': '[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]',\n\t\t\t'e': '[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]',\n\t\t\t'f': '[fƑƒḞḟ]',\n\t\t\t'g': '[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]',\n\t\t\t'h': '[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]',\n\t\t\t'i': '[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]',\n\t\t\t'j': '[jȷĴĵɈɉʝɟʲ]',\n\t\t\t'k': '[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]',\n\t\t\t'l': '[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]',\n\t\t\t'n': '[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]',\n\t\t\t'o': '[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]',\n\t\t\t'p': '[pṔṕṖṗⱣᵽƤƥᵱ]',\n\t\t\t'q': '[qꝖꝗʠɊɋꝘꝙq̃]',\n\t\t\t'r': '[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]',\n\t\t\t's': '[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]',\n\t\t\t't': '[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]',\n\t\t\t'u': '[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]',\n\t\t\t'v': '[vṼṽṾṿƲʋꝞꝟⱱʋ]',\n\t\t\t'w': '[wẂẃẀẁŴŵẄẅẆẇẈẉ]',\n\t\t\t'x': '[xẌẍẊẋχ]',\n\t\t\t'y': '[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]',\n\t\t\t'z': '[zŹźẐẑŽžŻżẒẓẔẕƵƶ]'\n\t\t};\n\t\n\t\tvar asciifold = (function() {\n\t\t\tvar i, n, k, chunk;\n\t\t\tvar foreignletters = '';\n\t\t\tvar lookup = {};\n\t\t\tfor (k in DIACRITICS) {\n\t\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\t\tforeignletters += chunk;\n\t\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\t\treturn function(str) {\n\t\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\t\treturn lookup[foreignletter];\n\t\t\t\t}).toLowerCase();\n\t\t\t};\n\t\t})();\n\t\n\t\n\t\t// export\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\treturn Sifter;\n\t}));\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * microplugin.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.MicroPlugin = factory();\n\t\t}\n\t}(this, function() {\n\t\tvar MicroPlugin = {};\n\t\n\t\tMicroPlugin.mixin = function(Interface) {\n\t\t\tInterface.plugins = {};\n\t\n\t\t\t/**\n\t\t\t * Initializes the listed plugins (with options).\n\t\t\t * Acceptable formats:\n\t\t\t *\n\t\t\t * List (without options):\n\t\t\t *   ['a', 'b', 'c']\n\t\t\t *\n\t\t\t * List (with options):\n\t\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t\t *\n\t\t\t * Hash (with options):\n\t\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t\t *\n\t\t\t * @param {mixed} plugins\n\t\t\t */\n\t\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\t\tvar i, n, key;\n\t\t\t\tvar self  = this;\n\t\t\t\tvar queue = [];\n\t\n\t\t\t\tself.plugins = {\n\t\t\t\t\tnames     : [],\n\t\t\t\t\tsettings  : {},\n\t\t\t\t\trequested : {},\n\t\t\t\t\tloaded    : {}\n\t\t\t\t};\n\t\n\t\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (plugins) {\n\t\t\t\t\tfor (key in plugins) {\n\t\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\twhile (queue.length) {\n\t\t\t\t\tself.require(queue.shift());\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\t\tvar self    = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\t\t\tvar plugin  = Interface.plugins[name];\n\t\n\t\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t\t}\n\t\n\t\t\t\tplugins.requested[name] = true;\n\t\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\t\tplugins.names.push(name);\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Initializes a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t */\n\t\t\tInterface.prototype.require = function(name) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\n\t\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t\t}\n\t\t\t\t\tself.loadPlugin(name);\n\t\t\t\t}\n\t\n\t\t\t\treturn plugins.loaded[name];\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Registers a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tInterface.define = function(name, fn) {\n\t\t\t\tInterface.plugins[name] = {\n\t\t\t\t\t'name' : name,\n\t\t\t\t\t'fn'   : fn\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\n\t\tvar utils = {\n\t\t\tisArray: Array.isArray || function(vArg) {\n\t\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t\t}\n\t\t};\n\t\n\t\treturn MicroPlugin;\n\t}));\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Dependecies\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tvar $ = __webpack_require__(2);\n\t\n\tvar _module = function _module(element) {\n\t  var dropZone = $(element);\n\t  var $input = dropZone.find('input'); // TODO: Change this selector name\n\t  var $altInput = dropZone.find('[data-trigger=\"file\"]');\n\t  var defaultImage = dropZone.data('original-image');\n\t\n\t  if (defaultImage) {\n\t    fakeLoad('Imagem Padrão', defaultImage);\n\t  }\n\t\n\t  dropZone.on({\n\t    dragover: cbDragOver,\n\t    dragleave: cbDragLeave,\n\t    drop: cbDrop\n\t  });\n\t\n\t  $input.on({\n\t    change: cbChangeFile\n\t  });\n\t\n\t  $altInput.on({\n\t    click: cbTriggerFile\n\t  });\n\t\n\t  function cbDragOver(event) {\n\t    dropZone.addClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDragLeave(event) {\n\t    dropZone.removeClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDrop(event) {\n\t    var file = event.originalEvent.dataTransfer.files[0];\n\t\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    dropZone.removeClass('hover');\n\t\n\t    readFile(file);\n\t    $input.files = file;\n\t    $input.val('');\n\t    return false;\n\t  }\n\t\n\t  function cbChangeFile(event) {\n\t    readFile(this.files[0]);\n\t    return false;\n\t  }\n\t\n\t  function cbTriggerFile(event) {\n\t    $input.trigger('click');\n\t  }\n\t};\n\t\n\tvar fakeLoad = function fakeLoad(name, src) {\n\t  var $image = $('<img/>').load(function () {\n\t    createPreview(name, getCanvasImage(this));\n\t  }).attr('src', src);\n\t};\n\t\n\tvar readFile = function readFile(file) {\n\t  var reader = new FileReader();\n\t\n\t  reader.onload = function (e) {\n\t    fakeLoad(file.name, e.target.result);\n\t  };\n\t  reader.readAsDataURL(file);\n\t};\n\t\n\tvar getCanvasImage = function getCanvasImage(image) {\n\t\n\t  var imgWidth = image.width,\n\t      imgHeight = image.height;\n\t\n\t  var canvas = document.createElement('canvas');\n\t  canvas.width = imgWidth;\n\t  canvas.height = imgHeight;\n\t\n\t  var ctx = canvas.getContext('2d');\n\t  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\t\n\t  return canvas.toDataURL('image/jpeg');\n\t};\n\t\n\tvar createPreview = function createPreview(filename, newURL) {\n\t  var fileName = filename.substr(0, filename.lastIndexOf('.')); //subtract file extension\n\t  var filePath = newURL;\n\t  var image = '<img src=\"' + filePath + '\" class=\"img-responsive\" alt=\"' + fileName + '\"/>';\n\t  //append new image through jQuery Template\n\t  $('[data-content=\"file\"]').html(image).show();\n\t  $('.custom-file-content').hide();\n\t};\n\t\n\texports['default'] = _module;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar job, elementData, $element;\n\t\n\tvar defaultSettings = {\n\t  plugins: ['remove_button'],\n\t  delimiter: ',',\n\t  persist: false,\n\t  create: true,\n\t  render: {\n\t    option_create: function option_create(item) {\n\t      return '<div class=\"create\">' + item.input + '</div>';\n\t    }\n\t  }\n\t};\n\t\n\tjob = function (element) {\n\t  $element = (0, _jquery2['default'])(element);\n\t  elementData = $element.data();\n\t  (0, _jquery2['default'])(element).selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = job;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar profession, elementData, $element;\n\t\n\tvar defaultSettings = {\n\t  // plugins: ['remove_button'],\n\t  // delimiter: ',',\n\t  // persist: false,\n\t  // create: true,\n\t  // render: {\n\t  //   option_create: function (item) {\n\t  //     return `<div class=\"create\">${item.input}</div>`;\n\t  //   }\n\t  // }\n\t};\n\t\n\tprofession = function (element) {\n\t  var $element = (0, _jquery2['default'])(element);\n\t  elementData = $element.data();\n\t  var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t  $element.selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = profession;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _profession = __webpack_require__(15);\n\t\n\tvar _profession2 = _interopRequireDefault(_profession);\n\t\n\tvar _componentsGeography = __webpack_require__(17);\n\t\n\tvar _componentsGeography2 = _interopRequireDefault(_componentsGeography);\n\t\n\tvar _componentsCustomformInput = __webpack_require__(18);\n\t\n\tvar _componentsCustomformInput2 = _interopRequireDefault(_componentsCustomformInput);\n\t\n\tvar _componentsCustomformToggleSelect = __webpack_require__(19);\n\t\n\tvar _componentsCustomformToggleSelect2 = _interopRequireDefault(_componentsCustomformToggleSelect);\n\t\n\tvar _componentsCustomformToggleCheck = __webpack_require__(20);\n\t\n\tvar _componentsCustomformToggleCheck2 = _interopRequireDefault(_componentsCustomformToggleCheck);\n\t\n\t__webpack_require__(21);\n\t\n\t__webpack_require__(22);\n\t\n\t__webpack_require__(23);\n\t\n\tvar steps = function steps(root) {\n\t  var $root = $(root);\n\t  var $form = $root.parents('form');\n\t\n\t  $form.validate({\n\t    errorPlacement: function errorPlacement(error, element) {\n\t      element.after(error);\n\t    },\n\t    highlight: function highlight(element, errorClass, validClass) {\n\t      $(element).parents('.customform').addClass('customform-error');\n\t    },\n\t    unhighlight: function unhighlight(element, errorClass, validClass) {\n\t      $(element).parents('.customform').removeClass('customform-error');\n\t    },\n\t    submitHandler: function submitHandler(form) {\n\t      if ($(form).valid()) {\n\t        form.submit();\n\t      }\n\t    }\n\t  });\n\t\n\t  $root.steps({\n\t    headerTag: '[data-step-part=\"header\"]',\n\t    bodyTag: '[data-step-part=\"content\"]',\n\t    enableAllSteps: true,\n\t    titleTemplate: '#title#',\n\t    enablePagination: false,\n\t    startIndex: $root.data('index'),\n\t    onInit: function onInit(event, currentIndex) {\n\t      (0, _componentsCustomformInput2['default'])($root.find('[data-toggle=\"input\"]'));\n\t      (0, _componentsCustomformToggleSelect2['default'])($root.find('[data-toggle=\"salary\"]'), 'data-salary');\n\t      (0, _componentsCustomformToggleCheck2['default'])($root.find('[data-toggle=\"location\"]'), 'data-location');\n\t      $('[data-toggle=\"tooltip\"]').tooltip();\n\t      var formsetLength = $('[data-toggle=\"formset\"]').length;\n\t      var professionLength = $('[data-module=\"profession\"]').length;\n\t      var geographyLength = $('[data-component=\"geography\"]').length;\n\t      if (!!formsetLength) {\n\t        var $containerForm = $root.find('[data-toggle=\"formset\"]');\n\t        $containerForm.each(function (index, value) {\n\t          var dataFormset = $(value).data();\n\t          $(value).find('.row').formset({\n\t            prefix: dataFormset.prefix,\n\t            formCssClass: 'dynamic-formset-' + index,\n\t            addCssClass: 'customform-button',\n\t            addText: dataFormset.addText,\n\t            deleteTemplate: '<div class=\"col-sm-1 text-center\"><div class=\"customform customform-error\">\\n              <a class=\"delete-row text-danger\" href=\"javascript:void(0)\"><i class=\"gsticon gsticon-lg gsticon-minus-circle\"></i></a></div></div>'\n\t          });\n\t        });\n\t      }\n\t      if (!!professionLength) {\n\t        (0, _profession2['default'])($root.find('[data-module=\"profession\"]'));\n\t      }\n\t\n\t      if (!!geographyLength) {\n\t        (0, _componentsGeography2['default'])($root.find('[data-component=\"geography\"]'));\n\t      }\n\t\n\t      if ($root.data('error')) {\n\t        $root.find('.steps .current').addClass('error');\n\t      }\n\t    },\n\t    onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t      $form.validate().settings.ignore = ':disabled,:hidden';\n\t      $root.data('index', newIndex);\n\t      return $form.valid();\n\t    }\n\t  });\n\t\n\t  $root.find('[data-step-action=\"next\"]').on('click', function (event) {\n\t    $root.steps('next');\n\t  });\n\t};\n\t\n\texports['default'] = steps;\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar defaultSettings = {\n\t  plugins: ['remove_button'],\n\t  maxItems: null,\n\t  valueField: 'id',\n\t  labelField: 'name',\n\t  searchField: 'name',\n\t  options: [],\n\t  create: false,\n\t  render: {\n\t    item: function item(_item) {\n\t      return '<div>' + _item.name + '</div>';\n\t    },\n\t    option: function option(_option, escape) {\n\t      return '<div>' + escape(_option.name) + '</div>';\n\t    }\n\t  },\n\t  load: function load(query, callback) {\n\t    var options = (0, _jquery2['default'])(this.$input).data();\n\t\n\t    if (!query.length) {\n\t      return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    _jquery2['default'].ajax({\n\t      url: options.url,\n\t      data: _data,\n\t      dataType: 'json',\n\t      type: options.method || 'GET',\n\t      error: function error() {\n\t        callback();\n\t      },\n\t      success: function success(res) {\n\t        callback(res);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\tvar geography = function geography(element) {\n\t  var $element = (0, _jquery2['default'])(element);\n\t  var elementData = $element.data();\n\t  var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t  $element.selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = geography;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (name) {\n\t  var $element = $(name);\n\t\n\t  $element.map(function (element) {\n\t    if ($element[element].nodeName === 'TEXTAREA' && $element[element].value.length !== 0) {\n\t      setTimeout(inputResize($element[element]), 0);\n\t    }\n\t  });\n\t\n\t  $element.on({\n\t    focus: function focus(event) {\n\t      var $this = $(this);\n\t      $this.siblings('label').addClass('active');\n\t    },\n\t    blur: function blur(event) {\n\t      var $this = $(this);\n\t      if (!$this.val()) {\n\t        $this.siblings('label').removeClass('active');\n\t      }\n\t    },\n\t    input: function input(event) {\n\t      if (event.currentTarget.nodeName === 'TEXTAREA') {\n\t        setTimeout(inputResize(event.currentTarget), 0);\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\tvar inputResize = function inputResize(selector) {\n\t  var style = selector.style;\n\t  var height = !!selector.scrollHeight ? selector.scrollHeight + 'px' : 'auto';\n\t  style.height = 'auto';\n\t\n\t  style.height = height;\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (select, dataTarget) {\n\t  var $select = $(select);\n\t  var $target = $('[' + dataTarget + ']');\n\t  $target.hide();\n\t  $target.find(':input').attr('disabled', true);\n\t  $('[' + dataTarget + '=' + $select.val() + ']').show().find(':input').attr('disabled', false);\n\t\n\t  $select.on({\n\t    change: function change(event) {\n\t      var $this = $(event.currentTarget);\n\t      $target.hide();\n\t      $target.find(':input').attr('disabled', true);\n\t      $('[' + dataTarget + '=' + $this.val() + ']').show().find(':input').attr('disabled', false);\n\t    }\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (check, dataTarget) {\n\t  var $check = $(check);\n\t  var $target = $('[' + dataTarget + ']');\n\t\n\t  if ($check.is(':checked')) {\n\t    console.log($check.val());\n\t  }\n\t\n\t  $check.on({\n\t    change: function change(event) {\n\t      var $this = $(event.currentTarget);\n\t      $target.hide();\n\t      $target.find(':input').attr('disabled', true);\n\t\n\t      if ($this.is(':not(:checked)')) {\n\t        $('[' + dataTarget + ']').show().find(':input').attr('disabled', false);\n\t      }\n\t    }\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/*!\n\t * jQuery Steps v1.1.0 - 09/04/2014\n\t * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n\t * Licensed under MIT http://www.opensource.org/licenses/MIT\n\t */\n\t\"use strict\";\n\t\n\t;(function ($, undefined) {\n\t    $.fn.extend({\n\t        _aria: function _aria(name, value) {\n\t            return this.attr(\"aria-\" + name, value);\n\t        },\n\t\n\t        _removeAria: function _removeAria(name) {\n\t            return this.removeAttr(\"aria-\" + name);\n\t        },\n\t\n\t        _enableAria: function _enableAria(enable) {\n\t            return enable == null || enable ? this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") : this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n\t        },\n\t\n\t        _showAria: function _showAria(show) {\n\t            return show == null || show ? this.show()._aria(\"hidden\", \"false\") : this.hide()._aria(\"hidden\", \"true\");\n\t        },\n\t\n\t        _selectAria: function _selectAria(select) {\n\t            return select == null || select ? this.addClass(\"current\")._aria(\"selected\", \"true\") : this.removeClass(\"current\")._aria(\"selected\", \"false\");\n\t        },\n\t\n\t        _id: function _id(id) {\n\t            return id ? this.attr(\"id\", id) : this.attr(\"id\");\n\t        }\n\t    });\n\t\n\t    if (!String.prototype.format) {\n\t        String.prototype.format = function () {\n\t            var args = arguments.length === 1 && $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t            var formattedString = this;\n\t            for (var i = 0; i < args.length; i++) {\n\t                var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n\t                formattedString = formattedString.replace(pattern, args[i]);\n\t            }\n\t            return formattedString;\n\t        };\n\t    }\n\t\n\t    /**\n\t     * A global unique id count.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @property _uniqueId\n\t     * @type Integer\n\t     **/\n\t    var _uniqueId = 0;\n\t\n\t    /**\n\t     * The plugin prefix for cookies.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _cookiePrefix\n\t     * @type String\n\t     **/\n\t    var _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\t\n\t    /**\n\t     * Suffix for the unique tab id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabSuffix = \"-t-\";\n\t\n\t    /**\n\t     * Suffix for the unique tabpanel id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabpanelSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabpanelSuffix = \"-p-\";\n\t\n\t    /**\n\t     * Suffix for the unique title id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _titleSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _titleSuffix = \"-h-\";\n\t\n\t    /**\n\t     * An error message for an \"index out of range\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _indexOutOfRangeErrorMessage\n\t     * @type String\n\t     **/\n\t    var _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\t\n\t    /**\n\t     * An error message for an \"missing corresponding element\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _missingCorrespondingElementErrorMessage\n\t     * @type String\n\t     **/\n\t    var _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\t\n\t    /**\n\t     * Adds a step to the cache.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method addStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function addStepToCache(wizard, step) {\n\t        getSteps(wizard).push(step);\n\t    }\n\t\n\t    function analyzeData(wizard, options, state) {\n\t        var stepTitles = wizard.children(options.headerTag),\n\t            stepContents = wizard.children(options.bodyTag);\n\t\n\t        // Validate content\n\t        if (stepTitles.length > stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n\t        } else if (stepTitles.length < stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n\t        }\n\t\n\t        var startIndex = options.startIndex;\n\t\n\t        state.stepCount = stepTitles.length;\n\t\n\t        // Tries to load the saved state (step position)\n\t        if (options.saveState && $.cookie) {\n\t            var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n\t            // Sets the saved position to the start index if not undefined or out of range\n\t            var savedIndex = parseInt(savedState, 0);\n\t            if (!isNaN(savedIndex) && savedIndex < state.stepCount) {\n\t                startIndex = savedIndex;\n\t            }\n\t        }\n\t\n\t        state.currentIndex = startIndex;\n\t\n\t        stepTitles.each(function (index) {\n\t            var item = $(this),\n\t                // item == header\n\t            content = stepContents.eq(index),\n\t                modeData = content.data(\"mode\"),\n\t                mode = modeData == null ? contentMode.html : getValidEnumValue(contentMode, /^\\s*$/.test(modeData) || isNaN(modeData) ? modeData : parseInt(modeData, 0)),\n\t                contentUrl = mode === contentMode.html || content.data(\"url\") === undefined ? \"\" : content.data(\"url\"),\n\t                contentLoaded = mode !== contentMode.html && content.data(\"loaded\") === \"1\",\n\t                step = $.extend({}, stepModel, {\n\t                title: item.html(),\n\t                content: mode === contentMode.html ? content.html() : \"\",\n\t                contentUrl: contentUrl,\n\t                contentMode: mode,\n\t                contentLoaded: contentLoaded\n\t            });\n\t\n\t            addStepToCache(wizard, step);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Triggers the onCanceled event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method cancel\n\t     * @param wizard {Object} The jQuery wizard object\n\t     **/\n\t    function cancel(wizard) {\n\t        wizard.triggerHandler(\"canceled\");\n\t    }\n\t\n\t    function decreaseCurrentIndexBy(state, decreaseBy) {\n\t        return state.currentIndex - decreaseBy;\n\t    }\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method destroy\n\t     * @param wizard {Object} A jQuery wizard object\n\t     **/\n\t    function destroy(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        // Remove virtual data objects from the wizard\n\t        wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\").removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\").find(\".actions a\").unbind(eventNamespace);\n\t\n\t        // Remove attributes and CSS classes from the wizard\n\t        wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\t\n\t        var contents = wizard.find(\".content > *\");\n\t\n\t        // Remove virtual data objects from panels and their titles\n\t        contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\t\n\t        // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n\t        contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\").removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")._removeAria(\"hidden\");\n\t\n\t        // Empty panels if the mode is set to 'async' or 'iframe'\n\t        wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\t\n\t        var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\t\n\t        var wizardId = wizard._id();\n\t        if (wizardId != null && wizardId !== \"\") {\n\t            wizardSubstitute._id(wizardId);\n\t        }\n\t\n\t        wizardSubstitute.html(wizard.find(\".content\").html());\n\t        wizard.after(wizardSubstitute);\n\t        wizard.remove();\n\t\n\t        return wizardSubstitute;\n\t    }\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method finishStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function finishStep(wizard, state) {\n\t        var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\t\n\t        if (wizard.triggerHandler(\"finishing\", [state.currentIndex])) {\n\t            currentStep.addClass(\"done\").removeClass(\"error\");\n\t            wizard.triggerHandler(\"finished\", [state.currentIndex]);\n\t        } else {\n\t            currentStep.addClass(\"error\");\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique event namespace for the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getEventNamespace\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique event namespace for the given wizard\n\t     */\n\t    function getEventNamespace(wizard) {\n\t        var eventNamespace = wizard.data(\"eventNamespace\");\n\t\n\t        if (eventNamespace == null) {\n\t            eventNamespace = \".\" + getUniqueId(wizard);\n\t            wizard.data(\"eventNamespace\", eventNamespace);\n\t        }\n\t\n\t        return eventNamespace;\n\t    }\n\t\n\t    function getStepAnchor(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n\t    }\n\t\n\t    function getStepPanel(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n\t    }\n\t\n\t    function getStepTitle(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n\t    }\n\t\n\t    function getOptions(wizard) {\n\t        return wizard.data(\"options\");\n\t    }\n\t\n\t    function getState(wizard) {\n\t        return wizard.data(\"state\");\n\t    }\n\t\n\t    function getSteps(wizard) {\n\t        return wizard.data(\"steps\");\n\t    }\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    function getStep(wizard, index) {\n\t        var steps = getSteps(wizard);\n\t\n\t        if (index < 0 || index >= steps.length) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        return steps[index];\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique id from the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getUniqueId\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique id for the given wizard\n\t     */\n\t    function getUniqueId(wizard) {\n\t        var uniqueId = wizard.data(\"uid\");\n\t\n\t        if (uniqueId == null) {\n\t            uniqueId = wizard._id();\n\t            if (uniqueId == null) {\n\t                uniqueId = \"steps-uid-\".concat(_uniqueId);\n\t                wizard._id(uniqueId);\n\t            }\n\t\n\t            _uniqueId++;\n\t            wizard.data(\"uid\", uniqueId);\n\t        }\n\t\n\t        return uniqueId;\n\t    }\n\t\n\t    /**\n\t     * Gets a valid enum value by checking a specific enum key or value.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getValidEnumValue\n\t     * @param enumType {Object} Type of enum\n\t     * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n\t     */\n\t    function getValidEnumValue(enumType, keyOrValue) {\n\t        validateArgument(\"enumType\", enumType);\n\t        validateArgument(\"keyOrValue\", keyOrValue);\n\t\n\t        // Is key\n\t        if (typeof keyOrValue === \"string\") {\n\t            var value = enumType[keyOrValue];\n\t            if (value === undefined) {\n\t                throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n\t            }\n\t\n\t            return value;\n\t        }\n\t        // Is value\n\t        else if (typeof keyOrValue === \"number\") {\n\t                for (var key in enumType) {\n\t                    if (enumType[key] === keyOrValue) {\n\t                        return keyOrValue;\n\t                    }\n\t                }\n\t\n\t                throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n\t            }\n\t            // Type is not supported\n\t            else {\n\t                    throwError(\"Invalid key or value type.\");\n\t                }\n\t    }\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToNextStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToNextStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToPreviousStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToPreviousStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to a specific step by a given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the action succeeded or failed\n\t     **/\n\t    function goToStep(wizard, options, state, index) {\n\t        if (index < 0 || index >= state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        if (options.forceMoveForward && index < state.currentIndex) {\n\t            return;\n\t        }\n\t\n\t        var oldIndex = state.currentIndex;\n\t        if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index])) {\n\t            // Save new state\n\t            state.currentIndex = index;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t\n\t            // Change visualisation\n\t            refreshStepNavigation(wizard, options, state, oldIndex);\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t            startTransitionEffect(wizard, options, state, index, oldIndex, function () {\n\t                wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n\t            });\n\t        } else {\n\t            wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    function increaseCurrentIndexBy(state, increaseBy) {\n\t        return state.currentIndex + increaseBy;\n\t    }\n\t\n\t    /**\n\t     * Initializes the component.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method initialize\n\t     * @param options {Object} The component settings\n\t     **/\n\t    function initialize(options) {\n\t        /*jshint -W040 */\n\t        var opts = $.extend(true, {}, defaults, options);\n\t\n\t        return this.each(function () {\n\t            var wizard = $(this);\n\t            var state = {\n\t                currentIndex: opts.startIndex,\n\t                currentStep: null,\n\t                stepCount: 0,\n\t                transitionElement: null\n\t            };\n\t\n\t            // Create data container\n\t            wizard.data(\"options\", opts);\n\t            wizard.data(\"state\", state);\n\t            wizard.data(\"steps\", []);\n\t\n\t            analyzeData(wizard, opts, state);\n\t            render(wizard, opts, state);\n\t            registerEvents(wizard, opts);\n\t\n\t            // Trigger focus\n\t            if (opts.autoFocus && _uniqueId === 0) {\n\t                getStepAnchor(wizard, opts.startIndex).focus();\n\t            }\n\t\n\t            wizard.triggerHandler(\"init\", [opts.startIndex]);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    function insertStep(wizard, options, state, index, step) {\n\t        if (index < 0 || index > state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        // TODO: Validate step object\n\t\n\t        // Change data\n\t        step = $.extend({}, stepModel, step);\n\t        insertStepToCache(wizard, index, step);\n\t        if (state.currentIndex !== state.stepCount && state.currentIndex >= index) {\n\t            state.currentIndex++;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount++;\n\t\n\t        var contentContainer = wizard.find(\".content\"),\n\t            header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n\t            body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\t\n\t        if (step.contentMode == null || step.contentMode === contentMode.html) {\n\t            body.html(step.content);\n\t        }\n\t\n\t        if (index === 0) {\n\t            contentContainer.prepend(body).prepend(header);\n\t        } else {\n\t            getStepPanel(wizard, index - 1).after(body).after(header);\n\t        }\n\t\n\t        renderBody(wizard, state, body, index);\n\t        renderTitle(wizard, options, state, header, index);\n\t        refreshSteps(wizard, options, state, index);\n\t        if (index === state.currentIndex) {\n\t            refreshStepNavigation(wizard, options, state);\n\t        }\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return wizard;\n\t    }\n\t\n\t    /**\n\t     * Inserts a step object to the cache at a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function insertStepToCache(wizard, index, step) {\n\t        getSteps(wizard).splice(index, 0, step);\n\t    }\n\t\n\t    /**\n\t     * Handles the keyup DOM event for pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event keyup\n\t     * @param event {Object} An event object\n\t     */\n\t    function keyUpHandler(event) {\n\t        var wizard = $(this),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard);\n\t\n\t        if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\")) {\n\t            event.preventDefault();\n\t            return false;\n\t        }\n\t\n\t        var keyCodes = { left: 37, right: 39 };\n\t        if (event.keyCode === keyCodes.left) {\n\t            event.preventDefault();\n\t            goToPreviousStep(wizard, options, state);\n\t        } else if (event.keyCode === keyCodes.right) {\n\t            event.preventDefault();\n\t            goToNextStep(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Loads and includes async content.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method loadAsyncContent\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function loadAsyncContent(wizard, options, state) {\n\t        if (state.stepCount > 0) {\n\t            var currentIndex = state.currentIndex,\n\t                currentStep = getStep(wizard, currentIndex);\n\t\n\t            if (!options.enableContentCache || !currentStep.contentLoaded) {\n\t                switch (getValidEnumValue(contentMode, currentStep.contentMode)) {\n\t                    case contentMode.iframe:\n\t                        wizard.find(\".content > .body\").eq(state.currentIndex).empty().html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\").data(\"loaded\", \"1\");\n\t                        break;\n\t\n\t                    case contentMode.async:\n\t                        var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\").empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\t\n\t                        $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data) {\n\t                            currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n\t                            wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n\t                        });\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires the action next or previous click event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method paginationClick\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the event fired successfully or not\n\t     **/\n\t    function paginationClick(wizard, options, state, index) {\n\t        var oldIndex = state.currentIndex;\n\t\n\t        if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex)) {\n\t            var anchor = getStepAnchor(wizard, index),\n\t                parent = anchor.parent(),\n\t                isDisabled = parent.hasClass(\"disabled\");\n\t\n\t            // Enable the step to make the anchor clickable!\n\t            parent._enableAria();\n\t            anchor.click();\n\t\n\t            // An error occured\n\t            if (oldIndex === state.currentIndex && isDisabled) {\n\t                // Disable the step again if current index has not changed; prevents click action.\n\t                parent._enableAria(false);\n\t                return false;\n\t            }\n\t\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    }\n\t\n\t    /**\n\t     * Fires when a pagination click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function paginationClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            href = anchor.attr(\"href\");\n\t\n\t        switch (href.substring(href.lastIndexOf(\"#\") + 1)) {\n\t            case \"cancel\":\n\t                cancel(wizard);\n\t                break;\n\t\n\t            case \"finish\":\n\t                finishStep(wizard, state);\n\t                break;\n\t\n\t            case \"next\":\n\t                goToNextStep(wizard, options, state);\n\t                break;\n\t\n\t            case \"previous\":\n\t                goToPreviousStep(wizard, options, state);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the entire pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function refreshPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n\t                next = wizard.find(\".actions a[href$='#next']\").parent();\n\t\n\t            if (!options.forceMoveForward) {\n\t                var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n\t                previous._enableAria(state.currentIndex > 0);\n\t            }\n\t\n\t            if (options.enableFinishButton && options.showFinishButtonAlways) {\n\t                finish._enableAria(state.stepCount > 0);\n\t                next._enableAria(state.stepCount > 1 && state.stepCount > state.currentIndex + 1);\n\t            } else {\n\t                finish._showAria(options.enableFinishButton && state.stepCount === state.currentIndex + 1);\n\t                next._showAria(state.stepCount === 0 || state.stepCount > state.currentIndex + 1)._enableAria(state.stepCount > state.currentIndex + 1 || !options.enableFinishButton);\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the step navigation (tabs).\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshStepNavigation\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param [oldIndex] {Integer} The index of the prior step\n\t     */\n\t    function refreshStepNavigation(wizard, options, state, oldIndex) {\n\t        var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n\t            currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n\t            stepTitles = wizard.find(\".content > .title\");\n\t\n\t        if (oldIndex != null) {\n\t            var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n\t            oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n\t            stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n\t            currentInfo = oldStepAnchor.find(\".current-info\");\n\t            currentOrNewStepAnchor.focus();\n\t        }\n\t\n\t        currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n\t        stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n\t    }\n\t\n\t    /**\n\t     * Refreshes step buttons and their related titles beyond a certain position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshSteps\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The start point for refreshing ids\n\t     */\n\t    function refreshSteps(wizard, options, state, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        for (var i = index; i < state.stepCount; i++) {\n\t            var uniqueStepId = uniqueId + _tabSuffix + i,\n\t                uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n\t                uniqueHeaderId = uniqueId + _titleSuffix + i,\n\t                title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\t\n\t            wizard.find(\".steps a\").eq(i)._id(uniqueStepId)._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId).html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n\t            wizard.find(\".body\").eq(i)._id(uniqueBodyId)._aria(\"labelledby\", uniqueHeaderId);\n\t        }\n\t    }\n\t\n\t    function registerEvents(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n\t        wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n\t        wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n\t        wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n\t        wizard.bind(\"init\" + eventNamespace, options.onInit);\n\t        wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n\t        wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\t\n\t        if (options.enableKeyNavigation) {\n\t            wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n\t        }\n\t\n\t        wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method removeStep\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    function removeStep(wizard, options, state, index) {\n\t        // Index out of range and try deleting current item will return false.\n\t        if (index < 0 || index >= state.stepCount || state.currentIndex === index) {\n\t            return false;\n\t        }\n\t\n\t        // Change data\n\t        removeStepFromCache(wizard, index);\n\t        if (state.currentIndex > index) {\n\t            state.currentIndex--;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount--;\n\t\n\t        getStepTitle(wizard, index).remove();\n\t        getStepPanel(wizard, index).remove();\n\t        getStepAnchor(wizard, index).parent().remove();\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            wizard.find(\".steps li\").first().addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount) {\n\t            wizard.find(\".steps li\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        refreshSteps(wizard, options, state, index);\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return true;\n\t    }\n\t\n\t    function removeStepFromCache(wizard, index) {\n\t        getSteps(wizard).splice(index, 1);\n\t    }\n\t\n\t    /**\n\t     * Transforms the base html structure to a more sensible html structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method render\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function render(wizard, options, state) {\n\t        // Create a content wrapper and copy HTML from the intial wizard structure\n\t        var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n\t            orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n\t            verticalCssClass = orientation === stepsOrientation.vertical ? \" vertical\" : \"\",\n\t            contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n\t            stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n\t            stepTitles = contentWrapper.children(options.headerTag),\n\t            stepContents = contentWrapper.children(options.bodyTag);\n\t\n\t        // Transform the wizard wrapper and remove the inner HTML\n\t        wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper).addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\t\n\t        // Add WIA-ARIA support\n\t        stepContents.each(function (index) {\n\t            renderBody(wizard, state, $(this), index);\n\t        });\n\t\n\t        stepTitles.each(function (index) {\n\t            renderTitle(wizard, options, state, $(this), index);\n\t        });\n\t\n\t        refreshStepNavigation(wizard, options, state);\n\t        renderPagination(wizard, options, state);\n\t    }\n\t\n\t    /**\n\t     * Transforms the body to a proper tabpanel.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderBody\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param body {Object} A jQuery body object\n\t     * @param index {Integer} The position of the body\n\t     */\n\t    function renderBody(wizard, state, body, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index;\n\t\n\t        body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId).addClass(\"body\")._showAria(state.currentIndex === index);\n\t    }\n\t\n\t    /**\n\t     * Renders a pagination if enabled.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function renderPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n\t                buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n\t                buttons = \"\";\n\t\n\t            if (!options.forceMoveForward) {\n\t                buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n\t            }\n\t\n\t            buttons += buttonTemplate.format(\"next\", options.labels.next);\n\t\n\t            if (options.enableFinishButton) {\n\t                buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n\t            }\n\t\n\t            if (options.enableCancelButton) {\n\t                buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n\t            }\n\t\n\t            wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass, options.labels.pagination, buttons));\n\t\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Renders a template and replaces all placeholder.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTemplate\n\t     * @param template {String} A template\n\t     * @param substitutes {Object} A list of substitute\n\t     * @return {String} The rendered template\n\t     */\n\t    function renderTemplate(template, substitutes) {\n\t        var matches = template.match(/#([a-z]*)#/gi);\n\t\n\t        for (var i = 0; i < matches.length; i++) {\n\t            var match = matches[i],\n\t                key = match.substring(1, match.length - 1);\n\t\n\t            if (substitutes[key] === undefined) {\n\t                throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n\t            }\n\t\n\t            template = template.replace(match, substitutes[key]);\n\t        }\n\t\n\t        return template;\n\t    }\n\t\n\t    /**\n\t     * Transforms the title to a step item button.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTitle\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param header {Object} A jQuery header object\n\t     * @param index {Integer} The position of the header\n\t     */\n\t    function renderTitle(wizard, options, state, header, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueStepId = uniqueId + _tabSuffix + index,\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index,\n\t            stepCollection = wizard.find(\".steps > ul\"),\n\t            title = renderTemplate(options.titleTemplate, {\n\t            index: index + 1,\n\t            title: header.html()\n\t        }),\n\t            stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId + \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\t\n\t        stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\t\n\t        if (state.currentIndex > index) {\n\t            stepItem.addClass(\"done\");\n\t        }\n\t\n\t        header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\t\n\t        if (index === 0) {\n\t            stepCollection.prepend(stepItem);\n\t        } else {\n\t            stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n\t        }\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount - 1) {\n\t            stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        // Register click event\n\t        stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Saves the current state to a cookie.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method saveCurrentStateToCookie\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function saveCurrentStateToCookie(wizard, options, state) {\n\t        if (options.saveState && $.cookie) {\n\t            $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n\t        }\n\t    }\n\t\n\t    function startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback) {\n\t        var stepContents = wizard.find(\".content > .body\"),\n\t            effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n\t            effectSpeed = options.transitionEffectSpeed,\n\t            newStep = stepContents.eq(index),\n\t            currentStep = stepContents.eq(oldIndex);\n\t\n\t        switch (effect) {\n\t            case transitionEffect.fade:\n\t            case transitionEffect.slide:\n\t                var hide = effect === transitionEffect.fade ? \"fadeOut\" : \"slideUp\",\n\t                    show = effect === transitionEffect.fade ? \"fadeIn\" : \"slideDown\";\n\t\n\t                state.transitionElement = newStep;\n\t                currentStep[hide](effectSpeed, function () {\n\t                    var wizard = $(this)._showAria(false).parent().parent(),\n\t                        state = getState(wizard);\n\t\n\t                    if (state.transitionElement) {\n\t                        state.transitionElement[show](effectSpeed, function () {\n\t                            $(this)._showAria();\n\t                        }).promise().done(doneCallback);\n\t                        state.transitionElement = null;\n\t                    }\n\t                });\n\t                break;\n\t\n\t            case transitionEffect.slideLeft:\n\t                var outerWidth = currentStep.outerWidth(true),\n\t                    posFadeOut = index > oldIndex ? -outerWidth : outerWidth,\n\t                    posFadeIn = index > oldIndex ? outerWidth : -outerWidth;\n\t\n\t                $.when(currentStep.animate({ left: posFadeOut }, effectSpeed, function () {\n\t                    $(this)._showAria(false);\n\t                }), newStep.css(\"left\", posFadeIn + \"px\")._showAria().animate({ left: 0 }, effectSpeed)).done(doneCallback);\n\t                break;\n\t\n\t            default:\n\t                $.when(currentStep._showAria(false), newStep._showAria()).done(doneCallback);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires when a step click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function stepClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            oldIndex = state.currentIndex;\n\t\n\t        if (anchor.parent().is(\":not(.disabled):not(.current)\")) {\n\t            var href = anchor.attr(\"href\"),\n\t                position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\t\n\t            goToStep(wizard, options, state, position);\n\t        }\n\t\n\t        // If nothing has changed\n\t        if (oldIndex === state.currentIndex) {\n\t            getStepAnchor(wizard, oldIndex).focus();\n\t            return false;\n\t        }\n\t    }\n\t\n\t    function throwError(message) {\n\t        if (arguments.length > 1) {\n\t            message = message.format(Array.prototype.slice.call(arguments, 1));\n\t        }\n\t\n\t        throw new Error(message);\n\t    }\n\t\n\t    /**\n\t     * Checks an argument for null or undefined and throws an error if one check applies.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method validateArgument\n\t     * @param argumentName {String} The name of the given argument\n\t     * @param argumentValue {Object} The argument itself\n\t     */\n\t    function validateArgument(argumentName, argumentValue) {\n\t        if (argumentValue == null) {\n\t            throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Represents a jQuery wizard plugin.\n\t     *\n\t     * @class steps\n\t     * @constructor\n\t     * @param [method={}] The name of the method as `String` or an JSON object for initialization\n\t     * @param [params=]* {Array} Additional arguments for a method call\n\t     * @chainable\n\t     **/\n\t    $.fn.steps = function (method) {\n\t        if ($.fn.steps[method]) {\n\t            return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n\t        } else if (typeof method === \"object\" || !method) {\n\t            return initialize.apply(this, arguments);\n\t        } else {\n\t            $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Adds a new step.\n\t     *\n\t     * @method add\n\t     * @param step {Object} The step object to add\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.add = function (step) {\n\t        var state = getState(this);\n\t        return insertStep(this, getOptions(this), state, state.stepCount, step);\n\t    };\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @method destroy\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.destroy = function () {\n\t        return destroy(this, getOptions(this));\n\t    };\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @method finish\n\t     **/\n\t    $.fn.steps.finish = function () {\n\t        finishStep(this, getState(this));\n\t    };\n\t\n\t    /**\n\t     * Gets the current step index.\n\t     *\n\t     * @method getCurrentIndex\n\t     * @return {Integer} The actual step index (zero-based)\n\t     * @for steps\n\t     **/\n\t    $.fn.steps.getCurrentIndex = function () {\n\t        return getState(this).currentIndex;\n\t    };\n\t\n\t    /**\n\t     * Gets the current step object.\n\t     *\n\t     * @method getCurrentStep\n\t     * @return {Object} The actual step object\n\t     **/\n\t    $.fn.steps.getCurrentStep = function () {\n\t        return getStep(this, getState(this).currentIndex);\n\t    };\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    $.fn.steps.getStep = function (index) {\n\t        return getStep(this, index);\n\t    };\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @method insert\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.insert = function (index, step) {\n\t        return insertStep(this, getOptions(this), getState(this), index, step);\n\t    };\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @method next\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.next = function () {\n\t        return goToNextStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @method previous\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.previous = function () {\n\t        return goToPreviousStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @method remove\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    $.fn.steps.remove = function (index) {\n\t        return removeStep(this, getOptions(this), getState(this), index);\n\t    };\n\t\n\t    /**\n\t     * Sets a specific step object by index.\n\t     *\n\t     * @method setStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @param step {Object} The step object to change\n\t     **/\n\t    $.fn.steps.setStep = function (index, step) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * Skips an certain amount of steps.\n\t     *\n\t     * @method skip\n\t     * @param count {Integer} The amount of steps that should be skipped\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.skip = function (count) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * An enum represents the different content types of a step and their loading mechanisms.\n\t     *\n\t     * @class contentMode\n\t     * @for steps\n\t     **/\n\t    var contentMode = $.fn.steps.contentMode = {\n\t        /**\n\t         * HTML embedded content\n\t         *\n\t         * @readOnly\n\t         * @property html\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        html: 0,\n\t\n\t        /**\n\t         * IFrame embedded content\n\t         *\n\t         * @readOnly\n\t         * @property iframe\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        iframe: 1,\n\t\n\t        /**\n\t         * Async embedded content\n\t         *\n\t         * @readOnly\n\t         * @property async\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        async: 2\n\t    };\n\t\n\t    /**\n\t     * An enum represents the orientation of the steps navigation.\n\t     *\n\t     * @class stepsOrientation\n\t     * @for steps\n\t     **/\n\t    var stepsOrientation = $.fn.steps.stepsOrientation = {\n\t        /**\n\t         * Horizontal orientation\n\t         *\n\t         * @readOnly\n\t         * @property horizontal\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        horizontal: 0,\n\t\n\t        /**\n\t         * Vertical orientation\n\t         *\n\t         * @readOnly\n\t         * @property vertical\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        vertical: 1\n\t    };\n\t\n\t    /**\n\t     * An enum that represents the various transition animations.\n\t     *\n\t     * @class transitionEffect\n\t     * @for steps\n\t     **/\n\t    var transitionEffect = $.fn.steps.transitionEffect = {\n\t        /**\n\t         * No transition animation\n\t         *\n\t         * @readOnly\n\t         * @property none\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        none: 0,\n\t\n\t        /**\n\t         * Fade in transition\n\t         *\n\t         * @readOnly\n\t         * @property fade\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        fade: 1,\n\t\n\t        /**\n\t         * Slide up transition\n\t         *\n\t         * @readOnly\n\t         * @property slide\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slide: 2,\n\t\n\t        /**\n\t         * Slide left transition\n\t         *\n\t         * @readOnly\n\t         * @property slideLeft\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slideLeft: 3\n\t    };\n\t\n\t    var stepModel = $.fn.steps.stepModel = {\n\t        title: \"\",\n\t        content: \"\",\n\t        contentUrl: \"\",\n\t        contentMode: contentMode.html,\n\t        contentLoaded: false\n\t    };\n\t\n\t    /**\n\t     * An object that represents the default settings.\n\t     * There are two possibities to override the sub-properties.\n\t     * Either by doing it generally (global) or on initialization.\n\t     *\n\t     * @static\n\t     * @class defaults\n\t     * @for steps\n\t     * @example\n\t     *   // Global approach\n\t     *   $.steps.defaults.headerTag = \"h3\";\n\t     * @example\n\t     *   // Initialization approach\n\t     *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n\t     **/\n\t    var defaults = $.fn.steps.defaults = {\n\t        /**\n\t         * The header tag is used to find the step button text within the declared wizard area.\n\t         *\n\t         * @property headerTag\n\t         * @type String\n\t         * @default \"h1\"\n\t         * @for defaults\n\t         **/\n\t        headerTag: \"h1\",\n\t\n\t        /**\n\t         * The body tag is used to find the step content within the declared wizard area.\n\t         *\n\t         * @property bodyTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        bodyTag: \"div\",\n\t\n\t        /**\n\t         * The content container tag which will be used to wrap all step contents.\n\t         *\n\t         * @property contentContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        contentContainerTag: \"div\",\n\t\n\t        /**\n\t         * The action container tag which will be used to wrap the pagination navigation.\n\t         *\n\t         * @property actionContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        actionContainerTag: \"div\",\n\t\n\t        /**\n\t         * The steps container tag which will be used to wrap the steps navigation.\n\t         *\n\t         * @property stepsContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        stepsContainerTag: \"div\",\n\t\n\t        /**\n\t         * The css class which will be added to the outer component wrapper.\n\t         *\n\t         * @property cssClass\n\t         * @type String\n\t         * @default \"wizard\"\n\t         * @for defaults\n\t         * @example\n\t         *     <div class=\"wizard\">\n\t         *         ...\n\t         *     </div>\n\t         **/\n\t        cssClass: \"wizard\",\n\t\n\t        /**\n\t         * The css class which will be used for floating scenarios.\n\t         *\n\t         * @property clearFixCssClass\n\t         * @type String\n\t         * @default \"clearfix\"\n\t         * @for defaults\n\t         **/\n\t        clearFixCssClass: \"clearfix\",\n\t\n\t        /**\n\t         * Determines whether the steps are vertically or horizontally oriented.\n\t         *\n\t         * @property stepsOrientation\n\t         * @type stepsOrientation\n\t         * @default horizontal\n\t         * @for defaults\n\t         * @since 1.0.0\n\t         **/\n\t        stepsOrientation: stepsOrientation.horizontal,\n\t\n\t        /*\n\t         * Tempplates\n\t         */\n\t\n\t        /**\n\t         * The title template which will be used to create a step button.\n\t         *\n\t         * @property titleTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n\t         * @for defaults\n\t         **/\n\t        titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\t\n\t        /**\n\t         * The loading template which will be used to create the loading animation.\n\t         *\n\t         * @property loadingTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n\t         * @for defaults\n\t         **/\n\t        loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\t\n\t        /*\n\t         * Behaviour\n\t         */\n\t\n\t        /**\n\t         * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n\t         *\n\t         * @property autoFocus\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         * @since 0.9.4\n\t         **/\n\t        autoFocus: false,\n\t\n\t        /**\n\t         * Enables all steps from the begining if `true` (all steps are clickable).\n\t         *\n\t         * @property enableAllSteps\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableAllSteps: false,\n\t\n\t        /**\n\t         * Enables keyboard navigation if `true` (arrow left and arrow right).\n\t         *\n\t         * @property enableKeyNavigation\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableKeyNavigation: true,\n\t\n\t        /**\n\t         * Enables pagination if `true`.\n\t         *\n\t         * @property enablePagination\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enablePagination: true,\n\t\n\t        /**\n\t         * Suppresses pagination if a form field is focused.\n\t         *\n\t         * @property suppressPaginationOnFocus\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        suppressPaginationOnFocus: true,\n\t\n\t        /**\n\t         * Enables cache for async loaded or iframe embedded content.\n\t         *\n\t         * @property enableContentCache\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableContentCache: true,\n\t\n\t        /**\n\t         * Shows the cancel button if enabled.\n\t         *\n\t         * @property enableCancelButton\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableCancelButton: false,\n\t\n\t        /**\n\t         * Shows the finish button if enabled.\n\t         *\n\t         * @property enableFinishButton\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableFinishButton: true,\n\t\n\t        /**\n\t         * Not yet implemented.\n\t         *\n\t         * @property preloadContent\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        preloadContent: false,\n\t\n\t        /**\n\t         * Shows the finish button always (on each step; right beside the next button) if `true`.\n\t         * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n\t         *\n\t         * @property showFinishButtonAlways\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        showFinishButtonAlways: false,\n\t\n\t        /**\n\t         * Prevents jumping to a previous step.\n\t         *\n\t         * @property forceMoveForward\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        forceMoveForward: false,\n\t\n\t        /**\n\t         * Saves the current state (step position) to a cookie.\n\t         * By coming next time the last active step becomes activated.\n\t         *\n\t         * @property saveState\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        saveState: false,\n\t\n\t        /**\n\t         * The position to start on (zero-based).\n\t         *\n\t         * @property startIndex\n\t         * @type Integer\n\t         * @default 0\n\t         * @for defaults\n\t         **/\n\t        startIndex: 0,\n\t\n\t        /*\n\t         * Animation Effect Configuration\n\t         */\n\t\n\t        /**\n\t         * The animation effect which will be used for step transitions.\n\t         *\n\t         * @property transitionEffect\n\t         * @type transitionEffect\n\t         * @default none\n\t         * @for defaults\n\t         **/\n\t        transitionEffect: transitionEffect.none,\n\t\n\t        /**\n\t         * Animation speed for step transitions (in milliseconds).\n\t         *\n\t         * @property transitionEffectSpeed\n\t         * @type Integer\n\t         * @default 200\n\t         * @for defaults\n\t         **/\n\t        transitionEffectSpeed: 200,\n\t\n\t        /*\n\t         * Events\n\t         */\n\t\n\t        /**\n\t         * Fires before the step changes and can be used to prevent step changing by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onStepChanging\n\t         * @type Event\n\t         * @default function (event, currentIndex, newIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after the step has change.\n\t         *\n\t         * @property onStepChanged\n\t         * @type Event\n\t         * @default function (event, currentIndex, priorIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onStepChanged: function onStepChanged(event, currentIndex, priorIndex) {},\n\t\n\t        /**\n\t         * Fires after cancelation.\n\t         *\n\t         * @property onCanceled\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onCanceled: function onCanceled(event) {},\n\t\n\t        /**\n\t         * Fires before finishing and can be used to prevent completion by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onFinishing\n\t         * @type Event\n\t         * @default function (event, currentIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onFinishing: function onFinishing(event, currentIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after completion.\n\t         *\n\t         * @property onFinished\n\t         * @type Event\n\t         * @default function (event, currentIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onFinished: function onFinished(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires after async content is loaded.\n\t         *\n\t         * @property onContentLoaded\n\t         * @type Event\n\t         * @default function (event, index) { }\n\t         * @for defaults\n\t         **/\n\t        onContentLoaded: function onContentLoaded(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires when the wizard is initialized.\n\t         *\n\t         * @property onInit\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onInit: function onInit(event, currentIndex) {},\n\t\n\t        /**\n\t         * Contains all labels.\n\t         *\n\t         * @property labels\n\t         * @type Object\n\t         * @for defaults\n\t         **/\n\t        labels: {\n\t            /**\n\t             * Label for the cancel button.\n\t             *\n\t             * @property cancel\n\t             * @type String\n\t             * @default \"Cancel\"\n\t             * @for defaults\n\t             **/\n\t            cancel: \"Cancel\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons.\n\t             * Indicates which step is activated.\n\t             *\n\t             * @property current\n\t             * @type String\n\t             * @default \"current step:\"\n\t             * @for defaults\n\t             **/\n\t            current: \"current step:\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons and describes the kind of navigation.\n\t             *\n\t             * @property pagination\n\t             * @type String\n\t             * @default \"Pagination\"\n\t             * @for defaults\n\t             * @since 0.9.7\n\t             **/\n\t            pagination: \"Pagination\",\n\t\n\t            /**\n\t             * Label for the finish button.\n\t             *\n\t             * @property finish\n\t             * @type String\n\t             * @default \"Finish\"\n\t             * @for defaults\n\t             **/\n\t            finish: \"Finish\",\n\t\n\t            /**\n\t             * Label for the next button.\n\t             *\n\t             * @property next\n\t             * @type String\n\t             * @default \"Next\"\n\t             * @for defaults\n\t             **/\n\t            next: \"Next\",\n\t\n\t            /**\n\t             * Label for the previous button.\n\t             *\n\t             * @property previous\n\t             * @type String\n\t             * @default \"Previous\"\n\t             * @for defaults\n\t             **/\n\t            previous: \"Previous\",\n\t\n\t            /**\n\t             * Label for the loading animation.\n\t             *\n\t             * @property loading\n\t             * @type String\n\t             * @default \"Loading ...\"\n\t             * @for defaults\n\t             **/\n\t            loading: \"Loading ...\"\n\t        }\n\t    };\n\t})(jQuery);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * jQuery Validation Plugin v1.15.0\n\t *\n\t * http://jqueryvalidation.org/\n\t *\n\t * Copyright (c) 2016 Jörn Zaefferer\n\t * Released under the MIT license\n\t */\n\t\"use strict\";\n\t\n\t(function (factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof module === \"object\" && module.exports) {\n\t\t\tmodule.exports = factory(require(\"jquery\"));\n\t\t} else {\n\t\t\tfactory(jQuery);\n\t\t}\n\t})(function ($) {\n\t\n\t\t$.extend($.fn, {\n\t\n\t\t\t// http://jqueryvalidation.org/validate/\n\t\t\tvalidate: function validate(options) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\tif (options && options.debug && window.console) {\n\t\t\t\t\t\tconsole.warn(\"Nothing selected, can't validate, returning nothing.\");\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// Check if a validator for this form was already created\n\t\t\t\tvar validator = $.data(this[0], \"validator\");\n\t\t\t\tif (validator) {\n\t\t\t\t\treturn validator;\n\t\t\t\t}\n\t\n\t\t\t\t// Add novalidate tag if HTML5.\n\t\t\t\tthis.attr(\"novalidate\", \"novalidate\");\n\t\n\t\t\t\tvalidator = new $.validator(options, this[0]);\n\t\t\t\t$.data(this[0], \"validator\", validator);\n\t\n\t\t\t\tif (validator.settings.onsubmit) {\n\t\n\t\t\t\t\tthis.on(\"click.validate\", \":submit\", function (event) {\n\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\t\t\tif ($(this).hasClass(\"cancel\")) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\t\t\tif ($(this).attr(\"formnovalidate\") !== undefined) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// Validate the form on submit\n\t\t\t\t\tthis.on(\"submit.validate\", function (event) {\n\t\t\t\t\t\tif (validator.settings.debug) {\n\t\n\t\t\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfunction handle() {\n\t\t\t\t\t\t\tvar hidden, result;\n\t\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\t\t\thidden = $(\"<input type='hidden'/>\").attr(\"name\", validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresult = validator.settings.submitHandler.call(validator, validator.currentForm, event);\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (result !== undefined) {\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\t\t\tif (validator.cancelSubmit) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (validator.form()) {\n\t\t\t\t\t\t\tif (validator.pendingRequest) {\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\treturn validator;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/valid/\n\t\t\tvalid: function valid() {\n\t\t\t\tvar valid, validator, errorList;\n\t\n\t\t\t\tif ($(this[0]).is(\"form\")) {\n\t\t\t\t\tvalid = this.validate().form();\n\t\t\t\t} else {\n\t\t\t\t\terrorList = [];\n\t\t\t\t\tvalid = true;\n\t\t\t\t\tvalidator = $(this[0].form).validate();\n\t\t\t\t\tthis.each(function () {\n\t\t\t\t\t\tvalid = validator.element(this) && valid;\n\t\t\t\t\t\tif (!valid) {\n\t\t\t\t\t\t\terrorList = errorList.concat(validator.errorList);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvalidator.errorList = errorList;\n\t\t\t\t}\n\t\t\t\treturn valid;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/rules/\n\t\t\trules: function rules(command, argument) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar element = this[0],\n\t\t\t\t    settings,\n\t\t\t\t    staticRules,\n\t\t\t\t    existingRules,\n\t\t\t\t    data,\n\t\t\t\t    param,\n\t\t\t\t    filtered;\n\t\n\t\t\t\tif (command) {\n\t\t\t\t\tsettings = $.data(element.form, \"validator\").settings;\n\t\t\t\t\tstaticRules = settings.rules;\n\t\t\t\t\texistingRules = $.validator.staticRules(element);\n\t\t\t\t\tswitch (command) {\n\t\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\t\t$.extend(existingRules, $.validator.normalizeRule(argument));\n\t\n\t\t\t\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\t\t\t\tdelete existingRules.messages;\n\t\t\t\t\t\t\tstaticRules[element.name] = existingRules;\n\t\t\t\t\t\t\tif (argument.messages) {\n\t\t\t\t\t\t\t\tsettings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"remove\":\n\t\t\t\t\t\t\tif (!argument) {\n\t\t\t\t\t\t\t\tdelete staticRules[element.name];\n\t\t\t\t\t\t\t\treturn existingRules;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfiltered = {};\n\t\t\t\t\t\t\t$.each(argument.split(/\\s/), function (index, method) {\n\t\t\t\t\t\t\t\tfiltered[method] = existingRules[method];\n\t\t\t\t\t\t\t\tdelete existingRules[method];\n\t\t\t\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\t\t\t\t$(element).removeAttr(\"aria-required\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn filtered;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tdata = $.validator.normalizeRules($.extend({}, $.validator.classRules(element), $.validator.attributeRules(element), $.validator.dataRules(element), $.validator.staticRules(element)), element);\n\t\n\t\t\t\t// Make sure required is at front\n\t\t\t\tif (data.required) {\n\t\t\t\t\tparam = data.required;\n\t\t\t\t\tdelete data.required;\n\t\t\t\t\tdata = $.extend({ required: param }, data);\n\t\t\t\t\t$(element).attr(\"aria-required\", \"true\");\n\t\t\t\t}\n\t\n\t\t\t\t// Make sure remote is at back\n\t\t\t\tif (data.remote) {\n\t\t\t\t\tparam = data.remote;\n\t\t\t\t\tdelete data.remote;\n\t\t\t\t\tdata = $.extend(data, { remote: param });\n\t\t\t\t}\n\t\n\t\t\t\treturn data;\n\t\t\t}\n\t\t});\n\t\n\t\t// Custom selectors\n\t\t$.extend($.expr[\":\"], {\n\t\n\t\t\t// http://jqueryvalidation.org/blank-selector/\n\t\t\tblank: function blank(a) {\n\t\t\t\treturn !$.trim(\"\" + $(a).val());\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/filled-selector/\n\t\t\tfilled: function filled(a) {\n\t\t\t\tvar val = $(a).val();\n\t\t\t\treturn val !== null && !!$.trim(\"\" + val);\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/unchecked-selector/\n\t\t\tunchecked: function unchecked(a) {\n\t\t\t\treturn !$(a).prop(\"checked\");\n\t\t\t}\n\t\t});\n\t\n\t\t// Constructor for validator\n\t\t$.validator = function (options, form) {\n\t\t\tthis.settings = $.extend(true, {}, $.validator.defaults, options);\n\t\t\tthis.currentForm = form;\n\t\t\tthis.init();\n\t\t};\n\t\n\t\t// http://jqueryvalidation.org/jQuery.validator.format/\n\t\t$.validator.format = function (source, params) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\targs.unshift(source);\n\t\t\t\t\treturn $.validator.format.apply(this, args);\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\treturn source;\n\t\t\t}\n\t\t\tif (arguments.length > 2 && params.constructor !== Array) {\n\t\t\t\tparams = $.makeArray(arguments).slice(1);\n\t\t\t}\n\t\t\tif (params.constructor !== Array) {\n\t\t\t\tparams = [params];\n\t\t\t}\n\t\t\t$.each(params, function (i, n) {\n\t\t\t\tsource = source.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), function () {\n\t\t\t\t\treturn n;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn source;\n\t\t};\n\t\n\t\t$.extend($.validator, {\n\t\n\t\t\tdefaults: {\n\t\t\t\tmessages: {},\n\t\t\t\tgroups: {},\n\t\t\t\trules: {},\n\t\t\t\terrorClass: \"error\",\n\t\t\t\tpendingClass: \"pending\",\n\t\t\t\tvalidClass: \"valid\",\n\t\t\t\terrorElement: \"label\",\n\t\t\t\tfocusCleanup: false,\n\t\t\t\tfocusInvalid: true,\n\t\t\t\terrorContainer: $([]),\n\t\t\t\terrorLabelContainer: $([]),\n\t\t\t\tonsubmit: true,\n\t\t\t\tignore: \":hidden\",\n\t\t\t\tignoreTitle: false,\n\t\t\t\tonfocusin: function onfocusin(element) {\n\t\t\t\t\tthis.lastActive = element;\n\t\n\t\t\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\t\t\tif (this.settings.focusCleanup) {\n\t\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hideThese(this.errorsFor(element));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonfocusout: function onfocusout(element) {\n\t\t\t\t\tif (!this.checkable(element) && (element.name in this.submitted || !this.optional(element))) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonkeyup: function onkeyup(element, event) {\n\t\n\t\t\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t\t\t// Shift       => 16\n\t\t\t\t\t// Ctrl        => 17\n\t\t\t\t\t// Alt         => 18\n\t\t\t\t\t// Caps lock   => 20\n\t\t\t\t\t// End         => 35\n\t\t\t\t\t// Home        => 36\n\t\t\t\t\t// Left arrow  => 37\n\t\t\t\t\t// Up arrow    => 38\n\t\t\t\t\t// Right arrow => 39\n\t\t\t\t\t// Down arrow  => 40\n\t\t\t\t\t// Insert      => 45\n\t\t\t\t\t// Num lock    => 144\n\t\t\t\t\t// AltGr key   => 225\n\t\t\t\t\tvar excludedKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n\t\n\t\t\t\t\tif (event.which === 9 && this.elementValue(element) === \"\" || $.inArray(event.keyCode, excludedKeys) !== -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (element.name in this.submitted || element.name in this.invalid) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonclick: function onclick(element) {\n\t\n\t\t\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\t\t\tif (element.name in this.submitted) {\n\t\t\t\t\t\tthis.element(element);\n\t\n\t\t\t\t\t\t// Or option elements, check parent select in that case\n\t\t\t\t\t} else if (element.parentNode.name in this.submitted) {\n\t\t\t\t\t\t\tthis.element(element.parentNode);\n\t\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thighlight: function highlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tunhighlight: function unhighlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\t\t\tsetDefaults: function setDefaults(settings) {\n\t\t\t\t$.extend($.validator.defaults, settings);\n\t\t\t},\n\t\n\t\t\tmessages: {\n\t\t\t\trequired: \"This field is required.\",\n\t\t\t\tremote: \"Please fix this field.\",\n\t\t\t\temail: \"Please enter a valid email address.\",\n\t\t\t\turl: \"Please enter a valid URL.\",\n\t\t\t\tdate: \"Please enter a valid date.\",\n\t\t\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\t\t\tnumber: \"Please enter a valid number.\",\n\t\t\t\tdigits: \"Please enter only digits.\",\n\t\t\t\tequalTo: \"Please enter the same value again.\",\n\t\t\t\tmaxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\n\t\t\t\tminlength: $.validator.format(\"Please enter at least {0} characters.\"),\n\t\t\t\trangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n\t\t\t\trange: $.validator.format(\"Please enter a value between {0} and {1}.\"),\n\t\t\t\tmax: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\n\t\t\t\tmin: $.validator.format(\"Please enter a value greater than or equal to {0}.\"),\n\t\t\t\tstep: $.validator.format(\"Please enter a multiple of {0}.\")\n\t\t\t},\n\t\n\t\t\tautoCreateRanges: false,\n\t\n\t\t\tprototype: {\n\t\n\t\t\t\tinit: function init() {\n\t\t\t\t\tthis.labelContainer = $(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\n\t\t\t\t\tthis.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.valueCache = {};\n\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\tthis.pending = {};\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.reset();\n\t\n\t\t\t\t\tvar groups = this.groups = {},\n\t\t\t\t\t    rules;\n\t\t\t\t\t$.each(this.settings.groups, function (key, value) {\n\t\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\t\tvalue = value.split(/\\s/);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(value, function (index, name) {\n\t\t\t\t\t\t\tgroups[name] = key;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\trules = this.settings.rules;\n\t\t\t\t\t$.each(rules, function (key, value) {\n\t\t\t\t\t\trules[key] = $.validator.normalizeRule(value);\n\t\t\t\t\t});\n\t\n\t\t\t\t\tfunction delegate(event) {\n\t\t\t\t\t\tvar validator = $.data(this.form, \"validator\"),\n\t\t\t\t\t\t    eventType = \"on\" + event.type.replace(/^validate/, \"\"),\n\t\t\t\t\t\t    settings = validator.settings;\n\t\t\t\t\t\tif (settings[eventType] && !$(this).is(settings.ignore)) {\n\t\t\t\t\t\t\tsettings[eventType].call(validator, this, event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$(this.currentForm).on(\"focusin.validate focusout.validate keyup.validate\", \":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" + \"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" + \"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" + \"[type='radio'], [type='checkbox'], [contenteditable]\", delegate)\n\t\n\t\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t\t.on(\"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate);\n\t\n\t\t\t\t\tif (this.settings.invalidHandler) {\n\t\t\t\t\t\t$(this.currentForm).on(\"invalid-form.validate\", this.settings.invalidHandler);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t\t\t$(this.currentForm).find(\"[required], [data-rule-required], .required\").attr(\"aria-required\", \"true\");\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.form/\n\t\t\t\tform: function form() {\n\t\t\t\t\tthis.checkForm();\n\t\t\t\t\t$.extend(this.submitted, this.errorMap);\n\t\t\t\t\tthis.invalid = $.extend({}, this.errorMap);\n\t\t\t\t\tif (!this.valid()) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.showErrors();\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\tcheckForm: function checkForm() {\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tfor (var i = 0, elements = this.currentElements = this.elements(); elements[i]; i++) {\n\t\t\t\t\t\tthis.check(elements[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.element/\n\t\t\t\telement: function element(_element) {\n\t\t\t\t\tvar cleanElement = this.clean(_element),\n\t\t\t\t\t    checkElement = this.validationTargetFor(cleanElement),\n\t\t\t\t\t    v = this,\n\t\t\t\t\t    result = true,\n\t\t\t\t\t    rs,\n\t\t\t\t\t    group;\n\t\n\t\t\t\t\tif (checkElement === undefined) {\n\t\t\t\t\t\tdelete this.invalid[cleanElement.name];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.prepareElement(checkElement);\n\t\t\t\t\t\tthis.currentElements = $(checkElement);\n\t\n\t\t\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t\t\t// containing a value\n\t\t\t\t\t\tgroup = this.groups[checkElement.name];\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t$.each(this.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\tif (testgroup === group && name !== checkElement.name) {\n\t\t\t\t\t\t\t\t\tcleanElement = v.validationTargetFor(v.clean(v.findByName(name)));\n\t\t\t\t\t\t\t\t\tif (cleanElement && cleanElement.name in v.invalid) {\n\t\t\t\t\t\t\t\t\t\tv.currentElements.push(cleanElement);\n\t\t\t\t\t\t\t\t\t\tresult = result && v.check(cleanElement);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trs = this.check(checkElement) !== false;\n\t\t\t\t\t\tresult = result && rs;\n\t\t\t\t\t\tif (rs) {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!this.numberOfInvalids()) {\n\t\n\t\t\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\t\t\tthis.toHide = this.toHide.add(this.containers);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showErrors();\n\t\n\t\t\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t\t\t$(_element).attr(\"aria-invalid\", !rs);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\t\t\tshowErrors: function showErrors(errors) {\n\t\t\t\t\tif (errors) {\n\t\t\t\t\t\tvar validator = this;\n\t\n\t\t\t\t\t\t// Add items to error list and map\n\t\t\t\t\t\t$.extend(this.errorMap, errors);\n\t\t\t\t\t\tthis.errorList = $.map(this.errorMap, function (message, name) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\t\t\telement: validator.findByName(name)[0]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t// Remove items from success list\n\t\t\t\t\t\tthis.successList = $.grep(this.successList, function (element) {\n\t\t\t\t\t\t\treturn !(element.name in errors);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.showErrors) {\n\t\t\t\t\t\tthis.settings.showErrors.call(this, this.errorMap, this.errorList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.defaultShowErrors();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\t\t\tresetForm: function resetForm() {\n\t\t\t\t\tif ($.fn.resetForm) {\n\t\t\t\t\t\t$(this.currentForm).resetForm();\n\t\t\t\t\t}\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tvar elements = this.elements().removeData(\"previousValue\").removeAttr(\"aria-invalid\");\n\t\n\t\t\t\t\tthis.resetElements(elements);\n\t\t\t\t},\n\t\n\t\t\t\tresetElements: function resetElements(elements) {\n\t\t\t\t\tvar i;\n\t\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0; elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, \"\");\n\t\t\t\t\t\t\tthis.findByName(elements[i].name).removeClass(this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\telements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tnumberOfInvalids: function numberOfInvalids() {\n\t\t\t\t\treturn this.objectLength(this.invalid);\n\t\t\t\t},\n\t\n\t\t\t\tobjectLength: function objectLength(obj) {\n\t\t\t\t\t/* jshint unused: false */\n\t\t\t\t\tvar count = 0,\n\t\t\t\t\t    i;\n\t\t\t\t\tfor (i in obj) {\n\t\t\t\t\t\tif (obj[i]) {\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn count;\n\t\t\t\t},\n\t\n\t\t\t\thideErrors: function hideErrors() {\n\t\t\t\t\tthis.hideThese(this.toHide);\n\t\t\t\t},\n\t\n\t\t\t\thideThese: function hideThese(errors) {\n\t\t\t\t\terrors.not(this.containers).text(\"\");\n\t\t\t\t\tthis.addWrapper(errors).hide();\n\t\t\t\t},\n\t\n\t\t\t\tvalid: function valid() {\n\t\t\t\t\treturn this.size() === 0;\n\t\t\t\t},\n\t\n\t\t\t\tsize: function size() {\n\t\t\t\t\treturn this.errorList.length;\n\t\t\t\t},\n\t\n\t\t\t\tfocusInvalid: function focusInvalid() {\n\t\t\t\t\tif (this.settings.focusInvalid) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(\":visible\").focus()\n\t\n\t\t\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t\t\t.trigger(\"focusin\");\n\t\t\t\t\t\t} catch (e) {\n\t\n\t\t\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tfindLastActive: function findLastActive() {\n\t\t\t\t\tvar lastActive = this.lastActive;\n\t\t\t\t\treturn lastActive && $.grep(this.errorList, function (n) {\n\t\t\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t\t\t}).length === 1 && lastActive;\n\t\t\t\t},\n\t\n\t\t\t\telements: function elements() {\n\t\t\t\t\tvar validator = this,\n\t\t\t\t\t    rulesCache = {};\n\t\n\t\t\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\t\t\treturn $(this.currentForm).find(\"input, select, textarea, [contenteditable]\").not(\":submit, :reset, :image, :disabled\").not(this.settings.ignore).filter(function () {\n\t\t\t\t\t\tvar name = this.name || $(this).attr(\"name\"); // For contenteditable\n\t\t\t\t\t\tif (!name && validator.settings.debug && window.console) {\n\t\t\t\t\t\t\tconsole.error(\"%o has no name assigned\", this);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Set form expando on contenteditable\n\t\t\t\t\t\tif (this.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\t\tthis.form = $(this).closest(\"form\")[0];\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\t\t\tif (name in rulesCache || !validator.objectLength($(this).rules())) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trulesCache[name] = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tclean: function clean(selector) {\n\t\t\t\t\treturn $(selector)[0];\n\t\t\t\t},\n\t\n\t\t\t\terrors: function errors() {\n\t\t\t\t\tvar errorClass = this.settings.errorClass.split(\" \").join(\".\");\n\t\t\t\t\treturn $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\n\t\t\t\t},\n\t\n\t\t\t\tresetInternals: function resetInternals() {\n\t\t\t\t\tthis.successList = [];\n\t\t\t\t\tthis.errorList = [];\n\t\t\t\t\tthis.errorMap = {};\n\t\t\t\t\tthis.toShow = $([]);\n\t\t\t\t\tthis.toHide = $([]);\n\t\t\t\t},\n\t\n\t\t\t\treset: function reset() {\n\t\t\t\t\tthis.resetInternals();\n\t\t\t\t\tthis.currentElements = $([]);\n\t\t\t\t},\n\t\n\t\t\t\tprepareForm: function prepareForm() {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errors().add(this.containers);\n\t\t\t\t},\n\t\n\t\t\t\tprepareElement: function prepareElement(element) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errorsFor(element);\n\t\t\t\t},\n\t\n\t\t\t\telementValue: function elementValue(element) {\n\t\t\t\t\tvar $element = $(element),\n\t\t\t\t\t    type = element.type,\n\t\t\t\t\t    val,\n\t\t\t\t\t    idx;\n\t\n\t\t\t\t\tif (type === \"radio\" || type === \"checkbox\") {\n\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").val();\n\t\t\t\t\t} else if (type === \"number\" && typeof element.validity !== \"undefined\") {\n\t\t\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (element.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\tval = $element.text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (type === \"file\") {\n\t\n\t\t\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\t\t\tif (val.substr(0, 12) === \"C:\\\\fakepath\\\\\") {\n\t\t\t\t\t\t\treturn val.substr(12);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Legacy browsers\n\t\t\t\t\t\t// Unix-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"/\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Windows-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"\\\\\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Just the file name\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (typeof val === \"string\") {\n\t\t\t\t\t\treturn val.replace(/\\r/g, \"\");\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\t\n\t\t\t\tcheck: function check(element) {\n\t\t\t\t\telement = this.validationTargetFor(this.clean(element));\n\t\n\t\t\t\t\tvar rules = $(element).rules(),\n\t\t\t\t\t    rulesCount = $.map(rules, function (n, i) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}).length,\n\t\t\t\t\t    dependencyMismatch = false,\n\t\t\t\t\t    val = this.elementValue(element),\n\t\t\t\t\t    result,\n\t\t\t\t\t    method,\n\t\t\t\t\t    rule;\n\t\n\t\t\t\t\t// If a normalizer is defined for this element, then\n\t\t\t\t\t// call it to retreive the changed value instead\n\t\t\t\t\t// of using the real one.\n\t\t\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\t\t\tif (typeof rules.normalizer === \"function\") {\n\t\t\t\t\t\tval = rules.normalizer.call(element, val);\n\t\n\t\t\t\t\t\tif (typeof val !== \"string\") {\n\t\t\t\t\t\t\tthrow new TypeError(\"The normalizer should return a string value.\");\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t\t\t// it as a pre-defined method.\n\t\t\t\t\t\tdelete rules.normalizer;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor (method in rules) {\n\t\t\t\t\t\trule = { method: method, parameters: rules[method] };\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresult = $.validator.methods[method].call(this, val, element, rule.parameters);\n\t\n\t\t\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\t\t\tif (result === \"dependency-mismatch\" && rulesCount === 1) {\n\t\t\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdependencyMismatch = false;\n\t\n\t\t\t\t\t\t\tif (result === \"pending\") {\n\t\t\t\t\t\t\t\tthis.toHide = this.toHide.not(this.errorsFor(element));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\t\tthis.formatAndAdd(element, rule);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif (this.settings.debug && window.console) {\n\t\t\t\t\t\t\t\tconsole.log(\"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e instanceof TypeError) {\n\t\t\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (dependencyMismatch) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.objectLength(rules)) {\n\t\t\t\t\t\tthis.successList.push(element);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element and validation method\n\t\t\t\t// specified in the element's HTML5 data attribute\n\t\t\t\t// return the generic message if present and no method specific message is present\n\t\t\t\tcustomDataMessage: function customDataMessage(element, method) {\n\t\t\t\t\treturn $(element).data(\"msg\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase()) || $(element).data(\"msg\");\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element name and validation method\n\t\t\t\tcustomMessage: function customMessage(name, method) {\n\t\t\t\t\tvar m = this.settings.messages[name];\n\t\t\t\t\treturn m && (m.constructor === String ? m : m[method]);\n\t\t\t\t},\n\t\n\t\t\t\t// Return the first defined argument, allowing empty strings\n\t\t\t\tfindDefined: function findDefined() {\n\t\t\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\t\t\tif (arguments[i] !== undefined) {\n\t\t\t\t\t\t\treturn arguments[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultMessage: function defaultMessage(element, rule) {\n\t\t\t\t\tvar message = this.findDefined(this.customMessage(element.name, rule.method), this.customDataMessage(element, rule.method),\n\t\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined, $.validator.messages[rule.method], \"<strong>Warning: No message defined for \" + element.name + \"</strong>\"),\n\t\t\t\t\t    theregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\t\t\tif (typeof message === \"function\") {\n\t\t\t\t\t\tmessage = message.call(this, rule.parameters, element);\n\t\t\t\t\t} else if (theregex.test(message)) {\n\t\t\t\t\t\tmessage = $.validator.format(message.replace(theregex, \"{$1}\"), rule.parameters);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn message;\n\t\t\t\t},\n\t\n\t\t\t\tformatAndAdd: function formatAndAdd(element, rule) {\n\t\t\t\t\tvar message = this.defaultMessage(element, rule);\n\t\n\t\t\t\t\tthis.errorList.push({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: element,\n\t\t\t\t\t\tmethod: rule.method\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.errorMap[element.name] = message;\n\t\t\t\t\tthis.submitted[element.name] = message;\n\t\t\t\t},\n\t\n\t\t\t\taddWrapper: function addWrapper(toToggle) {\n\t\t\t\t\tif (this.settings.wrapper) {\n\t\t\t\t\t\ttoToggle = toToggle.add(toToggle.parent(this.settings.wrapper));\n\t\t\t\t\t}\n\t\t\t\t\treturn toToggle;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultShowErrors: function defaultShowErrors() {\n\t\t\t\t\tvar i, elements, error;\n\t\t\t\t\tfor (i = 0; this.errorList[i]; i++) {\n\t\t\t\t\t\terror = this.errorList[i];\n\t\t\t\t\t\tif (this.settings.highlight) {\n\t\t\t\t\t\t\tthis.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showLabel(error.element, error.message);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.errorList.length) {\n\t\t\t\t\t\tthis.toShow = this.toShow.add(this.containers);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.success) {\n\t\t\t\t\t\tfor (i = 0; this.successList[i]; i++) {\n\t\t\t\t\t\t\tthis.showLabel(this.successList[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0, elements = this.validElements(); elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toHide = this.toHide.not(this.toShow);\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tthis.addWrapper(this.toShow).show();\n\t\t\t\t},\n\t\n\t\t\t\tvalidElements: function validElements() {\n\t\t\t\t\treturn this.currentElements.not(this.invalidElements());\n\t\t\t\t},\n\t\n\t\t\t\tinvalidElements: function invalidElements() {\n\t\t\t\t\treturn $(this.errorList).map(function () {\n\t\t\t\t\t\treturn this.element;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tshowLabel: function showLabel(element, message) {\n\t\t\t\t\tvar place,\n\t\t\t\t\t    group,\n\t\t\t\t\t    errorID,\n\t\t\t\t\t    v,\n\t\t\t\t\t    error = this.errorsFor(element),\n\t\t\t\t\t    elementID = this.idOrName(element),\n\t\t\t\t\t    describedBy = $(element).attr(\"aria-describedby\");\n\t\n\t\t\t\t\tif (error.length) {\n\t\n\t\t\t\t\t\t// Refresh error/success class\n\t\t\t\t\t\terror.removeClass(this.settings.validClass).addClass(this.settings.errorClass);\n\t\n\t\t\t\t\t\t// Replace message on existing label\n\t\t\t\t\t\terror.html(message);\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t// Create error element\n\t\t\t\t\t\terror = $(\"<\" + this.settings.errorElement + \">\").attr(\"id\", elementID + \"-error\").addClass(this.settings.errorClass).html(message || \"\");\n\t\n\t\t\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\t\t\tplace = error;\n\t\t\t\t\t\tif (this.settings.wrapper) {\n\t\n\t\t\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\t\t\tplace = error.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.labelContainer.length) {\n\t\t\t\t\t\t\tthis.labelContainer.append(place);\n\t\t\t\t\t\t} else if (this.settings.errorPlacement) {\n\t\t\t\t\t\t\tthis.settings.errorPlacement(place, $(element));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplace.insertAfter(element);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Link error back to the element\n\t\t\t\t\t\tif (error.is(\"label\")) {\n\t\n\t\t\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\t\t\terror.attr(\"for\", elementID);\n\t\n\t\t\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t\t\t} else if (error.parents(\"label[for='\" + this.escapeCssMeta(elementID) + \"']\").length === 0) {\n\t\t\t\t\t\t\t\terrorID = error.attr(\"id\");\n\t\n\t\t\t\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\t\t\t\tif (!describedBy) {\n\t\t\t\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t\t\t\t} else if (!describedBy.match(new RegExp(\"\\\\b\" + this.escapeCssMeta(errorID) + \"\\\\b\"))) {\n\t\n\t\t\t\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$(element).attr(\"aria-describedby\", describedBy);\n\t\n\t\t\t\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\t\t\t\tgroup = this.groups[element.name];\n\t\t\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t\t\t\t$.each(v.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\t\t\tif (testgroup === group) {\n\t\t\t\t\t\t\t\t\t\t\t$(\"[name='\" + v.escapeCssMeta(name) + \"']\", v.currentForm).attr(\"aria-describedby\", error.attr(\"id\"));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!message && this.settings.success) {\n\t\t\t\t\t\terror.text(\"\");\n\t\t\t\t\t\tif (typeof this.settings.success === \"string\") {\n\t\t\t\t\t\t\terror.addClass(this.settings.success);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.settings.success(error, element);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toShow = this.toShow.add(error);\n\t\t\t\t},\n\t\n\t\t\t\terrorsFor: function errorsFor(element) {\n\t\t\t\t\tvar name = this.escapeCssMeta(this.idOrName(element)),\n\t\t\t\t\t    describer = $(element).attr(\"aria-describedby\"),\n\t\t\t\t\t    selector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\t\n\t\t\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\t\t\tif (describer) {\n\t\t\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta(describer).replace(/\\s+/g, \", #\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn this.errors().filter(selector);\n\t\t\t\t},\n\t\n\t\t\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t\t\t// as a literal part of a name/id or any selector.\n\t\t\t\tescapeCssMeta: function escapeCssMeta(string) {\n\t\t\t\t\treturn string.replace(/([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\");\n\t\t\t\t},\n\t\n\t\t\t\tidOrName: function idOrName(element) {\n\t\t\t\t\treturn this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\n\t\t\t\t},\n\t\n\t\t\t\tvalidationTargetFor: function validationTargetFor(element) {\n\t\n\t\t\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\telement = this.findByName(element.name);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Always apply ignore filter\n\t\t\t\t\treturn $(element).not(this.settings.ignore)[0];\n\t\t\t\t},\n\t\n\t\t\t\tcheckable: function checkable(element) {\n\t\t\t\t\treturn (/radio|checkbox/i.test(element.type)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\n\t\t\t\tfindByName: function findByName(name) {\n\t\t\t\t\treturn $(this.currentForm).find(\"[name='\" + this.escapeCssMeta(name) + \"']\");\n\t\t\t\t},\n\t\n\t\t\t\tgetLength: function getLength(value, element) {\n\t\t\t\t\tswitch (element.nodeName.toLowerCase()) {\n\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\treturn $(\"option:selected\", element).length;\n\t\t\t\t\t\tcase \"input\":\n\t\t\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length;\n\t\t\t\t},\n\t\n\t\t\t\tdepend: function depend(param, element) {\n\t\t\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\n\t\t\t\t},\n\t\n\t\t\t\tdependTypes: {\n\t\t\t\t\t\"boolean\": function boolean(param) {\n\t\t\t\t\t\treturn param;\n\t\t\t\t\t},\n\t\t\t\t\t\"string\": function string(param, element) {\n\t\t\t\t\t\treturn !!$(param, element.form).length;\n\t\t\t\t\t},\n\t\t\t\t\t\"function\": function _function(param, element) {\n\t\t\t\t\t\treturn param(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\toptional: function optional(element) {\n\t\t\t\t\tvar val = this.elementValue(element);\n\t\t\t\t\treturn !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\n\t\t\t\t},\n\t\n\t\t\t\tstartRequest: function startRequest(element) {\n\t\t\t\t\tif (!this.pending[element.name]) {\n\t\t\t\t\t\tthis.pendingRequest++;\n\t\t\t\t\t\t$(element).addClass(this.settings.pendingClass);\n\t\t\t\t\t\tthis.pending[element.name] = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tstopRequest: function stopRequest(element, valid) {\n\t\t\t\t\tthis.pendingRequest--;\n\t\n\t\t\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\t\t\tif (this.pendingRequest < 0) {\n\t\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\t}\n\t\t\t\t\tdelete this.pending[element.name];\n\t\t\t\t\t$(element).removeClass(this.settings.pendingClass);\n\t\t\t\t\tif (valid && this.pendingRequest === 0 && this.formSubmitted && this.form()) {\n\t\t\t\t\t\t$(this.currentForm).submit();\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t} else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tpreviousValue: function previousValue(element, method) {\n\t\t\t\t\treturn $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\n\t\t\t\t\t\told: null,\n\t\t\t\t\t\tvalid: true,\n\t\t\t\t\t\tmessage: this.defaultMessage(element, { method: method })\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\t\t\tdestroy: function destroy() {\n\t\t\t\t\tthis.resetForm();\n\t\n\t\t\t\t\t$(this.currentForm).off(\".validate\").removeData(\"validator\").find(\".validate-equalTo-blur\").off(\".validate-equalTo\").removeClass(\"validate-equalTo-blur\");\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tclassRuleSettings: {\n\t\t\t\trequired: { required: true },\n\t\t\t\temail: { email: true },\n\t\t\t\turl: { url: true },\n\t\t\t\tdate: { date: true },\n\t\t\t\tdateISO: { dateISO: true },\n\t\t\t\tnumber: { number: true },\n\t\t\t\tdigits: { digits: true },\n\t\t\t\tcreditcard: { creditcard: true }\n\t\t\t},\n\t\n\t\t\taddClassRules: function addClassRules(className, rules) {\n\t\t\t\tif (className.constructor === String) {\n\t\t\t\t\tthis.classRuleSettings[className] = rules;\n\t\t\t\t} else {\n\t\t\t\t\t$.extend(this.classRuleSettings, className);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tclassRules: function classRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    classes = $(element).attr(\"class\");\n\t\n\t\t\t\tif (classes) {\n\t\t\t\t\t$.each(classes.split(\" \"), function () {\n\t\t\t\t\t\tif (this in $.validator.classRuleSettings) {\n\t\t\t\t\t\t\t$.extend(rules, $.validator.classRuleSettings[this]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeAttributeRule: function normalizeAttributeRule(rules, type, method, value) {\n\t\n\t\t\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t\t\t// allows type=\"date\" and others to be compared as strings\n\t\t\t\tif (/min|max|step/.test(method) && (type === null || /number|range|text/.test(type))) {\n\t\t\t\t\tvalue = Number(value);\n\t\n\t\t\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\t\tvalue = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (value || value === 0) {\n\t\t\t\t\trules[method] = value;\n\t\t\t\t} else if (type === method && type !== \"range\") {\n\t\n\t\t\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t\t\t// does not test for the html5 'range' type\n\t\t\t\t\trules[method] = true;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tattributeRules: function attributeRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\n\t\t\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\tvalue = element.getAttribute(method);\n\t\n\t\t\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\t\t\tif (value === \"\") {\n\t\t\t\t\t\t\tvalue = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\t\t\tvalue = !!value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = $element.attr(method);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\n\t\t\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\t\t\tif (rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength)) {\n\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tdataRules: function dataRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\t\t\t\tvalue = $element.data(\"rule\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase());\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tstaticRules: function staticRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    validator = $.data(element.form, \"validator\");\n\t\n\t\t\t\tif (validator.settings.rules) {\n\t\t\t\t\trules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeRules: function normalizeRules(rules, element) {\n\t\n\t\t\t\t// Handle dependency check\n\t\t\t\t$.each(rules, function (prop, val) {\n\t\n\t\t\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (val.param || val.depends) {\n\t\t\t\t\t\tvar keepRule = true;\n\t\t\t\t\t\tswitch (typeof val.depends) {\n\t\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\t\tkeepRule = !!$(val.depends, element.form).length;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\t\tkeepRule = val.depends.call(element, element);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (keepRule) {\n\t\t\t\t\t\t\trules[prop] = val.param !== undefined ? val.param : true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.data(element.form, \"validator\").resetElements($(element));\n\t\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\t// Evaluate parameters\n\t\t\t\t$.each(rules, function (rule, parameter) {\n\t\t\t\t\trules[rule] = $.isFunction(parameter) && rule !== \"normalizer\" ? parameter(element) : parameter;\n\t\t\t\t});\n\t\n\t\t\t\t// Clean number parameters\n\t\t\t\t$.each([\"minlength\", \"maxlength\"], function () {\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\trules[this] = Number(rules[this]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$.each([\"rangelength\", \"range\"], function () {\n\t\t\t\t\tvar parts;\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\tif ($.isArray(rules[this])) {\n\t\t\t\t\t\t\trules[this] = [Number(rules[this][0]), Number(rules[this][1])];\n\t\t\t\t\t\t} else if (typeof rules[this] === \"string\") {\n\t\t\t\t\t\t\tparts = rules[this].replace(/[\\[\\]]/g, \"\").split(/[\\s,]+/);\n\t\t\t\t\t\t\trules[this] = [Number(parts[0]), Number(parts[1])];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif ($.validator.autoCreateRanges) {\n\t\n\t\t\t\t\t// Auto-create ranges\n\t\t\t\t\tif (rules.min != null && rules.max != null) {\n\t\t\t\t\t\trules.range = [rules.min, rules.max];\n\t\t\t\t\t\tdelete rules.min;\n\t\t\t\t\t\tdelete rules.max;\n\t\t\t\t\t}\n\t\t\t\t\tif (rules.minlength != null && rules.maxlength != null) {\n\t\t\t\t\t\trules.rangelength = [rules.minlength, rules.maxlength];\n\t\t\t\t\t\tdelete rules.minlength;\n\t\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\t\t\tnormalizeRule: function normalizeRule(data) {\n\t\t\t\tif (typeof data === \"string\") {\n\t\t\t\t\tvar transformed = {};\n\t\t\t\t\t$.each(data.split(/\\s/), function () {\n\t\t\t\t\t\ttransformed[this] = true;\n\t\t\t\t\t});\n\t\t\t\t\tdata = transformed;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\t\t\taddMethod: function addMethod(name, method, message) {\n\t\t\t\t$.validator.methods[name] = method;\n\t\t\t\t$.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n\t\t\t\tif (method.length < 3) {\n\t\t\t\t\t$.validator.addClassRules(name, $.validator.normalizeRule(name));\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\t\t\tmethods: {\n\t\n\t\t\t\t// http://jqueryvalidation.org/required-method/\n\t\t\t\trequired: function required(value, element, param) {\n\t\n\t\t\t\t\t// Check if dependency is met\n\t\t\t\t\tif (!this.depend(param, element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\t\t\t\tif (element.nodeName.toLowerCase() === \"select\") {\n\t\n\t\t\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\t\t\tvar val = $(element).val();\n\t\t\t\t\t\treturn val && val.length > 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\treturn this.getLength(value, element) > 0;\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length > 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/email-method/\n\t\t\t\temail: function email(value, element) {\n\t\n\t\t\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t\t\t// Retrieved 2014-01-14\n\t\t\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t\t\t// Or use custom methods to implement your own email validation\n\t\t\t\t\treturn this.optional(element) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/url-method/\n\t\t\t\turl: function url(value, element) {\n\t\n\t\t\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t\t\t// modified to allow protocol-relative URLs\n\t\t\t\t\treturn this.optional(element) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/date-method/\n\t\t\t\tdate: function date(value, element) {\n\t\t\t\t\treturn this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString());\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\t\t\tdateISO: function dateISO(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/number-method/\n\t\t\t\tnumber: function number(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/digits-method/\n\t\t\t\tdigits: function digits(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d+$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/minlength-method/\n\t\t\t\tminlength: function minlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\t\t\tmaxlength: function maxlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\t\t\trangelength: function rangelength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param[0] && length <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/min-method/\n\t\t\t\tmin: function min(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/max-method/\n\t\t\t\tmax: function max(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/range-method/\n\t\t\t\trange: function range(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param[0] && value <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/step-method/\n\t\t\t\tstep: function step(value, element, param) {\n\t\t\t\t\tvar type = $(element).attr(\"type\"),\n\t\t\t\t\t    errorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\t\t    supportedTypes = [\"text\", \"number\", \"range\"],\n\t\t\t\t\t    re = new RegExp(\"\\\\b\" + type + \"\\\\b\"),\n\t\t\t\t\t    notSupported = type && !re.test(supportedTypes.join());\n\t\n\t\t\t\t\t// Works only for text, number and range input types\n\t\t\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\t\t\tif (notSupported) {\n\t\t\t\t\t\tthrow new Error(errorMessage);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.optional(element) || value % param === 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\t\t\tequalTo: function equalTo(value, element, param) {\n\t\n\t\t\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\t\t\tvar target = $(param);\n\t\t\t\t\tif (this.settings.onfocusout && target.not(\".validate-equalTo-blur\").length) {\n\t\t\t\t\t\ttarget.addClass(\"validate-equalTo-blur\").on(\"blur.validate-equalTo\", function () {\n\t\t\t\t\t\t\t$(element).valid();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn value === target.val();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/remote-method/\n\t\t\t\tremote: function remote(value, element, param, method) {\n\t\t\t\t\tif (this.optional(element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\n\t\t\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\t\n\t\t\t\t\tvar previous = this.previousValue(element, method),\n\t\t\t\t\t    validator,\n\t\t\t\t\t    data,\n\t\t\t\t\t    optionDataString;\n\t\n\t\t\t\t\tif (!this.settings.messages[element.name]) {\n\t\t\t\t\t\tthis.settings.messages[element.name] = {};\n\t\t\t\t\t}\n\t\t\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[element.name][method];\n\t\t\t\t\tthis.settings.messages[element.name][method] = previous.message;\n\t\n\t\t\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\t\t\toptionDataString = $.param($.extend({ data: value }, param.data));\n\t\t\t\t\tif (previous.old === optionDataString) {\n\t\t\t\t\t\treturn previous.valid;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tprevious.old = optionDataString;\n\t\t\t\t\tvalidator = this;\n\t\t\t\t\tthis.startRequest(element);\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata[element.name] = value;\n\t\t\t\t\t$.ajax($.extend(true, {\n\t\t\t\t\t\tmode: \"abort\",\n\t\t\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tcontext: validator.currentForm,\n\t\t\t\t\t\tsuccess: function success(response) {\n\t\t\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\t\t    errors,\n\t\t\t\t\t\t\t    message,\n\t\t\t\t\t\t\t    submitted;\n\t\n\t\t\t\t\t\t\tvalidator.settings.messages[element.name][method] = previous.originalMessage;\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\t\t\tvalidator.toHide = validator.errorsFor(element);\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\t\t\tvalidator.successList.push(element);\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = false;\n\t\t\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\t\t\tmessage = response || validator.defaultMessage(element, { method: method, parameters: value });\n\t\t\t\t\t\t\t\terrors[element.name] = previous.message = message;\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = true;\n\t\t\t\t\t\t\t\tvalidator.showErrors(errors);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\t\t\tvalidator.stopRequest(element, valid);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, param));\n\t\t\t\t\treturn \"pending\";\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t});\n\t\n\t\t// Ajax mode: abort\n\t\t// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n\t\t// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\t\n\t\tvar pendingRequests = {},\n\t\t    ajax;\n\t\n\t\t// Use a prefilter if available (1.5+)\n\t\tif ($.ajaxPrefilter) {\n\t\t\t$.ajaxPrefilter(function (settings, _, xhr) {\n\t\t\t\tvar port = settings.port;\n\t\t\t\tif (settings.mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = xhr;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\n\t\t\t// Proxy ajax\n\t\t\tajax = $.ajax;\n\t\t\t$.ajax = function (settings) {\n\t\t\t\tvar mode = (\"mode\" in settings ? settings : $.ajaxSettings).mode,\n\t\t\t\t    port = (\"port\" in settings ? settings : $.ajaxSettings).port;\n\t\t\t\tif (mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = ajax.apply(this, arguments);\n\t\t\t\t\treturn pendingRequests[port];\n\t\t\t\t}\n\t\t\t\treturn ajax.apply(this, arguments);\n\t\t\t};\n\t\t}\n\t});\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/**\n\t * jQuery Formset 1.3-pre\n\t * @author Stanislaus Madueke (stan DOT madueke AT gmail DOT com)\n\t * @requires jQuery 1.2.6 or later\n\t *\n\t * Copyright (c) 2009, Stanislaus Madueke\n\t * All rights reserved.\n\t *\n\t * Licensed under the New BSD License\n\t * See: http://www.opensource.org/licenses/bsd-license.php\n\t */\n\t'use strict';\n\t\n\t;(function ($) {\n\t    $.fn.formset = function (opts) {\n\t        var options = $.extend({}, $.fn.formset.defaults, opts),\n\t            flatExtraClasses = options.extraClasses.join(' '),\n\t            totalForms = $('#id_' + options.prefix + '-TOTAL_FORMS'),\n\t            maxForms = $('#id_' + options.prefix + '-MAX_NUM_FORMS'),\n\t            minForms = $('#id_' + options.prefix + '-MIN_NUM_FORMS'),\n\t            childElementSelector = 'input,select,textarea,label,div',\n\t            $$ = $(this),\n\t            applyExtraClasses = function applyExtraClasses(row, ndx) {\n\t            if (options.extraClasses) {\n\t                row.removeClass(flatExtraClasses);\n\t                row.addClass(options.extraClasses[ndx % options.extraClasses.length]);\n\t            }\n\t        },\n\t            updateElementIndex = function updateElementIndex(elem, prefix, ndx) {\n\t            var idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n\t                replacement = prefix + '-' + ndx + '-';\n\t            if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n\t            if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n\t            if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n\t        },\n\t            hasChildElements = function hasChildElements(row) {\n\t            return row.find(childElementSelector).length > 0;\n\t        },\n\t            showAddButton = function showAddButton() {\n\t            return maxForms.length == 0 || // For Django versions pre 1.2\n\t            maxForms.val() == '' || maxForms.val() - totalForms.val() > 0;\n\t        },\n\t\n\t        /**\n\t        * Indicates whether delete link(s) can be displayed - when total forms > min forms\n\t        */\n\t        showDeleteLinks = function showDeleteLinks() {\n\t            return minForms.length == 0 || // For Django versions pre 1.7\n\t            minForms.val() == '' || totalForms.val() - minForms.val() > 0;\n\t        },\n\t            insertDeleteLink = function insertDeleteLink(row) {\n\t            var delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.'),\n\t                addCssSelector = $.trim(options.addCssClass).replace(/\\s+/g, '.');\n\t            if (row.is('TR')) {\n\t                // If the forms are laid out in table rows, insert\n\t                // the remove button into the last table cell:\n\t                row.children(':last').append('<a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText + '</a>');\n\t            } else if (row.is('UL') || row.is('OL')) {\n\t                // If they're laid out as an ordered/unordered list,\n\t                // insert an <li> after the last list item:\n\t                row.append('<li><a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText + '</a></li>');\n\t            } else {\n\t                // Otherwise, just insert the remove button as the\n\t                // last child element of the form's container:\n\t                if (options.deleteTemplate) {\n\t                    row.append(options.deleteTemplate);\n\t                } else {\n\t                    row.append('<a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText + '</a>');\n\t                }\n\t            }\n\t            // Check if we're under the minimum number of forms - not to display delete link at rendering\n\t            if (!showDeleteLinks()) {\n\t                row.find('a.' + delCssSelector).hide();\n\t            }\n\t\n\t            row.find('a.' + delCssSelector).click(function () {\n\t                var row = $(this).parents('.' + options.formCssClass),\n\t                    del = row.find('input:hidden[id $= \"-DELETE\"]'),\n\t                    buttonRow = row.siblings(\"a.\" + addCssSelector + ', .' + options.formCssClass + '-add'),\n\t                    forms;\n\t                if (del.length) {\n\t                    // We're dealing with an inline formset.\n\t                    // Rather than remove this form from the DOM, we'll mark it as deleted\n\t                    // and hide it, then let Django handle the deleting:\n\t                    del.val('on');\n\t                    row.hide();\n\t                    forms = $('.' + options.formCssClass).not(':hidden');\n\t                } else {\n\t                    row.remove();\n\t                    // Update the TOTAL_FORMS count:\n\t                    forms = $('.' + options.formCssClass).not('.formset-custom-template');\n\t                    totalForms.val(forms.length);\n\t                }\n\t                for (var i = 0, formCount = forms.length; i < formCount; i++) {\n\t                    // Apply `extraClasses` to form rows so they're nicely alternating:\n\t                    applyExtraClasses(forms.eq(i), i);\n\t                    if (!del.length) {\n\t                        // Also update names and IDs for all child controls (if this isn't\n\t                        // a delete-able inline formset) so they remain in sequence:\n\t                        forms.eq(i).find(childElementSelector).each(function () {\n\t                            updateElementIndex($(this), options.prefix, i);\n\t                        });\n\t                    }\n\t                }\n\t                // Check if we've reached the minimum number of forms - hide all delete link(s)\n\t                if (!showDeleteLinks()) {\n\t                    $('.' + options.formCssClass).find('a.' + delCssSelector).each(function () {\n\t                        $(this).hide();\n\t                    });\n\t                }\n\t                // Check if we need to show the add button:\n\t                if (buttonRow.is(':hidden') && showAddButton()) buttonRow.show();\n\t                // If a post-delete callback was provided, call it with the deleted form:\n\t                if (options.removed) options.removed(row);\n\t                return false;\n\t            });\n\t        };\n\t\n\t        $$.each(function (i) {\n\t            var row = $(this),\n\t                del = row.find('input:checkbox[id $= \"-DELETE\"]');\n\t            if (del.length) {\n\t                // If you specify \"can_delete = True\" when creating an inline formset,\n\t                // Django adds a checkbox to each form in the formset.\n\t                // Replace the default checkbox with a hidden field:\n\t                if (del.is(':checked')) {\n\t                    // If an inline formset containing deleted forms fails validation, make sure\n\t                    // we keep the forms hidden (thanks for the bug report and suggested fix Mike)\n\t                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') + '\" id=\"' + del.attr('id') + '\" value=\"on\" />');\n\t                    row.hide();\n\t                } else {\n\t                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') + '\" id=\"' + del.attr('id') + '\" />');\n\t                }\n\t                // Hide any labels associated with the DELETE checkbox:\n\t                $('label[for=\"' + del.attr('id') + '\"]').hide();\n\t                del.remove();\n\t            }\n\t            if (hasChildElements(row)) {\n\t                row.addClass(options.formCssClass);\n\t                insertDeleteLink(row);\n\t                applyExtraClasses(row, i);\n\t            }\n\t        });\n\t\n\t        if ($$.length) {\n\t            var hideAddButton = !showAddButton(),\n\t                addButton,\n\t                template;\n\t            if (options.formTemplate) {\n\t                // If a form template was specified, we'll clone it to generate new form instances:\n\t                template = options.formTemplate instanceof $ ? options.formTemplate : $(options.formTemplate);\n\t                template.removeAttr('id').addClass(options.formCssClass + ' formset-custom-template');\n\t                template.find(childElementSelector).each(function () {\n\t                    updateElementIndex($(this), options.prefix, '__prefix__');\n\t                });\n\t                insertDeleteLink(template);\n\t            } else {\n\t                // Otherwise, use the last form in the formset; this works much better if you've got\n\t                // extra (>= 1) forms (thnaks to justhamade for pointing this out):\n\t                template = $('.' + options.formCssClass + ':last').clone(true).removeAttr('id');\n\t                template.find('input:hidden[id $= \"-DELETE\"]').remove();\n\t                // Clear all cloned fields, except those the user wants to keep (thanks to brunogola for the suggestion):\n\t                template.find(childElementSelector).not(options.keepFieldValues).each(function () {\n\t                    var elem = $(this);\n\t                    // If this is a checkbox or radiobutton, uncheck it.\n\t                    // This fixes Issue 1, reported by Wilson.Andrew.J:\n\t                    if (elem.is('input:checkbox') || elem.is('input:radio')) {\n\t                        elem.attr('checked', false);\n\t                    } else {\n\t                        elem.val('');\n\t                    }\n\t                });\n\t            }\n\t            // FIXME: Perhaps using $.data would be a better idea?\n\t            options.formTemplate = template;\n\t\n\t            if ($$.is('TR')) {\n\t                // If forms are laid out as table rows, insert the\n\t                // \"add\" button in a new table row:\n\t                var numCols = $$.eq(0).children().length,\n\t                    // This is a bit of an assumption :|\n\t                buttonRow = $('<tr><td colspan=\"' + numCols + '\"><a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a></tr>').addClass(options.formCssClass + '-add');\n\t                $$.parent().append(buttonRow);\n\t                if (hideAddButton) buttonRow.hide();\n\t                addButton = buttonRow.find('a');\n\t            } else {\n\t                // Otherwise, insert it immediately after the last form:\n\t                $$.filter(':last').after('<a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a>');\n\t                addButton = $$.filter(':last').next();\n\t                if (hideAddButton) addButton.hide();\n\t            }\n\t            addButton.click(function () {\n\t                var formCount = parseInt(totalForms.val()),\n\t                    row = options.formTemplate.clone(true).removeClass('formset-custom-template'),\n\t                    buttonRow = $($(this).parents('tr.' + options.formCssClass + '-add').get(0) || this),\n\t                    delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.');\n\t                applyExtraClasses(row, formCount);\n\t                row.insertBefore(buttonRow).show();\n\t                row.find(childElementSelector).each(function () {\n\t                    updateElementIndex($(this), options.prefix, formCount);\n\t                });\n\t                totalForms.val(formCount + 1);\n\t                // Check if we're above the minimum allowed number of forms -> show all delete link(s)\n\t                if (showDeleteLinks()) {\n\t                    $('.' + options.formCssClass).find('a.' + delCssSelector).each(function () {\n\t                        $(this).show();\n\t                    });\n\t                }\n\t                // Check if we've exceeded the maximum allowed number of forms:\n\t                if (!showAddButton()) buttonRow.hide();\n\t                // If a post-add callback was supplied, call it with the added form:\n\t                if (options.added) options.added(row);\n\t                return false;\n\t            });\n\t        }\n\t\n\t        return $$;\n\t    };\n\t\n\t    /* Setup plugin defaults */\n\t    $.fn.formset.defaults = {\n\t        prefix: 'form', // The form prefix for your django formset\n\t        formTemplate: null, // The jQuery selection cloned to generate new form instances\n\t        addText: 'add another', // Text for the add link\n\t        deleteText: 'remove', // Text for the delete link\n\t        addCssClass: 'add-row', // CSS class applied to the add link\n\t        deleteCssClass: 'delete-row', // CSS class applied to the delete link\n\t        formCssClass: 'dynamic-form', // CSS class applied to each form in a formset\n\t        extraClasses: [], // Additional CSS classes, which will be applied to each form in turn\n\t        keepFieldValues: '', // jQuery selector for fields whose values should be kept when the form is cloned\n\t        added: null, // Function called each time a new form is added\n\t        removed: null // Function called each time a form is deleted\n\t    };\n\t})(jQuery);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar suggest = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'id',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    // , hideSelected: true\n\t    render: {\n\t        item: templateItem,\n\t        option: templateOption\n\t    },\n\t    load: loadUsers\n\t};\n\t\n\tvar tagger = function tagger(element) {\n\t    var type = (0, _jquery2['default'])(element).data('taggerType');\n\t    switch (type) {\n\t        case 'suggest':\n\t            (0, _jquery2['default'])(element).selectize(suggest);\n\t    }\n\t};\n\t\n\tfunction templateItem(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div>' + name + '</div>';\n\t}\n\tfunction templateOption(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div class=\"item-float-notification\">\\n    <span><img src=\"' + item.img + '\" alt=\"' + name + '\"></span>\\n    <span>' + name + '</span>\\n  </div>';\n\t}\n\t\n\tfunction loadUsers(query, callback) {\n\t    var options = this.$wrapper.prev().data();\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        type: 'GET',\n\t        data: {\n\t            criteria: query\n\t        },\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res.users);\n\t        }\n\t    });\n\t}\n\t\n\texports['default'] = tagger;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar taxonomy,\n\t    elementData,\n\t    $element,\n\t    TemplateEngine = __webpack_require__(8);\n\t\n\tvar defaultSettings = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'url',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    render: {\n\t        item: renderItem,\n\t        option: renderOption\n\t    },\n\t    load: loadItems\n\t};\n\t\n\tvar defaultTemplates = {\n\t    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n\t    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n\t};\n\t\n\tfunction renderItem(item) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.item;\n\t    var elementData = $element.data();\n\t    if ('templateItem' in elementData && (0, _jquery2['default'])(elementData.templateItem).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateItem).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction renderOption(item, escape) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.option;\n\t    var elementData = $element.data();\n\t    if ('templateOption' in elementData && (0, _jquery2['default'])(elementData.templateOption).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateOption).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction loadItems(query, callback) {\n\t\n\t    var options = (0, _jquery2['default'])(this.$input).data();\n\t\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        data: _data,\n\t        type: options.method || 'GET',\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            console.log(res);\n\t            callback(res);\n\t        }\n\t    });\n\t}\n\t\n\ttaxonomy = function (element) {\n\t    $element = (0, _jquery2['default'])(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t    (0, _jquery2['default'])(element).selectize(selectizeSettings);\n\t};\n\t\n\texports['default'] = taxonomy;\n\tmodule.exports = exports['default'];\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// 1.1.js","var map = {\n\t\"./TemplateEngine\": 8,\n\t\"./TemplateEngine.js\": 8,\n\t\"./ajaxselect\": 9,\n\t\"./ajaxselect.js\": 9,\n\t\"./dropzoneUploader\": 13,\n\t\"./dropzoneUploader.js\": 13,\n\t\"./index\": 6,\n\t\"./index.js\": 6,\n\t\"./job\": 14,\n\t\"./job.js\": 14,\n\t\"./profession\": 15,\n\t\"./profession.js\": 15,\n\t\"./steps\": 16,\n\t\"./steps.js\": 16,\n\t\"./tagger\": 24,\n\t\"./tagger.js\": 24,\n\t\"./taxonomy\": 25,\n\t\"./taxonomy.js\": 25\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./asyncModules ^\\.\\/.*$\n// module id = 7\n// module chunks = 1","module.exports = function(html, options) {\n\tvar re = /<%(.+?)%>/g, \n\t\treExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g, \n\t\tcode = 'with(obj) { var r=[];\\n', \n\t\tcursor = 0, \n\t\tresult;\n\tvar add = function(line, js) {\n\t\tjs? (code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n') :\n\t\t\t(code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '');\n\t\treturn add;\n\t}\n\tvar match = re.exec(html);\n\twhile(match) {\n\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\tcursor = match.index + match[0].length;\n\t\tmatch = re.exec(html);\n\t}\n\tadd(html.substr(cursor, html.length - cursor));\n\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\ttry { result = new Function('obj', code).apply(options, [options]); }\n\tcatch(err) { console.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\"); }\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/TemplateEngine.js","'use strict'\n\nimport $ from 'jquery'\nrequire('selectize')\n\nvar elementData,\n    $element;\n\nconst [suggest] = [{\n    valueField: 'id'\n    , labelField: 'name'\n    , searchField: 'name'\n    , create: false\n    , highlight: false\n    , render: {\n        item: templateItem\n        , option: templateOption\n    }\n    , load: loadUsers\n}]\n\nvar ajaxselect = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, suggest, elementData);\n    $(element).selectize(selectizeSettings);\n}\n\nfunction templateItem (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    return `<div>${name}</div>`\n}\nfunction templateOption (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    var template = `<div class=\"item-float-notification\">\n      <span><img src=\"${item.img}\" alt=\"${name}\"></span>\n      ${name}\n    </div>`\n    console.log(template);\n      return template\n}\n\nfunction loadUsers(query, callback) {\n    var options = this.$wrapper.prev().data();\n    if (!query.length) {\n        return callback()\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n    console.log(_data);\n\n    $.ajax({\n        url: options.url,\n        type: 'GET',\n        data: _data,\n        error: function () {\n            callback()\n        },\n        success: function (res) {\n            callback(res.items);\n        }\n    })\n}\n\n\nexport default ajaxselect\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/ajaxselect.js","/**\n * selectize.js (v0.12.4)\n * Copyright (c) 2013–2015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery','sifter','microplugin'], factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t} else {\n\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t}\n}(this, function($, Sifter, MicroPlugin) {\n\t'use strict';\n\n\tvar highlight = function($element, pattern) {\n\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\n\t\tvar highlight = function(node) {\n\t\t\tvar skip = 0;\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\tskip = 1;\n\t\t\t\t}\n\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn skip;\n\t\t};\n\t\n\t\treturn $element.each(function() {\n\t\t\thighlight(this);\n\t\t});\n\t};\n\t\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with() and pass js strict mode\n\t */\n\t$.fn.removeHighlight = function() {\n\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\tvar parent = this.parentNode;\n\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\tparent.normalize();\n\t\t}).end();\n\t};\n\t\n\t\n\tvar MicroEvent = function() {};\n\tMicroEvent.prototype = {\n\t\ton: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\tthis._events[event].push(fct);\n\t\t},\n\t\toff: function(event, fct){\n\t\t\tvar n = arguments.length;\n\t\t\tif (n === 0) return delete this._events;\n\t\t\tif (n === 1) return delete this._events[event];\n\t\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t},\n\t\ttrigger: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t *\n\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t *\n\t * @param {object} the object which will support MicroEvent\n\t */\n\tMicroEvent.mixin = function(destObject){\n\t\tvar props = ['on', 'off', 'trigger'];\n\t\tfor (var i = 0; i < props.length; i++){\n\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t}\n\t};\n\t\n\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\n\tvar KEY_A         = 65;\n\tvar KEY_COMMA     = 188;\n\tvar KEY_RETURN    = 13;\n\tvar KEY_ESC       = 27;\n\tvar KEY_LEFT      = 37;\n\tvar KEY_UP        = 38;\n\tvar KEY_P         = 80;\n\tvar KEY_RIGHT     = 39;\n\tvar KEY_DOWN      = 40;\n\tvar KEY_N         = 78;\n\tvar KEY_BACKSPACE = 8;\n\tvar KEY_DELETE    = 46;\n\tvar KEY_SHIFT     = 16;\n\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\tvar KEY_TAB       = 9;\n\t\n\tvar TAG_SELECT    = 1;\n\tvar TAG_INPUT     = 2;\n\t\n\t// for now, android support in general is too spotty to support validity\n\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\n\t\n\tvar isset = function(object) {\n\t\treturn typeof object !== 'undefined';\n\t};\n\t\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t * @param {string} value\n\t * @returns {string|null}\n\t */\n\tvar hash_key = function(value) {\n\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\treturn value + '';\n\t};\n\t\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_html = function(str) {\n\t\treturn (str + '')\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t};\n\t\n\t/**\n\t * Escapes \"$\" characters in replacement strings.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_replace = function(str) {\n\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t};\n\t\n\tvar hook = {};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked before the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.before = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn original.apply(self, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked after the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.after = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tvar result = original.apply(self, arguments);\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn result;\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be invoked once.\n\t *\n\t * @param {function} fn\n\t * @returns {function}\n\t */\n\tvar once = function(fn) {\n\t\tvar called = false;\n\t\treturn function() {\n\t\t\tif (called) return;\n\t\t\tcalled = true;\n\t\t\tfn.apply(this, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be called once\n\t * every `delay` milliseconds (invoked on the falling edge).\n\t *\n\t * @param {function} fn\n\t * @param {int} delay\n\t * @returns {function}\n\t */\n\tvar debounce = function(fn, delay) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar self = this;\n\t\t\tvar args = arguments;\n\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\tfn.apply(self, args);\n\t\t\t}, delay);\n\t\t};\n\t};\n\t\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t * @param {object} self\n\t * @param {array} types\n\t * @param {function} fn\n\t */\n\tvar debounce_events = function(self, types, fn) {\n\t\tvar type;\n\t\tvar trigger = self.trigger;\n\t\tvar event_args = {};\n\t\n\t\t// override trigger method\n\t\tself.trigger = function() {\n\t\t\tvar type = arguments[0];\n\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\tevent_args[type] = arguments;\n\t\t\t} else {\n\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t}\n\t\t};\n\t\n\t\t// invoke provided function\n\t\tfn.apply(self, []);\n\t\tself.trigger = trigger;\n\t\n\t\t// trigger queued events\n\t\tfor (type in event_args) {\n\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t *\n\t * @param {object} $parent - Parent element to listen on.\n\t * @param {string} event - Event name.\n\t * @param {string} selector - Descendant selector to filter by.\n\t * @param {function} fn - Event handler.\n\t */\n\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t$parent.on(event, selector, function(e) {\n\t\t\tvar child = e.target;\n\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\tchild = child.parentNode;\n\t\t\t}\n\t\t\te.currentTarget = child;\n\t\t\treturn fn.apply(this, [e]);\n\t\t});\n\t};\n\t\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t * @param {object} input\n\t * @returns {object}\n\t */\n\tvar getSelection = function(input) {\n\t\tvar result = {};\n\t\tif ('selectionStart' in input) {\n\t\t\tresult.start = input.selectionStart;\n\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t} else if (document.selection) {\n\t\t\tinput.focus();\n\t\t\tvar sel = document.selection.createRange();\n\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\tresult.start = sel.text.length - selLen;\n\t\t\tresult.length = selLen;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t/**\n\t * Copies CSS properties from one element to another.\n\t *\n\t * @param {object} $from\n\t * @param {object} $to\n\t * @param {array} properties\n\t */\n\tvar transferStyles = function($from, $to, properties) {\n\t\tvar i, n, styles = {};\n\t\tif (properties) {\n\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tstyles = $from.css();\n\t\t}\n\t\t$to.css(styles);\n\t};\n\t\n\t/**\n\t * Measures the width of a string within a\n\t * parent element (in pixels).\n\t *\n\t * @param {string} str\n\t * @param {object} $parent\n\t * @returns {int}\n\t */\n\tvar measureString = function(str, $parent) {\n\t\tif (!str) {\n\t\t\treturn 0;\n\t\t}\n\t\n\t\tvar $test = $('<test>').css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -99999,\n\t\t\tleft: -99999,\n\t\t\twidth: 'auto',\n\t\t\tpadding: 0,\n\t\t\twhiteSpace: 'pre'\n\t\t}).text(str).appendTo('body');\n\t\n\t\ttransferStyles($parent, $test, [\n\t\t\t'letterSpacing',\n\t\t\t'fontSize',\n\t\t\t'fontFamily',\n\t\t\t'fontWeight',\n\t\t\t'textTransform'\n\t\t]);\n\t\n\t\tvar width = $test.width();\n\t\t$test.remove();\n\t\n\t\treturn width;\n\t};\n\t\n\t/**\n\t * Sets up an input to grow horizontally as the user\n\t * types. If the value is changed manually, you can\n\t * trigger the \"update\" handler to resize:\n\t *\n\t * $input.trigger('update');\n\t *\n\t * @param {object} $input\n\t */\n\tvar autoGrow = function($input) {\n\t\tvar currentWidth = null;\n\t\n\t\tvar update = function(e, options) {\n\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\tvar shift, character, selection;\n\t\t\te = e || window.event || {};\n\t\t\toptions = options || {};\n\t\n\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\n\t\t\tvalue = $input.val();\n\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\tprintable = (\n\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t);\n\t\n\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (printable) {\n\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\tvalue += character;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\tif (!value && placeholder) {\n\t\t\t\tvalue = placeholder;\n\t\t\t}\n\t\n\t\t\twidth = measureString(value, $input) + 4;\n\t\t\tif (width !== currentWidth) {\n\t\t\t\tcurrentWidth = width;\n\t\t\t\t$input.width(width);\n\t\t\t\t$input.triggerHandler('resize');\n\t\t\t}\n\t\t};\n\t\n\t\t$input.on('keydown keyup update blur', update);\n\t\tupdate();\n\t};\n\t\n\tvar domToString = function(d) {\n\t\tvar tmp = document.createElement('div');\n\t\n\t\ttmp.appendChild(d.cloneNode(true));\n\t\n\t\treturn tmp.innerHTML;\n\t};\n\t\n\tvar logError = function(message, options){\n\t\tif(!options) options = {};\n\t\tvar component = \"Selectize\";\n\t\n\t\tconsole.error(component + \": \" + message)\n\t\n\t\tif(options.explanation){\n\t\t\t// console.group is undefined in <IE11\n\t\t\tif(console.group) console.group();\n\t\t\tconsole.error(options.explanation);\n\t\t\tif(console.group) console.groupEnd();\n\t\t}\n\t}\n\t\n\t\n\tvar Selectize = function($input, settings) {\n\t\tvar key, i, n, dir, input, self = this;\n\t\tinput = $input[0];\n\t\tinput.selectize = self;\n\t\n\t\t// detect rtl environment\n\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\n\t\t// setup default state\n\t\t$.extend(self, {\n\t\t\torder            : 0,\n\t\t\tsettings         : settings,\n\t\t\t$input           : $input,\n\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\trtl              : /rtl/i.test(dir),\n\t\n\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\thighlightedValue : null,\n\t\t\tisOpen           : false,\n\t\t\tisDisabled       : false,\n\t\t\tisRequired       : $input.is('[required]'),\n\t\t\tisInvalid        : false,\n\t\t\tisLocked         : false,\n\t\t\tisFocused        : false,\n\t\t\tisInputHidden    : false,\n\t\t\tisSetup          : false,\n\t\t\tisShiftDown      : false,\n\t\t\tisCmdDown        : false,\n\t\t\tisCtrlDown       : false,\n\t\t\tignoreFocus      : false,\n\t\t\tignoreBlur       : false,\n\t\t\tignoreHover      : false,\n\t\t\thasOptions       : false,\n\t\t\tcurrentResults   : null,\n\t\t\tlastValue        : '',\n\t\t\tcaretPos         : 0,\n\t\t\tloading          : 0,\n\t\t\tloadedSearches   : {},\n\t\n\t\t\t$activeOption    : null,\n\t\t\t$activeItems     : [],\n\t\n\t\t\toptgroups        : {},\n\t\t\toptions          : {},\n\t\t\tuserOptions      : {},\n\t\t\titems            : [],\n\t\t\trenderCache      : {},\n\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t});\n\t\n\t\t// search system\n\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\n\t\t// build options table\n\t\tif (self.settings.options) {\n\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t}\n\t\t\tdelete self.settings.options;\n\t\t}\n\t\n\t\t// build optgroup table\n\t\tif (self.settings.optgroups) {\n\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t}\n\t\t\tdelete self.settings.optgroups;\n\t\t}\n\t\n\t\t// option-dependent defaults\n\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t}\n\t\n\t\tself.initializePlugins(self.settings.plugins);\n\t\tself.setupCallbacks();\n\t\tself.setupTemplates();\n\t\tself.setup();\n\t};\n\t\n\t// mixins\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\tMicroEvent.mixin(Selectize);\n\t\n\tif(typeof MicroPlugin !== \"undefined\"){\n\t\tMicroPlugin.mixin(Selectize);\n\t}else{\n\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t{explanation:\n\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\"load Selectize.\"}\n\t\t);\n\t}\n\t\n\t\n\t// methods\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t$.extend(Selectize.prototype, {\n\t\n\t\t/**\n\t\t * Creates all elements and sets up event bindings.\n\t\t */\n\t\tsetup: function() {\n\t\t\tvar self      = this;\n\t\t\tvar settings  = self.settings;\n\t\t\tvar eventNS   = self.eventNS;\n\t\t\tvar $window   = $(window);\n\t\t\tvar $document = $(document);\n\t\t\tvar $input    = self.$input;\n\t\n\t\t\tvar $wrapper;\n\t\t\tvar $control;\n\t\t\tvar $control_input;\n\t\t\tvar $dropdown;\n\t\t\tvar $dropdown_content;\n\t\t\tvar $dropdown_parent;\n\t\t\tvar inputMode;\n\t\t\tvar timeout_blur;\n\t\t\tvar timeout_focus;\n\t\t\tvar classes;\n\t\t\tvar classes_plugins;\n\t\t\tvar inputId;\n\t\n\t\t\tinputMode         = self.settings.mode;\n\t\t\tclasses           = $input.attr('class') || '';\n\t\n\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\n\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t}\n\t\n\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t$dropdown.addClass(classes);\n\t\t\t}\n\t\n\t\t\t$wrapper.css({\n\t\t\t\twidth: $input[0].style.width\n\t\t\t});\n\t\n\t\t\tif (self.plugins.names.length) {\n\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t}\n\t\n\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t}\n\t\n\t\t\tif (self.settings.placeholder) {\n\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t}\n\t\n\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t}\n\t\n\t\t\tself.$wrapper          = $wrapper;\n\t\t\tself.$control          = $control;\n\t\t\tself.$control_input    = $control_input;\n\t\t\tself.$dropdown         = $dropdown;\n\t\t\tself.$dropdown_content = $dropdown_content;\n\t\n\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\tautoGrow($control_input);\n\t\n\t\t\t$control.on({\n\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$control_input.on({\n\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t});\n\t\n\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t});\n\t\n\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// blur on click outside\n\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\tself.ignoreHover = false;\n\t\t\t});\n\t\n\t\t\t// store original children and tab index so that they can be\n\t\t\t// restored when the destroy() method is called.\n\t\t\tthis.revertSettings = {\n\t\t\t\t$children : $input.children().detach(),\n\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t};\n\t\n\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\n\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\tself.setValue(settings.items);\n\t\t\t\tdelete settings.items;\n\t\t\t}\n\t\n\t\t\t// feature detect for the validation API\n\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\tself.refreshState();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tself.updateOriginalInput();\n\t\t\tself.refreshItems();\n\t\t\tself.refreshState();\n\t\t\tself.updatePlaceholder();\n\t\t\tself.isSetup = true;\n\t\n\t\t\tif ($input.is(':disabled')) {\n\t\t\t\tself.disable();\n\t\t\t}\n\t\n\t\t\tself.on('change', this.onChange);\n\t\n\t\t\t$input.data('selectize', self);\n\t\t\t$input.addClass('selectized');\n\t\t\tself.trigger('initialize');\n\t\n\t\t\t// preload options\n\t\t\tif (settings.preload === true) {\n\t\t\t\tself.onSearchChange('');\n\t\t\t}\n\t\n\t\t},\n\t\n\t\t/**\n\t\t * Sets up default rendering functions.\n\t\t */\n\t\tsetupTemplates: function() {\n\t\t\tvar self = this;\n\t\t\tvar field_label = self.settings.labelField;\n\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\n\t\t\tvar templates = {\n\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t},\n\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t},\n\t\n\t\t/**\n\t\t * Maps fired events to callbacks provided\n\t\t * in the settings used when creating the control.\n\t\t */\n\t\tsetupCallbacks: function() {\n\t\t\tvar key, fn, callbacks = {\n\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t'change'          : 'onChange',\n\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t'type'            : 'onType',\n\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t'blur'            : 'onBlur'\n\t\t\t};\n\t\n\t\t\tfor (key in callbacks) {\n\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a click event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonClick: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t// is ignored unless invoked within a click event)\n\t\t\tif (!self.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a mouse down event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonMouseDown: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\tvar $target = $(e.target);\n\t\n\t\t\tif (self.isFocused) {\n\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// give control focus\n\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the value of the control has been changed.\n\t\t * This should propagate the event to the original DOM\n\t\t * input / select element.\n\t\t */\n\t\tonChange: function() {\n\t\t\tthis.$input.trigger('change');\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> paste.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonPaste: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t// input and create Items for each separate value\n\t\t\tif (self.settings.splitOn) {\n\t\n\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\n\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keypress.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyPress: function(e) {\n\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\tthis.createItem();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keydown.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyDown: function(e) {\n\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) {\n\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase KEY_A:\n\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase KEY_ESC:\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_N:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\tself.open();\n\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_P:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_UP:\n\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_TAB:\n\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\n\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keyup.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyUp: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\tvar value = self.$control_input.val() || '';\n\t\t\tif (self.lastValue !== value) {\n\t\t\t\tself.lastValue = value;\n\t\t\t\tself.onSearchChange(value);\n\t\t\t\tself.refreshOptions();\n\t\t\t\tself.trigger('type', value);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the user-provide option provider / loader.\n\t\t *\n\t\t * Note: this function is debounced in the Selectize\n\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tonSearchChange: function(value) {\n\t\t\tvar self = this;\n\t\t\tvar fn = self.settings.load;\n\t\t\tif (!fn) return;\n\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\tself.loadedSearches[value] = true;\n\t\t\tself.load(function(callback) {\n\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> focus.\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tonFocus: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar wasFocused = self.isFocused;\n\t\n\t\t\tif (self.isDisabled) {\n\t\t\t\tself.blur();\n\t\t\t\te && e.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tif (self.ignoreFocus) return;\n\t\t\tself.isFocused = true;\n\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\n\t\t\tif (!wasFocused) self.trigger('focus');\n\t\n\t\t\tif (!self.$activeItems.length) {\n\t\t\t\tself.showInput();\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t}\n\t\n\t\t\tself.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> blur.\n\t\t *\n\t\t * @param {object} e\n\t\t * @param {Element} dest\n\t\t */\n\t\tonBlur: function(e, dest) {\n\t\t\tvar self = this;\n\t\t\tif (!self.isFocused) return;\n\t\t\tself.isFocused = false;\n\t\n\t\t\tif (self.ignoreFocus) {\n\t\t\t\treturn;\n\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\tself.ignoreBlur = true;\n\t\t\t\tself.onFocus(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar deactivate = function() {\n\t\t\t\tself.close();\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\tself.refreshState();\n\t\n\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\tdest && dest.focus && dest.focus();\n\t\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.trigger('blur');\n\t\t\t};\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t} else {\n\t\t\t\tdeactivate();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user rolls over\n\t\t * an option in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionHover: function(e) {\n\t\t\tif (this.ignoreHover) return;\n\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an option\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionSelect: function(e) {\n\t\t\tvar value, $target, $option, self = this;\n\t\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\n\t\t\t$target = $(e.currentTarget);\n\t\t\tif ($target.hasClass('create')) {\n\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an item\n\t\t * that has been selected.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonItemSelect: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return;\n\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the provided method that provides\n\t\t * results to a callback---which are then added\n\t\t * as options to the control.\n\t\t *\n\t\t * @param {function} fn\n\t\t */\n\t\tload: function(fn) {\n\t\t\tvar self = this;\n\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\n\t\t\tself.loading++;\n\t\t\tfn.apply(self, [function(results) {\n\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\tif (results && results.length) {\n\t\t\t\t\tself.addOption(results);\n\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t}\n\t\t\t\tif (!self.loading) {\n\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t}\n\t\t\t\tself.trigger('load', results);\n\t\t\t}]);\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the input field of the control to the specified value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tsetTextboxValue: function(value) {\n\t\t\tvar $input = this.$control_input;\n\t\t\tvar changed = $input.val() !== value;\n\t\t\tif (changed) {\n\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\tthis.lastValue = value;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the value of the control. If multiple items\n\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t * an array. If only one item can be selected, this\n\t\t * returns a string.\n\t\t *\n\t\t * @returns {mixed}\n\t\t */\n\t\tgetValue: function() {\n\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\treturn this.items;\n\t\t\t} else {\n\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Resets the selected items to the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t */\n\t\tsetValue: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tthis.clear(silent);\n\t\t\t\tthis.addItems(value, silent);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item.\n\t\t *\n\t\t * @param {object} $item\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tsetActiveItem: function($item, e) {\n\t\t\tvar self = this;\n\t\t\tvar eventName;\n\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\tvar $last;\n\t\n\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t$item = $($item);\n\t\n\t\t\t// clear the active selection\n\t\t\tif (!$item.length) {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [];\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// modify selection\n\t\t\teventName = e && e.type.toLowerCase();\n\t\n\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\tif (begin > end) {\n\t\t\t\t\tswap  = begin;\n\t\t\t\t\tbegin = end;\n\t\t\t\t\tend   = swap;\n\t\t\t\t}\n\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t}\n\t\n\t\t\t// ensure control has focus\n\t\t\tself.hideInput();\n\t\t\tif (!this.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item in the dropdown menu\n\t\t * of available options.\n\t\t *\n\t\t * @param {object} $object\n\t\t * @param {boolean} scroll\n\t\t * @param {boolean} animate\n\t\t */\n\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\tvar height_menu, height_item, y;\n\t\t\tvar scroll_top, scroll_bottom;\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\tself.$activeOption = null;\n\t\n\t\t\t$option = $($option);\n\t\t\tif (!$option.length) return;\n\t\n\t\t\tself.$activeOption = $option.addClass('active');\n\t\n\t\t\tif (scroll || !isset(scroll)) {\n\t\n\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\tscroll_top    = y;\n\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\n\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Selects all items (CTRL + A).\n\t\t */\n\t\tselectAll: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.settings.mode === 'single') return;\n\t\n\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.close();\n\t\t\t}\n\t\t\tself.focus();\n\t\t},\n\t\n\t\t/**\n\t\t * Hides the input element out of view, while\n\t\t * retaining its focus.\n\t\t */\n\t\thideInput: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.setTextboxValue('');\n\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\tself.isInputHidden = true;\n\t\t},\n\t\n\t\t/**\n\t\t * Restores input visibility.\n\t\t */\n\t\tshowInput: function() {\n\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\tthis.isInputHidden = false;\n\t\t},\n\t\n\t\t/**\n\t\t * Gives the control focus.\n\t\t */\n\t\tfocus: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.isDisabled) return;\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tself.$control_input[0].focus();\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.onFocus();\n\t\t\t}, 0);\n\t\t},\n\t\n\t\t/**\n\t\t * Forces the control out of focus.\n\t\t *\n\t\t * @param {Element} dest\n\t\t */\n\t\tblur: function(dest) {\n\t\t\tthis.$control_input[0].blur();\n\t\t\tthis.onBlur(null, dest);\n\t\t},\n\t\n\t\t/**\n\t\t * Returns a function that scores an object\n\t\t * to show how good of a match it is to the\n\t\t * provided query.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @return {function}\n\t\t */\n\t\tgetScoreFunction: function(query) {\n\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t},\n\t\n\t\t/**\n\t\t * Returns search options for sifter (the system\n\t\t * for scoring and sorting results).\n\t\t *\n\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t * @return {object}\n\t\t */\n\t\tgetSearchOptions: function() {\n\t\t\tvar settings = this.settings;\n\t\t\tvar sort = settings.sortField;\n\t\t\tif (typeof sort === 'string') {\n\t\t\t\tsort = [{field: sort}];\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tfields      : settings.searchField,\n\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\tsort        : sort\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Searches through available options and returns\n\t\t * a sorted array of matches.\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {object}\n\t\t */\n\t\tsearch: function(query) {\n\t\t\tvar i, value, score, result, calculateScore;\n\t\t\tvar self     = this;\n\t\t\tvar settings = self.settings;\n\t\t\tvar options  = this.getSearchOptions();\n\t\n\t\t\t// validate user-provided result scoring function\n\t\t\tif (settings.score) {\n\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// perform search\n\t\t\tif (query !== self.lastQuery) {\n\t\t\t\tself.lastQuery = query;\n\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\tself.currentResults = result;\n\t\t\t} else {\n\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t}\n\t\n\t\t\t// filter out selected items\n\t\t\tif (settings.hideSelected) {\n\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the list of available options shown\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {boolean} triggerDropdown\n\t\t */\n\t\trefreshOptions: function(triggerDropdown) {\n\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\tvar $active, $active_before, $create;\n\t\n\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tvar self              = this;\n\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\tvar results           = self.search(query);\n\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\n\t\t\t// build markup\n\t\t\tn = results.items.length;\n\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t}\n\t\n\t\t\t// render and group available options individually\n\t\t\tgroups = {};\n\t\t\tgroups_order = [];\n\t\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\toption_html = self.render('option', option);\n\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\n\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t}\n\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// sort optgroups\n\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// render optgroup headers & join groups\n\t\t\thtml = document.createDocumentFragment();\n\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\toptgroup = groups_order[i];\n\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\n\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t$dropdown_content.html(html);\n\t\n\t\t\t// highlight matching terms inline\n\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add \"selected\" class to selected options\n\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add create option\n\t\t\thas_create_option = self.canCreate(query);\n\t\t\tif (has_create_option) {\n\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t}\n\t\n\t\t\t// activate\n\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\tif (self.hasOptions) {\n\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t}\n\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$active = $create;\n\t\t\t\t}\n\t\t\t\tself.setActiveOption($active);\n\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t} else {\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Adds an available option. If it already exists,\n\t\t * nothing will happen. Note: this does not refresh\n\t\t * the options list dropdown (use `refreshOptions`\n\t\t * for that).\n\t\t *\n\t\t * Usage:\n\t\t *\n\t\t *   this.addOption(data)\n\t\t *\n\t\t * @param {object|array} data\n\t\t */\n\t\taddOption: function(data) {\n\t\t\tvar i, n, value, self = this;\n\t\n\t\t\tif ($.isArray(data)) {\n\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\tself.userOptions[value] = true;\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option to the pool of options.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOption: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.options[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option group to the pool of option groups.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOptionGroup: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\tif (!key) return false;\n\t\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.optgroups[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers a new optgroup for options\n\t\t * to be bucketed into.\n\t\t *\n\t\t * @param {string} id\n\t\t * @param {object} data\n\t\t */\n\t\taddOptionGroup: function(id, data) {\n\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes an existing option group.\n\t\t *\n\t\t * @param {string} id\n\t\t */\n\t\tremoveOptionGroup: function(id) {\n\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\tdelete this.optgroups[id];\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all existing option groups.\n\t\t */\n\t\tclearOptionGroups: function() {\n\t\t\tthis.optgroups = {};\n\t\t\tthis.renderCache = {};\n\t\t\tthis.trigger('optgroup_clear');\n\t\t},\n\t\n\t\t/**\n\t\t * Updates an option available for selection. If\n\t\t * it is visible in the selected items or options\n\t\t * dropdown, it will be re-rendered automatically.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {object} data\n\t\t */\n\t\tupdateOption: function(value, data) {\n\t\t\tvar self = this;\n\t\t\tvar $item, $item_new;\n\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\n\t\t\tvalue     = hash_key(value);\n\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\n\t\t\t// sanity checks\n\t\t\tif (value === null) return;\n\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\n\t\t\torder_old = self.options[value].$order;\n\t\n\t\t\t// update references\n\t\t\tif (value_new !== value) {\n\t\t\t\tdelete self.options[value];\n\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.$order = data.$order || order_old;\n\t\t\tself.options[value_new] = data;\n\t\n\t\t\t// invalidate render cache\n\t\t\tcache_items = self.renderCache['item'];\n\t\t\tcache_options = self.renderCache['option'];\n\t\n\t\t\tif (cache_items) {\n\t\t\t\tdelete cache_items[value];\n\t\t\t\tdelete cache_items[value_new];\n\t\t\t}\n\t\t\tif (cache_options) {\n\t\t\t\tdelete cache_options[value];\n\t\t\t\tdelete cache_options[value_new];\n\t\t\t}\n\t\n\t\t\t// update the item if it's selected\n\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t$item = self.getItem(value);\n\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t$item.replaceWith($item_new);\n\t\t\t}\n\t\n\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\tself.lastQuery = null;\n\t\n\t\t\t// update dropdown contents\n\t\t\tif (self.isOpen) {\n\t\t\t\tself.refreshOptions(false);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes a single option.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\tremoveOption: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\tif (cache_items) delete cache_items[value];\n\t\t\tif (cache_options) delete cache_options[value];\n\t\n\t\t\tdelete self.userOptions[value];\n\t\t\tdelete self.options[value];\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_remove', value);\n\t\t\tself.removeItem(value, silent);\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all options.\n\t\t */\n\t\tclearOptions: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.loadedSearches = {};\n\t\t\tself.userOptions = {};\n\t\t\tself.renderCache = {};\n\t\t\tself.options = self.sifter.items = {};\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_clear');\n\t\t\tself.clear();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the option\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetOption: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the next or\n\t\t * previous selectable option.\n\t\t *\n\t\t * @param {object} $option\n\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t * @return {object}\n\t\t */\n\t\tgetAdjacentOption: function($option, direction) {\n\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t},\n\t\n\t\t/**\n\t\t * Finds the first element with a \"data-value\" attribute\n\t\t * that matches the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} $els\n\t\t * @return {object}\n\t\t */\n\t\tgetElementWithValue: function(value, $els) {\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn $();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the item\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetItem: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItems: function(values, silent) {\n\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" an item. Adds it to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItem: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tvar $item, $option, $options;\n\t\t\t\tvar self = this;\n\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\tvalue = hash_key(value);\n\t\n\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\n\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\twasFull = self.isFull();\n\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\tself.insertAtCaret($item);\n\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\tself.refreshState();\n\t\t\t\t}\n\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\n\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the selected item matching\n\t\t * the provided value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tremoveItem: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvar $item, i, idx;\n\t\n\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\ti = self.items.indexOf(value);\n\t\n\t\t\tif (i !== -1) {\n\t\t\t\t$item.remove();\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.items.splice(i, 1);\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t}\n\t\n\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the `create` method provided in the\n\t\t * selectize options that should provide the data\n\t\t * for the new item, given the user input.\n\t\t *\n\t\t * Once this completes, it will be added\n\t\t * to the item list.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} [triggerDropdown]\n\t\t * @param {function} [callback]\n\t\t * @return {boolean}\n\t\t */\n\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\tvar self  = this;\n\t\t\tvar caret = self.caretPos;\n\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\n\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\n\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tif (!self.canCreate(input)) {\n\t\t\t\tcallback();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tself.lock();\n\t\n\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\tvar data = {};\n\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\treturn data;\n\t\t\t};\n\t\n\t\t\tvar create = once(function(data) {\n\t\t\t\tself.unlock();\n\t\n\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\tif (typeof value !== 'string') return callback();\n\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.addOption(data);\n\t\t\t\tself.setCaret(caret);\n\t\t\t\tself.addItem(value);\n\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\n\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\tcreate(output);\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Re-renders the selected item lists.\n\t\t */\n\t\trefreshItems: function() {\n\t\t\tthis.lastQuery = null;\n\t\n\t\t\tif (this.isSetup) {\n\t\t\t\tthis.addItem(this.items);\n\t\t\t}\n\t\n\t\t\tthis.refreshState();\n\t\t\tthis.updateOriginalInput();\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent attributes\n\t\t * and CSS classes.\n\t\t */\n\t\trefreshState: function() {\n\t\t\tthis.refreshValidityState();\n\t\t\tthis.refreshClasses();\n\t\t},\n\t\n\t\t/**\n\t\t * Update the `required` attribute of both input and control input.\n\t\t *\n\t\t * The `required` property needs to be activated on the control input\n\t\t * for the error to be displayed at the right place. `required` also\n\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t * hidden and can't show errors.\n\t\t */\n\t\trefreshValidityState: function() {\n\t\t\tif (!this.isRequired) return false;\n\t\n\t\t\tvar invalid = !this.items.length;\n\t\n\t\t\tthis.isInvalid = invalid;\n\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\tthis.$input.prop('required', !invalid);\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent CSS classes.\n\t\t */\n\t\trefreshClasses: function() {\n\t\t\tvar self     = this;\n\t\t\tvar isFull   = self.isFull();\n\t\t\tvar isLocked = self.isLocked;\n\t\n\t\t\tself.$wrapper\n\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\n\t\t\tself.$control\n\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\n\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not more items can be added\n\t\t * to the control without exceeding the user-defined maximum.\n\t\t *\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFull: function() {\n\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the original <select> or <input>\n\t\t * element to reflect the current state.\n\t\t */\n\t\tupdateOriginalInput: function(opts) {\n\t\t\tvar i, n, options, label, self = this;\n\t\t\topts = opts || {};\n\t\n\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\toptions = [];\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t}\n\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t}\n\t\t\t\tself.$input.html(options.join(''));\n\t\t\t} else {\n\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t}\n\t\n\t\t\tif (self.isSetup) {\n\t\t\t\tif (!opts.silent) {\n\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Shows/hide the input placeholder depending\n\t\t * on if there items in the list already.\n\t\t */\n\t\tupdatePlaceholder: function() {\n\t\t\tif (!this.settings.placeholder) return;\n\t\t\tvar $input = this.$control_input;\n\t\n\t\t\tif (this.items.length) {\n\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t} else {\n\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t}\n\t\t\t$input.triggerHandler('update', {force: true});\n\t\t},\n\t\n\t\t/**\n\t\t * Shows the autocomplete dropdown containing\n\t\t * the available options.\n\t\t */\n\t\topen: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\tself.focus();\n\t\t\tself.isOpen = true;\n\t\t\tself.refreshState();\n\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\tself.positionDropdown();\n\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Closes the autocomplete dropdown menu.\n\t\t */\n\t\tclose: function() {\n\t\t\tvar self = this;\n\t\t\tvar trigger = self.isOpen;\n\t\n\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t}\n\t\n\t\t\tself.isOpen = false;\n\t\t\tself.$dropdown.hide();\n\t\t\tself.setActiveOption(null);\n\t\t\tself.refreshState();\n\t\n\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Calculates and applies the appropriate\n\t\t * position of the dropdown.\n\t\t */\n\t\tpositionDropdown: function() {\n\t\t\tvar $control = this.$control;\n\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\toffset.top += $control.outerHeight(true);\n\t\n\t\t\tthis.$dropdown.css({\n\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\ttop   : offset.top,\n\t\t\t\tleft  : offset.left\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Resets / clears all selected items\n\t\t * from the control.\n\t\t *\n\t\t * @param {boolean} silent\n\t\t */\n\t\tclear: function(silent) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (!self.items.length) return;\n\t\t\tself.$control.children(':not(input)').remove();\n\t\t\tself.items = [];\n\t\t\tself.lastQuery = null;\n\t\t\tself.setCaret(0);\n\t\t\tself.setActiveItem(null);\n\t\t\tself.updatePlaceholder();\n\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\tself.refreshState();\n\t\t\tself.showInput();\n\t\t\tself.trigger('clear');\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for inserting an element\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {object} $el\n\t\t */\n\t\tinsertAtCaret: function($el) {\n\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\tif (caret === 0) {\n\t\t\t\tthis.$control.prepend($el);\n\t\t\t} else {\n\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t}\n\t\t\tthis.setCaret(caret + 1);\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the current selected item(s).\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tdeleteSelection: function(e) {\n\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t}\n\t\n\t\t\t// determine items that will be removed\n\t\t\tvalues = [];\n\t\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\tif (direction > 0) { caret++; }\n\t\n\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t}\n\t\t\t\tif (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// allow the callback to abort\n\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// perform removal\n\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\tself.setCaret(caret);\n\t\t\t}\n\t\t\twhile (values.length) {\n\t\t\t\tself.removeItem(values.pop());\n\t\t\t}\n\t\n\t\t\tself.showInput();\n\t\t\tself.positionDropdown();\n\t\t\tself.refreshOptions(true);\n\t\n\t\t\t// select previous option\n\t\t\tif (option_select) {\n\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\tif ($option_select.length) {\n\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Selects the previous / next item (depending\n\t\t * on the `direction` argument).\n\t\t *\n\t\t * > 0 - right\n\t\t * < 0 - left\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceSelection: function(direction, e) {\n\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tif (direction === 0) return;\n\t\t\tif (self.rtl) direction *= -1;\n\t\n\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t: selection.start === valueLength;\n\t\n\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\tif ($tail.length) {\n\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret left / right.\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceCaret: function(direction, e) {\n\t\t\tvar self = this, fn, $adj;\n\t\n\t\t\tif (direction === 0) return;\n\t\n\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\tif (self.isShiftDown) {\n\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\tif ($adj.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret to the specified index.\n\t\t *\n\t\t * @param {int} i\n\t\t */\n\t\tsetCaret: function(i) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\ti = self.items.length;\n\t\t\t} else {\n\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t}\n\t\n\t\t\tif(!self.isPending) {\n\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t// on mobile webkit devices\n\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tself.caretPos = i;\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control. Used while\n\t\t * items are being asynchronously created.\n\t\t */\n\t\tlock: function() {\n\t\t\tthis.close();\n\t\t\tthis.isLocked = true;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Re-enables user input on the control.\n\t\t */\n\t\tunlock: function() {\n\t\t\tthis.isLocked = false;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control completely.\n\t\t * While disabled, it cannot receive focus.\n\t\t */\n\t\tdisable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', true);\n\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\tself.isDisabled = true;\n\t\t\tself.lock();\n\t\t},\n\t\n\t\t/**\n\t\t * Enables the control so that it can respond\n\t\t * to focus and user input.\n\t\t */\n\t\tenable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', false);\n\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\tself.isDisabled = false;\n\t\t\tself.unlock();\n\t\t},\n\t\n\t\t/**\n\t\t * Completely destroys the control and\n\t\t * unbinds all event listeners so that it can\n\t\t * be garbage collected.\n\t\t */\n\t\tdestroy: function() {\n\t\t\tvar self = this;\n\t\t\tvar eventNS = self.eventNS;\n\t\t\tvar revertSettings = self.revertSettings;\n\t\n\t\t\tself.trigger('destroy');\n\t\t\tself.off();\n\t\t\tself.$wrapper.remove();\n\t\t\tself.$dropdown.remove();\n\t\n\t\t\tself.$input\n\t\t\t\t.html('')\n\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t.removeClass('selectized')\n\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t.show();\n\t\n\t\t\tself.$control_input.removeData('grow');\n\t\t\tself.$input.removeData('selectize');\n\t\n\t\t\t$(window).off(eventNS);\n\t\t\t$(document).off(eventNS);\n\t\t\t$(document.body).off(eventNS);\n\t\n\t\t\tdelete self.$input[0].selectize;\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for rendering \"item\" and\n\t\t * \"option\" templates, given the data.\n\t\t *\n\t\t * @param {string} templateName\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(templateName, data) {\n\t\t\tvar value, id, label;\n\t\t\tvar html = '';\n\t\t\tvar cache = false;\n\t\t\tvar self = this;\n\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\tcache = !!value;\n\t\t\t}\n\t\n\t\t\t// pull markup from cache if it exists\n\t\t\tif (cache) {\n\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t}\n\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// render markup\n\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\n\t\t\t// add mandatory attributes\n\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t}\n\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\thtml.attr('data-group', id);\n\t\t\t}\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t}\n\t\n\t\t\t// update cache\n\t\t\tif (cache) {\n\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t}\n\t\n\t\t\treturn html[0];\n\t\t},\n\t\n\t\t/**\n\t\t * Clears the render cache for a template. If\n\t\t * no template is given, clears all render\n\t\t * caches.\n\t\t *\n\t\t * @param {string} templateName\n\t\t */\n\t\tclearCache: function(templateName) {\n\t\t\tvar self = this;\n\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\tself.renderCache = {};\n\t\t\t} else {\n\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not to display the\n\t\t * create item prompt, given a user input.\n\t\t *\n\t\t * @param {string} input\n\t\t * @return {boolean}\n\t\t */\n\t\tcanCreate: function(input) {\n\t\t\tvar self = this;\n\t\t\tif (!self.settings.create) return false;\n\t\t\tvar filter = self.settings.createFilter;\n\t\t\treturn input.length\n\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t}\n\t\n\t});\n\t\n\t\n\tSelectize.count = 0;\n\tSelectize.defaults = {\n\t\toptions: [],\n\t\toptgroups: [],\n\t\n\t\tplugins: [],\n\t\tdelimiter: ',',\n\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\tpersist: true,\n\t\tdiacritics: true,\n\t\tcreate: false,\n\t\tcreateOnBlur: false,\n\t\tcreateFilter: null,\n\t\thighlight: true,\n\t\topenOnFocus: true,\n\t\tmaxOptions: 1000,\n\t\tmaxItems: null,\n\t\thideSelected: null,\n\t\taddPrecedence: false,\n\t\tselectOnTab: false,\n\t\tpreload: false,\n\t\tallowEmptyOption: false,\n\t\tcloseAfterSelect: false,\n\t\n\t\tscrollDuration: 60,\n\t\tloadThrottle: 300,\n\t\tloadingClass: 'loading',\n\t\n\t\tdataAttr: 'data-data',\n\t\toptgroupField: 'optgroup',\n\t\tvalueField: 'value',\n\t\tlabelField: 'text',\n\t\toptgroupLabelField: 'label',\n\t\toptgroupValueField: 'value',\n\t\tlockOptgroupOrder: false,\n\t\n\t\tsortField: '$order',\n\t\tsearchField: ['text'],\n\t\tsearchConjunction: 'and',\n\t\n\t\tmode: null,\n\t\twrapperClass: 'selectize-control',\n\t\tinputClass: 'selectize-input',\n\t\tdropdownClass: 'selectize-dropdown',\n\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\n\t\tdropdownParent: null,\n\t\n\t\tcopyClassesToDropdown: true,\n\t\n\t\t/*\n\t\tload                 : null, // function(query, callback) { ... }\n\t\tscore                : null, // function(search) { ... }\n\t\tonInitialize         : null, // function() { ... }\n\t\tonChange             : null, // function(value) { ... }\n\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\tonItemRemove         : null, // function(value) { ... }\n\t\tonClear              : null, // function() { ... }\n\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\tonOptionRemove       : null, // function(value) { ... }\n\t\tonOptionClear        : null, // function() { ... }\n\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\tonOptionGroupClear   : null, // function() { ... }\n\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\tonType               : null, // function(str) { ... }\n\t\tonDelete             : null, // function(values) { ... }\n\t\t*/\n\t\n\t\trender: {\n\t\t\t/*\n\t\t\titem: null,\n\t\t\toptgroup: null,\n\t\t\toptgroup_header: null,\n\t\t\toption: null,\n\t\t\toption_create: null\n\t\t\t*/\n\t\t}\n\t};\n\t\n\t\n\t$.fn.selectize = function(settings_user) {\n\t\tvar defaults             = $.fn.selectize.defaults;\n\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\tvar attr_data            = settings.dataAttr;\n\t\tvar field_label          = settings.labelField;\n\t\tvar field_value          = settings.valueField;\n\t\tvar field_optgroup       = settings.optgroupField;\n\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\n\t\t/**\n\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_textbox = function($input, settings_element) {\n\t\t\tvar i, n, values, option;\n\t\n\t\t\tvar data_raw = $input.attr(attr_data);\n\t\n\t\t\tif (!data_raw) {\n\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\toption = {};\n\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t}\n\t\t\t\tsettings_element.items = values;\n\t\t\t} else {\n\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Initializes selectize from a <select> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_select = function($input, settings_element) {\n\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\tvar options = settings_element.options;\n\t\t\tvar optionsMap = {};\n\t\n\t\t\tvar readData = function($el) {\n\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\t\n\t\t\tvar addOption = function($option, group) {\n\t\t\t\t$option = $($option);\n\t\n\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\n\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\n\t\t\t\toptionsMap[value] = option;\n\t\t\t\toptions.push(option);\n\t\n\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\tvar i, n, id, optgroup, $options;\n\t\n\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\tid = $optgroup.attr('label');\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t}\n\t\n\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\n\t\t\t$children = $input.children();\n\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\taddOption($children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\treturn this.each(function() {\n\t\t\tif (this.selectize) return;\n\t\n\t\t\tvar instance;\n\t\t\tvar $input = $(this);\n\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t}\n\t\n\t\t\tvar settings_element = {\n\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t'options'     : [],\n\t\t\t\t'optgroups'   : [],\n\t\t\t\t'items'       : []\n\t\t\t};\n\t\n\t\t\tif (tag_name === 'select') {\n\t\t\t\tinit_select($input, settings_element);\n\t\t\t} else {\n\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t}\n\t\n\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t});\n\t};\n\t\n\t$.fn.selectize.defaults = Selectize.defaults;\n\t$.fn.selectize.support = {\n\t\tvalidity: SUPPORTS_VALIDITY_API\n\t};\n\t\n\t\n\tSelectize.define('drag_drop', function(options) {\n\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\tif (this.settings.mode !== 'multi') return;\n\t\tvar self = this;\n\t\n\t\tself.lock = (function() {\n\t\t\tvar original = self.lock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.unlock = (function() {\n\t\t\tvar original = self.unlock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(this, arguments);\n\t\n\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t},\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('dropdown_header', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\ttitle         : 'Untitled',\n\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\n\t\t\thtml: function(data) {\n\t\t\t\treturn (\n\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</div>'\n\t\t\t\t);\n\t\t\t}\n\t\t}, options);\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('optgroup_columns', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\tequalizeWidth  : true,\n\t\t\tequalizeHeight : true\n\t\t}, options);\n\t\n\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, $option, $options, $optgroup;\n\t\n\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\n\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tvar getScrollbarWidth = function() {\n\t\t\tvar div;\n\t\t\tvar width = getScrollbarWidth.width;\n\t\t\tvar doc = document;\n\t\n\t\t\tif (typeof width === 'undefined') {\n\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\tdiv = div.firstChild;\n\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\tdoc.body.removeChild(div);\n\t\t\t}\n\t\t\treturn width;\n\t\t};\n\t\n\t\tvar equalizeSizes = function() {\n\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\n\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\tn = $optgroups.length;\n\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\n\t\t\tif (options.equalizeHeight) {\n\t\t\t\theight_max = 0;\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t}\n\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t}\n\t\n\t\t\tif (options.equalizeWidth) {\n\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t$optgroups.css({width: width});\n\t\t\t\tif (n > 1) {\n\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t}\n\t\n\t\n\t});\n\t\n\tSelectize.define('remove_button', function(options) {\n\t\toptions = $.extend({\n\t\t\t\tlabel     : '&times;',\n\t\t\t\ttitle     : 'Remove',\n\t\t\t\tclassName : 'remove',\n\t\t\t\tappend    : true\n\t\t\t}, options);\n\t\n\t\t\tvar singleClose = function(thisRef, options) {\n\t\n\t\t\t\toptions.className = 'remove-single';\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tvar multiClose = function(thisRef, options) {\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\tsingleClose(this, options);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tmultiClose(this, options);\n\t\t\t}\n\t});\n\t\n\t\n\tSelectize.define('restore_on_backspace', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions.text = options.text || function(option) {\n\t\t\treturn option[this.settings.labelField];\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, option;\n\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t});\n\t\n\n\treturn Selectize;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/dist/js/selectize.js\n// module id = 10\n// module chunks = 1 2","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.Sifter = factory();\n\t}\n}(this, function() {\n\n\t/**\n\t * Textually searches arrays and hashes of objects\n\t * by property (or multiple properties). Designed\n\t * specifically for autocomplete.\n\t *\n\t * @constructor\n\t * @param {array|object} items\n\t * @param {object} items\n\t */\n\tvar Sifter = function(items, settings) {\n\t\tthis.items = items;\n\t\tthis.settings = settings || {diacritics: true};\n\t};\n\n\t/**\n\t * Splits a search string into an array of individual\n\t * regexps to be used to match results.\n\t *\n\t * @param {string} query\n\t * @returns {array}\n\t */\n\tSifter.prototype.tokenize = function(query) {\n\t\tquery = trim(String(query || '').toLowerCase());\n\t\tif (!query || !query.length) return [];\n\n\t\tvar i, n, regex, letter;\n\t\tvar tokens = [];\n\t\tvar words = query.split(/ +/);\n\n\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\tregex = escape_regex(words[i]);\n\t\t\tif (this.settings.diacritics) {\n\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttokens.push({\n\t\t\t\tstring : words[i],\n\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t});\n\t\t}\n\n\t\treturn tokens;\n\t};\n\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * this.iterator(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t * @param {array|object} object\n\t */\n\tSifter.prototype.iterator = function(object, callback) {\n\t\tvar iterator;\n\t\tif (is_array(object)) {\n\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\titerator = function(callback) {\n\t\t\t\tfor (var key in this) {\n\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\titerator.apply(object, [callback]);\n\t};\n\n\t/**\n\t * Returns a function to be used to score individual results.\n\t *\n\t * Good matches will have a higher score than poor matches.\n\t * If an item is not a match, 0 will be returned by the function.\n\t *\n\t * @param {object|string} search\n\t * @param {object} options (optional)\n\t * @returns {function}\n\t */\n\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\tvar self, fields, tokens, token_count, nesting;\n\n\t\tself        = this;\n\t\tsearch      = self.prepareSearch(search, options);\n\t\ttokens      = search.tokens;\n\t\tfields      = search.options.fields;\n\t\ttoken_count = tokens.length;\n\t\tnesting     = search.options.nesting;\n\n\t\t/**\n\t\t * Calculates how close of a match the\n\t\t * given value is against a search token.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} token\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreValue = function(value, token) {\n\t\t\tvar score, pos;\n\n\t\t\tif (!value) return 0;\n\t\t\tvalue = String(value || '');\n\t\t\tpos = value.search(token.regex);\n\t\t\tif (pos === -1) return 0;\n\t\t\tscore = token.string.length / value.length;\n\t\t\tif (pos === 0) score += 0.5;\n\t\t\treturn score;\n\t\t};\n\n\t\t/**\n\t\t * Calculates the score of an object\n\t\t * against the search query.\n\t\t *\n\t\t * @param {object} token\n\t\t * @param {object} data\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreObject = (function() {\n\t\t\tvar field_count = fields.length;\n\t\t\tif (!field_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (field_count === 1) {\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn function(token, data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t}\n\t\t\t\treturn sum / field_count;\n\t\t\t};\n\t\t})();\n\n\t\tif (!token_count) {\n\t\t\treturn function() { return 0; };\n\t\t}\n\t\tif (token_count === 1) {\n\t\t\treturn function(data) {\n\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t};\n\t\t}\n\n\t\tif (search.options.conjunction === 'and') {\n\t\t\treturn function(data) {\n\t\t\t\tvar score;\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\tsum += score;\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Returns a function that can be used to compare two\n\t * results, for sorting purposes. If no sorting should\n\t * be performed, `null` will be returned.\n\t *\n\t * @param {string|object} search\n\t * @param {object} options\n\t * @return function(a,b)\n\t */\n\tSifter.prototype.getSortFunction = function(search, options) {\n\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n\t\tself   = this;\n\t\tsearch = self.prepareSearch(search, options);\n\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\n\t\t/**\n\t\t * Fetches the specified sort field value\n\t\t * from a search result item.\n\t\t *\n\t\t * @param  {string} name\n\t\t * @param  {object} result\n\t\t * @return {mixed}\n\t\t */\n\t\tget_field = function(name, result) {\n\t\t\tif (name === '$score') return result.score;\n\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t};\n\n\t\t// parse options\n\t\tfields = [];\n\t\tif (sort) {\n\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// the \"$score\" field is implied to be the primary\n\t\t// sort field, unless it's manually specified\n\t\tif (search.query) {\n\t\t\timplicit_score = true;\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\timplicit_score = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (implicit_score) {\n\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmultipliers = [];\n\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t}\n\n\t\t// build function\n\t\tfields_count = fields.length;\n\t\tif (!fields_count) {\n\t\t\treturn null;\n\t\t} else if (fields_count === 1) {\n\t\t\tfield = fields[0].field;\n\t\t\tmultiplier = multipliers[0];\n\t\t\treturn function(a, b) {\n\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\tget_field(field, a),\n\t\t\t\t\tget_field(field, b)\n\t\t\t\t);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(a, b) {\n\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t\tif (result) return result;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Parses a search query and returns an object\n\t * with tokens and fields ready to be populated\n\t * with results.\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.prepareSearch = function(query, options) {\n\t\tif (typeof query === 'object') return query;\n\n\t\toptions = extend({}, options);\n\n\t\tvar option_fields     = options.fields;\n\t\tvar option_sort       = options.sort;\n\t\tvar option_sort_empty = options.sort_empty;\n\n\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n\t\treturn {\n\t\t\toptions : options,\n\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\ttokens  : this.tokenize(query),\n\t\t\ttotal   : 0,\n\t\t\titems   : []\n\t\t};\n\t};\n\n\t/**\n\t * Searches through all items and returns a sorted array of matches.\n\t *\n\t * The `options` parameter can contain:\n\t *\n\t *   - fields {string|array}\n\t *   - sort {array}\n\t *   - score {function}\n\t *   - filter {bool}\n\t *   - limit {integer}\n\t *\n\t * Returns an object containing:\n\t *\n\t *   - options {object}\n\t *   - query {string}\n\t *   - tokens {array}\n\t *   - total {int}\n\t *   - items {array}\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.search = function(query, options) {\n\t\tvar self = this, value, score, search, calculateScore;\n\t\tvar fn_sort;\n\t\tvar fn_score;\n\n\t\tsearch  = this.prepareSearch(query, options);\n\t\toptions = search.options;\n\t\tquery   = search.query;\n\n\t\t// generate result scoring function\n\t\tfn_score = options.score || self.getScoreFunction(search);\n\n\t\t// perform search and sort\n\t\tif (query.length) {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tscore = fn_score(item);\n\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t});\n\t\t}\n\n\t\tfn_sort = self.getSortFunction(search, options);\n\t\tif (fn_sort) search.items.sort(fn_sort);\n\n\t\t// apply limits\n\t\tsearch.total = search.items.length;\n\t\tif (typeof options.limit === 'number') {\n\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t}\n\n\t\treturn search;\n\t};\n\n\t// utilities\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\tvar cmp = function(a, b) {\n\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t}\n\t\ta = asciifold(String(a || ''));\n\t\tb = asciifold(String(b || ''));\n\t\tif (a > b) return 1;\n\t\tif (b > a) return -1;\n\t\treturn 0;\n\t};\n\n\tvar extend = function(a, b) {\n\t\tvar i, n, k, object;\n\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\tobject = arguments[i];\n\t\t\tif (!object) continue;\n\t\t\tfor (k in object) {\n\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\ta[k] = object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t};\n\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @param  {Boolean} nesting Handle nesting or not\n\t * @return {Object}          The resolved property value\n\t */\n\tvar getattr = function(obj, name, nesting) {\n\t    if (!obj || !name) return;\n\t    if (!nesting) return obj[name];\n\t    var names = name.split(\".\");\n\t    while(names.length && (obj = obj[names.shift()]));\n\t    return obj;\n\t};\n\n\tvar trim = function(str) {\n\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t};\n\n\tvar escape_regex = function(str) {\n\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t};\n\n\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t};\n\n\tvar DIACRITICS = {\n\t\t'a': '[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]',\n\t\t'b': '[b␢βΒB฿𐌁ᛒ]',\n\t\t'c': '[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]',\n\t\t'd': '[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]',\n\t\t'e': '[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]',\n\t\t'f': '[fƑƒḞḟ]',\n\t\t'g': '[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]',\n\t\t'h': '[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]',\n\t\t'i': '[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]',\n\t\t'j': '[jȷĴĵɈɉʝɟʲ]',\n\t\t'k': '[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]',\n\t\t'l': '[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]',\n\t\t'n': '[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]',\n\t\t'o': '[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]',\n\t\t'p': '[pṔṕṖṗⱣᵽƤƥᵱ]',\n\t\t'q': '[qꝖꝗʠɊɋꝘꝙq̃]',\n\t\t'r': '[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]',\n\t\t's': '[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]',\n\t\t't': '[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]',\n\t\t'u': '[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]',\n\t\t'v': '[vṼṽṾṿƲʋꝞꝟⱱʋ]',\n\t\t'w': '[wẂẃẀẁŴŵẄẅẆẇẈẉ]',\n\t\t'x': '[xẌẍẊẋχ]',\n\t\t'y': '[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]',\n\t\t'z': '[zŹźẐẑŽžŻżẒẓẔẕƵƶ]'\n\t};\n\n\tvar asciifold = (function() {\n\t\tvar i, n, k, chunk;\n\t\tvar foreignletters = '';\n\t\tvar lookup = {};\n\t\tfor (k in DIACRITICS) {\n\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\tforeignletters += chunk;\n\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\treturn function(str) {\n\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\treturn lookup[foreignletter];\n\t\t\t}).toLowerCase();\n\t\t};\n\t})();\n\n\n\t// export\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\treturn Sifter;\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/~/sifter/sifter.js\n// module id = 11\n// module chunks = 1 2","/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MicroPlugin = factory();\n\t}\n}(this, function() {\n\tvar MicroPlugin = {};\n\n\tMicroPlugin.mixin = function(Interface) {\n\t\tInterface.plugins = {};\n\n\t\t/**\n\t\t * Initializes the listed plugins (with options).\n\t\t * Acceptable formats:\n\t\t *\n\t\t * List (without options):\n\t\t *   ['a', 'b', 'c']\n\t\t *\n\t\t * List (with options):\n\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t *\n\t\t * Hash (with options):\n\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t *\n\t\t * @param {mixed} plugins\n\t\t */\n\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\tvar i, n, key;\n\t\t\tvar self  = this;\n\t\t\tvar queue = [];\n\n\t\t\tself.plugins = {\n\t\t\t\tnames     : [],\n\t\t\t\tsettings  : {},\n\t\t\t\trequested : {},\n\t\t\t\tloaded    : {}\n\t\t\t};\n\n\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (plugins) {\n\t\t\t\tfor (key in plugins) {\n\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (queue.length) {\n\t\t\t\tself.require(queue.shift());\n\t\t\t}\n\t\t};\n\n\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\tvar self    = this;\n\t\t\tvar plugins = self.plugins;\n\t\t\tvar plugin  = Interface.plugins[name];\n\n\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t}\n\n\t\t\tplugins.requested[name] = true;\n\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\tplugins.names.push(name);\n\t\t};\n\n\t\t/**\n\t\t * Initializes a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t */\n\t\tInterface.prototype.require = function(name) {\n\t\t\tvar self = this;\n\t\t\tvar plugins = self.plugins;\n\n\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t}\n\t\t\t\tself.loadPlugin(name);\n\t\t\t}\n\n\t\t\treturn plugins.loaded[name];\n\t\t};\n\n\t\t/**\n\t\t * Registers a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\tInterface.define = function(name, fn) {\n\t\t\tInterface.plugins[name] = {\n\t\t\t\t'name' : name,\n\t\t\t\t'fn'   : fn\n\t\t\t};\n\t\t};\n\t};\n\n\tvar utils = {\n\t\tisArray: Array.isArray || function(vArg) {\n\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t}\n\t};\n\n\treturn MicroPlugin;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/~/microplugin/src/microplugin.js\n// module id = 12\n// module chunks = 1 2","'use strict'\n\n// Dependecies\nconst $ =  require('jquery')\n\nvar module = (element) => {\n  const dropZone = $(element)\n  let $input = dropZone.find('input') // TODO: Change this selector name\n  let $altInput = dropZone.find('[data-trigger=\"file\"]')\n  let defaultImage = dropZone.data('original-image')\n\n  if(defaultImage){\n      fakeLoad('Imagem Padrão', defaultImage)\n  }\n\n  dropZone.on({\n    dragover: cbDragOver,\n    dragleave: cbDragLeave,\n    drop: cbDrop\n  })\n\n  $input.on({\n    change: cbChangeFile\n  })\n\n  $altInput.on({\n    click: cbTriggerFile\n  })\n\n  function cbDragOver (event) {\n    dropZone.addClass('hover')\n    return false\n  }\n\n  function cbDragLeave (event) {\n    dropZone.removeClass('hover')\n    return false\n  }\n\n  function cbDrop (event) {\n    let file = event.originalEvent.dataTransfer.files[0]\n\n    event.stopPropagation()\n    event.preventDefault()\n    dropZone.removeClass('hover')\n\n    readFile(file)\n    $input.files = file\n    $input.val('')\n    return false\n  }\n\n  function cbChangeFile (event) {\n    readFile(this.files[0])\n    return false\n  }\n\n  function cbTriggerFile (event) {\n    $input.trigger('click')\n  }\n\n}\n\nvar fakeLoad = function(name, src){\n  var $image = $('<img/>')\n      .load(function() {\n          createPreview(name, getCanvasImage(this))\n      })\n      .attr('src', src);\n}\n\nvar readFile = function (file) {\n  var reader = new FileReader();\n\n  reader.onload = function(e) {\n      fakeLoad(file.name, e.target.result)\n  }\n  reader.readAsDataURL(file);\n}\n\nvar getCanvasImage = function(image) {\n\n  let imgWidth = image.width,\n      imgHeight = image.height;\n\n  let canvas = document.createElement('canvas');\n  canvas.width = imgWidth;\n  canvas.height = imgHeight;\n\n  let ctx = canvas.getContext('2d');\n  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\n  return canvas.toDataURL('image/jpeg');\n}\n\nvar createPreview = function(filename, newURL) {\n  let fileName = filename.substr(0, filename.lastIndexOf('.')) //subtract file extension\n  let filePath = newURL\n  let image = `<img src=\"${filePath}\" class=\"img-responsive\" alt=\"${fileName}\"/>`\n  //append new image through jQuery Template\n  $('[data-content=\"file\"]').html(image).show()\n  $('.custom-file-content').hide()\n}\n\nexport default module\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/dropzoneUploader.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar job,\n  elementData,\n  $element;\n\nvar defaultSettings = {\n  plugins: ['remove_button'],\n  delimiter: ',',\n  persist: false,\n  create: true,\n  render: {\n    option_create: function (item) {\n      return `<div class=\"create\">${item.input}</div>`;\n    }\n  }\n};\n\njob = (element) => {\n  $element = $(element);\n  elementData = $element.data();\n  $(element).selectize(defaultSettings);\n};\n\nexport default job;\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/job.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar profession,\n  elementData,\n  $element;\n\nvar defaultSettings = {\n  // plugins: ['remove_button'],\n  // delimiter: ',',\n  // persist: false,\n  // create: true,\n  // render: {\n  //   option_create: function (item) {\n  //     return `<div class=\"create\">${item.input}</div>`;\n  //   }\n  // }\n};\n\nprofession = ( element ) => {\n  const $element = $( element )\n  elementData = $element.data()\n  var selectizeSettings = $.extend( {}, defaultSettings, elementData )\n  $element.selectize( defaultSettings )\n};\n\nexport default profession;\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/profession.js","import profession from './profession'\nimport geography from '../components/geography'\nimport input from '../components/customform/input'\nimport toggleSelect from '../components/customform/toggle-select'\nimport toggleCheck from '../components/customform/toggle-check'\nimport '../vendor/jquery.steps'\nimport '../vendor/jquery.validate'\nimport '../vendor/jquery.formset'\n\nconst steps = ( root ) => {\n  const $root = $( root )\n  const $form = $root.parents( 'form' )\n\n  $form.validate({\n    errorPlacement: function errorPlacement(error, element) {\n      element.after(error)\n    },\n    highlight: function(element, errorClass, validClass) {\n      $( element ).parents( '.customform' ).addClass( 'customform-error' )\n    },\n    unhighlight: function(element, errorClass, validClass) {\n      $( element ).parents( '.customform' ).removeClass( 'customform-error' )\n    },\n    submitHandler: function(form) {\n      if ($(form).valid()) {\n        form.submit()\n      }\n    }\n  })\n\n  $root.steps({\n    headerTag: '[data-step-part=\"header\"]',\n    bodyTag: '[data-step-part=\"content\"]',\n    enableAllSteps: true,\n    titleTemplate: '#title#',\n    enablePagination: false,\n    startIndex: $root.data( 'index' ),\n    onInit: function ( event, currentIndex ) {\n      input( $root.find( '[data-toggle=\"input\"]' ))\n      toggleSelect( $root.find( '[data-toggle=\"salary\"]' ), 'data-salary' )\n      toggleCheck( $root.find( '[data-toggle=\"location\"]' ), 'data-location' )\n      $( '[data-toggle=\"tooltip\"]' ).tooltip()\n      let formsetLength = $( '[data-toggle=\"formset\"]' ).length\n      let professionLength = $( '[data-module=\"profession\"]' ).length\n      let geographyLength = $( '[data-component=\"geography\"]' ).length\n      if ( !!formsetLength ) {\n        let $containerForm = $root.find( '[data-toggle=\"formset\"]' )\n        $containerForm.each(( index, value ) => {\n          let dataFormset = $( value ).data()\n          $( value ).find( '.row' ).formset({\n            prefix: dataFormset.prefix,\n            formCssClass: `dynamic-formset-${index}`,\n            addCssClass: 'customform-button',\n            addText: dataFormset.addText,\n            deleteTemplate: `<div class=\"col-sm-1 text-center\"><div class=\"customform customform-error\">\n              <a class=\"delete-row text-danger\" href=\"javascript:void(0)\"><i class=\"gsticon gsticon-lg gsticon-minus-circle\"></i></a></div></div>`\n          })\n        })\n      }\n      if ( !!professionLength ) {\n        profession( $root.find( '[data-module=\"profession\"]' ))\n      }\n      \n      if ( !!geographyLength ) {\n        geography( $root.find( '[data-component=\"geography\"]' ))\n      }\n\n      if ($root.data( 'error' )) {\n        $root.find( '.steps .current' ).addClass( 'error' )\n      }\n\n\n    },\n    onStepChanging: function ( event, currentIndex, newIndex ) {\n      $form.validate().settings.ignore = ':disabled,:hidden'\n      $root.data( 'index', newIndex )\n      return $form.valid()\n    },\n  })\n\n  $root.find( '[data-step-action=\"next\"]' ).on( 'click', ( event ) => {\n    $root.steps( 'next' )\n  })\n}\n\nexport default steps\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/steps.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nlet defaultSettings = {\n  plugins: ['remove_button'],\n  maxItems: null,\n  valueField: 'id',\n  labelField: 'name',\n  searchField: 'name',\n  options: [],\n  create: false,\n  render: {\n    item: function (item) {\n      return `<div>${item.name}</div>`;\n    },\n    option: function (option, escape) {\n      return `<div>${escape(option.name)}</div>`;\n    }\n  },\n  load: function ( query, callback ) {\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        dataType: 'json',\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function ( res ) {\n            callback( res )\n        }\n    });\n  }\n};\n\nconst geography = ( element ) => {\n  const $element = $( element )\n  const elementData = $element.data()\n  const selectizeSettings = $.extend( {}, defaultSettings, elementData )\n  $element.selectize( defaultSettings )\n};\n\nexport default geography;\n\n\n\n// WEBPACK FOOTER //\n// ./components/geography.js","module.exports = ( name ) => {\n  const $element = $( name )\n\n  $element.map( element => {\n    if ( $element[element].nodeName === 'TEXTAREA' && ( $element[element].value.length !== 0 )) {\n      setTimeout( inputResize( $element[element] ), 0)\n    }\n  })\n\n  $element.on({\n    focus: function ( event ) {\n      const $this = $( this )\n      $this.siblings( 'label' ).addClass( 'active' )\n    },\n    blur: function ( event ) {\n      const $this = $( this )\n      if ( !$this.val() ) {\n        $this.siblings( 'label' ).removeClass( 'active' )\n      }\n    },\n    input: function ( event ) {\n      if ( event.currentTarget.nodeName === 'TEXTAREA' ) {\n        setTimeout( inputResize( event.currentTarget ), 0)\n      }\n    }\n  })\n}\n\nconst inputResize = ( selector ) => {\n  const style = selector.style\n  const height = !!selector.scrollHeight ? selector.scrollHeight + 'px' : 'auto'\n  style.height = 'auto'\n\n  style.height = height\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/input.js","module.exports = ( select, dataTarget ) => {\n  const $select = $( select )\n  const $target = $( `[${dataTarget}]` )\n  $target.hide()\n  $target.find(':input').attr('disabled', true)\n  $( `[${dataTarget}=${$select.val()}]` ).show().find(':input' ).attr('disabled', false)\n\n  $select.on({\n    change: function ( event ) {\n      const $this = $( event.currentTarget )\n      $target.hide()\n      $target.find(':input').attr('disabled', true)\n      $( `[${dataTarget}=${$this.val()}]` ).show().find(':input' ).attr('disabled', false)\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/toggle-select.js","module.exports = ( check, dataTarget ) => {\n  const $check = $( check )\n  const $target = $( `[${dataTarget}]` )\n\n  if ($check.is(':checked')) {\n    console.log($check.val())\n  }\n\n  $check.on({\n    change: function ( event ) {\n      const $this = $( event.currentTarget )\n      $target.hide()\n      $target.find(':input').attr('disabled', true)\n\n      if ($this.is(':not(:checked)')) {\n        $( `[${dataTarget}]` ).show().find(':input' ).attr('disabled', false)\n      }\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/toggle-check.js","/*!\n * jQuery Steps v1.1.0 - 09/04/2014\n * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n * Licensed under MIT http://www.opensource.org/licenses/MIT\n */\n;(function ($, undefined)\n{\n$.fn.extend({\n    _aria: function (name, value)\n    {\n        return this.attr(\"aria-\" + name, value);\n    },\n\n    _removeAria: function (name)\n    {\n        return this.removeAttr(\"aria-\" + name);\n    },\n\n    _enableAria: function (enable)\n    {\n        return (enable == null || enable) ?\n            this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") :\n            this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n    },\n\n    _showAria: function (show)\n    {\n        return (show == null || show) ?\n            this.show()._aria(\"hidden\", \"false\") :\n            this.hide()._aria(\"hidden\", \"true\");\n    },\n\n    _selectAria: function (select)\n    {\n        return (select == null || select) ?\n            this.addClass(\"current\")._aria(\"selected\", \"true\") :\n            this.removeClass(\"current\")._aria(\"selected\", \"false\");\n    },\n\n    _id: function (id)\n    {\n        return (id) ? this.attr(\"id\", id) : this.attr(\"id\");\n    }\n});\n\nif (!String.prototype.format)\n{\n    String.prototype.format = function()\n    {\n        var args = (arguments.length === 1 && $.isArray(arguments[0])) ? arguments[0] : arguments;\n        var formattedString = this;\n        for (var i = 0; i < args.length; i++)\n        {\n            var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n            formattedString = formattedString.replace(pattern, args[i]);\n        }\n        return formattedString;\n    };\n}\n\n/**\n * A global unique id count.\n *\n * @static\n * @private\n * @property _uniqueId\n * @type Integer\n **/\nvar _uniqueId = 0;\n\n/**\n * The plugin prefix for cookies.\n *\n * @final\n * @private\n * @property _cookiePrefix\n * @type String\n **/\nvar _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\n/**\n * Suffix for the unique tab id.\n *\n * @final\n * @private\n * @property _tabSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabSuffix = \"-t-\";\n\n/**\n * Suffix for the unique tabpanel id.\n *\n * @final\n * @private\n * @property _tabpanelSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabpanelSuffix = \"-p-\";\n\n/**\n * Suffix for the unique title id.\n *\n * @final\n * @private\n * @property _titleSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _titleSuffix = \"-h-\";\n\n/**\n * An error message for an \"index out of range\" error.\n *\n * @final\n * @private\n * @property _indexOutOfRangeErrorMessage\n * @type String\n **/\nvar _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\n/**\n * An error message for an \"missing corresponding element\" error.\n *\n * @final\n * @private\n * @property _missingCorrespondingElementErrorMessage\n * @type String\n **/\nvar _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\n/**\n * Adds a step to the cache.\n *\n * @static\n * @private\n * @method addStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param step {Object} The step object to add\n **/\nfunction addStepToCache(wizard, step)\n{\n    getSteps(wizard).push(step);\n}\n\nfunction analyzeData(wizard, options, state)\n{\n    var stepTitles = wizard.children(options.headerTag),\n        stepContents = wizard.children(options.bodyTag);\n\n    // Validate content\n    if (stepTitles.length > stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n    }\n    else if (stepTitles.length < stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n    }\n\n    var startIndex = options.startIndex;\n\n    state.stepCount = stepTitles.length;\n\n    // Tries to load the saved state (step position)\n    if (options.saveState && $.cookie)\n    {\n        var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n        // Sets the saved position to the start index if not undefined or out of range\n        var savedIndex = parseInt(savedState, 0);\n        if (!isNaN(savedIndex) && savedIndex < state.stepCount)\n        {\n            startIndex = savedIndex;\n        }\n    }\n\n    state.currentIndex = startIndex;\n\n    stepTitles.each(function (index)\n    {\n        var item = $(this), // item == header\n            content = stepContents.eq(index),\n            modeData = content.data(\"mode\"),\n            mode = (modeData == null) ? contentMode.html : getValidEnumValue(contentMode,\n                (/^\\s*$/.test(modeData) || isNaN(modeData)) ? modeData : parseInt(modeData, 0)),\n            contentUrl = (mode === contentMode.html || content.data(\"url\") === undefined) ?\n                \"\" : content.data(\"url\"),\n            contentLoaded = (mode !== contentMode.html && content.data(\"loaded\") === \"1\"),\n            step = $.extend({}, stepModel, {\n                title: item.html(),\n                content: (mode === contentMode.html) ? content.html() : \"\",\n                contentUrl: contentUrl,\n                contentMode: mode,\n                contentLoaded: contentLoaded\n            });\n\n        addStepToCache(wizard, step);\n    });\n}\n\n/**\n * Triggers the onCanceled event.\n *\n * @static\n * @private\n * @method cancel\n * @param wizard {Object} The jQuery wizard object\n **/\nfunction cancel(wizard)\n{\n    wizard.triggerHandler(\"canceled\");\n}\n\nfunction decreaseCurrentIndexBy(state, decreaseBy)\n{\n    return state.currentIndex - decreaseBy;\n}\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @static\n * @private\n * @method destroy\n * @param wizard {Object} A jQuery wizard object\n **/\nfunction destroy(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    // Remove virtual data objects from the wizard\n    wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\")\n        .removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\")\n        .find(\".actions a\").unbind(eventNamespace);\n\n    // Remove attributes and CSS classes from the wizard\n    wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\n    var contents = wizard.find(\".content > *\");\n\n    // Remove virtual data objects from panels and their titles\n    contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\n    // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n    contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\")\n        .removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")\n        ._removeAria(\"hidden\");\n\n    // Empty panels if the mode is set to 'async' or 'iframe'\n    wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\n    var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\n    var wizardId = wizard._id();\n    if (wizardId != null && wizardId !== \"\")\n    {\n        wizardSubstitute._id(wizardId);\n    }\n\n    wizardSubstitute.html(wizard.find(\".content\").html());\n    wizard.after(wizardSubstitute);\n    wizard.remove();\n\n    return wizardSubstitute;\n}\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @static\n * @private\n * @method finishStep\n * @param wizard {Object} The jQuery wizard object\n * @param state {Object} The state container of the current wizard\n **/\nfunction finishStep(wizard, state)\n{\n    var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\n    if (wizard.triggerHandler(\"finishing\", [state.currentIndex]))\n    {\n        currentStep.addClass(\"done\").removeClass(\"error\");\n        wizard.triggerHandler(\"finished\", [state.currentIndex]);\n    }\n    else\n    {\n        currentStep.addClass(\"error\");\n    }\n}\n\n/**\n * Gets or creates if not exist an unique event namespace for the given wizard instance.\n *\n * @static\n * @private\n * @method getEventNamespace\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique event namespace for the given wizard\n */\nfunction getEventNamespace(wizard)\n{\n    var eventNamespace = wizard.data(\"eventNamespace\");\n\n    if (eventNamespace == null)\n    {\n        eventNamespace = \".\" + getUniqueId(wizard);\n        wizard.data(\"eventNamespace\", eventNamespace);\n    }\n\n    return eventNamespace;\n}\n\nfunction getStepAnchor(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n}\n\nfunction getStepPanel(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n}\n\nfunction getStepTitle(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n}\n\nfunction getOptions(wizard)\n{\n    return wizard.data(\"options\");\n}\n\nfunction getState(wizard)\n{\n    return wizard.data(\"state\");\n}\n\nfunction getSteps(wizard)\n{\n    return wizard.data(\"steps\");\n}\n\n/**\n * Gets a specific step object by index.\n *\n * @static\n * @private\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\nfunction getStep(wizard, index)\n{\n    var steps = getSteps(wizard);\n\n    if (index < 0 || index >= steps.length)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    return steps[index];\n}\n\n/**\n * Gets or creates if not exist an unique id from the given wizard instance.\n *\n * @static\n * @private\n * @method getUniqueId\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique id for the given wizard\n */\nfunction getUniqueId(wizard)\n{\n    var uniqueId = wizard.data(\"uid\");\n\n    if (uniqueId == null)\n    {\n        uniqueId = wizard._id();\n        if (uniqueId == null)\n        {\n            uniqueId = \"steps-uid-\".concat(_uniqueId);\n            wizard._id(uniqueId);\n        }\n\n        _uniqueId++;\n        wizard.data(\"uid\", uniqueId);\n    }\n\n    return uniqueId;\n}\n\n/**\n * Gets a valid enum value by checking a specific enum key or value.\n *\n * @static\n * @private\n * @method getValidEnumValue\n * @param enumType {Object} Type of enum\n * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n */\nfunction getValidEnumValue(enumType, keyOrValue)\n{\n    validateArgument(\"enumType\", enumType);\n    validateArgument(\"keyOrValue\", keyOrValue);\n\n    // Is key\n    if (typeof keyOrValue === \"string\")\n    {\n        var value = enumType[keyOrValue];\n        if (value === undefined)\n        {\n            throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n        }\n\n        return value;\n    }\n    // Is value\n    else if (typeof keyOrValue === \"number\")\n    {\n        for (var key in enumType)\n        {\n            if (enumType[key] === keyOrValue)\n            {\n                return keyOrValue;\n            }\n        }\n\n        throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n    }\n    // Type is not supported\n    else\n    {\n        throwError(\"Invalid key or value type.\");\n    }\n}\n\n/**\n * Routes to the next step.\n *\n * @static\n * @private\n * @method goToNextStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToNextStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to the previous step.\n *\n * @static\n * @private\n * @method goToPreviousStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToPreviousStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to a specific step by a given index.\n *\n * @static\n * @private\n * @method goToStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the action succeeded or failed\n **/\nfunction goToStep(wizard, options, state, index)\n{\n    if (index < 0 || index >= state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    if (options.forceMoveForward && index < state.currentIndex)\n    {\n        return;\n    }\n\n    var oldIndex = state.currentIndex;\n    if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index]))\n    {\n        // Save new state\n        state.currentIndex = index;\n        saveCurrentStateToCookie(wizard, options, state);\n\n        // Change visualisation\n        refreshStepNavigation(wizard, options, state, oldIndex);\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n        startTransitionEffect(wizard, options, state, index, oldIndex, function()\n        {\n            wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n        });\n    }\n    else\n    {\n        wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n    }\n\n    return true;\n}\n\nfunction increaseCurrentIndexBy(state, increaseBy)\n{\n    return state.currentIndex + increaseBy;\n}\n\n/**\n * Initializes the component.\n *\n * @static\n * @private\n * @method initialize\n * @param options {Object} The component settings\n **/\nfunction initialize(options)\n{\n    /*jshint -W040 */\n    var opts = $.extend(true, {}, defaults, options);\n\n    return this.each(function ()\n    {\n        var wizard = $(this);\n        var state = {\n            currentIndex: opts.startIndex,\n            currentStep: null,\n            stepCount: 0,\n            transitionElement: null\n        };\n\n        // Create data container\n        wizard.data(\"options\", opts);\n        wizard.data(\"state\", state);\n        wizard.data(\"steps\", []);\n\n        analyzeData(wizard, opts, state);\n        render(wizard, opts, state);\n        registerEvents(wizard, opts);\n\n        // Trigger focus\n        if (opts.autoFocus && _uniqueId === 0)\n        {\n            getStepAnchor(wizard, opts.startIndex).focus();\n        }\n\n        wizard.triggerHandler(\"init\", [opts.startIndex]);\n    });\n}\n\n/**\n * Inserts a new step to a specific position.\n *\n * @static\n * @private\n * @method insertStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\nfunction insertStep(wizard, options, state, index, step)\n{\n    if (index < 0 || index > state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    // TODO: Validate step object\n\n    // Change data\n    step = $.extend({}, stepModel, step);\n    insertStepToCache(wizard, index, step);\n    if (state.currentIndex !== state.stepCount && state.currentIndex >= index)\n    {\n        state.currentIndex++;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount++;\n\n    var contentContainer = wizard.find(\".content\"),\n        header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n        body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\n    if (step.contentMode == null || step.contentMode === contentMode.html)\n    {\n        body.html(step.content);\n    }\n\n    if (index === 0)\n    {\n        contentContainer.prepend(body).prepend(header);\n    }\n    else\n    {\n        getStepPanel(wizard, (index - 1)).after(body).after(header);\n    }\n\n    renderBody(wizard, state, body, index);\n    renderTitle(wizard, options, state, header, index);\n    refreshSteps(wizard, options, state, index);\n    if (index === state.currentIndex)\n    {\n        refreshStepNavigation(wizard, options, state);\n    }\n    refreshPagination(wizard, options, state);\n\n    return wizard;\n}\n\n/**\n * Inserts a step object to the cache at a specific position.\n *\n * @static\n * @private\n * @method insertStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n **/\nfunction insertStepToCache(wizard, index, step)\n{\n    getSteps(wizard).splice(index, 0, step);\n}\n\n/**\n * Handles the keyup DOM event for pagination.\n *\n * @static\n * @private\n * @event keyup\n * @param event {Object} An event object\n */\nfunction keyUpHandler(event)\n{\n    var wizard = $(this),\n        options = getOptions(wizard),\n        state = getState(wizard);\n\n    if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\"))\n    {\n        event.preventDefault();\n        return false;\n    }\n\n    var keyCodes = { left: 37, right: 39 };\n    if (event.keyCode === keyCodes.left)\n    {\n        event.preventDefault();\n        goToPreviousStep(wizard, options, state);\n    }\n    else if (event.keyCode === keyCodes.right)\n    {\n        event.preventDefault();\n        goToNextStep(wizard, options, state);\n    }\n}\n\n/**\n * Loads and includes async content.\n *\n * @static\n * @private\n * @method loadAsyncContent\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction loadAsyncContent(wizard, options, state)\n{\n    if (state.stepCount > 0)\n    {\n        var currentIndex = state.currentIndex,\n            currentStep = getStep(wizard, currentIndex);\n\n        if (!options.enableContentCache || !currentStep.contentLoaded)\n        {\n            switch (getValidEnumValue(contentMode, currentStep.contentMode))\n            {\n                case contentMode.iframe:\n                    wizard.find(\".content > .body\").eq(state.currentIndex).empty()\n                        .html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\")\n                        .data(\"loaded\", \"1\");\n                    break;\n\n                case contentMode.async:\n                    var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\")\n                        .empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\n                    $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data)\n                    {\n                        currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n                        wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n                    });\n                    break;\n            }\n        }\n    }\n}\n\n/**\n * Fires the action next or previous click event.\n *\n * @static\n * @private\n * @method paginationClick\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the event fired successfully or not\n **/\nfunction paginationClick(wizard, options, state, index)\n{\n    var oldIndex = state.currentIndex;\n\n    if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex))\n    {\n        var anchor = getStepAnchor(wizard, index),\n            parent = anchor.parent(),\n            isDisabled = parent.hasClass(\"disabled\");\n\n        // Enable the step to make the anchor clickable!\n        parent._enableAria();\n        anchor.click();\n\n        // An error occured\n        if (oldIndex === state.currentIndex && isDisabled)\n        {\n            // Disable the step again if current index has not changed; prevents click action.\n            parent._enableAria(false);\n            return false;\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Fires when a pagination click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction paginationClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        href = anchor.attr(\"href\");\n\n    switch (href.substring(href.lastIndexOf(\"#\") + 1))\n    {\n        case \"cancel\":\n            cancel(wizard);\n            break;\n\n        case \"finish\":\n            finishStep(wizard, state);\n            break;\n\n        case \"next\":\n            goToNextStep(wizard, options, state);\n            break;\n\n        case \"previous\":\n            goToPreviousStep(wizard, options, state);\n            break;\n    }\n}\n\n/**\n * Refreshs the visualization state for the entire pagination.\n *\n * @static\n * @private\n * @method refreshPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction refreshPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n            next = wizard.find(\".actions a[href$='#next']\").parent();\n\n        if (!options.forceMoveForward)\n        {\n            var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n            previous._enableAria(state.currentIndex > 0);\n        }\n\n        if (options.enableFinishButton && options.showFinishButtonAlways)\n        {\n            finish._enableAria(state.stepCount > 0);\n            next._enableAria(state.stepCount > 1 && state.stepCount > (state.currentIndex + 1));\n        }\n        else\n        {\n            finish._showAria(options.enableFinishButton && state.stepCount === (state.currentIndex + 1));\n            next._showAria(state.stepCount === 0 || state.stepCount > (state.currentIndex + 1)).\n                _enableAria(state.stepCount > (state.currentIndex + 1) || !options.enableFinishButton);\n        }\n    }\n}\n\n/**\n * Refreshs the visualization state for the step navigation (tabs).\n *\n * @static\n * @private\n * @method refreshStepNavigation\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param [oldIndex] {Integer} The index of the prior step\n */\nfunction refreshStepNavigation(wizard, options, state, oldIndex)\n{\n    var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n        currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n        stepTitles = wizard.find(\".content > .title\");\n\n    if (oldIndex != null)\n    {\n        var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n        oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n        stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n        currentInfo = oldStepAnchor.find(\".current-info\");\n        currentOrNewStepAnchor.focus();\n    }\n\n    currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n    stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n}\n\n/**\n * Refreshes step buttons and their related titles beyond a certain position.\n *\n * @static\n * @private\n * @method refreshSteps\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The start point for refreshing ids\n */\nfunction refreshSteps(wizard, options, state, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    for (var i = index; i < state.stepCount; i++)\n    {\n        var uniqueStepId = uniqueId + _tabSuffix + i,\n            uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n            uniqueHeaderId = uniqueId + _titleSuffix + i,\n            title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\n        wizard.find(\".steps a\").eq(i)._id(uniqueStepId)\n            ._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId)\n            .html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n        wizard.find(\".body\").eq(i)._id(uniqueBodyId)\n            ._aria(\"labelledby\", uniqueHeaderId);\n    }\n}\n\nfunction registerEvents(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n    wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n    wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n    wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n    wizard.bind(\"init\" + eventNamespace, options.onInit);\n    wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n    wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\n    if (options.enableKeyNavigation)\n    {\n        wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n    }\n\n    wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n}\n\n/**\n * Removes a specific step by an given index.\n *\n * @static\n * @private\n * @method removeStep\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\nfunction removeStep(wizard, options, state, index)\n{\n    // Index out of range and try deleting current item will return false.\n    if (index < 0 || index >= state.stepCount || state.currentIndex === index)\n    {\n        return false;\n    }\n\n    // Change data\n    removeStepFromCache(wizard, index);\n    if (state.currentIndex > index)\n    {\n        state.currentIndex--;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount--;\n\n    getStepTitle(wizard, index).remove();\n    getStepPanel(wizard, index).remove();\n    getStepAnchor(wizard, index).parent().remove();\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        wizard.find(\".steps li\").first().addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === state.stepCount)\n    {\n        wizard.find(\".steps li\").eq(index).addClass(\"last\");\n    }\n\n    refreshSteps(wizard, options, state, index);\n    refreshPagination(wizard, options, state);\n\n    return true;\n}\n\nfunction removeStepFromCache(wizard, index)\n{\n    getSteps(wizard).splice(index, 1);\n}\n\n/**\n * Transforms the base html structure to a more sensible html structure.\n *\n * @static\n * @private\n * @method render\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n **/\nfunction render(wizard, options, state)\n{\n    // Create a content wrapper and copy HTML from the intial wizard structure\n    var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n        orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n        verticalCssClass = (orientation === stepsOrientation.vertical) ? \" vertical\" : \"\",\n        contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n        stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n        stepTitles = contentWrapper.children(options.headerTag),\n        stepContents = contentWrapper.children(options.bodyTag);\n\n    // Transform the wizard wrapper and remove the inner HTML\n    wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper)\n        .addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\n    // Add WIA-ARIA support\n    stepContents.each(function (index)\n    {\n        renderBody(wizard, state, $(this), index);\n    });\n\n    stepTitles.each(function (index)\n    {\n        renderTitle(wizard, options, state, $(this), index);\n    });\n\n    refreshStepNavigation(wizard, options, state);\n    renderPagination(wizard, options, state);\n}\n\n/**\n * Transforms the body to a proper tabpanel.\n *\n * @static\n * @private\n * @method renderBody\n * @param wizard {Object} A jQuery wizard object\n * @param body {Object} A jQuery body object\n * @param index {Integer} The position of the body\n */\nfunction renderBody(wizard, state, body, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index;\n\n    body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId)\n        .addClass(\"body\")._showAria(state.currentIndex === index);\n}\n\n/**\n * Renders a pagination if enabled.\n *\n * @static\n * @private\n * @method renderPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction renderPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n            buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n            buttons = \"\";\n\n        if (!options.forceMoveForward)\n        {\n            buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n        }\n\n        buttons += buttonTemplate.format(\"next\", options.labels.next);\n\n        if (options.enableFinishButton)\n        {\n            buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n        }\n\n        if (options.enableCancelButton)\n        {\n            buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n        }\n\n        wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass,\n            options.labels.pagination, buttons));\n\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n    }\n}\n\n/**\n * Renders a template and replaces all placeholder.\n *\n * @static\n * @private\n * @method renderTemplate\n * @param template {String} A template\n * @param substitutes {Object} A list of substitute\n * @return {String} The rendered template\n */\nfunction renderTemplate(template, substitutes)\n{\n    var matches = template.match(/#([a-z]*)#/gi);\n\n    for (var i = 0; i < matches.length; i++)\n    {\n        var match = matches[i],\n            key = match.substring(1, match.length - 1);\n\n        if (substitutes[key] === undefined)\n        {\n            throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n        }\n\n        template = template.replace(match, substitutes[key]);\n    }\n\n    return template;\n}\n\n/**\n * Transforms the title to a step item button.\n *\n * @static\n * @private\n * @method renderTitle\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param header {Object} A jQuery header object\n * @param index {Integer} The position of the header\n */\nfunction renderTitle(wizard, options, state, header, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueStepId = uniqueId + _tabSuffix + index,\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index,\n        stepCollection = wizard.find(\".steps > ul\"),\n        title = renderTemplate(options.titleTemplate, {\n            index: index + 1,\n            title: header.html()\n        }),\n        stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId +\n            \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\n    stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\n    if (state.currentIndex > index)\n    {\n        stepItem.addClass(\"done\");\n    }\n\n    header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\n    if (index === 0)\n    {\n        stepCollection.prepend(stepItem);\n    }\n    else\n    {\n        stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n    }\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === (state.stepCount - 1))\n    {\n        stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n    }\n\n    // Register click event\n    stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n}\n\n/**\n * Saves the current state to a cookie.\n *\n * @static\n * @private\n * @method saveCurrentStateToCookie\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction saveCurrentStateToCookie(wizard, options, state)\n{\n    if (options.saveState && $.cookie)\n    {\n        $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n    }\n}\n\nfunction startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback)\n{\n    var stepContents = wizard.find(\".content > .body\"),\n        effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n        effectSpeed = options.transitionEffectSpeed,\n        newStep = stepContents.eq(index),\n        currentStep = stepContents.eq(oldIndex);\n\n    switch (effect)\n    {\n        case transitionEffect.fade:\n        case transitionEffect.slide:\n            var hide = (effect === transitionEffect.fade) ? \"fadeOut\" : \"slideUp\",\n                show = (effect === transitionEffect.fade) ? \"fadeIn\" : \"slideDown\";\n\n            state.transitionElement = newStep;\n            currentStep[hide](effectSpeed, function ()\n            {\n                var wizard = $(this)._showAria(false).parent().parent(),\n                    state = getState(wizard);\n\n                if (state.transitionElement)\n                {\n                    state.transitionElement[show](effectSpeed, function ()\n                    {\n                        $(this)._showAria();\n                    }).promise().done(doneCallback);\n                    state.transitionElement = null;\n                }\n            });\n            break;\n\n        case transitionEffect.slideLeft:\n            var outerWidth = currentStep.outerWidth(true),\n                posFadeOut = (index > oldIndex) ? -(outerWidth) : outerWidth,\n                posFadeIn = (index > oldIndex) ? outerWidth : -(outerWidth);\n\n            $.when(currentStep.animate({ left: posFadeOut }, effectSpeed,\n                    function () { $(this)._showAria(false); }),\n                newStep.css(\"left\", posFadeIn + \"px\")._showAria()\n                    .animate({ left: 0 }, effectSpeed)).done(doneCallback);\n            break;\n\n        default:\n            $.when(currentStep._showAria(false), newStep._showAria())\n                .done(doneCallback);\n            break;\n    }\n}\n\n/**\n * Fires when a step click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction stepClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        oldIndex = state.currentIndex;\n\n    if (anchor.parent().is(\":not(.disabled):not(.current)\"))\n    {\n        var href = anchor.attr(\"href\"),\n            position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\n        goToStep(wizard, options, state, position);\n    }\n\n    // If nothing has changed\n    if (oldIndex === state.currentIndex)\n    {\n        getStepAnchor(wizard, oldIndex).focus();\n        return false;\n    }\n}\n\nfunction throwError(message)\n{\n    if (arguments.length > 1)\n    {\n        message = message.format(Array.prototype.slice.call(arguments, 1));\n    }\n\n    throw new Error(message);\n}\n\n/**\n * Checks an argument for null or undefined and throws an error if one check applies.\n *\n * @static\n * @private\n * @method validateArgument\n * @param argumentName {String} The name of the given argument\n * @param argumentValue {Object} The argument itself\n */\nfunction validateArgument(argumentName, argumentValue)\n{\n    if (argumentValue == null)\n    {\n        throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n    }\n}\n\n/**\n * Represents a jQuery wizard plugin.\n *\n * @class steps\n * @constructor\n * @param [method={}] The name of the method as `String` or an JSON object for initialization\n * @param [params=]* {Array} Additional arguments for a method call\n * @chainable\n **/\n$.fn.steps = function (method)\n{\n    if ($.fn.steps[method])\n    {\n        return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n    else if (typeof method === \"object\" || !method)\n    {\n        return initialize.apply(this, arguments);\n    }\n    else\n    {\n        $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n    }\n};\n\n/**\n * Adds a new step.\n *\n * @method add\n * @param step {Object} The step object to add\n * @chainable\n **/\n$.fn.steps.add = function (step)\n{\n    var state = getState(this);\n    return insertStep(this, getOptions(this), state, state.stepCount, step);\n};\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @method destroy\n * @chainable\n **/\n$.fn.steps.destroy = function ()\n{\n    return destroy(this, getOptions(this));\n};\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @method finish\n **/\n$.fn.steps.finish = function ()\n{\n    finishStep(this, getState(this));\n};\n\n/**\n * Gets the current step index.\n *\n * @method getCurrentIndex\n * @return {Integer} The actual step index (zero-based)\n * @for steps\n **/\n$.fn.steps.getCurrentIndex = function ()\n{\n    return getState(this).currentIndex;\n};\n\n/**\n * Gets the current step object.\n *\n * @method getCurrentStep\n * @return {Object} The actual step object\n **/\n$.fn.steps.getCurrentStep = function ()\n{\n    return getStep(this, getState(this).currentIndex);\n};\n\n/**\n * Gets a specific step object by index.\n *\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\n$.fn.steps.getStep = function (index)\n{\n    return getStep(this, index);\n};\n\n/**\n * Inserts a new step to a specific position.\n *\n * @method insert\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\n$.fn.steps.insert = function (index, step)\n{\n    return insertStep(this, getOptions(this), getState(this), index, step);\n};\n\n/**\n * Routes to the next step.\n *\n * @method next\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.next = function ()\n{\n    return goToNextStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Routes to the previous step.\n *\n * @method previous\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.previous = function ()\n{\n    return goToPreviousStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Removes a specific step by an given index.\n *\n * @method remove\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\n$.fn.steps.remove = function (index)\n{\n    return removeStep(this, getOptions(this), getState(this), index);\n};\n\n/**\n * Sets a specific step object by index.\n *\n * @method setStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @param step {Object} The step object to change\n **/\n$.fn.steps.setStep = function (index, step)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * Skips an certain amount of steps.\n *\n * @method skip\n * @param count {Integer} The amount of steps that should be skipped\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.skip = function (count)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * An enum represents the different content types of a step and their loading mechanisms.\n *\n * @class contentMode\n * @for steps\n **/\nvar contentMode = $.fn.steps.contentMode = {\n    /**\n     * HTML embedded content\n     *\n     * @readOnly\n     * @property html\n     * @type Integer\n     * @for contentMode\n     **/\n    html: 0,\n\n    /**\n     * IFrame embedded content\n     *\n     * @readOnly\n     * @property iframe\n     * @type Integer\n     * @for contentMode\n     **/\n    iframe: 1,\n\n    /**\n     * Async embedded content\n     *\n     * @readOnly\n     * @property async\n     * @type Integer\n     * @for contentMode\n     **/\n    async: 2\n};\n\n/**\n * An enum represents the orientation of the steps navigation.\n *\n * @class stepsOrientation\n * @for steps\n **/\nvar stepsOrientation = $.fn.steps.stepsOrientation = {\n    /**\n     * Horizontal orientation\n     *\n     * @readOnly\n     * @property horizontal\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    horizontal: 0,\n\n    /**\n     * Vertical orientation\n     *\n     * @readOnly\n     * @property vertical\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    vertical: 1\n};\n\n/**\n * An enum that represents the various transition animations.\n *\n * @class transitionEffect\n * @for steps\n **/\nvar transitionEffect = $.fn.steps.transitionEffect = {\n    /**\n     * No transition animation\n     *\n     * @readOnly\n     * @property none\n     * @type Integer\n     * @for transitionEffect\n     **/\n    none: 0,\n\n    /**\n     * Fade in transition\n     *\n     * @readOnly\n     * @property fade\n     * @type Integer\n     * @for transitionEffect\n     **/\n    fade: 1,\n\n    /**\n     * Slide up transition\n     *\n     * @readOnly\n     * @property slide\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slide: 2,\n\n    /**\n     * Slide left transition\n     *\n     * @readOnly\n     * @property slideLeft\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slideLeft: 3\n};\n\nvar stepModel = $.fn.steps.stepModel = {\n    title: \"\",\n    content: \"\",\n    contentUrl: \"\",\n    contentMode: contentMode.html,\n    contentLoaded: false\n};\n\n/**\n * An object that represents the default settings.\n * There are two possibities to override the sub-properties.\n * Either by doing it generally (global) or on initialization.\n *\n * @static\n * @class defaults\n * @for steps\n * @example\n *   // Global approach\n *   $.steps.defaults.headerTag = \"h3\";\n * @example\n *   // Initialization approach\n *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n **/\nvar defaults = $.fn.steps.defaults = {\n    /**\n     * The header tag is used to find the step button text within the declared wizard area.\n     *\n     * @property headerTag\n     * @type String\n     * @default \"h1\"\n     * @for defaults\n     **/\n    headerTag: \"h1\",\n\n    /**\n     * The body tag is used to find the step content within the declared wizard area.\n     *\n     * @property bodyTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    bodyTag: \"div\",\n\n    /**\n     * The content container tag which will be used to wrap all step contents.\n     *\n     * @property contentContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    contentContainerTag: \"div\",\n\n    /**\n     * The action container tag which will be used to wrap the pagination navigation.\n     *\n     * @property actionContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    actionContainerTag: \"div\",\n\n    /**\n     * The steps container tag which will be used to wrap the steps navigation.\n     *\n     * @property stepsContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    stepsContainerTag: \"div\",\n\n    /**\n     * The css class which will be added to the outer component wrapper.\n     *\n     * @property cssClass\n     * @type String\n     * @default \"wizard\"\n     * @for defaults\n     * @example\n     *     <div class=\"wizard\">\n     *         ...\n     *     </div>\n     **/\n    cssClass: \"wizard\",\n\n    /**\n     * The css class which will be used for floating scenarios.\n     *\n     * @property clearFixCssClass\n     * @type String\n     * @default \"clearfix\"\n     * @for defaults\n     **/\n    clearFixCssClass: \"clearfix\",\n\n    /**\n     * Determines whether the steps are vertically or horizontally oriented.\n     *\n     * @property stepsOrientation\n     * @type stepsOrientation\n     * @default horizontal\n     * @for defaults\n     * @since 1.0.0\n     **/\n    stepsOrientation: stepsOrientation.horizontal,\n\n    /*\n     * Tempplates\n     */\n\n    /**\n     * The title template which will be used to create a step button.\n     *\n     * @property titleTemplate\n     * @type String\n     * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n     * @for defaults\n     **/\n    titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\n    /**\n     * The loading template which will be used to create the loading animation.\n     *\n     * @property loadingTemplate\n     * @type String\n     * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n     * @for defaults\n     **/\n    loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\n    /*\n     * Behaviour\n     */\n\n    /**\n     * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n     *\n     * @property autoFocus\n     * @type Boolean\n     * @default false\n     * @for defaults\n     * @since 0.9.4\n     **/\n    autoFocus: false,\n\n    /**\n     * Enables all steps from the begining if `true` (all steps are clickable).\n     *\n     * @property enableAllSteps\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableAllSteps: false,\n\n    /**\n     * Enables keyboard navigation if `true` (arrow left and arrow right).\n     *\n     * @property enableKeyNavigation\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableKeyNavigation: true,\n\n    /**\n     * Enables pagination if `true`.\n     *\n     * @property enablePagination\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enablePagination: true,\n\n    /**\n     * Suppresses pagination if a form field is focused.\n     *\n     * @property suppressPaginationOnFocus\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    suppressPaginationOnFocus: true,\n\n    /**\n     * Enables cache for async loaded or iframe embedded content.\n     *\n     * @property enableContentCache\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableContentCache: true,\n\n    /**\n     * Shows the cancel button if enabled.\n     *\n     * @property enableCancelButton\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableCancelButton: false,\n\n    /**\n     * Shows the finish button if enabled.\n     *\n     * @property enableFinishButton\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableFinishButton: true,\n\n    /**\n     * Not yet implemented.\n     *\n     * @property preloadContent\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    preloadContent: false,\n\n    /**\n     * Shows the finish button always (on each step; right beside the next button) if `true`.\n     * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n     *\n     * @property showFinishButtonAlways\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    showFinishButtonAlways: false,\n\n    /**\n     * Prevents jumping to a previous step.\n     *\n     * @property forceMoveForward\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    forceMoveForward: false,\n\n    /**\n     * Saves the current state (step position) to a cookie.\n     * By coming next time the last active step becomes activated.\n     *\n     * @property saveState\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    saveState: false,\n\n    /**\n     * The position to start on (zero-based).\n     *\n     * @property startIndex\n     * @type Integer\n     * @default 0\n     * @for defaults\n     **/\n    startIndex: 0,\n\n    /*\n     * Animation Effect Configuration\n     */\n\n    /**\n     * The animation effect which will be used for step transitions.\n     *\n     * @property transitionEffect\n     * @type transitionEffect\n     * @default none\n     * @for defaults\n     **/\n    transitionEffect: transitionEffect.none,\n\n    /**\n     * Animation speed for step transitions (in milliseconds).\n     *\n     * @property transitionEffectSpeed\n     * @type Integer\n     * @default 200\n     * @for defaults\n     **/\n    transitionEffectSpeed: 200,\n\n    /*\n     * Events\n     */\n\n    /**\n     * Fires before the step changes and can be used to prevent step changing by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onStepChanging\n     * @type Event\n     * @default function (event, currentIndex, newIndex) { return true; }\n     * @for defaults\n     **/\n    onStepChanging: function (event, currentIndex, newIndex) { return true; },\n\n    /**\n     * Fires after the step has change.\n     *\n     * @property onStepChanged\n     * @type Event\n     * @default function (event, currentIndex, priorIndex) { }\n     * @for defaults\n     **/\n    onStepChanged: function (event, currentIndex, priorIndex) { },\n\n    /**\n     * Fires after cancelation.\n     *\n     * @property onCanceled\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onCanceled: function (event) { },\n\n    /**\n     * Fires before finishing and can be used to prevent completion by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onFinishing\n     * @type Event\n     * @default function (event, currentIndex) { return true; }\n     * @for defaults\n     **/\n    onFinishing: function (event, currentIndex) { return true; },\n\n    /**\n     * Fires after completion.\n     *\n     * @property onFinished\n     * @type Event\n     * @default function (event, currentIndex) { }\n     * @for defaults\n     **/\n    onFinished: function (event, currentIndex) { },\n\n    /**\n     * Fires after async content is loaded.\n     *\n     * @property onContentLoaded\n     * @type Event\n     * @default function (event, index) { }\n     * @for defaults\n     **/\n    onContentLoaded: function (event, currentIndex) { },\n\n    /**\n     * Fires when the wizard is initialized.\n     *\n     * @property onInit\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onInit: function (event, currentIndex) { },\n\n    /**\n     * Contains all labels.\n     *\n     * @property labels\n     * @type Object\n     * @for defaults\n     **/\n    labels: {\n        /**\n         * Label for the cancel button.\n         *\n         * @property cancel\n         * @type String\n         * @default \"Cancel\"\n         * @for defaults\n         **/\n        cancel: \"Cancel\",\n\n        /**\n         * This label is important for accessability reasons.\n         * Indicates which step is activated.\n         *\n         * @property current\n         * @type String\n         * @default \"current step:\"\n         * @for defaults\n         **/\n        current: \"current step:\",\n\n        /**\n         * This label is important for accessability reasons and describes the kind of navigation.\n         *\n         * @property pagination\n         * @type String\n         * @default \"Pagination\"\n         * @for defaults\n         * @since 0.9.7\n         **/\n        pagination: \"Pagination\",\n\n        /**\n         * Label for the finish button.\n         *\n         * @property finish\n         * @type String\n         * @default \"Finish\"\n         * @for defaults\n         **/\n        finish: \"Finish\",\n\n        /**\n         * Label for the next button.\n         *\n         * @property next\n         * @type String\n         * @default \"Next\"\n         * @for defaults\n         **/\n        next: \"Next\",\n\n        /**\n         * Label for the previous button.\n         *\n         * @property previous\n         * @type String\n         * @default \"Previous\"\n         * @for defaults\n         **/\n        previous: \"Previous\",\n\n        /**\n         * Label for the loading animation.\n         *\n         * @property loading\n         * @type String\n         * @default \"Loading ...\"\n         * @for defaults\n         **/\n        loading: \"Loading ...\"\n    }\n};\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.steps.js","/*!\n * jQuery Validation Plugin v1.15.0\n *\n * http://jqueryvalidation.org/\n *\n * Copyright (c) 2016 Jörn Zaefferer\n * Released under the MIT license\n */\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n$.extend( $.fn, {\n\n\t// http://jqueryvalidation.org/validate/\n\tvalidate: function( options ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\tif ( options && options.debug && window.console ) {\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if a validator for this form was already created\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\n\t\tif ( validator ) {\n\t\t\treturn validator;\n\t\t}\n\n\t\t// Add novalidate tag if HTML5.\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\n\n\t\tvalidator = new $.validator( options, this[ 0 ] );\n\t\t$.data( this[ 0 ], \"validator\", validator );\n\n\t\tif ( validator.settings.onsubmit ) {\n\n\t\t\tthis.on( \"click.validate\", \":submit\", function( event ) {\n\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\tif ( $( this ).hasClass( \"cancel\" ) ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\tif ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Validate the form on submit\n\t\t\tthis.on( \"submit.validate\", function( event ) {\n\t\t\t\tif ( validator.settings.debug ) {\n\n\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tfunction handle() {\n\t\t\t\t\tvar hidden, result;\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\n\t\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\n\t\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\n\t\t\t\t\t\t\t\t.appendTo( validator.currentForm );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== undefined ) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\tif ( validator.cancelSubmit ) {\n\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\treturn handle();\n\t\t\t\t}\n\t\t\t\tif ( validator.form() ) {\n\t\t\t\t\tif ( validator.pendingRequest ) {\n\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn handle();\n\t\t\t\t} else {\n\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn validator;\n\t},\n\n\t// http://jqueryvalidation.org/valid/\n\tvalid: function() {\n\t\tvar valid, validator, errorList;\n\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\n\t\t\tvalid = this.validate().form();\n\t\t} else {\n\t\t\terrorList = [];\n\t\t\tvalid = true;\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\n\t\t\tthis.each( function() {\n\t\t\t\tvalid = validator.element( this ) && valid;\n\t\t\t\tif ( !valid ) {\n\t\t\t\t\terrorList = errorList.concat( validator.errorList );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tvalidator.errorList = errorList;\n\t\t}\n\t\treturn valid;\n\t},\n\n\t// http://jqueryvalidation.org/rules/\n\trules: function( command, argument ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element = this[ 0 ],\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\n\n\t\tif ( command ) {\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\n\t\t\tstaticRules = settings.rules;\n\t\t\texistingRules = $.validator.staticRules( element );\n\t\t\tswitch ( command ) {\n\t\t\tcase \"add\":\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\n\n\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\tdelete existingRules.messages;\n\t\t\t\tstaticRules[ element.name ] = existingRules;\n\t\t\t\tif ( argument.messages ) {\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"remove\":\n\t\t\t\tif ( !argument ) {\n\t\t\t\t\tdelete staticRules[ element.name ];\n\t\t\t\t\treturn existingRules;\n\t\t\t\t}\n\t\t\t\tfiltered = {};\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\n\t\t\t\t\tdelete existingRules[ method ];\n\t\t\t\t\tif ( method === \"required\" ) {\n\t\t\t\t\t\t$( element ).removeAttr( \"aria-required\" );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn filtered;\n\t\t\t}\n\t\t}\n\n\t\tdata = $.validator.normalizeRules(\n\t\t$.extend(\n\t\t\t{},\n\t\t\t$.validator.classRules( element ),\n\t\t\t$.validator.attributeRules( element ),\n\t\t\t$.validator.dataRules( element ),\n\t\t\t$.validator.staticRules( element )\n\t\t), element );\n\n\t\t// Make sure required is at front\n\t\tif ( data.required ) {\n\t\t\tparam = data.required;\n\t\t\tdelete data.required;\n\t\t\tdata = $.extend( { required: param }, data );\n\t\t\t$( element ).attr( \"aria-required\", \"true\" );\n\t\t}\n\n\t\t// Make sure remote is at back\n\t\tif ( data.remote ) {\n\t\t\tparam = data.remote;\n\t\t\tdelete data.remote;\n\t\t\tdata = $.extend( data, { remote: param } );\n\t\t}\n\n\t\treturn data;\n\t}\n} );\n\n// Custom selectors\n$.extend( $.expr[ \":\" ], {\n\n\t// http://jqueryvalidation.org/blank-selector/\n\tblank: function( a ) {\n\t\treturn !$.trim( \"\" + $( a ).val() );\n\t},\n\n\t// http://jqueryvalidation.org/filled-selector/\n\tfilled: function( a ) {\n\t\tvar val = $( a ).val();\n\t\treturn val !== null && !!$.trim( \"\" + val );\n\t},\n\n\t// http://jqueryvalidation.org/unchecked-selector/\n\tunchecked: function( a ) {\n\t\treturn !$( a ).prop( \"checked\" );\n\t}\n} );\n\n// Constructor for validator\n$.validator = function( options, form ) {\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\n\tthis.currentForm = form;\n\tthis.init();\n};\n\n// http://jqueryvalidation.org/jQuery.validator.format/\n$.validator.format = function( source, params ) {\n\tif ( arguments.length === 1 ) {\n\t\treturn function() {\n\t\t\tvar args = $.makeArray( arguments );\n\t\t\targs.unshift( source );\n\t\t\treturn $.validator.format.apply( this, args );\n\t\t};\n\t}\n\tif ( params === undefined ) {\n\t\treturn source;\n\t}\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\n\t\tparams = $.makeArray( arguments ).slice( 1 );\n\t}\n\tif ( params.constructor !== Array ) {\n\t\tparams = [ params ];\n\t}\n\t$.each( params, function( i, n ) {\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n\t\t\treturn n;\n\t\t} );\n\t} );\n\treturn source;\n};\n\n$.extend( $.validator, {\n\n\tdefaults: {\n\t\tmessages: {},\n\t\tgroups: {},\n\t\trules: {},\n\t\terrorClass: \"error\",\n\t\tpendingClass: \"pending\",\n\t\tvalidClass: \"valid\",\n\t\terrorElement: \"label\",\n\t\tfocusCleanup: false,\n\t\tfocusInvalid: true,\n\t\terrorContainer: $( [] ),\n\t\terrorLabelContainer: $( [] ),\n\t\tonsubmit: true,\n\t\tignore: \":hidden\",\n\t\tignoreTitle: false,\n\t\tonfocusin: function( element ) {\n\t\t\tthis.lastActive = element;\n\n\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\tif ( this.settings.focusCleanup ) {\n\t\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\n\t\t\t}\n\t\t},\n\t\tonfocusout: function( element ) {\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonkeyup: function( element, event ) {\n\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t// Shift       => 16\n\t\t\t// Ctrl        => 17\n\t\t\t// Alt         => 18\n\t\t\t// Caps lock   => 20\n\t\t\t// End         => 35\n\t\t\t// Home        => 36\n\t\t\t// Left arrow  => 37\n\t\t\t// Up arrow    => 38\n\t\t\t// Right arrow => 39\n\t\t\t// Down arrow  => 40\n\t\t\t// Insert      => 45\n\t\t\t// Num lock    => 144\n\t\t\t// AltGr key   => 225\n\t\t\tvar excludedKeys = [\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\n\t\t\t\t38, 39, 40, 45, 144, 225\n\t\t\t];\n\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t} else if ( element.name in this.submitted || element.name in this.invalid ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonclick: function( element ) {\n\n\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\tif ( element.name in this.submitted ) {\n\t\t\t\tthis.element( element );\n\n\t\t\t// Or option elements, check parent select in that case\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\n\t\t\t\tthis.element( element.parentNode );\n\t\t\t}\n\t\t},\n\t\thighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\n\t\t\t}\n\t\t},\n\t\tunhighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\n\t\t\t}\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\tsetDefaults: function( settings ) {\n\t\t$.extend( $.validator.defaults, settings );\n\t},\n\n\tmessages: {\n\t\trequired: \"This field is required.\",\n\t\tremote: \"Please fix this field.\",\n\t\temail: \"Please enter a valid email address.\",\n\t\turl: \"Please enter a valid URL.\",\n\t\tdate: \"Please enter a valid date.\",\n\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\tnumber: \"Please enter a valid number.\",\n\t\tdigits: \"Please enter only digits.\",\n\t\tequalTo: \"Please enter the same value again.\",\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\n\t\tstep: $.validator.format( \"Please enter a multiple of {0}.\" )\n\t},\n\n\tautoCreateRanges: false,\n\n\tprototype: {\n\n\t\tinit: function() {\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\n\t\t\tthis.submitted = {};\n\t\t\tthis.valueCache = {};\n\t\t\tthis.pendingRequest = 0;\n\t\t\tthis.pending = {};\n\t\t\tthis.invalid = {};\n\t\t\tthis.reset();\n\n\t\t\tvar groups = ( this.groups = {} ),\n\t\t\t\trules;\n\t\t\t$.each( this.settings.groups, function( key, value ) {\n\t\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\t\tvalue = value.split( /\\s/ );\n\t\t\t\t}\n\t\t\t\t$.each( value, function( index, name ) {\n\t\t\t\t\tgroups[ name ] = key;\n\t\t\t\t} );\n\t\t\t} );\n\t\t\trules = this.settings.rules;\n\t\t\t$.each( rules, function( key, value ) {\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\n\t\t\t} );\n\n\t\t\tfunction delegate( event ) {\n\t\t\t\tvar validator = $.data( this.form, \"validator\" ),\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n\t\t\t\t\tsettings = validator.settings;\n\t\t\t\tif ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\n\t\t\t\t\tsettings[ eventType ].call( validator, this, event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate\",\n\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable]\", delegate )\n\n\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t.on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\n\n\t\t\tif ( this.settings.invalidHandler ) {\n\t\t\t\t$( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\n\t\t\t}\n\n\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t$( this.currentForm ).find( \"[required], [data-rule-required], .required\" ).attr( \"aria-required\", \"true\" );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.form/\n\t\tform: function() {\n\t\t\tthis.checkForm();\n\t\t\t$.extend( this.submitted, this.errorMap );\n\t\t\tthis.invalid = $.extend( {}, this.errorMap );\n\t\t\tif ( !this.valid() ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t}\n\t\t\tthis.showErrors();\n\t\t\treturn this.valid();\n\t\t},\n\n\t\tcheckForm: function() {\n\t\t\tthis.prepareForm();\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\n\t\t\t\tthis.check( elements[ i ] );\n\t\t\t}\n\t\t\treturn this.valid();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.element/\n\t\telement: function( element ) {\n\t\t\tvar cleanElement = this.clean( element ),\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\n\t\t\t\tv = this,\n\t\t\t\tresult = true,\n\t\t\t\trs, group;\n\n\t\t\tif ( checkElement === undefined ) {\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\n\t\t\t} else {\n\t\t\t\tthis.prepareElement( checkElement );\n\t\t\t\tthis.currentElements = $( checkElement );\n\n\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t// containing a value\n\t\t\t\tgroup = this.groups[ checkElement.name ];\n\t\t\t\tif ( group ) {\n\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\n\t\t\t\t\t\tif ( testgroup === group && name !== checkElement.name ) {\n\t\t\t\t\t\t\tcleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\n\t\t\t\t\t\t\tif ( cleanElement && cleanElement.name in v.invalid ) {\n\t\t\t\t\t\t\t\tv.currentElements.push( cleanElement );\n\t\t\t\t\t\t\t\tresult = result && v.check( cleanElement );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\trs = this.check( checkElement ) !== false;\n\t\t\t\tresult = result && rs;\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\n\t\t\t\t}\n\n\t\t\t\tif ( !this.numberOfInvalids() ) {\n\n\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\tthis.toHide = this.toHide.add( this.containers );\n\t\t\t\t}\n\t\t\t\tthis.showErrors();\n\n\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t$( element ).attr( \"aria-invalid\", !rs );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\tshowErrors: function( errors ) {\n\t\t\tif ( errors ) {\n\t\t\t\tvar validator = this;\n\n\t\t\t\t// Add items to error list and map\n\t\t\t\t$.extend( this.errorMap, errors );\n\t\t\t\tthis.errorList = $.map( this.errorMap, function( message, name ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: validator.findByName( name )[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t\t// Remove items from success list\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\n\t\t\t\t\treturn !( element.name in errors );\n\t\t\t\t} );\n\t\t\t}\n\t\t\tif ( this.settings.showErrors ) {\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\n\t\t\t} else {\n\t\t\t\tthis.defaultShowErrors();\n\t\t\t}\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\tresetForm: function() {\n\t\t\tif ( $.fn.resetForm ) {\n\t\t\t\t$( this.currentForm ).resetForm();\n\t\t\t}\n\t\t\tthis.invalid = {};\n\t\t\tthis.submitted = {};\n\t\t\tthis.prepareForm();\n\t\t\tthis.hideErrors();\n\t\t\tvar elements = this.elements()\n\t\t\t\t.removeData( \"previousValue\" )\n\t\t\t\t.removeAttr( \"aria-invalid\" );\n\n\t\t\tthis.resetElements( elements );\n\t\t},\n\n\t\tresetElements: function( elements ) {\n\t\t\tvar i;\n\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\n\t\t\t\t\tthis.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telements\n\t\t\t\t\t.removeClass( this.settings.errorClass )\n\t\t\t\t\t.removeClass( this.settings.validClass );\n\t\t\t}\n\t\t},\n\n\t\tnumberOfInvalids: function() {\n\t\t\treturn this.objectLength( this.invalid );\n\t\t},\n\n\t\tobjectLength: function( obj ) {\n\t\t\t/* jshint unused: false */\n\t\t\tvar count = 0,\n\t\t\t\ti;\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( obj[ i ] ) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\thideErrors: function() {\n\t\t\tthis.hideThese( this.toHide );\n\t\t},\n\n\t\thideThese: function( errors ) {\n\t\t\terrors.not( this.containers ).text( \"\" );\n\t\t\tthis.addWrapper( errors ).hide();\n\t\t},\n\n\t\tvalid: function() {\n\t\t\treturn this.size() === 0;\n\t\t},\n\n\t\tsize: function() {\n\t\t\treturn this.errorList.length;\n\t\t},\n\n\t\tfocusInvalid: function() {\n\t\t\tif ( this.settings.focusInvalid ) {\n\t\t\t\ttry {\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\n\t\t\t\t\t.filter( \":visible\" )\n\t\t\t\t\t.focus()\n\n\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t.trigger( \"focusin\" );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindLastActive: function() {\n\t\t\tvar lastActive = this.lastActive;\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\n\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t} ).length === 1 && lastActive;\n\t\t},\n\n\t\telements: function() {\n\t\t\tvar validator = this,\n\t\t\t\trulesCache = {};\n\n\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\treturn $( this.currentForm )\n\t\t\t.find( \"input, select, textarea, [contenteditable]\" )\n\t\t\t.not( \":submit, :reset, :image, :disabled\" )\n\t\t\t.not( this.settings.ignore )\n\t\t\t.filter( function() {\n\t\t\t\tvar name = this.name || $( this ).attr( \"name\" ); // For contenteditable\n\t\t\t\tif ( !name && validator.settings.debug && window.console ) {\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\n\t\t\t\t}\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( this.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\tif ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\trulesCache[ name ] = true;\n\t\t\t\treturn true;\n\t\t\t} );\n\t\t},\n\n\t\tclean: function( selector ) {\n\t\t\treturn $( selector )[ 0 ];\n\t\t},\n\n\t\terrors: function() {\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\n\t\t},\n\n\t\tresetInternals: function() {\n\t\t\tthis.successList = [];\n\t\t\tthis.errorList = [];\n\t\t\tthis.errorMap = {};\n\t\t\tthis.toShow = $( [] );\n\t\t\tthis.toHide = $( [] );\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.resetInternals();\n\t\t\tthis.currentElements = $( [] );\n\t\t},\n\n\t\tprepareForm: function() {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errors().add( this.containers );\n\t\t},\n\n\t\tprepareElement: function( element ) {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errorsFor( element );\n\t\t},\n\n\t\telementValue: function( element ) {\n\t\t\tvar $element = $( element ),\n\t\t\t\ttype = element.type,\n\t\t\t\tval, idx;\n\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\n\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).val();\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t}\n\n\t\t\tif ( element.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\tval = $element.text();\n\t\t\t} else {\n\t\t\t\tval = $element.val();\n\t\t\t}\n\n\t\t\tif ( type === \"file\" ) {\n\n\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\tif ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\n\t\t\t\t\treturn val.substr( 12 );\n\t\t\t\t}\n\n\t\t\t\t// Legacy browsers\n\t\t\t\t// Unix-based path\n\t\t\t\tidx = val.lastIndexOf( \"/\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Windows-based path\n\t\t\t\tidx = val.lastIndexOf( \"\\\\\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Just the file name\n\t\t\t\treturn val;\n\t\t\t}\n\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\treturn val.replace( /\\r/g, \"\" );\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\tcheck: function( element ) {\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\n\n\t\t\tvar rules = $( element ).rules(),\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\n\t\t\t\t\treturn i;\n\t\t\t\t} ).length,\n\t\t\t\tdependencyMismatch = false,\n\t\t\t\tval = this.elementValue( element ),\n\t\t\t\tresult, method, rule;\n\n\t\t\t// If a normalizer is defined for this element, then\n\t\t\t// call it to retreive the changed value instead\n\t\t\t// of using the real one.\n\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\tif ( typeof rules.normalizer === \"function\" ) {\n\t\t\t\tval = rules.normalizer.call( element, val );\n\n\t\t\t\tif ( typeof val !== \"string\" ) {\n\t\t\t\t\tthrow new TypeError( \"The normalizer should return a string value.\" );\n\t\t\t\t}\n\n\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t// it as a pre-defined method.\n\t\t\t\tdelete rules.normalizer;\n\t\t\t}\n\n\t\t\tfor ( method in rules ) {\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\n\t\t\t\ttry {\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdependencyMismatch = false;\n\n\t\t\t\t\tif ( result === \"pending\" ) {\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n\t\t\t\t\t}\n\t\t\t\t\tif ( e instanceof TypeError ) {\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( dependencyMismatch ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( this.objectLength( rules ) ) {\n\t\t\t\tthis.successList.push( element );\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Return the custom message for the given element and validation method\n\t\t// specified in the element's HTML5 data attribute\n\t\t// return the generic message if present and no method specific message is present\n\t\tcustomDataMessage: function( element, method ) {\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\n\t\t},\n\n\t\t// Return the custom message for the given element name and validation method\n\t\tcustomMessage: function( name, method ) {\n\t\t\tvar m = this.settings.messages[ name ];\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ] );\n\t\t},\n\n\t\t// Return the first defined argument, allowing empty strings\n\t\tfindDefined: function() {\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\n\t\t\t\t\treturn arguments[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\n\t\tdefaultMessage: function( element, rule ) {\n\t\t\tvar message = this.findDefined(\n\t\t\t\t\tthis.customMessage( element.name, rule.method ),\n\t\t\t\t\tthis.customDataMessage( element, rule.method ),\n\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\n\t\t\t\t\t$.validator.messages[ rule.method ],\n\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n\t\t\t\t),\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\tif ( typeof message === \"function\" ) {\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\n\t\t\t} else if ( theregex.test( message ) ) {\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\n\t\t\t}\n\n\t\t\treturn message;\n\t\t},\n\n\t\tformatAndAdd: function( element, rule ) {\n\t\t\tvar message = this.defaultMessage( element, rule );\n\n\t\t\tthis.errorList.push( {\n\t\t\t\tmessage: message,\n\t\t\t\telement: element,\n\t\t\t\tmethod: rule.method\n\t\t\t} );\n\n\t\t\tthis.errorMap[ element.name ] = message;\n\t\t\tthis.submitted[ element.name ] = message;\n\t\t},\n\n\t\taddWrapper: function( toToggle ) {\n\t\t\tif ( this.settings.wrapper ) {\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n\t\t\t}\n\t\t\treturn toToggle;\n\t\t},\n\n\t\tdefaultShowErrors: function() {\n\t\t\tvar i, elements, error;\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\n\t\t\t\terror = this.errorList[ i ];\n\t\t\t\tif ( this.settings.highlight ) {\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.showLabel( error.element, error.message );\n\t\t\t}\n\t\t\tif ( this.errorList.length ) {\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\n\t\t\t}\n\t\t\tif ( this.settings.success ) {\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\n\t\t\tthis.hideErrors();\n\t\t\tthis.addWrapper( this.toShow ).show();\n\t\t},\n\n\t\tvalidElements: function() {\n\t\t\treturn this.currentElements.not( this.invalidElements() );\n\t\t},\n\n\t\tinvalidElements: function() {\n\t\t\treturn $( this.errorList ).map( function() {\n\t\t\t\treturn this.element;\n\t\t\t} );\n\t\t},\n\n\t\tshowLabel: function( element, message ) {\n\t\t\tvar place, group, errorID, v,\n\t\t\t\terror = this.errorsFor( element ),\n\t\t\t\telementID = this.idOrName( element ),\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\n\n\t\t\tif ( error.length ) {\n\n\t\t\t\t// Refresh error/success class\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n\n\t\t\t\t// Replace message on existing label\n\t\t\t\terror.html( message );\n\t\t\t} else {\n\n\t\t\t\t// Create error element\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\n\t\t\t\t\t.addClass( this.settings.errorClass )\n\t\t\t\t\t.html( message || \"\" );\n\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\tplace = error;\n\t\t\t\tif ( this.settings.wrapper ) {\n\n\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\n\t\t\t\t}\n\t\t\t\tif ( this.labelContainer.length ) {\n\t\t\t\t\tthis.labelContainer.append( place );\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\n\t\t\t\t\tthis.settings.errorPlacement( place, $( element ) );\n\t\t\t\t} else {\n\t\t\t\t\tplace.insertAfter( element );\n\t\t\t\t}\n\n\t\t\t\t// Link error back to the element\n\t\t\t\tif ( error.is( \"label\" ) ) {\n\n\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\terror.attr( \"for\", elementID );\n\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t} else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\n\t\t\t\t\terrorID = error.attr( \"id\" );\n\n\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\tif ( !describedBy ) {\n\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\n\n\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t}\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\n\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\tgroup = this.groups[ element.name ];\n\t\t\t\t\tif ( group ) {\n\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t$.each( v.groups, function( name, testgroup ) {\n\t\t\t\t\t\t\tif ( testgroup === group ) {\n\t\t\t\t\t\t\t\t$( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !message && this.settings.success ) {\n\t\t\t\terror.text( \"\" );\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\n\t\t\t\t\terror.addClass( this.settings.success );\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings.success( error, element );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toShow = this.toShow.add( error );\n\t\t},\n\n\t\terrorsFor: function( element ) {\n\t\t\tvar name = this.escapeCssMeta( this.idOrName( element ) ),\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\n\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\tif ( describer ) {\n\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta( describer )\n\t\t\t\t\t.replace( /\\s+/g, \", #\" );\n\t\t\t}\n\n\t\t\treturn this\n\t\t\t\t.errors()\n\t\t\t\t.filter( selector );\n\t\t},\n\n\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t// as a literal part of a name/id or any selector.\n\t\tescapeCssMeta: function( string ) {\n\t\t\treturn string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\n\t\t},\n\n\t\tidOrName: function( element ) {\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\n\t\t},\n\n\t\tvalidationTargetFor: function( element ) {\n\n\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\telement = this.findByName( element.name );\n\t\t\t}\n\n\t\t\t// Always apply ignore filter\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\n\t\t},\n\n\t\tcheckable: function( element ) {\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\n\t\t},\n\n\t\tfindByName: function( name ) {\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\n\t\t},\n\n\t\tgetLength: function( value, element ) {\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\n\t\t\tcase \"select\":\n\t\t\t\treturn $( \"option:selected\", element ).length;\n\t\t\tcase \"input\":\n\t\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value.length;\n\t\t},\n\n\t\tdepend: function( param, element ) {\n\t\t\treturn this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\n\t\t},\n\n\t\tdependTypes: {\n\t\t\t\"boolean\": function( param ) {\n\t\t\t\treturn param;\n\t\t\t},\n\t\t\t\"string\": function( param, element ) {\n\t\t\t\treturn !!$( param, element.form ).length;\n\t\t\t},\n\t\t\t\"function\": function( param, element ) {\n\t\t\t\treturn param( element );\n\t\t\t}\n\t\t},\n\n\t\toptional: function( element ) {\n\t\t\tvar val = this.elementValue( element );\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n\t\t},\n\n\t\tstartRequest: function( element ) {\n\t\t\tif ( !this.pending[ element.name ] ) {\n\t\t\t\tthis.pendingRequest++;\n\t\t\t\t$( element ).addClass( this.settings.pendingClass );\n\t\t\t\tthis.pending[ element.name ] = true;\n\t\t\t}\n\t\t},\n\n\t\tstopRequest: function( element, valid ) {\n\t\t\tthis.pendingRequest--;\n\n\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\tif ( this.pendingRequest < 0 ) {\n\t\t\t\tthis.pendingRequest = 0;\n\t\t\t}\n\t\t\tdelete this.pending[ element.name ];\n\t\t\t$( element ).removeClass( this.settings.pendingClass );\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\n\t\t\t\t$( this.currentForm ).submit();\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t}\n\t\t},\n\n\t\tpreviousValue: function( element, method ) {\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\n\t\t\t\told: null,\n\t\t\t\tvalid: true,\n\t\t\t\tmessage: this.defaultMessage( element, { method: method } )\n\t\t\t} );\n\t\t},\n\n\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\tdestroy: function() {\n\t\t\tthis.resetForm();\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.off( \".validate\" )\n\t\t\t\t.removeData( \"validator\" )\n\t\t\t\t.find( \".validate-equalTo-blur\" )\n\t\t\t\t\t.off( \".validate-equalTo\" )\n\t\t\t\t\t.removeClass( \"validate-equalTo-blur\" );\n\t\t}\n\n\t},\n\n\tclassRuleSettings: {\n\t\trequired: { required: true },\n\t\temail: { email: true },\n\t\turl: { url: true },\n\t\tdate: { date: true },\n\t\tdateISO: { dateISO: true },\n\t\tnumber: { number: true },\n\t\tdigits: { digits: true },\n\t\tcreditcard: { creditcard: true }\n\t},\n\n\taddClassRules: function( className, rules ) {\n\t\tif ( className.constructor === String ) {\n\t\t\tthis.classRuleSettings[ className ] = rules;\n\t\t} else {\n\t\t\t$.extend( this.classRuleSettings, className );\n\t\t}\n\t},\n\n\tclassRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tclasses = $( element ).attr( \"class\" );\n\n\t\tif ( classes ) {\n\t\t\t$.each( classes.split( \" \" ), function() {\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeAttributeRule: function( rules, type, method, value ) {\n\n\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t// allows type=\"date\" and others to be compared as strings\n\t\tif ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n\t\t\tvalue = Number( value );\n\n\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\tif ( isNaN( value ) ) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif ( value || value === 0 ) {\n\t\t\trules[ method ] = value;\n\t\t} else if ( type === method && type !== \"range\" ) {\n\n\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t// does not test for the html5 'range' type\n\t\t\trules[ method ] = true;\n\t\t}\n\t},\n\n\tattributeRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\n\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\tif ( method === \"required\" ) {\n\t\t\t\tvalue = element.getAttribute( method );\n\n\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t}\n\n\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\tvalue = !!value;\n\t\t\t} else {\n\t\t\t\tvalue = $element.attr( method );\n\t\t\t}\n\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\n\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n\t\t\tdelete rules.maxlength;\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\tdataRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tstaticRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tvalidator = $.data( element.form, \"validator\" );\n\n\t\tif ( validator.settings.rules ) {\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeRules: function( rules, element ) {\n\n\t\t// Handle dependency check\n\t\t$.each( rules, function( prop, val ) {\n\n\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\tif ( val === false ) {\n\t\t\t\tdelete rules[ prop ];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( val.param || val.depends ) {\n\t\t\t\tvar keepRule = true;\n\t\t\t\tswitch ( typeof val.depends ) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"function\":\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( keepRule ) {\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\n\t\t\t\t} else {\n\t\t\t\t\t$.data( element.form, \"validator\" ).resetElements( $( element ) );\n\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Evaluate parameters\n\t\t$.each( rules, function( rule, parameter ) {\n\t\t\trules[ rule ] = $.isFunction( parameter ) && rule !== \"normalizer\" ? parameter( element ) : parameter;\n\t\t} );\n\n\t\t// Clean number parameters\n\t\t$.each( [ \"minlength\", \"maxlength\" ], function() {\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\trules[ this ] = Number( rules[ this ] );\n\t\t\t}\n\t\t} );\n\t\t$.each( [ \"rangelength\", \"range\" ], function() {\n\t\t\tvar parts;\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\n\t\t\t\t\tparts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tif ( $.validator.autoCreateRanges ) {\n\n\t\t\t// Auto-create ranges\n\t\t\tif ( rules.min != null && rules.max != null ) {\n\t\t\t\trules.range = [ rules.min, rules.max ];\n\t\t\t\tdelete rules.min;\n\t\t\t\tdelete rules.max;\n\t\t\t}\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\n\t\t\t\tdelete rules.minlength;\n\t\t\t\tdelete rules.maxlength;\n\t\t\t}\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\tnormalizeRule: function( data ) {\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tvar transformed = {};\n\t\t\t$.each( data.split( /\\s/ ), function() {\n\t\t\t\ttransformed[ this ] = true;\n\t\t\t} );\n\t\t\tdata = transformed;\n\t\t}\n\t\treturn data;\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\taddMethod: function( name, method, message ) {\n\t\t$.validator.methods[ name ] = method;\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\n\t\tif ( method.length < 3 ) {\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\tmethods: {\n\n\t\t// http://jqueryvalidation.org/required-method/\n\t\trequired: function( value, element, param ) {\n\n\t\t\t// Check if dependency is met\n\t\t\tif ( !this.depend( param, element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\n\n\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\tvar val = $( element ).val();\n\t\t\t\treturn val && val.length > 0;\n\t\t\t}\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\treturn this.getLength( value, element ) > 0;\n\t\t\t}\n\t\t\treturn value.length > 0;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/email-method/\n\t\temail: function( value, element ) {\n\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t// Retrieved 2014-01-14\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t// Or use custom methods to implement your own email validation\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/url-method/\n\t\turl: function( value, element ) {\n\n\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t// modified to allow protocol-relative URLs\n\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/date-method/\n\t\tdate: function( value, element ) {\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\tdateISO: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/number-method/\n\t\tnumber: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/digits-method/\n\t\tdigits: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/minlength-method/\n\t\tminlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\tmaxlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\trangelength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/min-method/\n\t\tmin: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/max-method/\n\t\tmax: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/range-method/\n\t\trange: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/step-method/\n\t\tstep: function( value, element, param ) {\n\t\t\tvar type = $( element ).attr( \"type\" ),\n\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\tsupportedTypes = [ \"text\", \"number\", \"range\" ],\n\t\t\t\tre = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\n\t\t\t\tnotSupported = type && !re.test( supportedTypes.join() );\n\n\t\t\t// Works only for text, number and range input types\n\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\tif ( notSupported ) {\n\t\t\t\tthrow new Error( errorMessage );\n\t\t\t}\n\t\t\treturn this.optional( element ) || ( value % param === 0 );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\tequalTo: function( value, element, param ) {\n\n\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\tvar target = $( param );\n\t\t\tif ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\n\t\t\t\ttarget.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\n\t\t\t\t\t$( element ).valid();\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn value === target.val();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/remote-method/\n\t\tremote: function( value, element, param, method ) {\n\t\t\tif ( this.optional( element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\tvar previous = this.previousValue( element, method ),\n\t\t\t\tvalidator, data, optionDataString;\n\n\t\t\tif ( !this.settings.messages[ element.name ] ) {\n\t\t\t\tthis.settings.messages[ element.name ] = {};\n\t\t\t}\n\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\n\t\t\tthis.settings.messages[ element.name ][ method ] = previous.message;\n\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\toptionDataString = $.param( $.extend( { data: value }, param.data ) );\n\t\t\tif ( previous.old === optionDataString ) {\n\t\t\t\treturn previous.valid;\n\t\t\t}\n\n\t\t\tprevious.old = optionDataString;\n\t\t\tvalidator = this;\n\t\t\tthis.startRequest( element );\n\t\t\tdata = {};\n\t\t\tdata[ element.name ] = value;\n\t\t\t$.ajax( $.extend( true, {\n\t\t\t\tmode: \"abort\",\n\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: data,\n\t\t\t\tcontext: validator.currentForm,\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\terrors, message, submitted;\n\n\t\t\t\t\tvalidator.settings.messages[ element.name ][ method ] = previous.originalMessage;\n\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\tvalidator.toHide = validator.errorsFor( element );\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\tvalidator.successList.push( element );\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = false;\n\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, { method: method, parameters: value } );\n\t\t\t\t\t\terrors[ element.name ] = previous.message = message;\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\n\t\t\t\t\t\tvalidator.showErrors( errors );\n\t\t\t\t\t}\n\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\tvalidator.stopRequest( element, valid );\n\t\t\t\t}\n\t\t\t}, param ) );\n\t\t\treturn \"pending\";\n\t\t}\n\t}\n\n} );\n\n// Ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\nvar pendingRequests = {},\n\tajax;\n\n// Use a prefilter if available (1.5+)\nif ( $.ajaxPrefilter ) {\n\t$.ajaxPrefilter( function( settings, _, xhr ) {\n\t\tvar port = settings.port;\n\t\tif ( settings.mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = xhr;\n\t\t}\n\t} );\n} else {\n\n\t// Proxy ajax\n\tajax = $.ajax;\n\t$.ajax = function( settings ) {\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n\t\tif ( mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = ajax.apply( this, arguments );\n\t\t\treturn pendingRequests[ port ];\n\t\t}\n\t\treturn ajax.apply( this, arguments );\n\t};\n}\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.validate.js","/**\n * jQuery Formset 1.3-pre\n * @author Stanislaus Madueke (stan DOT madueke AT gmail DOT com)\n * @requires jQuery 1.2.6 or later\n *\n * Copyright (c) 2009, Stanislaus Madueke\n * All rights reserved.\n *\n * Licensed under the New BSD License\n * See: http://www.opensource.org/licenses/bsd-license.php\n */\n;(function($) {\n    $.fn.formset = function(opts)\n    {\n        var options = $.extend({}, $.fn.formset.defaults, opts),\n            flatExtraClasses = options.extraClasses.join(' '),\n            totalForms = $('#id_' + options.prefix + '-TOTAL_FORMS'),\n            maxForms = $('#id_' + options.prefix + '-MAX_NUM_FORMS'),\n            minForms = $('#id_' + options.prefix + '-MIN_NUM_FORMS'),\n            childElementSelector = 'input,select,textarea,label,div',\n            $$ = $(this),\n\n            applyExtraClasses = function(row, ndx) {\n                if (options.extraClasses) {\n                    row.removeClass(flatExtraClasses);\n                    row.addClass(options.extraClasses[ndx % options.extraClasses.length]);\n                }\n            },\n\n            updateElementIndex = function(elem, prefix, ndx) {\n                var idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n                    replacement = prefix + '-' + ndx + '-';\n                if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n                if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n                if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n            },\n\n            hasChildElements = function(row) {\n                return row.find(childElementSelector).length > 0;\n            },\n\n            showAddButton = function() {\n                return maxForms.length == 0 ||   // For Django versions pre 1.2\n                    (maxForms.val() == '' || (maxForms.val() - totalForms.val() > 0));\n            },\n\n            /**\n            * Indicates whether delete link(s) can be displayed - when total forms > min forms\n            */\n            showDeleteLinks = function() {\n                return minForms.length == 0 ||   // For Django versions pre 1.7\n                    (minForms.val() == '' || (totalForms.val() - minForms.val() > 0));\n            },\n\n            insertDeleteLink = function(row) {\n                var delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.'),\n                    addCssSelector = $.trim(options.addCssClass).replace(/\\s+/g, '.');\n                if (row.is('TR')) {\n                    // If the forms are laid out in table rows, insert\n                    // the remove button into the last table cell:\n                    row.children(':last').append('<a class=\"' + options.deleteCssClass +'\" href=\"javascript:void(0)\">' + options.deleteText + '</a>');\n                } else if (row.is('UL') || row.is('OL')) {\n                    // If they're laid out as an ordered/unordered list,\n                    // insert an <li> after the last list item:\n                    row.append('<li><a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText +'</a></li>');\n                } else {\n                    // Otherwise, just insert the remove button as the\n                    // last child element of the form's container:\n                    if (options.deleteTemplate) {\n                      row.append(options.deleteTemplate);\n                    } else {\n                      row.append('<a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText +'</a>');\n                    }\n                }\n                // Check if we're under the minimum number of forms - not to display delete link at rendering\n                if (!showDeleteLinks()){\n                    row.find('a.' + delCssSelector).hide();\n                }\n\n                row.find('a.' + delCssSelector).click(function() {\n                    var row = $(this).parents('.' + options.formCssClass),\n                        del = row.find('input:hidden[id $= \"-DELETE\"]'),\n                        buttonRow = row.siblings(\"a.\" + addCssSelector + ', .' + options.formCssClass + '-add'),\n                        forms;\n                    if (del.length) {\n                        // We're dealing with an inline formset.\n                        // Rather than remove this form from the DOM, we'll mark it as deleted\n                        // and hide it, then let Django handle the deleting:\n                        del.val('on');\n                        row.hide();\n                        forms = $('.' + options.formCssClass).not(':hidden');\n                    } else {\n                        row.remove();\n                        // Update the TOTAL_FORMS count:\n                        forms = $('.' + options.formCssClass).not('.formset-custom-template');\n                        totalForms.val(forms.length);\n                    }\n                    for (var i=0, formCount=forms.length; i<formCount; i++) {\n                        // Apply `extraClasses` to form rows so they're nicely alternating:\n                        applyExtraClasses(forms.eq(i), i);\n                        if (!del.length) {\n                            // Also update names and IDs for all child controls (if this isn't\n                            // a delete-able inline formset) so they remain in sequence:\n                            forms.eq(i).find(childElementSelector).each(function() {\n                                updateElementIndex($(this), options.prefix, i);\n                            });\n                        }\n                    }\n                    // Check if we've reached the minimum number of forms - hide all delete link(s)\n                    if (!showDeleteLinks()){\n                        $('.' + options.formCssClass).find('a.' + delCssSelector).each(function(){$(this).hide();});\n                    }\n                    // Check if we need to show the add button:\n                    if (buttonRow.is(':hidden') && showAddButton()) buttonRow.show();\n                    // If a post-delete callback was provided, call it with the deleted form:\n                    if (options.removed) options.removed(row);\n                    return false;\n                });\n            };\n\n        $$.each(function(i) {\n            var row = $(this),\n                del = row.find('input:checkbox[id $= \"-DELETE\"]');\n            if (del.length) {\n                // If you specify \"can_delete = True\" when creating an inline formset,\n                // Django adds a checkbox to each form in the formset.\n                // Replace the default checkbox with a hidden field:\n                if (del.is(':checked')) {\n                    // If an inline formset containing deleted forms fails validation, make sure\n                    // we keep the forms hidden (thanks for the bug report and suggested fix Mike)\n                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') +'\" id=\"' + del.attr('id') +'\" value=\"on\" />');\n                    row.hide();\n                } else {\n                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') +'\" id=\"' + del.attr('id') +'\" />');\n                }\n                // Hide any labels associated with the DELETE checkbox:\n                $('label[for=\"' + del.attr('id') + '\"]').hide();\n                del.remove();\n            }\n            if (hasChildElements(row)) {\n                row.addClass(options.formCssClass);\n                insertDeleteLink(row);\n                applyExtraClasses(row, i);\n            }\n        });\n\n        if ($$.length) {\n            var hideAddButton = !showAddButton(),\n                addButton, template;\n            if (options.formTemplate) {\n                // If a form template was specified, we'll clone it to generate new form instances:\n                template = (options.formTemplate instanceof $) ? options.formTemplate : $(options.formTemplate);\n                template.removeAttr('id').addClass(options.formCssClass + ' formset-custom-template');\n                template.find(childElementSelector).each(function() {\n                    updateElementIndex($(this), options.prefix, '__prefix__');\n                });\n                insertDeleteLink(template);\n            } else {\n                // Otherwise, use the last form in the formset; this works much better if you've got\n                // extra (>= 1) forms (thnaks to justhamade for pointing this out):\n                template = $('.' + options.formCssClass + ':last').clone(true).removeAttr('id');\n                template.find('input:hidden[id $= \"-DELETE\"]').remove();\n                // Clear all cloned fields, except those the user wants to keep (thanks to brunogola for the suggestion):\n                template.find(childElementSelector).not(options.keepFieldValues).each(function() {\n                    var elem = $(this);\n                    // If this is a checkbox or radiobutton, uncheck it.\n                    // This fixes Issue 1, reported by Wilson.Andrew.J:\n                    if (elem.is('input:checkbox') || elem.is('input:radio')) {\n                        elem.attr('checked', false);\n                    } else {\n                        elem.val('');\n                    }\n                });\n            }\n            // FIXME: Perhaps using $.data would be a better idea?\n            options.formTemplate = template;\n\n            if ($$.is('TR')) {\n                // If forms are laid out as table rows, insert the\n                // \"add\" button in a new table row:\n                var numCols = $$.eq(0).children().length,   // This is a bit of an assumption :|\n                    buttonRow = $('<tr><td colspan=\"' + numCols + '\"><a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a></tr>')\n                                .addClass(options.formCssClass + '-add');\n                $$.parent().append(buttonRow);\n                if (hideAddButton) buttonRow.hide();\n                addButton = buttonRow.find('a');\n            } else {\n                // Otherwise, insert it immediately after the last form:\n                $$.filter(':last').after('<a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a>');\n                addButton = $$.filter(':last').next();\n                if (hideAddButton) addButton.hide();\n            }\n            addButton.click(function() {\n                var formCount = parseInt(totalForms.val()),\n                    row = options.formTemplate.clone(true).removeClass('formset-custom-template'),\n                    buttonRow = $($(this).parents('tr.' + options.formCssClass + '-add').get(0) || this),\n                    delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.');\n                applyExtraClasses(row, formCount);\n                row.insertBefore(buttonRow).show();\n                row.find(childElementSelector).each(function() {\n                    updateElementIndex($(this), options.prefix, formCount);\n                });\n                totalForms.val(formCount + 1);\n                // Check if we're above the minimum allowed number of forms -> show all delete link(s)\n                if (showDeleteLinks()){\n                    $('.' + options.formCssClass).find('a.' + delCssSelector).each(function(){$(this).show();});\n                }\n                // Check if we've exceeded the maximum allowed number of forms:\n                if (!showAddButton()) buttonRow.hide();\n                // If a post-add callback was supplied, call it with the added form:\n                if (options.added) options.added(row);\n                return false;\n            });\n        }\n\n        return $$;\n    };\n\n    /* Setup plugin defaults */\n    $.fn.formset.defaults = {\n        prefix: 'form',                  // The form prefix for your django formset\n        formTemplate: null,              // The jQuery selection cloned to generate new form instances\n        addText: 'add another',          // Text for the add link\n        deleteText: 'remove',            // Text for the delete link\n        addCssClass: 'add-row',          // CSS class applied to the add link\n        deleteCssClass: 'delete-row',    // CSS class applied to the delete link\n        formCssClass: 'dynamic-form',    // CSS class applied to each form in a formset\n        extraClasses: [],                // Additional CSS classes, which will be applied to each form in turn\n        keepFieldValues: '',             // jQuery selector for fields whose values should be kept when the form is cloned\n        added: null,                     // Function called each time a new form is added\n        removed: null                    // Function called each time a form is deleted\n    };\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.formset.js","'use strict'\n\nimport $ from 'jquery'\nrequire('selectize')\n\nconst [suggest] = [{\n  plugins: ['remove_button']\n  , maxItems: 5\n  , valueField: 'id'\n  , labelField: 'name'\n  , searchField: 'name'\n  , create: false\n  // , hideSelected: true\n  , render: {\n    item: templateItem\n    , option: templateOption\n  }\n  , load: loadUsers\n}]\n\nvar tagger = (element) => {\n    var type = $(element).data('taggerType')\n    switch (type) {\n        case 'suggest':\n            $(element).selectize(suggest)\n    }\n}\n\nfunction templateItem (item, escape) {\n  let name = item.name ? escape(item.name) : ''\n  return `<div>${name}</div>`\n}\nfunction templateOption (item, escape) {\n  let name = item.name ? escape(item.name) : ''\n  return `<div class=\"item-float-notification\">\n    <span><img src=\"${item.img}\" alt=\"${name}\"></span>\n    <span>${name}</span>\n  </div>`\n}\n\nfunction loadUsers(query, callback) {\n    var options = this.$wrapper.prev().data();\n    if (!query.length) {\n        return callback()\n    }\n    $.ajax({\n        url: options.url,\n        type: 'GET',\n        data: {\n            criteria: query\n        },\n        error: function () {\n            callback()\n        },\n        success: function (res) {\n            callback(res.users);\n        }\n    })\n}\n\n\nexport default tagger\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/tagger.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar taxonomy,\n    elementData,\n    $element,\n    TemplateEngine = require('./TemplateEngine');\n\nvar defaultSettings = {\n    plugins: ['remove_button'],\n    maxItems: 5,\n    valueField: 'url',\n    labelField: 'name',\n    searchField: 'name',\n    create: false,\n    render: {\n        item: renderItem,\n        option: renderOption\n    },\n    load: loadItems\n};\n\nvar defaultTemplates = {\n    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n};\n\nfunction renderItem(item){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.item;\n    var elementData = $element.data();\n    if('templateItem' in elementData && $(elementData.templateItem).length){\n        renderTemplate = $(elementData.templateItem).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n}\n\nfunction renderOption(item, escape){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.option;\n    var elementData = $element.data();\n    if('templateOption' in elementData && $(elementData.templateOption).length){\n        renderTemplate = $(elementData.templateOption).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n\n}\n\nfunction loadItems(query, callback) {\n\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function(res){\n          console.log(res);\n            callback(res);\n        }\n    });\n}\n\ntaxonomy = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, defaultSettings, elementData);\n    $(element).selectize(selectizeSettings);\n};\n\nexport default taxonomy\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/taxonomy.js"],"sourceRoot":""}