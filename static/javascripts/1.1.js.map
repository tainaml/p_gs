{"version":3,"sources":["webpack:///1.1.js","webpack:///./asyncModules ^\\.\\/.*$","webpack:///./asyncModules/TemplateEngine.js","webpack:///./asyncModules/ajaxselect.js","webpack:////projects/rede_gsti/resources/~/selectize/dist/js/selectize.js","webpack:////projects/rede_gsti/resources/~/selectize/~/sifter/sifter.js","webpack:////projects/rede_gsti/resources/~/selectize/~/microplugin/src/microplugin.js","webpack:///./asyncModules/dropzoneUploader.js","webpack:///./asyncModules/geography.js","webpack:///./asyncModules/job.js","webpack:///./asyncModules/profession.js","webpack:///./asyncModules/steps.js","webpack:///./components/customform/input.js","webpack:///./components/customform/toggle-select.js","webpack:///./vendor/jquery.steps.js","webpack:///./vendor/jquery.validate.js","webpack:///./vendor/jquery.formset.js","webpack:///./asyncModules/tagger.js","webpack:///./asyncModules/taxonomy.js","webpack:///./components/customform/toggle-check.js"],"names":["webpackJsonp","7","module","exports","__webpack_require__","webpackContext","req","webpackContextResolve","map","Error","./TemplateEngine","./TemplateEngine.js","./ajaxselect","./ajaxselect.js","./dropzoneUploader","./dropzoneUploader.js","./geography","./geography.js","./index","./index.js","./job","./job.js","./profession","./profession.js","./steps","./steps.js","./tagger","./tagger.js","./taxonomy","./taxonomy.js","keys","Object","resolve","id","8","html","options","result","re","reExp","code","cursor","add","line","js","match","replace","exec","slice","index","length","substr","Function","apply","err","console","error","message","9","_interopRequireDefault","obj","__esModule","default","templateItem","item","escape","name","templateOption","template","img","log","loadUsers","query","callback","this","$wrapper","prev","data","_data","settings","searchField","_jquery2","ajax","url","type","success","res","items","defineProperty","value","_jquery","elementData","$element","suggest","valueField","labelField","create","highlight","render","option","load","ajaxselect","element","selectizeSettings","extend","selectize","10","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","$","Sifter","MicroPlugin","pattern","regex","RegExp","node","skip","nodeType","pos","search","spannode","document","createElement","className","middlebit","splitText","middleclone","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","tagName","i","each","fn","removeHighlight","find","firstChild","nodeName","parent","normalize","end","MicroEvent","prototype","on","event","fct","_events","push","off","n","arguments","splice","indexOf","trigger","Array","call","mixin","destObject","props","IS_MAC","navigator","userAgent","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_P","KEY_RIGHT","KEY_DOWN","KEY_N","KEY_BACKSPACE","KEY_DELETE","KEY_SHIFT","KEY_CMD","KEY_CTRL","KEY_TAB","TAG_SELECT","TAG_INPUT","SUPPORTS_VALIDITY_API","window","validity","isset","object","hash_key","escape_html","str","hook","before","self","method","original","after","once","called","debounce","delay","timeout","args","clearTimeout","setTimeout","debounce_events","types","event_args","hasOwnProperty","watchChildEvent","$parent","selector","e","child","target","currentTarget","getSelection","input","start","selectionStart","selectionEnd","selection","focus","sel","createRange","selLen","text","moveStart","transferStyles","$from","$to","properties","styles","css","measureString","$test","position","top","left","width","padding","whiteSpace","appendTo","remove","autoGrow","$input","currentWidth","update","keyCode","printable","placeholder","shift","character","metaKey","altKey","force","val","toLowerCase","substring","shiftKey","String","fromCharCode","toUpperCase","attr","triggerHandler","domToString","d","tmp","innerHTML","logError","component","explanation","group","groupEnd","Selectize","dir","computedStyle","getComputedStyle","getPropertyValue","currentStyle","direction","parents","order","tabIndex","tagType","rtl","eventNS","count","highlightedValue","isOpen","isDisabled","isRequired","is","isInvalid","isLocked","isFocused","isInputHidden","isSetup","isShiftDown","isCmdDown","isCtrlDown","ignoreFocus","ignoreBlur","ignoreHover","hasOptions","currentResults","lastValue","caretPos","loading","loadedSearches","$activeOption","$activeItems","optgroups","userOptions","renderCache","onSearchChange","loadThrottle","sifter","diacritics","registerOption","registerOptionGroup","mode","maxItems","hideSelected","initializePlugins","plugins","setupCallbacks","setupTemplates","setup","$control","$control_input","$dropdown","$dropdown_content","$dropdown_parent","inputMode","classes","classes_plugins","inputId","$window","$document","addClass","wrapperClass","inputClass","dropdownParent","dropdownClass","hide","dropdownContentClass","copyClassesToDropdown","style","names","join","splitOn","delimiter","delimiterEscaped","onOptionHover","onOptionSelect","onItemSelect","mousedown","onMouseDown","click","onClick","stopPropagation","keydown","onKeyDown","keyup","onKeyUp","keypress","onKeyPress","resize","positionDropdown","blur","onBlur","onFocus","paste","onPaste","has","revertSettings","$children","children","detach","tabindex","isArray","setValue","preventDefault","refreshState","updateOriginalInput","refreshItems","updatePlaceholder","disable","onChange","preload","field_label","field_optgroup","optgroupLabelField","templates","optgroup","optgroup_header","option_create","key","callbacks","initialize","change","item_add","item_remove","clear","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","defaultPrevented","isDefaultPrevented","close","open","setActiveItem","isFull","pastedText","splitInput","trim","split","createItem","which","selectAll","ctrlKey","$next","getAdjacentOption","setActiveOption","$prev","advanceSelection","selectOnTab","deleteSelection","refreshOptions","wasFocused","showInput","openOnFocus","dest","activeElement","deactivate","setTextboxValue","setCaret","createOnBlur","$target","hasClass","closeAfterSelect","lastQuery","addItem","getOption","loadingClass","results","Math","max","addOption","removeClass","changed","getValue","silent","events","addItems","$item","eventName","idx","begin","swap","$last","hideInput","$option","scroll","animate","height_menu","height_item","y","scroll_top","scroll_bottom","height","outerHeight","scrollTop","offset","stop","scrollDuration","opacity","getScoreFunction","getSearchOptions","sort","sortField","field","fields","conjunction","searchConjunction","calculateScore","score","triggerDropdown","j","k","groups","groups_order","option_html","html_children","has_create_option","$active","$active_before","$create","active_before","maxOptions","min","optgroupField","createDocumentFragment","lockOptgroupOrder","a","b","a_order","$order","b_order","dom","tokens","canCreate","prepend","addPrecedence","optgroupValueField","addOptionGroup","removeOptionGroup","clearOptionGroups","updateOption","$item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","replaceWith","removeOption","removeItem","clearOptions","getElementWithValue","$options","eq","$els","getAttribute","values","isPending","value_next","wasFull","insertAtCaret","persist","caret","lock","unlock","output","refreshValidityState","refreshClasses","invalid","prop","toggleClass","isEmptyObject","opts","label","removeAttr","visibility","display","outerWidth","$el","option_select","$option_select","$tail","onDelete","pop","tail","valueLength","cursorAtEdge","advanceCaret","$adj","$child","append","enable","destroy","show","removeData","body","templateName","cache","clearCache","filter","createFilter","defaults","allowEmptyOption","dataAttr","settings_user","attr_data","field_value","field_optgroup_label","field_optgroup_value","init_textbox","settings_element","data_raw","JSON","parse","init_select","optionsMap","readData","arr","addGroup","$optgroup","instance","tag_name","support","define","sortable","forcePlaceholderSize","disabled","ui","helper","overflow","active","title","headerClass","titleRowClass","labelClass","closeClass","$dropdown_header","equalizeWidth","equalizeHeight","closest","next","getScrollbarWidth","div","doc","offsetWidth","clientWidth","removeChild","equalizeSizes","height_max","width_last","width_parent","$optgroups","innerWidth","round","singleClose","thisRef","html_container","html_element","context","render_item","multiClose","11","tokenize","letter","words","escape_regex","DIACRITICS","string","iterator","is_array","forEach","token_count","nesting","prepareSearch","scoreValue","token","scoreObject","field_count","getattr","sum","getSortFunction","fields_count","multiplier","multipliers","get_field","implicit_score","sort_empty","unshift","cmp","option_fields","option_sort","option_sort_empty","total","fn_sort","fn_score","limit","asciifold","toString","c","f","g","h","l","o","p","q","r","s","t","u","v","w","x","z","chunk","foreignletters","lookup","charAt","regexp","foreignletter","12","Interface","queue","requested","loaded","utils","require","loadPlugin","plugin","vArg","13","_module","cbDragOver","dropZone","cbDragLeave","cbDrop","file","originalEvent","dataTransfer","files","readFile","cbChangeFile","cbTriggerFile","$altInput","defaultImage","fakeLoad","dragover","dragleave","drop","src","createPreview","getCanvasImage","reader","FileReader","onload","readAsDataURL","image","imgWidth","imgHeight","canvas","ctx","getContext","drawImage","toDataURL","filename","newURL","fileName","lastIndexOf","filePath","14","profession","defaultSettings","_item","15","job","16","17","_profession","_profession2","_geography","_geography2","_componentsCustomformInput","_componentsCustomformInput2","_componentsCustomformToggleSelect","_componentsCustomformToggleSelect2","_componentsCustomformToggleCheck","_componentsCustomformToggleCheck2","steps","$root","$form","validate","errorPlacement","errorClass","validClass","unhighlight","submitHandler","form","valid","submit","headerTag","bodyTag","enableAllSteps","titleTemplate","enablePagination","onInit","currentIndex","tooltip","formsetLength","professionLength","$containerForm","dataFormset","formset","prefix","formCssClass","addCssClass","addText","deleteTemplate","onStepChanging","newIndex","ignore","18","inputResize","$this","siblings","scrollHeight","19","select","dataTarget","$select","20","jQuery","addStepToCache","wizard","step","getSteps","analyzeData","state","stepTitles","stepContents","throwError","_missingCorrespondingElementErrorMessage","startIndex","stepCount","saveState","cookie","savedState","_cookiePrefix","getUniqueId","savedIndex","parseInt","isNaN","content","modeData","contentMode","getValidEnumValue","contentUrl","contentLoaded","stepModel","cancel","decreaseCurrentIndexBy","decreaseBy","eventNamespace","getEventNamespace","unbind","clearFixCssClass","contents","_removeAria","empty","wizardSubstitute","format","get","wizardId","_id","finishStep","currentStep","getStepAnchor","uniqueId","_tabSuffix","getStepPanel","_tabpanelSuffix","getStepTitle","_titleSuffix","getOptions","getState","getStep","_indexOutOfRangeErrorMessage","concat","_uniqueId","enumType","keyOrValue","validateArgument","goToNextStep","paginationClick","increaseCurrentIndexBy","goToPreviousStep","goToStep","forceMoveForward","oldIndex","saveCurrentStateToCookie","refreshStepNavigation","refreshPagination","loadAsyncContent","startTransitionEffect","increaseBy","transitionElement","registerEvents","autoFocus","insertStep","insertStepToCache","contentContainer","header","renderBody","renderTitle","refreshSteps","keyUpHandler","suppressPaginationOnFocus","keyCodes","right","enableContentCache","iframe","async","currentStepContent","_aria","renderTemplate","loadingTemplate","labels","done","anchor","_enableAria","paginationClickHandler","href","finish","previous","enableFinishButton","showFinishButtonAlways","_showAria","currentOrNewStepAnchor","currentInfo","current","oldStepAnchor","_selectAria","uniqueStepId","uniqueBodyId","uniqueHeaderId","bind","onCanceled","onContentLoaded","onFinishing","onFinished","onStepChanged","enableKeyNavigation","removeStep","removeStepFromCache","first","wrapperTemplate","orientation","stepsOrientation","verticalCssClass","vertical","contentWrapper","contentContainerTag","stepsWrapper","stepsContainerTag","cssClass","renderPagination","pagination","buttonTemplate","buttons","enableCancelButton","actionContainerTag","substitutes","matches","stepCollection","stepItem","stepClickHandler","doneCallback","effect","transitionEffect","effectSpeed","transitionEffectSpeed","newStep","fade","slide","promise","slideLeft","posFadeOut","posFadeIn","when","argumentName","argumentValue","formattedString","getCurrentIndex","getCurrentStep","insert","setStep","horizontal","none","preloadContent","priorIndex","21","debug","warn","validator","onsubmit","submitButton","cancelSubmit","handle","hidden","currentForm","pendingRequest","formSubmitted","focusInvalid","errorList","rules","command","argument","staticRules","existingRules","param","filtered","normalizeRule","messages","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","blank","filled","unchecked","init","source","params","makeArray","constructor","pendingClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignoreTitle","onfocusin","lastActive","hideThese","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","excludedKeys","elementValue","inArray","onclick","findByName","setDefaults","email","date","dateISO","number","digits","equalTo","maxlength","minlength","rangelength","range","autoCreateRanges","delegate","eventType","labelContainer","errorContext","containers","valueCache","pending","reset","invalidHandler","checkForm","errorMap","showErrors","prepareForm","elements","currentElements","check","_element","rs","cleanElement","clean","checkElement","validationTargetFor","prepareElement","testgroup","numberOfInvalids","toHide","errors","successList","grep","defaultShowErrors","resetForm","hideErrors","resetElements","objectLength","not","addWrapper","size","findLastActive","rulesCache","hasAttribute","resetInternals","toShow","badInput","rule","rulesCount","dependencyMismatch","normalizer","TypeError","parameters","methods","formatAndAdd","customDataMessage","customMessage","m","findDefined","defaultMessage","theregex","toToggle","wrapper","showLabel","validElements","invalidElements","place","errorID","elementID","idOrName","describedBy","wrap","insertAfter","escapeCssMeta","describer","getLength","depend","dependTypes","boolean","function","startRequest","stopRequest","previousValue","old","classRuleSettings","creditcard","addClassRules","normalizeAttributeRule","Number","depends","keepRule","parameter","isFunction","parts","transformed","addMethod","Date","errorMessage","supportedTypes","notSupported","optionDataString","originalMessage","port","dataType","response","pendingRequests","ajaxPrefilter","_","xhr","abort","ajaxSettings","22","flatExtraClasses","extraClasses","totalForms","maxForms","minForms","childElementSelector","$$","applyExtraClasses","row","ndx","updateElementIndex","elem","idRegex","replacement","hasChildElements","showAddButton","showDeleteLinks","insertDeleteLink","delCssSelector","deleteCssClass","addCssSelector","deleteText","forms","del","buttonRow","formCount","removed","addButton","hideAddButton","formTemplate","clone","keepFieldValues","numCols","insertBefore","added","23","criteria","users","tagger","24","renderItem","defaultTemplates","TemplateEngine","renderOption","loadItems","taxonomy","217","$check"],"mappings":"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","file":"1.1.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 7:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./TemplateEngine\": 8,\n\t\t\"./TemplateEngine.js\": 8,\n\t\t\"./ajaxselect\": 9,\n\t\t\"./ajaxselect.js\": 9,\n\t\t\"./dropzoneUploader\": 13,\n\t\t\"./dropzoneUploader.js\": 13,\n\t\t\"./geography\": 14,\n\t\t\"./geography.js\": 14,\n\t\t\"./index\": 6,\n\t\t\"./index.js\": 6,\n\t\t\"./job\": 15,\n\t\t\"./job.js\": 15,\n\t\t\"./profession\": 16,\n\t\t\"./profession.js\": 16,\n\t\t\"./steps\": 17,\n\t\t\"./steps.js\": 17,\n\t\t\"./tagger\": 23,\n\t\t\"./tagger.js\": 23,\n\t\t\"./taxonomy\": 24,\n\t\t\"./taxonomy.js\": 24\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 7;\n\n\n/***/ },\n\n/***/ 8:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function (html, options) {\n\t\tvar re = /<%(.+?)%>/g,\n\t\t    reExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,\n\t\t    code = 'with(obj) { var r=[];\\n',\n\t\t    cursor = 0,\n\t\t    result;\n\t\tvar add = function add(line, js) {\n\t\t\tjs ? code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n' : code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '';\n\t\t\treturn add;\n\t\t};\n\t\tvar match = re.exec(html);\n\t\twhile (match) {\n\t\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\t\tcursor = match.index + match[0].length;\n\t\t\tmatch = re.exec(html);\n\t\t}\n\t\tadd(html.substr(cursor, html.length - cursor));\n\t\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\t\ttry {\n\t\t\tresult = new Function('obj', code).apply(options, [options]);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\");\n\t\t}\n\t\treturn result;\n\t};\n\n/***/ },\n\n/***/ 9:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar elementData, $element;\n\t\n\tvar suggest = {\n\t    valueField: 'id',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    highlight: false,\n\t    render: {\n\t        item: templateItem,\n\t        option: templateOption\n\t    },\n\t    load: loadUsers\n\t};\n\t\n\tvar ajaxselect = function ajaxselect(element) {\n\t    $element = (0, _jquery2['default'])(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = _jquery2['default'].extend({}, suggest, elementData);\n\t    (0, _jquery2['default'])(element).selectize(selectizeSettings);\n\t};\n\t\n\tfunction templateItem(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div>' + name + '</div>';\n\t}\n\tfunction templateOption(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    var template = '<div class=\"item-float-notification\">\\n      <span><img src=\"' + item.img + '\" alt=\"' + name + '\"></span>\\n      ' + name + '\\n    </div>';\n\t    console.log(template);\n\t    return template;\n\t}\n\t\n\tfunction loadUsers(query, callback) {\n\t    var options = this.$wrapper.prev().data();\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t    console.log(_data);\n\t\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        type: 'GET',\n\t        data: _data,\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res.items);\n\t        }\n\t    });\n\t}\n\t\n\texports['default'] = ajaxselect;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 10:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * selectize.js (v0.12.4)\n\t * Copyright (c) 2013–2015 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t/*jshint curly:false */\n\t/*jshint browser:true */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2),__webpack_require__(11),__webpack_require__(12)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t\t} else {\n\t\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t\t}\n\t}(this, function($, Sifter, MicroPlugin) {\n\t\t'use strict';\n\t\n\t\tvar highlight = function($element, pattern) {\n\t\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\t\n\t\t\tvar highlight = function(node) {\n\t\t\t\tvar skip = 0;\n\t\t\t\tif (node.nodeType === 3) {\n\t\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\t\tskip = 1;\n\t\t\t\t\t}\n\t\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn skip;\n\t\t\t};\n\t\t\n\t\t\treturn $element.each(function() {\n\t\t\t\thighlight(this);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * removeHighlight fn copied from highlight v5 and\n\t\t * edited to remove with() and pass js strict mode\n\t\t */\n\t\t$.fn.removeHighlight = function() {\n\t\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\t\tvar parent = this.parentNode;\n\t\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\t\tparent.normalize();\n\t\t\t}).end();\n\t\t};\n\t\t\n\t\t\n\t\tvar MicroEvent = function() {};\n\t\tMicroEvent.prototype = {\n\t\t\ton: function(event, fct){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\t\tthis._events[event].push(fct);\n\t\t\t},\n\t\t\toff: function(event, fct){\n\t\t\t\tvar n = arguments.length;\n\t\t\t\tif (n === 0) return delete this._events;\n\t\t\t\tif (n === 1) return delete this._events[event];\n\t\t\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t\t},\n\t\t\ttrigger: function(event /* , args... */){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t\t *\n\t\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t\t *\n\t\t * @param {object} the object which will support MicroEvent\n\t\t */\n\t\tMicroEvent.mixin = function(destObject){\n\t\t\tvar props = ['on', 'off', 'trigger'];\n\t\t\tfor (var i = 0; i < props.length; i++){\n\t\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\t\n\t\tvar KEY_A         = 65;\n\t\tvar KEY_COMMA     = 188;\n\t\tvar KEY_RETURN    = 13;\n\t\tvar KEY_ESC       = 27;\n\t\tvar KEY_LEFT      = 37;\n\t\tvar KEY_UP        = 38;\n\t\tvar KEY_P         = 80;\n\t\tvar KEY_RIGHT     = 39;\n\t\tvar KEY_DOWN      = 40;\n\t\tvar KEY_N         = 78;\n\t\tvar KEY_BACKSPACE = 8;\n\t\tvar KEY_DELETE    = 46;\n\t\tvar KEY_SHIFT     = 16;\n\t\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\t\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\t\tvar KEY_TAB       = 9;\n\t\t\n\t\tvar TAG_SELECT    = 1;\n\t\tvar TAG_INPUT     = 2;\n\t\t\n\t\t// for now, android support in general is too spotty to support validity\n\t\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\t\n\t\t\n\t\tvar isset = function(object) {\n\t\t\treturn typeof object !== 'undefined';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Converts a scalar to its best string representation\n\t\t * for hash keys and HTML attribute values.\n\t\t *\n\t\t * Transformations:\n\t\t *   'str'     -> 'str'\n\t\t *   null      -> ''\n\t\t *   undefined -> ''\n\t\t *   true      -> '1'\n\t\t *   false     -> '0'\n\t\t *   0         -> '0'\n\t\t *   1         -> '1'\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {string|null}\n\t\t */\n\t\tvar hash_key = function(value) {\n\t\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\t\treturn value + '';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes a string for use within HTML.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_html = function(str) {\n\t\t\treturn (str + '')\n\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes \"$\" characters in replacement strings.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_replace = function(str) {\n\t\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t\t};\n\t\t\n\t\tvar hook = {};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked before the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.before = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked after the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.after = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tvar result = original.apply(self, arguments);\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be invoked once.\n\t\t *\n\t\t * @param {function} fn\n\t\t * @returns {function}\n\t\t */\n\t\tvar once = function(fn) {\n\t\t\tvar called = false;\n\t\t\treturn function() {\n\t\t\t\tif (called) return;\n\t\t\t\tcalled = true;\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be called once\n\t\t * every `delay` milliseconds (invoked on the falling edge).\n\t\t *\n\t\t * @param {function} fn\n\t\t * @param {int} delay\n\t\t * @returns {function}\n\t\t */\n\t\tvar debounce = function(fn, delay) {\n\t\t\tvar timeout;\n\t\t\treturn function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\twindow.clearTimeout(timeout);\n\t\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\t\tfn.apply(self, args);\n\t\t\t\t}, delay);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Debounce all fired events types listed in `types`\n\t\t * while executing the provided `fn`.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {array} types\n\t\t * @param {function} fn\n\t\t */\n\t\tvar debounce_events = function(self, types, fn) {\n\t\t\tvar type;\n\t\t\tvar trigger = self.trigger;\n\t\t\tvar event_args = {};\n\t\t\n\t\t\t// override trigger method\n\t\t\tself.trigger = function() {\n\t\t\t\tvar type = arguments[0];\n\t\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\t\tevent_args[type] = arguments;\n\t\t\t\t} else {\n\t\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t// invoke provided function\n\t\t\tfn.apply(self, []);\n\t\t\tself.trigger = trigger;\n\t\t\n\t\t\t// trigger queued events\n\t\t\tfor (type in event_args) {\n\t\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t\t *\n\t\t * @param {object} $parent - Parent element to listen on.\n\t\t * @param {string} event - Event name.\n\t\t * @param {string} selector - Descendant selector to filter by.\n\t\t * @param {function} fn - Event handler.\n\t\t */\n\t\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t\t$parent.on(event, selector, function(e) {\n\t\t\t\tvar child = e.target;\n\t\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\t\tchild = child.parentNode;\n\t\t\t\t}\n\t\t\t\te.currentTarget = child;\n\t\t\t\treturn fn.apply(this, [e]);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * Determines the current selection within a text input control.\n\t\t * Returns an object containing:\n\t\t *   - start\n\t\t *   - length\n\t\t *\n\t\t * @param {object} input\n\t\t * @returns {object}\n\t\t */\n\t\tvar getSelection = function(input) {\n\t\t\tvar result = {};\n\t\t\tif ('selectionStart' in input) {\n\t\t\t\tresult.start = input.selectionStart;\n\t\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t\t} else if (document.selection) {\n\t\t\t\tinput.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\t\tresult.start = sel.text.length - selLen;\n\t\t\t\tresult.length = selLen;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Copies CSS properties from one element to another.\n\t\t *\n\t\t * @param {object} $from\n\t\t * @param {object} $to\n\t\t * @param {array} properties\n\t\t */\n\t\tvar transferStyles = function($from, $to, properties) {\n\t\t\tvar i, n, styles = {};\n\t\t\tif (properties) {\n\t\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstyles = $from.css();\n\t\t\t}\n\t\t\t$to.css(styles);\n\t\t};\n\t\t\n\t\t/**\n\t\t * Measures the width of a string within a\n\t\t * parent element (in pixels).\n\t\t *\n\t\t * @param {string} str\n\t\t * @param {object} $parent\n\t\t * @returns {int}\n\t\t */\n\t\tvar measureString = function(str, $parent) {\n\t\t\tif (!str) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\n\t\t\tvar $test = $('<test>').css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: -99999,\n\t\t\t\tleft: -99999,\n\t\t\t\twidth: 'auto',\n\t\t\t\tpadding: 0,\n\t\t\t\twhiteSpace: 'pre'\n\t\t\t}).text(str).appendTo('body');\n\t\t\n\t\t\ttransferStyles($parent, $test, [\n\t\t\t\t'letterSpacing',\n\t\t\t\t'fontSize',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontWeight',\n\t\t\t\t'textTransform'\n\t\t\t]);\n\t\t\n\t\t\tvar width = $test.width();\n\t\t\t$test.remove();\n\t\t\n\t\t\treturn width;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Sets up an input to grow horizontally as the user\n\t\t * types. If the value is changed manually, you can\n\t\t * trigger the \"update\" handler to resize:\n\t\t *\n\t\t * $input.trigger('update');\n\t\t *\n\t\t * @param {object} $input\n\t\t */\n\t\tvar autoGrow = function($input) {\n\t\t\tvar currentWidth = null;\n\t\t\n\t\t\tvar update = function(e, options) {\n\t\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\t\tvar shift, character, selection;\n\t\t\t\te = e || window.event || {};\n\t\t\t\toptions = options || {};\n\t\t\n\t\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\t\n\t\t\t\tvalue = $input.val();\n\t\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\t\tprintable = (\n\t\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t\t);\n\t\t\n\t\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (printable) {\n\t\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\t\tvalue += character;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\t\tif (!value && placeholder) {\n\t\t\t\t\tvalue = placeholder;\n\t\t\t\t}\n\t\t\n\t\t\t\twidth = measureString(value, $input) + 4;\n\t\t\t\tif (width !== currentWidth) {\n\t\t\t\t\tcurrentWidth = width;\n\t\t\t\t\t$input.width(width);\n\t\t\t\t\t$input.triggerHandler('resize');\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t$input.on('keydown keyup update blur', update);\n\t\t\tupdate();\n\t\t};\n\t\t\n\t\tvar domToString = function(d) {\n\t\t\tvar tmp = document.createElement('div');\n\t\t\n\t\t\ttmp.appendChild(d.cloneNode(true));\n\t\t\n\t\t\treturn tmp.innerHTML;\n\t\t};\n\t\t\n\t\tvar logError = function(message, options){\n\t\t\tif(!options) options = {};\n\t\t\tvar component = \"Selectize\";\n\t\t\n\t\t\tconsole.error(component + \": \" + message)\n\t\t\n\t\t\tif(options.explanation){\n\t\t\t\t// console.group is undefined in <IE11\n\t\t\t\tif(console.group) console.group();\n\t\t\t\tconsole.error(options.explanation);\n\t\t\t\tif(console.group) console.groupEnd();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tvar Selectize = function($input, settings) {\n\t\t\tvar key, i, n, dir, input, self = this;\n\t\t\tinput = $input[0];\n\t\t\tinput.selectize = self;\n\t\t\n\t\t\t// detect rtl environment\n\t\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\t\n\t\t\t// setup default state\n\t\t\t$.extend(self, {\n\t\t\t\torder            : 0,\n\t\t\t\tsettings         : settings,\n\t\t\t\t$input           : $input,\n\t\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\t\trtl              : /rtl/i.test(dir),\n\t\t\n\t\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\t\thighlightedValue : null,\n\t\t\t\tisOpen           : false,\n\t\t\t\tisDisabled       : false,\n\t\t\t\tisRequired       : $input.is('[required]'),\n\t\t\t\tisInvalid        : false,\n\t\t\t\tisLocked         : false,\n\t\t\t\tisFocused        : false,\n\t\t\t\tisInputHidden    : false,\n\t\t\t\tisSetup          : false,\n\t\t\t\tisShiftDown      : false,\n\t\t\t\tisCmdDown        : false,\n\t\t\t\tisCtrlDown       : false,\n\t\t\t\tignoreFocus      : false,\n\t\t\t\tignoreBlur       : false,\n\t\t\t\tignoreHover      : false,\n\t\t\t\thasOptions       : false,\n\t\t\t\tcurrentResults   : null,\n\t\t\t\tlastValue        : '',\n\t\t\t\tcaretPos         : 0,\n\t\t\t\tloading          : 0,\n\t\t\t\tloadedSearches   : {},\n\t\t\n\t\t\t\t$activeOption    : null,\n\t\t\t\t$activeItems     : [],\n\t\t\n\t\t\t\toptgroups        : {},\n\t\t\t\toptions          : {},\n\t\t\t\tuserOptions      : {},\n\t\t\t\titems            : [],\n\t\t\t\trenderCache      : {},\n\t\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t\t});\n\t\t\n\t\t\t// search system\n\t\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\t\n\t\t\t// build options table\n\t\t\tif (self.settings.options) {\n\t\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.options;\n\t\t\t}\n\t\t\n\t\t\t// build optgroup table\n\t\t\tif (self.settings.optgroups) {\n\t\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.optgroups;\n\t\t\t}\n\t\t\n\t\t\t// option-dependent defaults\n\t\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t\t}\n\t\t\n\t\t\tself.initializePlugins(self.settings.plugins);\n\t\t\tself.setupCallbacks();\n\t\t\tself.setupTemplates();\n\t\t\tself.setup();\n\t\t};\n\t\t\n\t\t// mixins\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\tMicroEvent.mixin(Selectize);\n\t\t\n\t\tif(typeof MicroPlugin !== \"undefined\"){\n\t\t\tMicroPlugin.mixin(Selectize);\n\t\t}else{\n\t\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t\t{explanation:\n\t\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\t\"load Selectize.\"}\n\t\t\t);\n\t\t}\n\t\t\n\t\t\n\t\t// methods\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\t$.extend(Selectize.prototype, {\n\t\t\n\t\t\t/**\n\t\t\t * Creates all elements and sets up event bindings.\n\t\t\t */\n\t\t\tsetup: function() {\n\t\t\t\tvar self      = this;\n\t\t\t\tvar settings  = self.settings;\n\t\t\t\tvar eventNS   = self.eventNS;\n\t\t\t\tvar $window   = $(window);\n\t\t\t\tvar $document = $(document);\n\t\t\t\tvar $input    = self.$input;\n\t\t\n\t\t\t\tvar $wrapper;\n\t\t\t\tvar $control;\n\t\t\t\tvar $control_input;\n\t\t\t\tvar $dropdown;\n\t\t\t\tvar $dropdown_content;\n\t\t\t\tvar $dropdown_parent;\n\t\t\t\tvar inputMode;\n\t\t\t\tvar timeout_blur;\n\t\t\t\tvar timeout_focus;\n\t\t\t\tvar classes;\n\t\t\t\tvar classes_plugins;\n\t\t\t\tvar inputId;\n\t\t\n\t\t\t\tinputMode         = self.settings.mode;\n\t\t\t\tclasses           = $input.attr('class') || '';\n\t\t\n\t\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\t\n\t\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t\t}\n\t\t\n\t\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t\t$dropdown.addClass(classes);\n\t\t\t\t}\n\t\t\n\t\t\t\t$wrapper.css({\n\t\t\t\t\twidth: $input[0].style.width\n\t\t\t\t});\n\t\t\n\t\t\t\tif (self.plugins.names.length) {\n\t\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.settings.placeholder) {\n\t\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t\t}\n\t\t\n\t\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t\t}\n\t\t\n\t\t\t\tself.$wrapper          = $wrapper;\n\t\t\t\tself.$control          = $control;\n\t\t\t\tself.$control_input    = $control_input;\n\t\t\t\tself.$dropdown         = $dropdown;\n\t\t\t\tself.$dropdown_content = $dropdown_content;\n\t\t\n\t\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\t\tautoGrow($control_input);\n\t\t\n\t\t\t\t$control.on({\n\t\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$control_input.on({\n\t\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// blur on click outside\n\t\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\t\tself.ignoreHover = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t// store original children and tab index so that they can be\n\t\t\t\t// restored when the destroy() method is called.\n\t\t\t\tthis.revertSettings = {\n\t\t\t\t\t$children : $input.children().detach(),\n\t\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t\t};\n\t\t\n\t\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\t\n\t\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\t\tself.setValue(settings.items);\n\t\t\t\t\tdelete settings.items;\n\t\t\t\t}\n\t\t\n\t\t\t\t// feature detect for the validation API\n\t\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tself.updateOriginalInput();\n\t\t\t\tself.refreshItems();\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.isSetup = true;\n\t\t\n\t\t\t\tif ($input.is(':disabled')) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\n\t\t\t\tself.on('change', this.onChange);\n\t\t\n\t\t\t\t$input.data('selectize', self);\n\t\t\t\t$input.addClass('selectized');\n\t\t\t\tself.trigger('initialize');\n\t\t\n\t\t\t\t// preload options\n\t\t\t\tif (settings.preload === true) {\n\t\t\t\t\tself.onSearchChange('');\n\t\t\t\t}\n\t\t\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets up default rendering functions.\n\t\t\t */\n\t\t\tsetupTemplates: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar field_label = self.settings.labelField;\n\t\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\t\n\t\t\t\tvar templates = {\n\t\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Maps fired events to callbacks provided\n\t\t\t * in the settings used when creating the control.\n\t\t\t */\n\t\t\tsetupCallbacks: function() {\n\t\t\t\tvar key, fn, callbacks = {\n\t\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t\t'change'          : 'onChange',\n\t\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t\t'type'            : 'onType',\n\t\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t\t'blur'            : 'onBlur'\n\t\t\t\t};\n\t\t\n\t\t\t\tfor (key in callbacks) {\n\t\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a click event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonClick: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t\t// is ignored unless invoked within a click event)\n\t\t\t\tif (!self.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a mouse down event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonMouseDown: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\t\tvar $target = $(e.target);\n\t\t\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// give control focus\n\t\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the value of the control has been changed.\n\t\t\t * This should propagate the event to the original DOM\n\t\t\t * input / select element.\n\t\t\t */\n\t\t\tonChange: function() {\n\t\t\t\tthis.$input.trigger('change');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> paste.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonPaste: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t\t// input and create Items for each separate value\n\t\t\t\tif (self.settings.splitOn) {\n\t\t\n\t\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\t\n\t\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keypress.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyPress: function(e) {\n\t\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\t\tthis.createItem();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keydown.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyDown: function(e) {\n\t\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) {\n\t\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase KEY_A:\n\t\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_ESC:\n\t\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_N:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\t\tself.open();\n\t\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_P:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_UP:\n\t\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_TAB:\n\t\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\n\t\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keyup.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyUp: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\t\tvar value = self.$control_input.val() || '';\n\t\t\t\tif (self.lastValue !== value) {\n\t\t\t\t\tself.lastValue = value;\n\t\t\t\t\tself.onSearchChange(value);\n\t\t\t\t\tself.refreshOptions();\n\t\t\t\t\tself.trigger('type', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the user-provide option provider / loader.\n\t\t\t *\n\t\t\t * Note: this function is debounced in the Selectize\n\t\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tonSearchChange: function(value) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar fn = self.settings.load;\n\t\t\t\tif (!fn) return;\n\t\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\t\tself.loadedSearches[value] = true;\n\t\t\t\tself.load(function(callback) {\n\t\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> focus.\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonFocus: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar wasFocused = self.isFocused;\n\t\t\n\t\t\t\tif (self.isDisabled) {\n\t\t\t\t\tself.blur();\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.ignoreFocus) return;\n\t\t\t\tself.isFocused = true;\n\t\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\t\n\t\t\t\tif (!wasFocused) self.trigger('focus');\n\t\t\n\t\t\t\tif (!self.$activeItems.length) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t\t}\n\t\t\n\t\t\t\tself.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> blur.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tonBlur: function(e, dest) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.isFocused) return;\n\t\t\t\tself.isFocused = false;\n\t\t\n\t\t\t\tif (self.ignoreFocus) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\t\tself.ignoreBlur = true;\n\t\t\t\t\tself.onFocus(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar deactivate = function() {\n\t\t\t\t\tself.close();\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\t\tdest && dest.focus && dest.focus();\n\t\t\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.trigger('blur');\n\t\t\t\t};\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t\t} else {\n\t\t\t\t\tdeactivate();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user rolls over\n\t\t\t * an option in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionHover: function(e) {\n\t\t\t\tif (this.ignoreHover) return;\n\t\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an option\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionSelect: function(e) {\n\t\t\t\tvar value, $target, $option, self = this;\n\t\t\n\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\n\t\t\t\t$target = $(e.currentTarget);\n\t\t\t\tif ($target.hasClass('create')) {\n\t\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\t\tself.addItem(value);\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an item\n\t\t\t * that has been selected.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonItemSelect: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return;\n\t\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the provided method that provides\n\t\t\t * results to a callback---which are then added\n\t\t\t * as options to the control.\n\t\t\t *\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tload: function(fn) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\t\n\t\t\t\tself.loading++;\n\t\t\t\tfn.apply(self, [function(results) {\n\t\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\t\tif (results && results.length) {\n\t\t\t\t\t\tself.addOption(results);\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t\t}\n\t\t\t\t\tif (!self.loading) {\n\t\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t\t}\n\t\t\t\t\tself.trigger('load', results);\n\t\t\t\t}]);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the input field of the control to the specified value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tsetTextboxValue: function(value) {\n\t\t\t\tvar $input = this.$control_input;\n\t\t\t\tvar changed = $input.val() !== value;\n\t\t\t\tif (changed) {\n\t\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\t\tthis.lastValue = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the value of the control. If multiple items\n\t\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t\t * an array. If only one item can be selected, this\n\t\t\t * returns a string.\n\t\t\t *\n\t\t\t * @returns {mixed}\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\t\treturn this.items;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets the selected items to the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t */\n\t\t\tsetValue: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tthis.clear(silent);\n\t\t\t\t\tthis.addItems(value, silent);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item.\n\t\t\t *\n\t\t\t * @param {object} $item\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tsetActiveItem: function($item, e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventName;\n\t\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\t\tvar $last;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t\t$item = $($item);\n\t\t\n\t\t\t\t// clear the active selection\n\t\t\t\tif (!$item.length) {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [];\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\tself.showInput();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// modify selection\n\t\t\t\teventName = e && e.type.toLowerCase();\n\t\t\n\t\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\t\tif (begin > end) {\n\t\t\t\t\t\tswap  = begin;\n\t\t\t\t\t\tbegin = end;\n\t\t\t\t\t\tend   = swap;\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t\t}\n\t\t\n\t\t\t\t// ensure control has focus\n\t\t\t\tself.hideInput();\n\t\t\t\tif (!this.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item in the dropdown menu\n\t\t\t * of available options.\n\t\t\t *\n\t\t\t * @param {object} $object\n\t\t\t * @param {boolean} scroll\n\t\t\t * @param {boolean} animate\n\t\t\t */\n\t\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\t\tvar height_menu, height_item, y;\n\t\t\t\tvar scroll_top, scroll_bottom;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\t\tself.$activeOption = null;\n\t\t\n\t\t\t\t$option = $($option);\n\t\t\t\tif (!$option.length) return;\n\t\t\n\t\t\t\tself.$activeOption = $option.addClass('active');\n\t\t\n\t\t\t\tif (scroll || !isset(scroll)) {\n\t\t\n\t\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\t\tscroll_top    = y;\n\t\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\t\n\t\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects all items (CTRL + A).\n\t\t\t */\n\t\t\tselectAll: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\n\t\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t\tself.focus();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Hides the input element out of view, while\n\t\t\t * retaining its focus.\n\t\t\t */\n\t\t\thideInput: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\t\tself.isInputHidden = true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Restores input visibility.\n\t\t\t */\n\t\t\tshowInput: function() {\n\t\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\t\tthis.isInputHidden = false;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Gives the control focus.\n\t\t\t */\n\t\t\tfocus: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.isDisabled) return;\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tself.$control_input[0].focus();\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.onFocus();\n\t\t\t\t}, 0);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Forces the control out of focus.\n\t\t\t *\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tblur: function(dest) {\n\t\t\t\tthis.$control_input[0].blur();\n\t\t\t\tthis.onBlur(null, dest);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns a function that scores an object\n\t\t\t * to show how good of a match it is to the\n\t\t\t * provided query.\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @param {object} options\n\t\t\t * @return {function}\n\t\t\t */\n\t\t\tgetScoreFunction: function(query) {\n\t\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns search options for sifter (the system\n\t\t\t * for scoring and sorting results).\n\t\t\t *\n\t\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetSearchOptions: function() {\n\t\t\t\tvar settings = this.settings;\n\t\t\t\tvar sort = settings.sortField;\n\t\t\t\tif (typeof sort === 'string') {\n\t\t\t\t\tsort = [{field: sort}];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tfields      : settings.searchField,\n\t\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\t\tsort        : sort\n\t\t\t\t};\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Searches through available options and returns\n\t\t\t * a sorted array of matches.\n\t\t\t *\n\t\t\t * Returns an object containing:\n\t\t\t *\n\t\t\t *   - query {string}\n\t\t\t *   - tokens {array}\n\t\t\t *   - total {int}\n\t\t\t *   - items {array}\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tsearch: function(query) {\n\t\t\t\tvar i, value, score, result, calculateScore;\n\t\t\t\tvar self     = this;\n\t\t\t\tvar settings = self.settings;\n\t\t\t\tvar options  = this.getSearchOptions();\n\t\t\n\t\t\t\t// validate user-provided result scoring function\n\t\t\t\tif (settings.score) {\n\t\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform search\n\t\t\t\tif (query !== self.lastQuery) {\n\t\t\t\t\tself.lastQuery = query;\n\t\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\t\tself.currentResults = result;\n\t\t\t\t} else {\n\t\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t\t}\n\t\t\n\t\t\t\t// filter out selected items\n\t\t\t\tif (settings.hideSelected) {\n\t\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the list of available options shown\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {boolean} triggerDropdown\n\t\t\t */\n\t\t\trefreshOptions: function(triggerDropdown) {\n\t\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\t\tvar $active, $active_before, $create;\n\t\t\n\t\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar self              = this;\n\t\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\t\tvar results           = self.search(query);\n\t\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\t\n\t\t\t\t// build markup\n\t\t\t\tn = results.items.length;\n\t\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t\t}\n\t\t\n\t\t\t\t// render and group available options individually\n\t\t\t\tgroups = {};\n\t\t\t\tgroups_order = [];\n\t\t\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\t\toption_html = self.render('option', option);\n\t\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\t\n\t\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// sort optgroups\n\t\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\t// render optgroup headers & join groups\n\t\t\t\thtml = document.createDocumentFragment();\n\t\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\t\toptgroup = groups_order[i];\n\t\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\t\n\t\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t\t})));\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t$dropdown_content.html(html);\n\t\t\n\t\t\t\t// highlight matching terms inline\n\t\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add \"selected\" class to selected options\n\t\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add create option\n\t\t\t\thas_create_option = self.canCreate(query);\n\t\t\t\tif (has_create_option) {\n\t\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t\t}\n\t\t\n\t\t\t\t// activate\n\t\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\t\tif (self.hasOptions) {\n\t\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$active = $create;\n\t\t\t\t\t}\n\t\t\t\t\tself.setActiveOption($active);\n\t\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t\t} else {\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Adds an available option. If it already exists,\n\t\t\t * nothing will happen. Note: this does not refresh\n\t\t\t * the options list dropdown (use `refreshOptions`\n\t\t\t * for that).\n\t\t\t *\n\t\t\t * Usage:\n\t\t\t *\n\t\t\t *   this.addOption(data)\n\t\t\t *\n\t\t\t * @param {object|array} data\n\t\t\t */\n\t\t\taddOption: function(data) {\n\t\t\t\tvar i, n, value, self = this;\n\t\t\n\t\t\t\tif ($.isArray(data)) {\n\t\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\t\tself.userOptions[value] = true;\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option to the pool of options.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOption: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.options[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option group to the pool of option groups.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOptionGroup: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\t\tif (!key) return false;\n\t\t\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.optgroups[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers a new optgroup for options\n\t\t\t * to be bucketed into.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\taddOptionGroup: function(id, data) {\n\t\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes an existing option group.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t */\n\t\t\tremoveOptionGroup: function(id) {\n\t\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\t\tdelete this.optgroups[id];\n\t\t\t\t\tthis.renderCache = {};\n\t\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all existing option groups.\n\t\t\t */\n\t\t\tclearOptionGroups: function() {\n\t\t\t\tthis.optgroups = {};\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates an option available for selection. If\n\t\t\t * it is visible in the selected items or options\n\t\t\t * dropdown, it will be re-rendered automatically.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\tupdateOption: function(value, data) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, $item_new;\n\t\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\t\n\t\t\t\tvalue     = hash_key(value);\n\t\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\t\n\t\t\t\t// sanity checks\n\t\t\t\tif (value === null) return;\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\t\n\t\t\t\torder_old = self.options[value].$order;\n\t\t\n\t\t\t\t// update references\n\t\t\t\tif (value_new !== value) {\n\t\t\t\t\tdelete self.options[value];\n\t\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.$order = data.$order || order_old;\n\t\t\t\tself.options[value_new] = data;\n\t\t\n\t\t\t\t// invalidate render cache\n\t\t\t\tcache_items = self.renderCache['item'];\n\t\t\t\tcache_options = self.renderCache['option'];\n\t\t\n\t\t\t\tif (cache_items) {\n\t\t\t\t\tdelete cache_items[value];\n\t\t\t\t\tdelete cache_items[value_new];\n\t\t\t\t}\n\t\t\t\tif (cache_options) {\n\t\t\t\t\tdelete cache_options[value];\n\t\t\t\t\tdelete cache_options[value_new];\n\t\t\t\t}\n\t\t\n\t\t\t\t// update the item if it's selected\n\t\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t\t$item = self.getItem(value);\n\t\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t\t$item.replaceWith($item_new);\n\t\t\t\t}\n\t\t\n\t\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\t\tself.lastQuery = null;\n\t\t\n\t\t\t\t// update dropdown contents\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.refreshOptions(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes a single option.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tremoveOption: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\t\tif (cache_items) delete cache_items[value];\n\t\t\t\tif (cache_options) delete cache_options[value];\n\t\t\n\t\t\t\tdelete self.userOptions[value];\n\t\t\t\tdelete self.options[value];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_remove', value);\n\t\t\t\tself.removeItem(value, silent);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all options.\n\t\t\t */\n\t\t\tclearOptions: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.loadedSearches = {};\n\t\t\t\tself.userOptions = {};\n\t\t\t\tself.renderCache = {};\n\t\t\t\tself.options = self.sifter.items = {};\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_clear');\n\t\t\t\tself.clear();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the option\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetOption: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the next or\n\t\t\t * previous selectable option.\n\t\t\t *\n\t\t\t * @param {object} $option\n\t\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetAdjacentOption: function($option, direction) {\n\t\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Finds the first element with a \"data-value\" attribute\n\t\t\t * that matches the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} $els\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetElementWithValue: function(value, $els) {\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the item\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetItem: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItems: function(values, silent) {\n\t\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" an item. Adds it to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItem: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tvar $item, $option, $options;\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\t\n\t\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\t\twasFull = self.isFull();\n\t\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\t\tself.insertAtCaret($item);\n\t\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\t\n\t\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the selected item matching\n\t\t\t * the provided value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tremoveItem: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, i, idx;\n\t\t\n\t\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\t\ti = self.items.indexOf(value);\n\t\t\n\t\t\t\tif (i !== -1) {\n\t\t\t\t\t$item.remove();\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.items.splice(i, 1);\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.refreshState();\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the `create` method provided in the\n\t\t\t * selectize options that should provide the data\n\t\t\t * for the new item, given the user input.\n\t\t\t *\n\t\t\t * Once this completes, it will be added\n\t\t\t * to the item list.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} [triggerDropdown]\n\t\t\t * @param {function} [callback]\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\t\tvar self  = this;\n\t\t\t\tvar caret = self.caretPos;\n\t\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\t\n\t\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\t\n\t\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!self.canCreate(input)) {\n\t\t\t\t\tcallback();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tself.lock();\n\t\t\n\t\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar create = once(function(data) {\n\t\t\t\t\tself.unlock();\n\t\t\n\t\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tif (typeof value !== 'string') return callback();\n\t\t\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addOption(data);\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\t\tcallback(data);\n\t\t\t\t});\n\t\t\n\t\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\t\tcreate(output);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-renders the selected item lists.\n\t\t\t */\n\t\t\trefreshItems: function() {\n\t\t\t\tthis.lastQuery = null;\n\t\t\n\t\t\t\tif (this.isSetup) {\n\t\t\t\t\tthis.addItem(this.items);\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.refreshState();\n\t\t\t\tthis.updateOriginalInput();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent attributes\n\t\t\t * and CSS classes.\n\t\t\t */\n\t\t\trefreshState: function() {\n\t\t\t\tthis.refreshValidityState();\n\t\t\t\tthis.refreshClasses();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Update the `required` attribute of both input and control input.\n\t\t\t *\n\t\t\t * The `required` property needs to be activated on the control input\n\t\t\t * for the error to be displayed at the right place. `required` also\n\t\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t\t * hidden and can't show errors.\n\t\t\t */\n\t\t\trefreshValidityState: function() {\n\t\t\t\tif (!this.isRequired) return false;\n\t\t\n\t\t\t\tvar invalid = !this.items.length;\n\t\t\n\t\t\t\tthis.isInvalid = invalid;\n\t\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\t\tthis.$input.prop('required', !invalid);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent CSS classes.\n\t\t\t */\n\t\t\trefreshClasses: function() {\n\t\t\t\tvar self     = this;\n\t\t\t\tvar isFull   = self.isFull();\n\t\t\t\tvar isLocked = self.isLocked;\n\t\t\n\t\t\t\tself.$wrapper\n\t\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\t\n\t\t\t\tself.$control\n\t\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\t\n\t\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not more items can be added\n\t\t\t * to the control without exceeding the user-defined maximum.\n\t\t\t *\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisFull: function() {\n\t\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the original <select> or <input>\n\t\t\t * element to reflect the current state.\n\t\t\t */\n\t\t\tupdateOriginalInput: function(opts) {\n\t\t\t\tvar i, n, options, label, self = this;\n\t\t\t\topts = opts || {};\n\t\t\n\t\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\t\toptions = [];\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t\t}\n\t\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t\t}\n\t\t\t\t\tself.$input.html(options.join(''));\n\t\t\t\t} else {\n\t\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\tif (!opts.silent) {\n\t\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows/hide the input placeholder depending\n\t\t\t * on if there items in the list already.\n\t\t\t */\n\t\t\tupdatePlaceholder: function() {\n\t\t\t\tif (!this.settings.placeholder) return;\n\t\t\t\tvar $input = this.$control_input;\n\t\t\n\t\t\t\tif (this.items.length) {\n\t\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t\t} else {\n\t\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t\t}\n\t\t\t\t$input.triggerHandler('update', {force: true});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows the autocomplete dropdown containing\n\t\t\t * the available options.\n\t\t\t */\n\t\t\topen: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\t\tself.focus();\n\t\t\t\tself.isOpen = true;\n\t\t\t\tself.refreshState();\n\t\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Closes the autocomplete dropdown menu.\n\t\t\t */\n\t\t\tclose: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar trigger = self.isOpen;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t\t}\n\t\t\n\t\t\t\tself.isOpen = false;\n\t\t\t\tself.$dropdown.hide();\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Calculates and applies the appropriate\n\t\t\t * position of the dropdown.\n\t\t\t */\n\t\t\tpositionDropdown: function() {\n\t\t\t\tvar $control = this.$control;\n\t\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\t\toffset.top += $control.outerHeight(true);\n\t\t\n\t\t\t\tthis.$dropdown.css({\n\t\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\t\ttop   : offset.top,\n\t\t\t\t\tleft  : offset.left\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets / clears all selected items\n\t\t\t * from the control.\n\t\t\t *\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tclear: function(silent) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (!self.items.length) return;\n\t\t\t\tself.$control.children(':not(input)').remove();\n\t\t\t\tself.items = [];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.setCaret(0);\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.refreshState();\n\t\t\t\tself.showInput();\n\t\t\t\tself.trigger('clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for inserting an element\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {object} $el\n\t\t\t */\n\t\t\tinsertAtCaret: function($el) {\n\t\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\t\tif (caret === 0) {\n\t\t\t\t\tthis.$control.prepend($el);\n\t\t\t\t} else {\n\t\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t\t}\n\t\t\t\tthis.setCaret(caret + 1);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the current selected item(s).\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tdeleteSelection: function(e) {\n\t\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t\t}\n\t\t\n\t\t\t\t// determine items that will be removed\n\t\t\t\tvalues = [];\n\t\t\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tif (direction > 0) { caret++; }\n\t\t\n\t\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t\t}\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// allow the callback to abort\n\t\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform removal\n\t\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t}\n\t\t\t\twhile (values.length) {\n\t\t\t\t\tself.removeItem(values.pop());\n\t\t\t\t}\n\t\t\n\t\t\t\tself.showInput();\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.refreshOptions(true);\n\t\t\n\t\t\t\t// select previous option\n\t\t\t\tif (option_select) {\n\t\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\t\tif ($option_select.length) {\n\t\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects the previous / next item (depending\n\t\t\t * on the `direction` argument).\n\t\t\t *\n\t\t\t * > 0 - right\n\t\t\t * < 0 - left\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceSelection: function(direction, e) {\n\t\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\t\tif (self.rtl) direction *= -1;\n\t\t\n\t\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t\t: selection.start === valueLength;\n\t\t\n\t\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\t\tif ($tail.length) {\n\t\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret left / right.\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceCaret: function(direction, e) {\n\t\t\t\tvar self = this, fn, $adj;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\n\t\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\t\tif (self.isShiftDown) {\n\t\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\t\tif ($adj.length) {\n\t\t\t\t\t\tself.hideInput();\n\t\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret to the specified index.\n\t\t\t *\n\t\t\t * @param {int} i\n\t\t\t */\n\t\t\tsetCaret: function(i) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\ti = self.items.length;\n\t\t\t\t} else {\n\t\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t\t}\n\t\t\n\t\t\t\tif(!self.isPending) {\n\t\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t\t// on mobile webkit devices\n\t\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tself.caretPos = i;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control. Used while\n\t\t\t * items are being asynchronously created.\n\t\t\t */\n\t\t\tlock: function() {\n\t\t\t\tthis.close();\n\t\t\t\tthis.isLocked = true;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-enables user input on the control.\n\t\t\t */\n\t\t\tunlock: function() {\n\t\t\t\tthis.isLocked = false;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control completely.\n\t\t\t * While disabled, it cannot receive focus.\n\t\t\t */\n\t\t\tdisable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', true);\n\t\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\t\tself.isDisabled = true;\n\t\t\t\tself.lock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Enables the control so that it can respond\n\t\t\t * to focus and user input.\n\t\t\t */\n\t\t\tenable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', false);\n\t\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\t\tself.isDisabled = false;\n\t\t\t\tself.unlock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Completely destroys the control and\n\t\t\t * unbinds all event listeners so that it can\n\t\t\t * be garbage collected.\n\t\t\t */\n\t\t\tdestroy: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventNS = self.eventNS;\n\t\t\t\tvar revertSettings = self.revertSettings;\n\t\t\n\t\t\t\tself.trigger('destroy');\n\t\t\t\tself.off();\n\t\t\t\tself.$wrapper.remove();\n\t\t\t\tself.$dropdown.remove();\n\t\t\n\t\t\t\tself.$input\n\t\t\t\t\t.html('')\n\t\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t\t.removeClass('selectized')\n\t\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t\t.show();\n\t\t\n\t\t\t\tself.$control_input.removeData('grow');\n\t\t\t\tself.$input.removeData('selectize');\n\t\t\n\t\t\t\t$(window).off(eventNS);\n\t\t\t\t$(document).off(eventNS);\n\t\t\t\t$(document.body).off(eventNS);\n\t\t\n\t\t\t\tdelete self.$input[0].selectize;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for rendering \"item\" and\n\t\t\t * \"option\" templates, given the data.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t * @param {object} data\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\trender: function(templateName, data) {\n\t\t\t\tvar value, id, label;\n\t\t\t\tvar html = '';\n\t\t\t\tvar cache = false;\n\t\t\t\tvar self = this;\n\t\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\t\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tcache = !!value;\n\t\t\t\t}\n\t\t\n\t\t\t\t// pull markup from cache if it exists\n\t\t\t\tif (cache) {\n\t\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// render markup\n\t\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\t\n\t\t\t\t// add mandatory attributes\n\t\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t\t}\n\t\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\t\thtml.attr('data-group', id);\n\t\t\t\t}\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t\t}\n\t\t\n\t\t\t\t// update cache\n\t\t\t\tif (cache) {\n\t\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn html[0];\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears the render cache for a template. If\n\t\t\t * no template is given, clears all render\n\t\t\t * caches.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t */\n\t\t\tclearCache: function(templateName) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\t\tself.renderCache = {};\n\t\t\t\t} else {\n\t\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not to display the\n\t\t\t * create item prompt, given a user input.\n\t\t\t *\n\t\t\t * @param {string} input\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcanCreate: function(input) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.settings.create) return false;\n\t\t\t\tvar filter = self.settings.createFilter;\n\t\t\t\treturn input.length\n\t\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t\t}\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.count = 0;\n\t\tSelectize.defaults = {\n\t\t\toptions: [],\n\t\t\toptgroups: [],\n\t\t\n\t\t\tplugins: [],\n\t\t\tdelimiter: ',',\n\t\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\t\tpersist: true,\n\t\t\tdiacritics: true,\n\t\t\tcreate: false,\n\t\t\tcreateOnBlur: false,\n\t\t\tcreateFilter: null,\n\t\t\thighlight: true,\n\t\t\topenOnFocus: true,\n\t\t\tmaxOptions: 1000,\n\t\t\tmaxItems: null,\n\t\t\thideSelected: null,\n\t\t\taddPrecedence: false,\n\t\t\tselectOnTab: false,\n\t\t\tpreload: false,\n\t\t\tallowEmptyOption: false,\n\t\t\tcloseAfterSelect: false,\n\t\t\n\t\t\tscrollDuration: 60,\n\t\t\tloadThrottle: 300,\n\t\t\tloadingClass: 'loading',\n\t\t\n\t\t\tdataAttr: 'data-data',\n\t\t\toptgroupField: 'optgroup',\n\t\t\tvalueField: 'value',\n\t\t\tlabelField: 'text',\n\t\t\toptgroupLabelField: 'label',\n\t\t\toptgroupValueField: 'value',\n\t\t\tlockOptgroupOrder: false,\n\t\t\n\t\t\tsortField: '$order',\n\t\t\tsearchField: ['text'],\n\t\t\tsearchConjunction: 'and',\n\t\t\n\t\t\tmode: null,\n\t\t\twrapperClass: 'selectize-control',\n\t\t\tinputClass: 'selectize-input',\n\t\t\tdropdownClass: 'selectize-dropdown',\n\t\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\t\n\t\t\tdropdownParent: null,\n\t\t\n\t\t\tcopyClassesToDropdown: true,\n\t\t\n\t\t\t/*\n\t\t\tload                 : null, // function(query, callback) { ... }\n\t\t\tscore                : null, // function(search) { ... }\n\t\t\tonInitialize         : null, // function() { ... }\n\t\t\tonChange             : null, // function(value) { ... }\n\t\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\t\tonItemRemove         : null, // function(value) { ... }\n\t\t\tonClear              : null, // function() { ... }\n\t\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\t\tonOptionRemove       : null, // function(value) { ... }\n\t\t\tonOptionClear        : null, // function() { ... }\n\t\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\t\tonOptionGroupClear   : null, // function() { ... }\n\t\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\t\tonType               : null, // function(str) { ... }\n\t\t\tonDelete             : null, // function(values) { ... }\n\t\t\t*/\n\t\t\n\t\t\trender: {\n\t\t\t\t/*\n\t\t\t\titem: null,\n\t\t\t\toptgroup: null,\n\t\t\t\toptgroup_header: null,\n\t\t\t\toption: null,\n\t\t\t\toption_create: null\n\t\t\t\t*/\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t$.fn.selectize = function(settings_user) {\n\t\t\tvar defaults             = $.fn.selectize.defaults;\n\t\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\t\tvar attr_data            = settings.dataAttr;\n\t\t\tvar field_label          = settings.labelField;\n\t\t\tvar field_value          = settings.valueField;\n\t\t\tvar field_optgroup       = settings.optgroupField;\n\t\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_textbox = function($input, settings_element) {\n\t\t\t\tvar i, n, values, option;\n\t\t\n\t\t\t\tvar data_raw = $input.attr(attr_data);\n\t\t\n\t\t\t\tif (!data_raw) {\n\t\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\t\toption = {};\n\t\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t\t}\n\t\t\t\t\tsettings_element.items = values;\n\t\t\t\t} else {\n\t\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <select> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_select = function($input, settings_element) {\n\t\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\t\tvar options = settings_element.options;\n\t\t\t\tvar optionsMap = {};\n\t\t\n\t\t\t\tvar readData = function($el) {\n\t\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addOption = function($option, group) {\n\t\t\t\t\t$option = $($option);\n\t\t\n\t\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\t\n\t\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\t\n\t\t\t\t\toptionsMap[value] = option;\n\t\t\t\t\toptions.push(option);\n\t\t\n\t\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\t\tvar i, n, id, optgroup, $options;\n\t\t\n\t\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\t\tid = $optgroup.attr('label');\n\t\t\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\t\n\t\t\t\t$children = $input.children();\n\t\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\t\taddOption($children[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn this.each(function() {\n\t\t\t\tif (this.selectize) return;\n\t\t\n\t\t\t\tvar instance;\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t\t}\n\t\t\n\t\t\t\tvar settings_element = {\n\t\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t\t'options'     : [],\n\t\t\t\t\t'optgroups'   : [],\n\t\t\t\t\t'items'       : []\n\t\t\t\t};\n\t\t\n\t\t\t\tif (tag_name === 'select') {\n\t\t\t\t\tinit_select($input, settings_element);\n\t\t\t\t} else {\n\t\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t\t}\n\t\t\n\t\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t\t});\n\t\t};\n\t\t\n\t\t$.fn.selectize.defaults = Selectize.defaults;\n\t\t$.fn.selectize.support = {\n\t\t\tvalidity: SUPPORTS_VALIDITY_API\n\t\t};\n\t\t\n\t\t\n\t\tSelectize.define('drag_drop', function(options) {\n\t\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\t\tif (this.settings.mode !== 'multi') return;\n\t\t\tvar self = this;\n\t\t\n\t\t\tself.lock = (function() {\n\t\t\t\tvar original = self.lock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.unlock = (function() {\n\t\t\t\tvar original = self.unlock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(this, arguments);\n\t\t\n\t\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('dropdown_header', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\ttitle         : 'Untitled',\n\t\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\t\n\t\t\t\thtml: function(data) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, options);\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('optgroup_columns', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\tequalizeWidth  : true,\n\t\t\t\tequalizeHeight : true\n\t\t\t}, options);\n\t\t\n\t\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, $option, $options, $optgroup;\n\t\t\n\t\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\t\n\t\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tvar getScrollbarWidth = function() {\n\t\t\t\tvar div;\n\t\t\t\tvar width = getScrollbarWidth.width;\n\t\t\t\tvar doc = document;\n\t\t\n\t\t\t\tif (typeof width === 'undefined') {\n\t\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\t\tdiv = div.firstChild;\n\t\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\t\tdoc.body.removeChild(div);\n\t\t\t\t}\n\t\t\t\treturn width;\n\t\t\t};\n\t\t\n\t\t\tvar equalizeSizes = function() {\n\t\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\t\n\t\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\t\tn = $optgroups.length;\n\t\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\t\n\t\t\t\tif (options.equalizeHeight) {\n\t\t\t\t\theight_max = 0;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t\t}\n\t\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (options.equalizeWidth) {\n\t\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t\t$optgroups.css({width: width});\n\t\t\t\t\tif (n > 1) {\n\t\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t\t}\n\t\t\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('remove_button', function(options) {\n\t\t\toptions = $.extend({\n\t\t\t\t\tlabel     : '&times;',\n\t\t\t\t\ttitle     : 'Remove',\n\t\t\t\t\tclassName : 'remove',\n\t\t\t\t\tappend    : true\n\t\t\t\t}, options);\n\t\t\n\t\t\t\tvar singleClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\toptions.className = 'remove-single';\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\t\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tvar multiClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\t\tsingleClose(this, options);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmultiClose(this, options);\n\t\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.define('restore_on_backspace', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions.text = options.text || function(option) {\n\t\t\t\treturn option[this.settings.labelField];\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, option;\n\t\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t});\n\t\t\n\t\n\t\treturn Selectize;\n\t}));\n\n/***/ },\n\n/***/ 11:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function($) {/**\n\t * sifter.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.Sifter = factory();\n\t\t}\n\t}(this, function() {\n\t\n\t\t/**\n\t\t * Textually searches arrays and hashes of objects\n\t\t * by property (or multiple properties). Designed\n\t\t * specifically for autocomplete.\n\t\t *\n\t\t * @constructor\n\t\t * @param {array|object} items\n\t\t * @param {object} items\n\t\t */\n\t\tvar Sifter = function(items, settings) {\n\t\t\tthis.items = items;\n\t\t\tthis.settings = settings || {diacritics: true};\n\t\t};\n\t\n\t\t/**\n\t\t * Splits a search string into an array of individual\n\t\t * regexps to be used to match results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {array}\n\t\t */\n\t\tSifter.prototype.tokenize = function(query) {\n\t\t\tquery = trim(String(query || '').toLowerCase());\n\t\t\tif (!query || !query.length) return [];\n\t\n\t\t\tvar i, n, regex, letter;\n\t\t\tvar tokens = [];\n\t\t\tvar words = query.split(/ +/);\n\t\n\t\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\t\tregex = escape_regex(words[i]);\n\t\t\t\tif (this.settings.diacritics) {\n\t\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttokens.push({\n\t\t\t\t\tstring : words[i],\n\t\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn tokens;\n\t\t};\n\t\n\t\t/**\n\t\t * Iterates over arrays and hashes.\n\t\t *\n\t\t * ```\n\t\t * this.iterator(this.items, function(item, id) {\n\t\t *    // invoked for each item\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * @param {array|object} object\n\t\t */\n\t\tSifter.prototype.iterator = function(object, callback) {\n\t\t\tvar iterator;\n\t\t\tif (is_array(object)) {\n\t\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\titerator = function(callback) {\n\t\t\t\t\tfor (var key in this) {\n\t\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\titerator.apply(object, [callback]);\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function to be used to score individual results.\n\t\t *\n\t\t * Good matches will have a higher score than poor matches.\n\t\t * If an item is not a match, 0 will be returned by the function.\n\t\t *\n\t\t * @param {object|string} search\n\t\t * @param {object} options (optional)\n\t\t * @returns {function}\n\t\t */\n\t\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\t\tvar self, fields, tokens, token_count, nesting;\n\t\n\t\t\tself        = this;\n\t\t\tsearch      = self.prepareSearch(search, options);\n\t\t\ttokens      = search.tokens;\n\t\t\tfields      = search.options.fields;\n\t\t\ttoken_count = tokens.length;\n\t\t\tnesting     = search.options.nesting;\n\t\n\t\t\t/**\n\t\t\t * Calculates how close of a match the\n\t\t\t * given value is against a search token.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} token\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreValue = function(value, token) {\n\t\t\t\tvar score, pos;\n\t\n\t\t\t\tif (!value) return 0;\n\t\t\t\tvalue = String(value || '');\n\t\t\t\tpos = value.search(token.regex);\n\t\t\t\tif (pos === -1) return 0;\n\t\t\t\tscore = token.string.length / value.length;\n\t\t\t\tif (pos === 0) score += 0.5;\n\t\t\t\treturn score;\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Calculates the score of an object\n\t\t\t * against the search query.\n\t\t\t *\n\t\t\t * @param {object} token\n\t\t\t * @param {object} data\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreObject = (function() {\n\t\t\t\tvar field_count = fields.length;\n\t\t\t\tif (!field_count) {\n\t\t\t\t\treturn function() { return 0; };\n\t\t\t\t}\n\t\t\t\tif (field_count === 1) {\n\t\t\t\t\treturn function(token, data) {\n\t\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / field_count;\n\t\t\t\t};\n\t\t\t})();\n\t\n\t\t\tif (!token_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (token_count === 1) {\n\t\t\t\treturn function(data) {\n\t\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tif (search.options.conjunction === 'and') {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tvar score;\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\t\tsum += score;\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function that can be used to compare two\n\t\t * results, for sorting purposes. If no sorting should\n\t\t * be performed, `null` will be returned.\n\t\t *\n\t\t * @param {string|object} search\n\t\t * @param {object} options\n\t\t * @return function(a,b)\n\t\t */\n\t\tSifter.prototype.getSortFunction = function(search, options) {\n\t\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\t\n\t\t\tself   = this;\n\t\t\tsearch = self.prepareSearch(search, options);\n\t\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\t\n\t\t\t/**\n\t\t\t * Fetches the specified sort field value\n\t\t\t * from a search result item.\n\t\t\t *\n\t\t\t * @param  {string} name\n\t\t\t * @param  {object} result\n\t\t\t * @return {mixed}\n\t\t\t */\n\t\t\tget_field = function(name, result) {\n\t\t\t\tif (name === '$score') return result.score;\n\t\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t\t};\n\t\n\t\t\t// parse options\n\t\t\tfields = [];\n\t\t\tif (sort) {\n\t\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// the \"$score\" field is implied to be the primary\n\t\t\t// sort field, unless it's manually specified\n\t\t\tif (search.query) {\n\t\t\t\timplicit_score = true;\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\timplicit_score = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (implicit_score) {\n\t\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tmultipliers = [];\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t\t}\n\t\n\t\t\t// build function\n\t\t\tfields_count = fields.length;\n\t\t\tif (!fields_count) {\n\t\t\t\treturn null;\n\t\t\t} else if (fields_count === 1) {\n\t\t\t\tfield = fields[0].field;\n\t\t\t\tmultiplier = multipliers[0];\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (result) return result;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Parses a search query and returns an object\n\t\t * with tokens and fields ready to be populated\n\t\t * with results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.prepareSearch = function(query, options) {\n\t\t\tif (typeof query === 'object') return query;\n\t\n\t\t\toptions = extend({}, options);\n\t\n\t\t\tvar option_fields     = options.fields;\n\t\t\tvar option_sort       = options.sort;\n\t\t\tvar option_sort_empty = options.sort_empty;\n\t\n\t\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\t\n\t\t\treturn {\n\t\t\t\toptions : options,\n\t\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\t\ttokens  : this.tokenize(query),\n\t\t\t\ttotal   : 0,\n\t\t\t\titems   : []\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t\t * Searches through all items and returns a sorted array of matches.\n\t\t *\n\t\t * The `options` parameter can contain:\n\t\t *\n\t\t *   - fields {string|array}\n\t\t *   - sort {array}\n\t\t *   - score {function}\n\t\t *   - filter {bool}\n\t\t *   - limit {integer}\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - options {object}\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.search = function(query, options) {\n\t\t\tvar self = this, value, score, search, calculateScore;\n\t\t\tvar fn_sort;\n\t\t\tvar fn_score;\n\t\n\t\t\tsearch  = this.prepareSearch(query, options);\n\t\t\toptions = search.options;\n\t\t\tquery   = search.query;\n\t\n\t\t\t// generate result scoring function\n\t\t\tfn_score = options.score || self.getScoreFunction(search);\n\t\n\t\t\t// perform search and sort\n\t\t\tif (query.length) {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tscore = fn_score(item);\n\t\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tfn_sort = self.getSortFunction(search, options);\n\t\t\tif (fn_sort) search.items.sort(fn_sort);\n\t\n\t\t\t// apply limits\n\t\t\tsearch.total = search.items.length;\n\t\t\tif (typeof options.limit === 'number') {\n\t\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t\t}\n\t\n\t\t\treturn search;\n\t\t};\n\t\n\t\t// utilities\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\tvar cmp = function(a, b) {\n\t\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t\t}\n\t\t\ta = asciifold(String(a || ''));\n\t\t\tb = asciifold(String(b || ''));\n\t\t\tif (a > b) return 1;\n\t\t\tif (b > a) return -1;\n\t\t\treturn 0;\n\t\t};\n\t\n\t\tvar extend = function(a, b) {\n\t\t\tvar i, n, k, object;\n\t\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\t\tobject = arguments[i];\n\t\t\t\tif (!object) continue;\n\t\t\t\tfor (k in object) {\n\t\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\t\ta[k] = object[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\t\n\t\t/**\n\t\t * A property getter resolving dot-notation\n\t\t * @param  {Object}  obj     The root object to fetch property on\n\t\t * @param  {String}  name    The optionally dotted property name to fetch\n\t\t * @param  {Boolean} nesting Handle nesting or not\n\t\t * @return {Object}          The resolved property value\n\t\t */\n\t\tvar getattr = function(obj, name, nesting) {\n\t\t    if (!obj || !name) return;\n\t\t    if (!nesting) return obj[name];\n\t\t    var names = name.split(\".\");\n\t\t    while(names.length && (obj = obj[names.shift()]));\n\t\t    return obj;\n\t\t};\n\t\n\t\tvar trim = function(str) {\n\t\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t\t};\n\t\n\t\tvar escape_regex = function(str) {\n\t\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t\t};\n\t\n\t\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t\t};\n\t\n\t\tvar DIACRITICS = {\n\t\t\t'a': '[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]',\n\t\t\t'b': '[b␢βΒB฿𐌁ᛒ]',\n\t\t\t'c': '[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]',\n\t\t\t'd': '[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]',\n\t\t\t'e': '[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]',\n\t\t\t'f': '[fƑƒḞḟ]',\n\t\t\t'g': '[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]',\n\t\t\t'h': '[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]',\n\t\t\t'i': '[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]',\n\t\t\t'j': '[jȷĴĵɈɉʝɟʲ]',\n\t\t\t'k': '[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]',\n\t\t\t'l': '[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]',\n\t\t\t'n': '[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]',\n\t\t\t'o': '[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]',\n\t\t\t'p': '[pṔṕṖṗⱣᵽƤƥᵱ]',\n\t\t\t'q': '[qꝖꝗʠɊɋꝘꝙq̃]',\n\t\t\t'r': '[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]',\n\t\t\t's': '[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]',\n\t\t\t't': '[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]',\n\t\t\t'u': '[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]',\n\t\t\t'v': '[vṼṽṾṿƲʋꝞꝟⱱʋ]',\n\t\t\t'w': '[wẂẃẀẁŴŵẄẅẆẇẈẉ]',\n\t\t\t'x': '[xẌẍẊẋχ]',\n\t\t\t'y': '[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]',\n\t\t\t'z': '[zŹźẐẑŽžŻżẒẓẔẕƵƶ]'\n\t\t};\n\t\n\t\tvar asciifold = (function() {\n\t\t\tvar i, n, k, chunk;\n\t\t\tvar foreignletters = '';\n\t\t\tvar lookup = {};\n\t\t\tfor (k in DIACRITICS) {\n\t\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\t\tforeignletters += chunk;\n\t\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\t\treturn function(str) {\n\t\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\t\treturn lookup[foreignletter];\n\t\t\t\t}).toLowerCase();\n\t\t\t};\n\t\t})();\n\t\n\t\n\t\t// export\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\treturn Sifter;\n\t}));\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n\n/***/ 12:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * microplugin.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.MicroPlugin = factory();\n\t\t}\n\t}(this, function() {\n\t\tvar MicroPlugin = {};\n\t\n\t\tMicroPlugin.mixin = function(Interface) {\n\t\t\tInterface.plugins = {};\n\t\n\t\t\t/**\n\t\t\t * Initializes the listed plugins (with options).\n\t\t\t * Acceptable formats:\n\t\t\t *\n\t\t\t * List (without options):\n\t\t\t *   ['a', 'b', 'c']\n\t\t\t *\n\t\t\t * List (with options):\n\t\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t\t *\n\t\t\t * Hash (with options):\n\t\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t\t *\n\t\t\t * @param {mixed} plugins\n\t\t\t */\n\t\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\t\tvar i, n, key;\n\t\t\t\tvar self  = this;\n\t\t\t\tvar queue = [];\n\t\n\t\t\t\tself.plugins = {\n\t\t\t\t\tnames     : [],\n\t\t\t\t\tsettings  : {},\n\t\t\t\t\trequested : {},\n\t\t\t\t\tloaded    : {}\n\t\t\t\t};\n\t\n\t\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (plugins) {\n\t\t\t\t\tfor (key in plugins) {\n\t\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\twhile (queue.length) {\n\t\t\t\t\tself.require(queue.shift());\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\t\tvar self    = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\t\t\tvar plugin  = Interface.plugins[name];\n\t\n\t\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t\t}\n\t\n\t\t\t\tplugins.requested[name] = true;\n\t\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\t\tplugins.names.push(name);\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Initializes a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t */\n\t\t\tInterface.prototype.require = function(name) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\n\t\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t\t}\n\t\t\t\t\tself.loadPlugin(name);\n\t\t\t\t}\n\t\n\t\t\t\treturn plugins.loaded[name];\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Registers a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tInterface.define = function(name, fn) {\n\t\t\t\tInterface.plugins[name] = {\n\t\t\t\t\t'name' : name,\n\t\t\t\t\t'fn'   : fn\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\n\t\tvar utils = {\n\t\t\tisArray: Array.isArray || function(vArg) {\n\t\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t\t}\n\t\t};\n\t\n\t\treturn MicroPlugin;\n\t}));\n\n/***/ },\n\n/***/ 13:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Dependecies\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tvar $ = __webpack_require__(2);\n\t\n\tvar _module = function _module(element) {\n\t  var dropZone = $(element);\n\t  var $input = dropZone.find('input'); // TODO: Change this selector name\n\t  var $altInput = dropZone.find('[data-trigger=\"file\"]');\n\t  var defaultImage = dropZone.data('original-image');\n\t\n\t  if (defaultImage) {\n\t    fakeLoad('Imagem Padrão', defaultImage);\n\t  }\n\t\n\t  dropZone.on({\n\t    dragover: cbDragOver,\n\t    dragleave: cbDragLeave,\n\t    drop: cbDrop\n\t  });\n\t\n\t  $input.on({\n\t    change: cbChangeFile\n\t  });\n\t\n\t  $altInput.on({\n\t    click: cbTriggerFile\n\t  });\n\t\n\t  function cbDragOver(event) {\n\t    dropZone.addClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDragLeave(event) {\n\t    dropZone.removeClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDrop(event) {\n\t    var file = event.originalEvent.dataTransfer.files[0];\n\t\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    dropZone.removeClass('hover');\n\t\n\t    readFile(file);\n\t    $input.files = file;\n\t    $input.val('');\n\t    return false;\n\t  }\n\t\n\t  function cbChangeFile(event) {\n\t    readFile(this.files[0]);\n\t    return false;\n\t  }\n\t\n\t  function cbTriggerFile(event) {\n\t    $input.trigger('click');\n\t  }\n\t};\n\t\n\tvar fakeLoad = function fakeLoad(name, src) {\n\t  var $image = $('<img/>').load(function () {\n\t    createPreview(name, getCanvasImage(this));\n\t  }).attr('src', src);\n\t};\n\t\n\tvar readFile = function readFile(file) {\n\t  var reader = new FileReader();\n\t\n\t  reader.onload = function (e) {\n\t    fakeLoad(file.name, e.target.result);\n\t  };\n\t  reader.readAsDataURL(file);\n\t};\n\t\n\tvar getCanvasImage = function getCanvasImage(image) {\n\t\n\t  var imgWidth = image.width,\n\t      imgHeight = image.height;\n\t\n\t  var canvas = document.createElement('canvas');\n\t  canvas.width = imgWidth;\n\t  canvas.height = imgHeight;\n\t\n\t  var ctx = canvas.getContext('2d');\n\t  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\t\n\t  return canvas.toDataURL('image/jpeg');\n\t};\n\t\n\tvar createPreview = function createPreview(filename, newURL) {\n\t  var fileName = filename.substr(0, filename.lastIndexOf('.')); //subtract file extension\n\t  var filePath = newURL;\n\t  var image = '<img src=\"' + filePath + '\" class=\"img-responsive\" alt=\"' + fileName + '\"/>';\n\t  //append new image through jQuery Template\n\t  $('[data-content=\"file\"]').html(image).show();\n\t  $('.custom-file-content').hide();\n\t};\n\t\n\texports['default'] = _module;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 14:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar profession, elementData, $element;\n\t\n\tvar defaultSettings = {\n\t  plugins: ['remove_button'],\n\t  // delimiter: ',',\n\t  // persist: false,\n\t  create: true,\n\t  render: {\n\t    item: function item(_item) {\n\t      return '<div>' + _item.input + '</div>';\n\t    },\n\t    option: function option(item) {\n\t      return '<div>' + item.input + '</div>';\n\t    }\n\t  },\n\t  load: function load(query, callback) {\n\t    var options = (0, _jquery2['default'])(this.$input).data();\n\t\n\t    if (!query.length) {\n\t      return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t    console.log(_data);\n\t\n\t    _jquery2['default'].ajax({\n\t      url: options.url,\n\t      data: _data,\n\t      type: options.method || 'GET',\n\t      error: function error() {\n\t        callback();\n\t      },\n\t      success: function success(res) {\n\t        callback(res);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\tprofession = function (element) {\n\t  var $element = (0, _jquery2['default'])(element);\n\t  elementData = $element.data();\n\t  var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t  $element.selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = profession;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 15:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar job, elementData, $element;\n\t\n\tvar defaultSettings = {\n\t  plugins: ['remove_button'],\n\t  delimiter: ',',\n\t  persist: false,\n\t  create: true,\n\t  render: {\n\t    option_create: function option_create(item) {\n\t      return '<div class=\"create\">' + item.input + '</div>';\n\t    }\n\t  }\n\t};\n\t\n\tjob = function (element) {\n\t  $element = (0, _jquery2['default'])(element);\n\t  elementData = $element.data();\n\t  (0, _jquery2['default'])(element).selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = job;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 16:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar profession, elementData, $element;\n\t\n\tvar defaultSettings = {\n\t  // plugins: ['remove_button'],\n\t  // delimiter: ',',\n\t  // persist: false,\n\t  // create: true,\n\t  // render: {\n\t  //   option_create: function (item) {\n\t  //     return `<div class=\"create\">${item.input}</div>`;\n\t  //   }\n\t  // }\n\t};\n\t\n\tprofession = function (element) {\n\t  var $element = (0, _jquery2['default'])(element);\n\t  elementData = $element.data();\n\t  var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t  $element.selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = profession;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 17:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _profession = __webpack_require__(16);\n\t\n\tvar _profession2 = _interopRequireDefault(_profession);\n\t\n\tvar _geography = __webpack_require__(14);\n\t\n\tvar _geography2 = _interopRequireDefault(_geography);\n\t\n\tvar _componentsCustomformInput = __webpack_require__(18);\n\t\n\tvar _componentsCustomformInput2 = _interopRequireDefault(_componentsCustomformInput);\n\t\n\tvar _componentsCustomformToggleSelect = __webpack_require__(19);\n\t\n\tvar _componentsCustomformToggleSelect2 = _interopRequireDefault(_componentsCustomformToggleSelect);\n\t\n\tvar _componentsCustomformToggleCheck = __webpack_require__(217);\n\t\n\tvar _componentsCustomformToggleCheck2 = _interopRequireDefault(_componentsCustomformToggleCheck);\n\t\n\t__webpack_require__(20);\n\t\n\t__webpack_require__(21);\n\t\n\t__webpack_require__(22);\n\t\n\tvar steps = function steps(root) {\n\t  var $root = $(root);\n\t  var $form = $root.parents('form');\n\t\n\t  $form.validate({\n\t    errorPlacement: function errorPlacement(error, element) {\n\t      element.after(error);\n\t    },\n\t    highlight: function highlight(element, errorClass, validClass) {\n\t      $(element).parents('.customform').addClass('customform-error');\n\t    },\n\t    unhighlight: function unhighlight(element, errorClass, validClass) {\n\t      $(element).parents('.customform').removeClass('customform-error');\n\t    },\n\t    submitHandler: function submitHandler(form) {\n\t      if ($(form).valid()) {\n\t        form.submit();\n\t      }\n\t    }\n\t  });\n\t\n\t  $root.steps({\n\t    headerTag: '[data-step-part=\"header\"]',\n\t    bodyTag: '[data-step-part=\"content\"]',\n\t    enableAllSteps: true,\n\t    titleTemplate: '#title#',\n\t    enablePagination: false,\n\t    onInit: function onInit(event, currentIndex) {\n\t      (0, _componentsCustomformInput2['default'])($root.find('[data-toggle=\"input\"]'));\n\t      (0, _componentsCustomformToggleSelect2['default'])($root.find('[data-toggle=\"salary\"]'), 'data-salary');\n\t      (0, _componentsCustomformToggleCheck2['default'])($root.find('[data-toggle=\"location\"]'), 'data-location');\n\t      $('[data-toggle=\"tooltip\"]').tooltip();\n\t      var formsetLength = $('[data-toggle=\"formset\"]').length;\n\t      var professionLength = $('[data-module=\"profession\"]').length;\n\t      if (!!formsetLength) {\n\t        var $containerForm = $root.find('[data-toggle=\"formset\"]');\n\t        $containerForm.each(function (index, value) {\n\t          var dataFormset = $(value).data();\n\t          $(value).find('.row').formset({\n\t            prefix: dataFormset.prefix,\n\t            formCssClass: 'dynamic-formset-' + index,\n\t            addCssClass: 'customform-button',\n\t            addText: dataFormset.addText,\n\t            deleteTemplate: '<div class=\"col-sm-1 text-center\"><div class=\"customform customform-error\">\\n              <a class=\"delete-row text-danger\" href=\"javascript:void(0)\"><i class=\"gsticon gsticon-lg gsticon-minus-circle\"></i></a></div></div>'\n\t          });\n\t        });\n\t      }\n\t      if (!!professionLength) {\n\t        (0, _profession2['default'])($root.find('[data-module=\"profession\"]'));\n\t        (0, _geography2['default'])($root.find('[data-module=\"geography\"]'));\n\t      }\n\t    },\n\t    onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t      $form.validate().settings.ignore = ':disabled,:hidden';\n\t      return $form.valid();\n\t    }\n\t  });\n\t\n\t  $root.find('[data-step-action=\"next\"]').on('click', function (event) {\n\t    $root.steps('next');\n\t  });\n\t};\n\t\n\texports['default'] = steps;\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n\n/***/ 18:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (name) {\n\t  var $element = $(name);\n\t\n\t  $element.map(function (element) {\n\t    if ($element[element].nodeName === 'TEXTAREA' && $element[element].value.length !== 0) {\n\t      setTimeout(inputResize($element[element]), 0);\n\t    }\n\t  });\n\t\n\t  $element.on({\n\t    focus: function focus(event) {\n\t      var $this = $(this);\n\t      $this.siblings('label').addClass('active');\n\t    },\n\t    blur: function blur(event) {\n\t      var $this = $(this);\n\t      if (!$this.val()) {\n\t        $this.siblings('label').removeClass('active');\n\t      }\n\t    },\n\t    input: function input(event) {\n\t      if (event.currentTarget.nodeName === 'TEXTAREA') {\n\t        setTimeout(inputResize(event.currentTarget), 0);\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\tvar inputResize = function inputResize(selector) {\n\t  var style = selector.style;\n\t  var height = !!selector.scrollHeight ? selector.scrollHeight + 'px' : 'auto';\n\t  style.height = 'auto';\n\t\n\t  style.height = height;\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n\n/***/ 19:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (select, dataTarget) {\n\t  var $select = $(select);\n\t  var $target = $('[' + dataTarget + ']');\n\t  $target.hide();\n\t  $target.find(':input').attr('disabled', true);\n\t  $('[' + dataTarget + '=' + $select.val() + ']').show().find(':input').attr('disabled', false);\n\t\n\t  $select.on({\n\t    change: function change(event) {\n\t      var $this = $(event.currentTarget);\n\t      $target.hide();\n\t      $target.find(':input').attr('disabled', true);\n\t      $('[' + dataTarget + '=' + $this.val() + ']').show().find(':input').attr('disabled', false);\n\t    }\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n\n/***/ 20:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/*!\n\t * jQuery Steps v1.1.0 - 09/04/2014\n\t * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n\t * Licensed under MIT http://www.opensource.org/licenses/MIT\n\t */\n\t\"use strict\";\n\t\n\t;(function ($, undefined) {\n\t    $.fn.extend({\n\t        _aria: function _aria(name, value) {\n\t            return this.attr(\"aria-\" + name, value);\n\t        },\n\t\n\t        _removeAria: function _removeAria(name) {\n\t            return this.removeAttr(\"aria-\" + name);\n\t        },\n\t\n\t        _enableAria: function _enableAria(enable) {\n\t            return enable == null || enable ? this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") : this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n\t        },\n\t\n\t        _showAria: function _showAria(show) {\n\t            return show == null || show ? this.show()._aria(\"hidden\", \"false\") : this.hide()._aria(\"hidden\", \"true\");\n\t        },\n\t\n\t        _selectAria: function _selectAria(select) {\n\t            return select == null || select ? this.addClass(\"current\")._aria(\"selected\", \"true\") : this.removeClass(\"current\")._aria(\"selected\", \"false\");\n\t        },\n\t\n\t        _id: function _id(id) {\n\t            return id ? this.attr(\"id\", id) : this.attr(\"id\");\n\t        }\n\t    });\n\t\n\t    if (!String.prototype.format) {\n\t        String.prototype.format = function () {\n\t            var args = arguments.length === 1 && $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t            var formattedString = this;\n\t            for (var i = 0; i < args.length; i++) {\n\t                var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n\t                formattedString = formattedString.replace(pattern, args[i]);\n\t            }\n\t            return formattedString;\n\t        };\n\t    }\n\t\n\t    /**\n\t     * A global unique id count.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @property _uniqueId\n\t     * @type Integer\n\t     **/\n\t    var _uniqueId = 0;\n\t\n\t    /**\n\t     * The plugin prefix for cookies.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _cookiePrefix\n\t     * @type String\n\t     **/\n\t    var _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\t\n\t    /**\n\t     * Suffix for the unique tab id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabSuffix = \"-t-\";\n\t\n\t    /**\n\t     * Suffix for the unique tabpanel id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabpanelSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabpanelSuffix = \"-p-\";\n\t\n\t    /**\n\t     * Suffix for the unique title id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _titleSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _titleSuffix = \"-h-\";\n\t\n\t    /**\n\t     * An error message for an \"index out of range\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _indexOutOfRangeErrorMessage\n\t     * @type String\n\t     **/\n\t    var _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\t\n\t    /**\n\t     * An error message for an \"missing corresponding element\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _missingCorrespondingElementErrorMessage\n\t     * @type String\n\t     **/\n\t    var _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\t\n\t    /**\n\t     * Adds a step to the cache.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method addStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function addStepToCache(wizard, step) {\n\t        getSteps(wizard).push(step);\n\t    }\n\t\n\t    function analyzeData(wizard, options, state) {\n\t        var stepTitles = wizard.children(options.headerTag),\n\t            stepContents = wizard.children(options.bodyTag);\n\t\n\t        // Validate content\n\t        if (stepTitles.length > stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n\t        } else if (stepTitles.length < stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n\t        }\n\t\n\t        var startIndex = options.startIndex;\n\t\n\t        state.stepCount = stepTitles.length;\n\t\n\t        // Tries to load the saved state (step position)\n\t        if (options.saveState && $.cookie) {\n\t            var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n\t            // Sets the saved position to the start index if not undefined or out of range\n\t            var savedIndex = parseInt(savedState, 0);\n\t            if (!isNaN(savedIndex) && savedIndex < state.stepCount) {\n\t                startIndex = savedIndex;\n\t            }\n\t        }\n\t\n\t        state.currentIndex = startIndex;\n\t\n\t        stepTitles.each(function (index) {\n\t            var item = $(this),\n\t                // item == header\n\t            content = stepContents.eq(index),\n\t                modeData = content.data(\"mode\"),\n\t                mode = modeData == null ? contentMode.html : getValidEnumValue(contentMode, /^\\s*$/.test(modeData) || isNaN(modeData) ? modeData : parseInt(modeData, 0)),\n\t                contentUrl = mode === contentMode.html || content.data(\"url\") === undefined ? \"\" : content.data(\"url\"),\n\t                contentLoaded = mode !== contentMode.html && content.data(\"loaded\") === \"1\",\n\t                step = $.extend({}, stepModel, {\n\t                title: item.html(),\n\t                content: mode === contentMode.html ? content.html() : \"\",\n\t                contentUrl: contentUrl,\n\t                contentMode: mode,\n\t                contentLoaded: contentLoaded\n\t            });\n\t\n\t            addStepToCache(wizard, step);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Triggers the onCanceled event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method cancel\n\t     * @param wizard {Object} The jQuery wizard object\n\t     **/\n\t    function cancel(wizard) {\n\t        wizard.triggerHandler(\"canceled\");\n\t    }\n\t\n\t    function decreaseCurrentIndexBy(state, decreaseBy) {\n\t        return state.currentIndex - decreaseBy;\n\t    }\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method destroy\n\t     * @param wizard {Object} A jQuery wizard object\n\t     **/\n\t    function destroy(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        // Remove virtual data objects from the wizard\n\t        wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\").removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\").find(\".actions a\").unbind(eventNamespace);\n\t\n\t        // Remove attributes and CSS classes from the wizard\n\t        wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\t\n\t        var contents = wizard.find(\".content > *\");\n\t\n\t        // Remove virtual data objects from panels and their titles\n\t        contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\t\n\t        // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n\t        contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\").removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")._removeAria(\"hidden\");\n\t\n\t        // Empty panels if the mode is set to 'async' or 'iframe'\n\t        wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\t\n\t        var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\t\n\t        var wizardId = wizard._id();\n\t        if (wizardId != null && wizardId !== \"\") {\n\t            wizardSubstitute._id(wizardId);\n\t        }\n\t\n\t        wizardSubstitute.html(wizard.find(\".content\").html());\n\t        wizard.after(wizardSubstitute);\n\t        wizard.remove();\n\t\n\t        return wizardSubstitute;\n\t    }\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method finishStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function finishStep(wizard, state) {\n\t        var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\t\n\t        if (wizard.triggerHandler(\"finishing\", [state.currentIndex])) {\n\t            currentStep.addClass(\"done\").removeClass(\"error\");\n\t            wizard.triggerHandler(\"finished\", [state.currentIndex]);\n\t        } else {\n\t            currentStep.addClass(\"error\");\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique event namespace for the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getEventNamespace\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique event namespace for the given wizard\n\t     */\n\t    function getEventNamespace(wizard) {\n\t        var eventNamespace = wizard.data(\"eventNamespace\");\n\t\n\t        if (eventNamespace == null) {\n\t            eventNamespace = \".\" + getUniqueId(wizard);\n\t            wizard.data(\"eventNamespace\", eventNamespace);\n\t        }\n\t\n\t        return eventNamespace;\n\t    }\n\t\n\t    function getStepAnchor(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n\t    }\n\t\n\t    function getStepPanel(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n\t    }\n\t\n\t    function getStepTitle(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n\t    }\n\t\n\t    function getOptions(wizard) {\n\t        return wizard.data(\"options\");\n\t    }\n\t\n\t    function getState(wizard) {\n\t        return wizard.data(\"state\");\n\t    }\n\t\n\t    function getSteps(wizard) {\n\t        return wizard.data(\"steps\");\n\t    }\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    function getStep(wizard, index) {\n\t        var steps = getSteps(wizard);\n\t\n\t        if (index < 0 || index >= steps.length) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        return steps[index];\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique id from the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getUniqueId\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique id for the given wizard\n\t     */\n\t    function getUniqueId(wizard) {\n\t        var uniqueId = wizard.data(\"uid\");\n\t\n\t        if (uniqueId == null) {\n\t            uniqueId = wizard._id();\n\t            if (uniqueId == null) {\n\t                uniqueId = \"steps-uid-\".concat(_uniqueId);\n\t                wizard._id(uniqueId);\n\t            }\n\t\n\t            _uniqueId++;\n\t            wizard.data(\"uid\", uniqueId);\n\t        }\n\t\n\t        return uniqueId;\n\t    }\n\t\n\t    /**\n\t     * Gets a valid enum value by checking a specific enum key or value.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getValidEnumValue\n\t     * @param enumType {Object} Type of enum\n\t     * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n\t     */\n\t    function getValidEnumValue(enumType, keyOrValue) {\n\t        validateArgument(\"enumType\", enumType);\n\t        validateArgument(\"keyOrValue\", keyOrValue);\n\t\n\t        // Is key\n\t        if (typeof keyOrValue === \"string\") {\n\t            var value = enumType[keyOrValue];\n\t            if (value === undefined) {\n\t                throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n\t            }\n\t\n\t            return value;\n\t        }\n\t        // Is value\n\t        else if (typeof keyOrValue === \"number\") {\n\t                for (var key in enumType) {\n\t                    if (enumType[key] === keyOrValue) {\n\t                        return keyOrValue;\n\t                    }\n\t                }\n\t\n\t                throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n\t            }\n\t            // Type is not supported\n\t            else {\n\t                    throwError(\"Invalid key or value type.\");\n\t                }\n\t    }\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToNextStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToNextStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToPreviousStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToPreviousStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to a specific step by a given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the action succeeded or failed\n\t     **/\n\t    function goToStep(wizard, options, state, index) {\n\t        if (index < 0 || index >= state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        if (options.forceMoveForward && index < state.currentIndex) {\n\t            return;\n\t        }\n\t\n\t        var oldIndex = state.currentIndex;\n\t        if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index])) {\n\t            // Save new state\n\t            state.currentIndex = index;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t\n\t            // Change visualisation\n\t            refreshStepNavigation(wizard, options, state, oldIndex);\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t            startTransitionEffect(wizard, options, state, index, oldIndex, function () {\n\t                wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n\t            });\n\t        } else {\n\t            wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    function increaseCurrentIndexBy(state, increaseBy) {\n\t        return state.currentIndex + increaseBy;\n\t    }\n\t\n\t    /**\n\t     * Initializes the component.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method initialize\n\t     * @param options {Object} The component settings\n\t     **/\n\t    function initialize(options) {\n\t        /*jshint -W040 */\n\t        var opts = $.extend(true, {}, defaults, options);\n\t\n\t        return this.each(function () {\n\t            var wizard = $(this);\n\t            var state = {\n\t                currentIndex: opts.startIndex,\n\t                currentStep: null,\n\t                stepCount: 0,\n\t                transitionElement: null\n\t            };\n\t\n\t            // Create data container\n\t            wizard.data(\"options\", opts);\n\t            wizard.data(\"state\", state);\n\t            wizard.data(\"steps\", []);\n\t\n\t            analyzeData(wizard, opts, state);\n\t            render(wizard, opts, state);\n\t            registerEvents(wizard, opts);\n\t\n\t            // Trigger focus\n\t            if (opts.autoFocus && _uniqueId === 0) {\n\t                getStepAnchor(wizard, opts.startIndex).focus();\n\t            }\n\t\n\t            wizard.triggerHandler(\"init\", [opts.startIndex]);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    function insertStep(wizard, options, state, index, step) {\n\t        if (index < 0 || index > state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        // TODO: Validate step object\n\t\n\t        // Change data\n\t        step = $.extend({}, stepModel, step);\n\t        insertStepToCache(wizard, index, step);\n\t        if (state.currentIndex !== state.stepCount && state.currentIndex >= index) {\n\t            state.currentIndex++;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount++;\n\t\n\t        var contentContainer = wizard.find(\".content\"),\n\t            header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n\t            body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\t\n\t        if (step.contentMode == null || step.contentMode === contentMode.html) {\n\t            body.html(step.content);\n\t        }\n\t\n\t        if (index === 0) {\n\t            contentContainer.prepend(body).prepend(header);\n\t        } else {\n\t            getStepPanel(wizard, index - 1).after(body).after(header);\n\t        }\n\t\n\t        renderBody(wizard, state, body, index);\n\t        renderTitle(wizard, options, state, header, index);\n\t        refreshSteps(wizard, options, state, index);\n\t        if (index === state.currentIndex) {\n\t            refreshStepNavigation(wizard, options, state);\n\t        }\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return wizard;\n\t    }\n\t\n\t    /**\n\t     * Inserts a step object to the cache at a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function insertStepToCache(wizard, index, step) {\n\t        getSteps(wizard).splice(index, 0, step);\n\t    }\n\t\n\t    /**\n\t     * Handles the keyup DOM event for pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event keyup\n\t     * @param event {Object} An event object\n\t     */\n\t    function keyUpHandler(event) {\n\t        var wizard = $(this),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard);\n\t\n\t        if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\")) {\n\t            event.preventDefault();\n\t            return false;\n\t        }\n\t\n\t        var keyCodes = { left: 37, right: 39 };\n\t        if (event.keyCode === keyCodes.left) {\n\t            event.preventDefault();\n\t            goToPreviousStep(wizard, options, state);\n\t        } else if (event.keyCode === keyCodes.right) {\n\t            event.preventDefault();\n\t            goToNextStep(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Loads and includes async content.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method loadAsyncContent\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function loadAsyncContent(wizard, options, state) {\n\t        if (state.stepCount > 0) {\n\t            var currentIndex = state.currentIndex,\n\t                currentStep = getStep(wizard, currentIndex);\n\t\n\t            if (!options.enableContentCache || !currentStep.contentLoaded) {\n\t                switch (getValidEnumValue(contentMode, currentStep.contentMode)) {\n\t                    case contentMode.iframe:\n\t                        wizard.find(\".content > .body\").eq(state.currentIndex).empty().html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\").data(\"loaded\", \"1\");\n\t                        break;\n\t\n\t                    case contentMode.async:\n\t                        var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\").empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\t\n\t                        $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data) {\n\t                            currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n\t                            wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n\t                        });\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires the action next or previous click event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method paginationClick\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the event fired successfully or not\n\t     **/\n\t    function paginationClick(wizard, options, state, index) {\n\t        var oldIndex = state.currentIndex;\n\t\n\t        if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex)) {\n\t            var anchor = getStepAnchor(wizard, index),\n\t                parent = anchor.parent(),\n\t                isDisabled = parent.hasClass(\"disabled\");\n\t\n\t            // Enable the step to make the anchor clickable!\n\t            parent._enableAria();\n\t            anchor.click();\n\t\n\t            // An error occured\n\t            if (oldIndex === state.currentIndex && isDisabled) {\n\t                // Disable the step again if current index has not changed; prevents click action.\n\t                parent._enableAria(false);\n\t                return false;\n\t            }\n\t\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    }\n\t\n\t    /**\n\t     * Fires when a pagination click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function paginationClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            href = anchor.attr(\"href\");\n\t\n\t        switch (href.substring(href.lastIndexOf(\"#\") + 1)) {\n\t            case \"cancel\":\n\t                cancel(wizard);\n\t                break;\n\t\n\t            case \"finish\":\n\t                finishStep(wizard, state);\n\t                break;\n\t\n\t            case \"next\":\n\t                goToNextStep(wizard, options, state);\n\t                break;\n\t\n\t            case \"previous\":\n\t                goToPreviousStep(wizard, options, state);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the entire pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function refreshPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n\t                next = wizard.find(\".actions a[href$='#next']\").parent();\n\t\n\t            if (!options.forceMoveForward) {\n\t                var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n\t                previous._enableAria(state.currentIndex > 0);\n\t            }\n\t\n\t            if (options.enableFinishButton && options.showFinishButtonAlways) {\n\t                finish._enableAria(state.stepCount > 0);\n\t                next._enableAria(state.stepCount > 1 && state.stepCount > state.currentIndex + 1);\n\t            } else {\n\t                finish._showAria(options.enableFinishButton && state.stepCount === state.currentIndex + 1);\n\t                next._showAria(state.stepCount === 0 || state.stepCount > state.currentIndex + 1)._enableAria(state.stepCount > state.currentIndex + 1 || !options.enableFinishButton);\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the step navigation (tabs).\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshStepNavigation\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param [oldIndex] {Integer} The index of the prior step\n\t     */\n\t    function refreshStepNavigation(wizard, options, state, oldIndex) {\n\t        var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n\t            currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n\t            stepTitles = wizard.find(\".content > .title\");\n\t\n\t        if (oldIndex != null) {\n\t            var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n\t            oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n\t            stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n\t            currentInfo = oldStepAnchor.find(\".current-info\");\n\t            currentOrNewStepAnchor.focus();\n\t        }\n\t\n\t        currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n\t        stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n\t    }\n\t\n\t    /**\n\t     * Refreshes step buttons and their related titles beyond a certain position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshSteps\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The start point for refreshing ids\n\t     */\n\t    function refreshSteps(wizard, options, state, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        for (var i = index; i < state.stepCount; i++) {\n\t            var uniqueStepId = uniqueId + _tabSuffix + i,\n\t                uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n\t                uniqueHeaderId = uniqueId + _titleSuffix + i,\n\t                title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\t\n\t            wizard.find(\".steps a\").eq(i)._id(uniqueStepId)._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId).html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n\t            wizard.find(\".body\").eq(i)._id(uniqueBodyId)._aria(\"labelledby\", uniqueHeaderId);\n\t        }\n\t    }\n\t\n\t    function registerEvents(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n\t        wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n\t        wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n\t        wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n\t        wizard.bind(\"init\" + eventNamespace, options.onInit);\n\t        wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n\t        wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\t\n\t        if (options.enableKeyNavigation) {\n\t            wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n\t        }\n\t\n\t        wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method removeStep\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    function removeStep(wizard, options, state, index) {\n\t        // Index out of range and try deleting current item will return false.\n\t        if (index < 0 || index >= state.stepCount || state.currentIndex === index) {\n\t            return false;\n\t        }\n\t\n\t        // Change data\n\t        removeStepFromCache(wizard, index);\n\t        if (state.currentIndex > index) {\n\t            state.currentIndex--;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount--;\n\t\n\t        getStepTitle(wizard, index).remove();\n\t        getStepPanel(wizard, index).remove();\n\t        getStepAnchor(wizard, index).parent().remove();\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            wizard.find(\".steps li\").first().addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount) {\n\t            wizard.find(\".steps li\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        refreshSteps(wizard, options, state, index);\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return true;\n\t    }\n\t\n\t    function removeStepFromCache(wizard, index) {\n\t        getSteps(wizard).splice(index, 1);\n\t    }\n\t\n\t    /**\n\t     * Transforms the base html structure to a more sensible html structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method render\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function render(wizard, options, state) {\n\t        // Create a content wrapper and copy HTML from the intial wizard structure\n\t        var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n\t            orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n\t            verticalCssClass = orientation === stepsOrientation.vertical ? \" vertical\" : \"\",\n\t            contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n\t            stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n\t            stepTitles = contentWrapper.children(options.headerTag),\n\t            stepContents = contentWrapper.children(options.bodyTag);\n\t\n\t        // Transform the wizard wrapper and remove the inner HTML\n\t        wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper).addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\t\n\t        // Add WIA-ARIA support\n\t        stepContents.each(function (index) {\n\t            renderBody(wizard, state, $(this), index);\n\t        });\n\t\n\t        stepTitles.each(function (index) {\n\t            renderTitle(wizard, options, state, $(this), index);\n\t        });\n\t\n\t        refreshStepNavigation(wizard, options, state);\n\t        renderPagination(wizard, options, state);\n\t    }\n\t\n\t    /**\n\t     * Transforms the body to a proper tabpanel.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderBody\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param body {Object} A jQuery body object\n\t     * @param index {Integer} The position of the body\n\t     */\n\t    function renderBody(wizard, state, body, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index;\n\t\n\t        body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId).addClass(\"body\")._showAria(state.currentIndex === index);\n\t    }\n\t\n\t    /**\n\t     * Renders a pagination if enabled.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function renderPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n\t                buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n\t                buttons = \"\";\n\t\n\t            if (!options.forceMoveForward) {\n\t                buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n\t            }\n\t\n\t            buttons += buttonTemplate.format(\"next\", options.labels.next);\n\t\n\t            if (options.enableFinishButton) {\n\t                buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n\t            }\n\t\n\t            if (options.enableCancelButton) {\n\t                buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n\t            }\n\t\n\t            wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass, options.labels.pagination, buttons));\n\t\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Renders a template and replaces all placeholder.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTemplate\n\t     * @param template {String} A template\n\t     * @param substitutes {Object} A list of substitute\n\t     * @return {String} The rendered template\n\t     */\n\t    function renderTemplate(template, substitutes) {\n\t        var matches = template.match(/#([a-z]*)#/gi);\n\t\n\t        for (var i = 0; i < matches.length; i++) {\n\t            var match = matches[i],\n\t                key = match.substring(1, match.length - 1);\n\t\n\t            if (substitutes[key] === undefined) {\n\t                throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n\t            }\n\t\n\t            template = template.replace(match, substitutes[key]);\n\t        }\n\t\n\t        return template;\n\t    }\n\t\n\t    /**\n\t     * Transforms the title to a step item button.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTitle\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param header {Object} A jQuery header object\n\t     * @param index {Integer} The position of the header\n\t     */\n\t    function renderTitle(wizard, options, state, header, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueStepId = uniqueId + _tabSuffix + index,\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index,\n\t            stepCollection = wizard.find(\".steps > ul\"),\n\t            title = renderTemplate(options.titleTemplate, {\n\t            index: index + 1,\n\t            title: header.html()\n\t        }),\n\t            stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId + \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\t\n\t        stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\t\n\t        if (state.currentIndex > index) {\n\t            stepItem.addClass(\"done\");\n\t        }\n\t\n\t        header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\t\n\t        if (index === 0) {\n\t            stepCollection.prepend(stepItem);\n\t        } else {\n\t            stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n\t        }\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount - 1) {\n\t            stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        // Register click event\n\t        stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Saves the current state to a cookie.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method saveCurrentStateToCookie\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function saveCurrentStateToCookie(wizard, options, state) {\n\t        if (options.saveState && $.cookie) {\n\t            $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n\t        }\n\t    }\n\t\n\t    function startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback) {\n\t        var stepContents = wizard.find(\".content > .body\"),\n\t            effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n\t            effectSpeed = options.transitionEffectSpeed,\n\t            newStep = stepContents.eq(index),\n\t            currentStep = stepContents.eq(oldIndex);\n\t\n\t        switch (effect) {\n\t            case transitionEffect.fade:\n\t            case transitionEffect.slide:\n\t                var hide = effect === transitionEffect.fade ? \"fadeOut\" : \"slideUp\",\n\t                    show = effect === transitionEffect.fade ? \"fadeIn\" : \"slideDown\";\n\t\n\t                state.transitionElement = newStep;\n\t                currentStep[hide](effectSpeed, function () {\n\t                    var wizard = $(this)._showAria(false).parent().parent(),\n\t                        state = getState(wizard);\n\t\n\t                    if (state.transitionElement) {\n\t                        state.transitionElement[show](effectSpeed, function () {\n\t                            $(this)._showAria();\n\t                        }).promise().done(doneCallback);\n\t                        state.transitionElement = null;\n\t                    }\n\t                });\n\t                break;\n\t\n\t            case transitionEffect.slideLeft:\n\t                var outerWidth = currentStep.outerWidth(true),\n\t                    posFadeOut = index > oldIndex ? -outerWidth : outerWidth,\n\t                    posFadeIn = index > oldIndex ? outerWidth : -outerWidth;\n\t\n\t                $.when(currentStep.animate({ left: posFadeOut }, effectSpeed, function () {\n\t                    $(this)._showAria(false);\n\t                }), newStep.css(\"left\", posFadeIn + \"px\")._showAria().animate({ left: 0 }, effectSpeed)).done(doneCallback);\n\t                break;\n\t\n\t            default:\n\t                $.when(currentStep._showAria(false), newStep._showAria()).done(doneCallback);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires when a step click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function stepClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            oldIndex = state.currentIndex;\n\t\n\t        if (anchor.parent().is(\":not(.disabled):not(.current)\")) {\n\t            var href = anchor.attr(\"href\"),\n\t                position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\t\n\t            goToStep(wizard, options, state, position);\n\t        }\n\t\n\t        // If nothing has changed\n\t        if (oldIndex === state.currentIndex) {\n\t            getStepAnchor(wizard, oldIndex).focus();\n\t            return false;\n\t        }\n\t    }\n\t\n\t    function throwError(message) {\n\t        if (arguments.length > 1) {\n\t            message = message.format(Array.prototype.slice.call(arguments, 1));\n\t        }\n\t\n\t        throw new Error(message);\n\t    }\n\t\n\t    /**\n\t     * Checks an argument for null or undefined and throws an error if one check applies.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method validateArgument\n\t     * @param argumentName {String} The name of the given argument\n\t     * @param argumentValue {Object} The argument itself\n\t     */\n\t    function validateArgument(argumentName, argumentValue) {\n\t        if (argumentValue == null) {\n\t            throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Represents a jQuery wizard plugin.\n\t     *\n\t     * @class steps\n\t     * @constructor\n\t     * @param [method={}] The name of the method as `String` or an JSON object for initialization\n\t     * @param [params=]* {Array} Additional arguments for a method call\n\t     * @chainable\n\t     **/\n\t    $.fn.steps = function (method) {\n\t        if ($.fn.steps[method]) {\n\t            return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n\t        } else if (typeof method === \"object\" || !method) {\n\t            return initialize.apply(this, arguments);\n\t        } else {\n\t            $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Adds a new step.\n\t     *\n\t     * @method add\n\t     * @param step {Object} The step object to add\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.add = function (step) {\n\t        var state = getState(this);\n\t        return insertStep(this, getOptions(this), state, state.stepCount, step);\n\t    };\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @method destroy\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.destroy = function () {\n\t        return destroy(this, getOptions(this));\n\t    };\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @method finish\n\t     **/\n\t    $.fn.steps.finish = function () {\n\t        finishStep(this, getState(this));\n\t    };\n\t\n\t    /**\n\t     * Gets the current step index.\n\t     *\n\t     * @method getCurrentIndex\n\t     * @return {Integer} The actual step index (zero-based)\n\t     * @for steps\n\t     **/\n\t    $.fn.steps.getCurrentIndex = function () {\n\t        return getState(this).currentIndex;\n\t    };\n\t\n\t    /**\n\t     * Gets the current step object.\n\t     *\n\t     * @method getCurrentStep\n\t     * @return {Object} The actual step object\n\t     **/\n\t    $.fn.steps.getCurrentStep = function () {\n\t        return getStep(this, getState(this).currentIndex);\n\t    };\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    $.fn.steps.getStep = function (index) {\n\t        return getStep(this, index);\n\t    };\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @method insert\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.insert = function (index, step) {\n\t        return insertStep(this, getOptions(this), getState(this), index, step);\n\t    };\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @method next\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.next = function () {\n\t        return goToNextStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @method previous\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.previous = function () {\n\t        return goToPreviousStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @method remove\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    $.fn.steps.remove = function (index) {\n\t        return removeStep(this, getOptions(this), getState(this), index);\n\t    };\n\t\n\t    /**\n\t     * Sets a specific step object by index.\n\t     *\n\t     * @method setStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @param step {Object} The step object to change\n\t     **/\n\t    $.fn.steps.setStep = function (index, step) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * Skips an certain amount of steps.\n\t     *\n\t     * @method skip\n\t     * @param count {Integer} The amount of steps that should be skipped\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.skip = function (count) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * An enum represents the different content types of a step and their loading mechanisms.\n\t     *\n\t     * @class contentMode\n\t     * @for steps\n\t     **/\n\t    var contentMode = $.fn.steps.contentMode = {\n\t        /**\n\t         * HTML embedded content\n\t         *\n\t         * @readOnly\n\t         * @property html\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        html: 0,\n\t\n\t        /**\n\t         * IFrame embedded content\n\t         *\n\t         * @readOnly\n\t         * @property iframe\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        iframe: 1,\n\t\n\t        /**\n\t         * Async embedded content\n\t         *\n\t         * @readOnly\n\t         * @property async\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        async: 2\n\t    };\n\t\n\t    /**\n\t     * An enum represents the orientation of the steps navigation.\n\t     *\n\t     * @class stepsOrientation\n\t     * @for steps\n\t     **/\n\t    var stepsOrientation = $.fn.steps.stepsOrientation = {\n\t        /**\n\t         * Horizontal orientation\n\t         *\n\t         * @readOnly\n\t         * @property horizontal\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        horizontal: 0,\n\t\n\t        /**\n\t         * Vertical orientation\n\t         *\n\t         * @readOnly\n\t         * @property vertical\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        vertical: 1\n\t    };\n\t\n\t    /**\n\t     * An enum that represents the various transition animations.\n\t     *\n\t     * @class transitionEffect\n\t     * @for steps\n\t     **/\n\t    var transitionEffect = $.fn.steps.transitionEffect = {\n\t        /**\n\t         * No transition animation\n\t         *\n\t         * @readOnly\n\t         * @property none\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        none: 0,\n\t\n\t        /**\n\t         * Fade in transition\n\t         *\n\t         * @readOnly\n\t         * @property fade\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        fade: 1,\n\t\n\t        /**\n\t         * Slide up transition\n\t         *\n\t         * @readOnly\n\t         * @property slide\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slide: 2,\n\t\n\t        /**\n\t         * Slide left transition\n\t         *\n\t         * @readOnly\n\t         * @property slideLeft\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slideLeft: 3\n\t    };\n\t\n\t    var stepModel = $.fn.steps.stepModel = {\n\t        title: \"\",\n\t        content: \"\",\n\t        contentUrl: \"\",\n\t        contentMode: contentMode.html,\n\t        contentLoaded: false\n\t    };\n\t\n\t    /**\n\t     * An object that represents the default settings.\n\t     * There are two possibities to override the sub-properties.\n\t     * Either by doing it generally (global) or on initialization.\n\t     *\n\t     * @static\n\t     * @class defaults\n\t     * @for steps\n\t     * @example\n\t     *   // Global approach\n\t     *   $.steps.defaults.headerTag = \"h3\";\n\t     * @example\n\t     *   // Initialization approach\n\t     *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n\t     **/\n\t    var defaults = $.fn.steps.defaults = {\n\t        /**\n\t         * The header tag is used to find the step button text within the declared wizard area.\n\t         *\n\t         * @property headerTag\n\t         * @type String\n\t         * @default \"h1\"\n\t         * @for defaults\n\t         **/\n\t        headerTag: \"h1\",\n\t\n\t        /**\n\t         * The body tag is used to find the step content within the declared wizard area.\n\t         *\n\t         * @property bodyTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        bodyTag: \"div\",\n\t\n\t        /**\n\t         * The content container tag which will be used to wrap all step contents.\n\t         *\n\t         * @property contentContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        contentContainerTag: \"div\",\n\t\n\t        /**\n\t         * The action container tag which will be used to wrap the pagination navigation.\n\t         *\n\t         * @property actionContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        actionContainerTag: \"div\",\n\t\n\t        /**\n\t         * The steps container tag which will be used to wrap the steps navigation.\n\t         *\n\t         * @property stepsContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        stepsContainerTag: \"div\",\n\t\n\t        /**\n\t         * The css class which will be added to the outer component wrapper.\n\t         *\n\t         * @property cssClass\n\t         * @type String\n\t         * @default \"wizard\"\n\t         * @for defaults\n\t         * @example\n\t         *     <div class=\"wizard\">\n\t         *         ...\n\t         *     </div>\n\t         **/\n\t        cssClass: \"wizard\",\n\t\n\t        /**\n\t         * The css class which will be used for floating scenarios.\n\t         *\n\t         * @property clearFixCssClass\n\t         * @type String\n\t         * @default \"clearfix\"\n\t         * @for defaults\n\t         **/\n\t        clearFixCssClass: \"clearfix\",\n\t\n\t        /**\n\t         * Determines whether the steps are vertically or horizontally oriented.\n\t         *\n\t         * @property stepsOrientation\n\t         * @type stepsOrientation\n\t         * @default horizontal\n\t         * @for defaults\n\t         * @since 1.0.0\n\t         **/\n\t        stepsOrientation: stepsOrientation.horizontal,\n\t\n\t        /*\n\t         * Tempplates\n\t         */\n\t\n\t        /**\n\t         * The title template which will be used to create a step button.\n\t         *\n\t         * @property titleTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n\t         * @for defaults\n\t         **/\n\t        titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\t\n\t        /**\n\t         * The loading template which will be used to create the loading animation.\n\t         *\n\t         * @property loadingTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n\t         * @for defaults\n\t         **/\n\t        loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\t\n\t        /*\n\t         * Behaviour\n\t         */\n\t\n\t        /**\n\t         * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n\t         *\n\t         * @property autoFocus\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         * @since 0.9.4\n\t         **/\n\t        autoFocus: false,\n\t\n\t        /**\n\t         * Enables all steps from the begining if `true` (all steps are clickable).\n\t         *\n\t         * @property enableAllSteps\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableAllSteps: false,\n\t\n\t        /**\n\t         * Enables keyboard navigation if `true` (arrow left and arrow right).\n\t         *\n\t         * @property enableKeyNavigation\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableKeyNavigation: true,\n\t\n\t        /**\n\t         * Enables pagination if `true`.\n\t         *\n\t         * @property enablePagination\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enablePagination: true,\n\t\n\t        /**\n\t         * Suppresses pagination if a form field is focused.\n\t         *\n\t         * @property suppressPaginationOnFocus\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        suppressPaginationOnFocus: true,\n\t\n\t        /**\n\t         * Enables cache for async loaded or iframe embedded content.\n\t         *\n\t         * @property enableContentCache\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableContentCache: true,\n\t\n\t        /**\n\t         * Shows the cancel button if enabled.\n\t         *\n\t         * @property enableCancelButton\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableCancelButton: false,\n\t\n\t        /**\n\t         * Shows the finish button if enabled.\n\t         *\n\t         * @property enableFinishButton\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableFinishButton: true,\n\t\n\t        /**\n\t         * Not yet implemented.\n\t         *\n\t         * @property preloadContent\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        preloadContent: false,\n\t\n\t        /**\n\t         * Shows the finish button always (on each step; right beside the next button) if `true`.\n\t         * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n\t         *\n\t         * @property showFinishButtonAlways\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        showFinishButtonAlways: false,\n\t\n\t        /**\n\t         * Prevents jumping to a previous step.\n\t         *\n\t         * @property forceMoveForward\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        forceMoveForward: false,\n\t\n\t        /**\n\t         * Saves the current state (step position) to a cookie.\n\t         * By coming next time the last active step becomes activated.\n\t         *\n\t         * @property saveState\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        saveState: false,\n\t\n\t        /**\n\t         * The position to start on (zero-based).\n\t         *\n\t         * @property startIndex\n\t         * @type Integer\n\t         * @default 0\n\t         * @for defaults\n\t         **/\n\t        startIndex: 0,\n\t\n\t        /*\n\t         * Animation Effect Configuration\n\t         */\n\t\n\t        /**\n\t         * The animation effect which will be used for step transitions.\n\t         *\n\t         * @property transitionEffect\n\t         * @type transitionEffect\n\t         * @default none\n\t         * @for defaults\n\t         **/\n\t        transitionEffect: transitionEffect.none,\n\t\n\t        /**\n\t         * Animation speed for step transitions (in milliseconds).\n\t         *\n\t         * @property transitionEffectSpeed\n\t         * @type Integer\n\t         * @default 200\n\t         * @for defaults\n\t         **/\n\t        transitionEffectSpeed: 200,\n\t\n\t        /*\n\t         * Events\n\t         */\n\t\n\t        /**\n\t         * Fires before the step changes and can be used to prevent step changing by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onStepChanging\n\t         * @type Event\n\t         * @default function (event, currentIndex, newIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after the step has change.\n\t         *\n\t         * @property onStepChanged\n\t         * @type Event\n\t         * @default function (event, currentIndex, priorIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onStepChanged: function onStepChanged(event, currentIndex, priorIndex) {},\n\t\n\t        /**\n\t         * Fires after cancelation.\n\t         *\n\t         * @property onCanceled\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onCanceled: function onCanceled(event) {},\n\t\n\t        /**\n\t         * Fires before finishing and can be used to prevent completion by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onFinishing\n\t         * @type Event\n\t         * @default function (event, currentIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onFinishing: function onFinishing(event, currentIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after completion.\n\t         *\n\t         * @property onFinished\n\t         * @type Event\n\t         * @default function (event, currentIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onFinished: function onFinished(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires after async content is loaded.\n\t         *\n\t         * @property onContentLoaded\n\t         * @type Event\n\t         * @default function (event, index) { }\n\t         * @for defaults\n\t         **/\n\t        onContentLoaded: function onContentLoaded(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires when the wizard is initialized.\n\t         *\n\t         * @property onInit\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onInit: function onInit(event, currentIndex) {},\n\t\n\t        /**\n\t         * Contains all labels.\n\t         *\n\t         * @property labels\n\t         * @type Object\n\t         * @for defaults\n\t         **/\n\t        labels: {\n\t            /**\n\t             * Label for the cancel button.\n\t             *\n\t             * @property cancel\n\t             * @type String\n\t             * @default \"Cancel\"\n\t             * @for defaults\n\t             **/\n\t            cancel: \"Cancel\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons.\n\t             * Indicates which step is activated.\n\t             *\n\t             * @property current\n\t             * @type String\n\t             * @default \"current step:\"\n\t             * @for defaults\n\t             **/\n\t            current: \"current step:\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons and describes the kind of navigation.\n\t             *\n\t             * @property pagination\n\t             * @type String\n\t             * @default \"Pagination\"\n\t             * @for defaults\n\t             * @since 0.9.7\n\t             **/\n\t            pagination: \"Pagination\",\n\t\n\t            /**\n\t             * Label for the finish button.\n\t             *\n\t             * @property finish\n\t             * @type String\n\t             * @default \"Finish\"\n\t             * @for defaults\n\t             **/\n\t            finish: \"Finish\",\n\t\n\t            /**\n\t             * Label for the next button.\n\t             *\n\t             * @property next\n\t             * @type String\n\t             * @default \"Next\"\n\t             * @for defaults\n\t             **/\n\t            next: \"Next\",\n\t\n\t            /**\n\t             * Label for the previous button.\n\t             *\n\t             * @property previous\n\t             * @type String\n\t             * @default \"Previous\"\n\t             * @for defaults\n\t             **/\n\t            previous: \"Previous\",\n\t\n\t            /**\n\t             * Label for the loading animation.\n\t             *\n\t             * @property loading\n\t             * @type String\n\t             * @default \"Loading ...\"\n\t             * @for defaults\n\t             **/\n\t            loading: \"Loading ...\"\n\t        }\n\t    };\n\t})(jQuery);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n\n/***/ 21:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * jQuery Validation Plugin v1.15.0\n\t *\n\t * http://jqueryvalidation.org/\n\t *\n\t * Copyright (c) 2016 Jörn Zaefferer\n\t * Released under the MIT license\n\t */\n\t\"use strict\";\n\t\n\t(function (factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof module === \"object\" && module.exports) {\n\t\t\tmodule.exports = factory(require(\"jquery\"));\n\t\t} else {\n\t\t\tfactory(jQuery);\n\t\t}\n\t})(function ($) {\n\t\n\t\t$.extend($.fn, {\n\t\n\t\t\t// http://jqueryvalidation.org/validate/\n\t\t\tvalidate: function validate(options) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\tif (options && options.debug && window.console) {\n\t\t\t\t\t\tconsole.warn(\"Nothing selected, can't validate, returning nothing.\");\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// Check if a validator for this form was already created\n\t\t\t\tvar validator = $.data(this[0], \"validator\");\n\t\t\t\tif (validator) {\n\t\t\t\t\treturn validator;\n\t\t\t\t}\n\t\n\t\t\t\t// Add novalidate tag if HTML5.\n\t\t\t\tthis.attr(\"novalidate\", \"novalidate\");\n\t\n\t\t\t\tvalidator = new $.validator(options, this[0]);\n\t\t\t\t$.data(this[0], \"validator\", validator);\n\t\n\t\t\t\tif (validator.settings.onsubmit) {\n\t\n\t\t\t\t\tthis.on(\"click.validate\", \":submit\", function (event) {\n\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\t\t\tif ($(this).hasClass(\"cancel\")) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\t\t\tif ($(this).attr(\"formnovalidate\") !== undefined) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// Validate the form on submit\n\t\t\t\t\tthis.on(\"submit.validate\", function (event) {\n\t\t\t\t\t\tif (validator.settings.debug) {\n\t\n\t\t\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfunction handle() {\n\t\t\t\t\t\t\tvar hidden, result;\n\t\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\t\t\thidden = $(\"<input type='hidden'/>\").attr(\"name\", validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresult = validator.settings.submitHandler.call(validator, validator.currentForm, event);\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (result !== undefined) {\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\t\t\tif (validator.cancelSubmit) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (validator.form()) {\n\t\t\t\t\t\t\tif (validator.pendingRequest) {\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\treturn validator;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/valid/\n\t\t\tvalid: function valid() {\n\t\t\t\tvar valid, validator, errorList;\n\t\n\t\t\t\tif ($(this[0]).is(\"form\")) {\n\t\t\t\t\tvalid = this.validate().form();\n\t\t\t\t} else {\n\t\t\t\t\terrorList = [];\n\t\t\t\t\tvalid = true;\n\t\t\t\t\tvalidator = $(this[0].form).validate();\n\t\t\t\t\tthis.each(function () {\n\t\t\t\t\t\tvalid = validator.element(this) && valid;\n\t\t\t\t\t\tif (!valid) {\n\t\t\t\t\t\t\terrorList = errorList.concat(validator.errorList);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvalidator.errorList = errorList;\n\t\t\t\t}\n\t\t\t\treturn valid;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/rules/\n\t\t\trules: function rules(command, argument) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar element = this[0],\n\t\t\t\t    settings,\n\t\t\t\t    staticRules,\n\t\t\t\t    existingRules,\n\t\t\t\t    data,\n\t\t\t\t    param,\n\t\t\t\t    filtered;\n\t\n\t\t\t\tif (command) {\n\t\t\t\t\tsettings = $.data(element.form, \"validator\").settings;\n\t\t\t\t\tstaticRules = settings.rules;\n\t\t\t\t\texistingRules = $.validator.staticRules(element);\n\t\t\t\t\tswitch (command) {\n\t\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\t\t$.extend(existingRules, $.validator.normalizeRule(argument));\n\t\n\t\t\t\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\t\t\t\tdelete existingRules.messages;\n\t\t\t\t\t\t\tstaticRules[element.name] = existingRules;\n\t\t\t\t\t\t\tif (argument.messages) {\n\t\t\t\t\t\t\t\tsettings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"remove\":\n\t\t\t\t\t\t\tif (!argument) {\n\t\t\t\t\t\t\t\tdelete staticRules[element.name];\n\t\t\t\t\t\t\t\treturn existingRules;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfiltered = {};\n\t\t\t\t\t\t\t$.each(argument.split(/\\s/), function (index, method) {\n\t\t\t\t\t\t\t\tfiltered[method] = existingRules[method];\n\t\t\t\t\t\t\t\tdelete existingRules[method];\n\t\t\t\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\t\t\t\t$(element).removeAttr(\"aria-required\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn filtered;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tdata = $.validator.normalizeRules($.extend({}, $.validator.classRules(element), $.validator.attributeRules(element), $.validator.dataRules(element), $.validator.staticRules(element)), element);\n\t\n\t\t\t\t// Make sure required is at front\n\t\t\t\tif (data.required) {\n\t\t\t\t\tparam = data.required;\n\t\t\t\t\tdelete data.required;\n\t\t\t\t\tdata = $.extend({ required: param }, data);\n\t\t\t\t\t$(element).attr(\"aria-required\", \"true\");\n\t\t\t\t}\n\t\n\t\t\t\t// Make sure remote is at back\n\t\t\t\tif (data.remote) {\n\t\t\t\t\tparam = data.remote;\n\t\t\t\t\tdelete data.remote;\n\t\t\t\t\tdata = $.extend(data, { remote: param });\n\t\t\t\t}\n\t\n\t\t\t\treturn data;\n\t\t\t}\n\t\t});\n\t\n\t\t// Custom selectors\n\t\t$.extend($.expr[\":\"], {\n\t\n\t\t\t// http://jqueryvalidation.org/blank-selector/\n\t\t\tblank: function blank(a) {\n\t\t\t\treturn !$.trim(\"\" + $(a).val());\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/filled-selector/\n\t\t\tfilled: function filled(a) {\n\t\t\t\tvar val = $(a).val();\n\t\t\t\treturn val !== null && !!$.trim(\"\" + val);\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/unchecked-selector/\n\t\t\tunchecked: function unchecked(a) {\n\t\t\t\treturn !$(a).prop(\"checked\");\n\t\t\t}\n\t\t});\n\t\n\t\t// Constructor for validator\n\t\t$.validator = function (options, form) {\n\t\t\tthis.settings = $.extend(true, {}, $.validator.defaults, options);\n\t\t\tthis.currentForm = form;\n\t\t\tthis.init();\n\t\t};\n\t\n\t\t// http://jqueryvalidation.org/jQuery.validator.format/\n\t\t$.validator.format = function (source, params) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\targs.unshift(source);\n\t\t\t\t\treturn $.validator.format.apply(this, args);\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\treturn source;\n\t\t\t}\n\t\t\tif (arguments.length > 2 && params.constructor !== Array) {\n\t\t\t\tparams = $.makeArray(arguments).slice(1);\n\t\t\t}\n\t\t\tif (params.constructor !== Array) {\n\t\t\t\tparams = [params];\n\t\t\t}\n\t\t\t$.each(params, function (i, n) {\n\t\t\t\tsource = source.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), function () {\n\t\t\t\t\treturn n;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn source;\n\t\t};\n\t\n\t\t$.extend($.validator, {\n\t\n\t\t\tdefaults: {\n\t\t\t\tmessages: {},\n\t\t\t\tgroups: {},\n\t\t\t\trules: {},\n\t\t\t\terrorClass: \"error\",\n\t\t\t\tpendingClass: \"pending\",\n\t\t\t\tvalidClass: \"valid\",\n\t\t\t\terrorElement: \"label\",\n\t\t\t\tfocusCleanup: false,\n\t\t\t\tfocusInvalid: true,\n\t\t\t\terrorContainer: $([]),\n\t\t\t\terrorLabelContainer: $([]),\n\t\t\t\tonsubmit: true,\n\t\t\t\tignore: \":hidden\",\n\t\t\t\tignoreTitle: false,\n\t\t\t\tonfocusin: function onfocusin(element) {\n\t\t\t\t\tthis.lastActive = element;\n\t\n\t\t\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\t\t\tif (this.settings.focusCleanup) {\n\t\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hideThese(this.errorsFor(element));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonfocusout: function onfocusout(element) {\n\t\t\t\t\tif (!this.checkable(element) && (element.name in this.submitted || !this.optional(element))) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonkeyup: function onkeyup(element, event) {\n\t\n\t\t\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t\t\t// Shift       => 16\n\t\t\t\t\t// Ctrl        => 17\n\t\t\t\t\t// Alt         => 18\n\t\t\t\t\t// Caps lock   => 20\n\t\t\t\t\t// End         => 35\n\t\t\t\t\t// Home        => 36\n\t\t\t\t\t// Left arrow  => 37\n\t\t\t\t\t// Up arrow    => 38\n\t\t\t\t\t// Right arrow => 39\n\t\t\t\t\t// Down arrow  => 40\n\t\t\t\t\t// Insert      => 45\n\t\t\t\t\t// Num lock    => 144\n\t\t\t\t\t// AltGr key   => 225\n\t\t\t\t\tvar excludedKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n\t\n\t\t\t\t\tif (event.which === 9 && this.elementValue(element) === \"\" || $.inArray(event.keyCode, excludedKeys) !== -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (element.name in this.submitted || element.name in this.invalid) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonclick: function onclick(element) {\n\t\n\t\t\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\t\t\tif (element.name in this.submitted) {\n\t\t\t\t\t\tthis.element(element);\n\t\n\t\t\t\t\t\t// Or option elements, check parent select in that case\n\t\t\t\t\t} else if (element.parentNode.name in this.submitted) {\n\t\t\t\t\t\t\tthis.element(element.parentNode);\n\t\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thighlight: function highlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tunhighlight: function unhighlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\t\t\tsetDefaults: function setDefaults(settings) {\n\t\t\t\t$.extend($.validator.defaults, settings);\n\t\t\t},\n\t\n\t\t\tmessages: {\n\t\t\t\trequired: \"This field is required.\",\n\t\t\t\tremote: \"Please fix this field.\",\n\t\t\t\temail: \"Please enter a valid email address.\",\n\t\t\t\turl: \"Please enter a valid URL.\",\n\t\t\t\tdate: \"Please enter a valid date.\",\n\t\t\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\t\t\tnumber: \"Please enter a valid number.\",\n\t\t\t\tdigits: \"Please enter only digits.\",\n\t\t\t\tequalTo: \"Please enter the same value again.\",\n\t\t\t\tmaxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\n\t\t\t\tminlength: $.validator.format(\"Please enter at least {0} characters.\"),\n\t\t\t\trangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n\t\t\t\trange: $.validator.format(\"Please enter a value between {0} and {1}.\"),\n\t\t\t\tmax: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\n\t\t\t\tmin: $.validator.format(\"Please enter a value greater than or equal to {0}.\"),\n\t\t\t\tstep: $.validator.format(\"Please enter a multiple of {0}.\")\n\t\t\t},\n\t\n\t\t\tautoCreateRanges: false,\n\t\n\t\t\tprototype: {\n\t\n\t\t\t\tinit: function init() {\n\t\t\t\t\tthis.labelContainer = $(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\n\t\t\t\t\tthis.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.valueCache = {};\n\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\tthis.pending = {};\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.reset();\n\t\n\t\t\t\t\tvar groups = this.groups = {},\n\t\t\t\t\t    rules;\n\t\t\t\t\t$.each(this.settings.groups, function (key, value) {\n\t\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\t\tvalue = value.split(/\\s/);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(value, function (index, name) {\n\t\t\t\t\t\t\tgroups[name] = key;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\trules = this.settings.rules;\n\t\t\t\t\t$.each(rules, function (key, value) {\n\t\t\t\t\t\trules[key] = $.validator.normalizeRule(value);\n\t\t\t\t\t});\n\t\n\t\t\t\t\tfunction delegate(event) {\n\t\t\t\t\t\tvar validator = $.data(this.form, \"validator\"),\n\t\t\t\t\t\t    eventType = \"on\" + event.type.replace(/^validate/, \"\"),\n\t\t\t\t\t\t    settings = validator.settings;\n\t\t\t\t\t\tif (settings[eventType] && !$(this).is(settings.ignore)) {\n\t\t\t\t\t\t\tsettings[eventType].call(validator, this, event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$(this.currentForm).on(\"focusin.validate focusout.validate keyup.validate\", \":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" + \"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" + \"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" + \"[type='radio'], [type='checkbox'], [contenteditable]\", delegate)\n\t\n\t\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t\t.on(\"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate);\n\t\n\t\t\t\t\tif (this.settings.invalidHandler) {\n\t\t\t\t\t\t$(this.currentForm).on(\"invalid-form.validate\", this.settings.invalidHandler);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t\t\t$(this.currentForm).find(\"[required], [data-rule-required], .required\").attr(\"aria-required\", \"true\");\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.form/\n\t\t\t\tform: function form() {\n\t\t\t\t\tthis.checkForm();\n\t\t\t\t\t$.extend(this.submitted, this.errorMap);\n\t\t\t\t\tthis.invalid = $.extend({}, this.errorMap);\n\t\t\t\t\tif (!this.valid()) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.showErrors();\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\tcheckForm: function checkForm() {\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tfor (var i = 0, elements = this.currentElements = this.elements(); elements[i]; i++) {\n\t\t\t\t\t\tthis.check(elements[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.element/\n\t\t\t\telement: function element(_element) {\n\t\t\t\t\tvar cleanElement = this.clean(_element),\n\t\t\t\t\t    checkElement = this.validationTargetFor(cleanElement),\n\t\t\t\t\t    v = this,\n\t\t\t\t\t    result = true,\n\t\t\t\t\t    rs,\n\t\t\t\t\t    group;\n\t\n\t\t\t\t\tif (checkElement === undefined) {\n\t\t\t\t\t\tdelete this.invalid[cleanElement.name];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.prepareElement(checkElement);\n\t\t\t\t\t\tthis.currentElements = $(checkElement);\n\t\n\t\t\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t\t\t// containing a value\n\t\t\t\t\t\tgroup = this.groups[checkElement.name];\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t$.each(this.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\tif (testgroup === group && name !== checkElement.name) {\n\t\t\t\t\t\t\t\t\tcleanElement = v.validationTargetFor(v.clean(v.findByName(name)));\n\t\t\t\t\t\t\t\t\tif (cleanElement && cleanElement.name in v.invalid) {\n\t\t\t\t\t\t\t\t\t\tv.currentElements.push(cleanElement);\n\t\t\t\t\t\t\t\t\t\tresult = result && v.check(cleanElement);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trs = this.check(checkElement) !== false;\n\t\t\t\t\t\tresult = result && rs;\n\t\t\t\t\t\tif (rs) {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!this.numberOfInvalids()) {\n\t\n\t\t\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\t\t\tthis.toHide = this.toHide.add(this.containers);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showErrors();\n\t\n\t\t\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t\t\t$(_element).attr(\"aria-invalid\", !rs);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\t\t\tshowErrors: function showErrors(errors) {\n\t\t\t\t\tif (errors) {\n\t\t\t\t\t\tvar validator = this;\n\t\n\t\t\t\t\t\t// Add items to error list and map\n\t\t\t\t\t\t$.extend(this.errorMap, errors);\n\t\t\t\t\t\tthis.errorList = $.map(this.errorMap, function (message, name) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\t\t\telement: validator.findByName(name)[0]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t// Remove items from success list\n\t\t\t\t\t\tthis.successList = $.grep(this.successList, function (element) {\n\t\t\t\t\t\t\treturn !(element.name in errors);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.showErrors) {\n\t\t\t\t\t\tthis.settings.showErrors.call(this, this.errorMap, this.errorList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.defaultShowErrors();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\t\t\tresetForm: function resetForm() {\n\t\t\t\t\tif ($.fn.resetForm) {\n\t\t\t\t\t\t$(this.currentForm).resetForm();\n\t\t\t\t\t}\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tvar elements = this.elements().removeData(\"previousValue\").removeAttr(\"aria-invalid\");\n\t\n\t\t\t\t\tthis.resetElements(elements);\n\t\t\t\t},\n\t\n\t\t\t\tresetElements: function resetElements(elements) {\n\t\t\t\t\tvar i;\n\t\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0; elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, \"\");\n\t\t\t\t\t\t\tthis.findByName(elements[i].name).removeClass(this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\telements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tnumberOfInvalids: function numberOfInvalids() {\n\t\t\t\t\treturn this.objectLength(this.invalid);\n\t\t\t\t},\n\t\n\t\t\t\tobjectLength: function objectLength(obj) {\n\t\t\t\t\t/* jshint unused: false */\n\t\t\t\t\tvar count = 0,\n\t\t\t\t\t    i;\n\t\t\t\t\tfor (i in obj) {\n\t\t\t\t\t\tif (obj[i]) {\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn count;\n\t\t\t\t},\n\t\n\t\t\t\thideErrors: function hideErrors() {\n\t\t\t\t\tthis.hideThese(this.toHide);\n\t\t\t\t},\n\t\n\t\t\t\thideThese: function hideThese(errors) {\n\t\t\t\t\terrors.not(this.containers).text(\"\");\n\t\t\t\t\tthis.addWrapper(errors).hide();\n\t\t\t\t},\n\t\n\t\t\t\tvalid: function valid() {\n\t\t\t\t\treturn this.size() === 0;\n\t\t\t\t},\n\t\n\t\t\t\tsize: function size() {\n\t\t\t\t\treturn this.errorList.length;\n\t\t\t\t},\n\t\n\t\t\t\tfocusInvalid: function focusInvalid() {\n\t\t\t\t\tif (this.settings.focusInvalid) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(\":visible\").focus()\n\t\n\t\t\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t\t\t.trigger(\"focusin\");\n\t\t\t\t\t\t} catch (e) {\n\t\n\t\t\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tfindLastActive: function findLastActive() {\n\t\t\t\t\tvar lastActive = this.lastActive;\n\t\t\t\t\treturn lastActive && $.grep(this.errorList, function (n) {\n\t\t\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t\t\t}).length === 1 && lastActive;\n\t\t\t\t},\n\t\n\t\t\t\telements: function elements() {\n\t\t\t\t\tvar validator = this,\n\t\t\t\t\t    rulesCache = {};\n\t\n\t\t\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\t\t\treturn $(this.currentForm).find(\"input, select, textarea, [contenteditable]\").not(\":submit, :reset, :image, :disabled\").not(this.settings.ignore).filter(function () {\n\t\t\t\t\t\tvar name = this.name || $(this).attr(\"name\"); // For contenteditable\n\t\t\t\t\t\tif (!name && validator.settings.debug && window.console) {\n\t\t\t\t\t\t\tconsole.error(\"%o has no name assigned\", this);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Set form expando on contenteditable\n\t\t\t\t\t\tif (this.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\t\tthis.form = $(this).closest(\"form\")[0];\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\t\t\tif (name in rulesCache || !validator.objectLength($(this).rules())) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trulesCache[name] = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tclean: function clean(selector) {\n\t\t\t\t\treturn $(selector)[0];\n\t\t\t\t},\n\t\n\t\t\t\terrors: function errors() {\n\t\t\t\t\tvar errorClass = this.settings.errorClass.split(\" \").join(\".\");\n\t\t\t\t\treturn $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\n\t\t\t\t},\n\t\n\t\t\t\tresetInternals: function resetInternals() {\n\t\t\t\t\tthis.successList = [];\n\t\t\t\t\tthis.errorList = [];\n\t\t\t\t\tthis.errorMap = {};\n\t\t\t\t\tthis.toShow = $([]);\n\t\t\t\t\tthis.toHide = $([]);\n\t\t\t\t},\n\t\n\t\t\t\treset: function reset() {\n\t\t\t\t\tthis.resetInternals();\n\t\t\t\t\tthis.currentElements = $([]);\n\t\t\t\t},\n\t\n\t\t\t\tprepareForm: function prepareForm() {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errors().add(this.containers);\n\t\t\t\t},\n\t\n\t\t\t\tprepareElement: function prepareElement(element) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errorsFor(element);\n\t\t\t\t},\n\t\n\t\t\t\telementValue: function elementValue(element) {\n\t\t\t\t\tvar $element = $(element),\n\t\t\t\t\t    type = element.type,\n\t\t\t\t\t    val,\n\t\t\t\t\t    idx;\n\t\n\t\t\t\t\tif (type === \"radio\" || type === \"checkbox\") {\n\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").val();\n\t\t\t\t\t} else if (type === \"number\" && typeof element.validity !== \"undefined\") {\n\t\t\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (element.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\tval = $element.text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (type === \"file\") {\n\t\n\t\t\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\t\t\tif (val.substr(0, 12) === \"C:\\\\fakepath\\\\\") {\n\t\t\t\t\t\t\treturn val.substr(12);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Legacy browsers\n\t\t\t\t\t\t// Unix-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"/\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Windows-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"\\\\\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Just the file name\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (typeof val === \"string\") {\n\t\t\t\t\t\treturn val.replace(/\\r/g, \"\");\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\t\n\t\t\t\tcheck: function check(element) {\n\t\t\t\t\telement = this.validationTargetFor(this.clean(element));\n\t\n\t\t\t\t\tvar rules = $(element).rules(),\n\t\t\t\t\t    rulesCount = $.map(rules, function (n, i) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}).length,\n\t\t\t\t\t    dependencyMismatch = false,\n\t\t\t\t\t    val = this.elementValue(element),\n\t\t\t\t\t    result,\n\t\t\t\t\t    method,\n\t\t\t\t\t    rule;\n\t\n\t\t\t\t\t// If a normalizer is defined for this element, then\n\t\t\t\t\t// call it to retreive the changed value instead\n\t\t\t\t\t// of using the real one.\n\t\t\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\t\t\tif (typeof rules.normalizer === \"function\") {\n\t\t\t\t\t\tval = rules.normalizer.call(element, val);\n\t\n\t\t\t\t\t\tif (typeof val !== \"string\") {\n\t\t\t\t\t\t\tthrow new TypeError(\"The normalizer should return a string value.\");\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t\t\t// it as a pre-defined method.\n\t\t\t\t\t\tdelete rules.normalizer;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor (method in rules) {\n\t\t\t\t\t\trule = { method: method, parameters: rules[method] };\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresult = $.validator.methods[method].call(this, val, element, rule.parameters);\n\t\n\t\t\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\t\t\tif (result === \"dependency-mismatch\" && rulesCount === 1) {\n\t\t\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdependencyMismatch = false;\n\t\n\t\t\t\t\t\t\tif (result === \"pending\") {\n\t\t\t\t\t\t\t\tthis.toHide = this.toHide.not(this.errorsFor(element));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\t\tthis.formatAndAdd(element, rule);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif (this.settings.debug && window.console) {\n\t\t\t\t\t\t\t\tconsole.log(\"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e instanceof TypeError) {\n\t\t\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (dependencyMismatch) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.objectLength(rules)) {\n\t\t\t\t\t\tthis.successList.push(element);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element and validation method\n\t\t\t\t// specified in the element's HTML5 data attribute\n\t\t\t\t// return the generic message if present and no method specific message is present\n\t\t\t\tcustomDataMessage: function customDataMessage(element, method) {\n\t\t\t\t\treturn $(element).data(\"msg\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase()) || $(element).data(\"msg\");\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element name and validation method\n\t\t\t\tcustomMessage: function customMessage(name, method) {\n\t\t\t\t\tvar m = this.settings.messages[name];\n\t\t\t\t\treturn m && (m.constructor === String ? m : m[method]);\n\t\t\t\t},\n\t\n\t\t\t\t// Return the first defined argument, allowing empty strings\n\t\t\t\tfindDefined: function findDefined() {\n\t\t\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\t\t\tif (arguments[i] !== undefined) {\n\t\t\t\t\t\t\treturn arguments[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultMessage: function defaultMessage(element, rule) {\n\t\t\t\t\tvar message = this.findDefined(this.customMessage(element.name, rule.method), this.customDataMessage(element, rule.method),\n\t\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined, $.validator.messages[rule.method], \"<strong>Warning: No message defined for \" + element.name + \"</strong>\"),\n\t\t\t\t\t    theregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\t\t\tif (typeof message === \"function\") {\n\t\t\t\t\t\tmessage = message.call(this, rule.parameters, element);\n\t\t\t\t\t} else if (theregex.test(message)) {\n\t\t\t\t\t\tmessage = $.validator.format(message.replace(theregex, \"{$1}\"), rule.parameters);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn message;\n\t\t\t\t},\n\t\n\t\t\t\tformatAndAdd: function formatAndAdd(element, rule) {\n\t\t\t\t\tvar message = this.defaultMessage(element, rule);\n\t\n\t\t\t\t\tthis.errorList.push({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: element,\n\t\t\t\t\t\tmethod: rule.method\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.errorMap[element.name] = message;\n\t\t\t\t\tthis.submitted[element.name] = message;\n\t\t\t\t},\n\t\n\t\t\t\taddWrapper: function addWrapper(toToggle) {\n\t\t\t\t\tif (this.settings.wrapper) {\n\t\t\t\t\t\ttoToggle = toToggle.add(toToggle.parent(this.settings.wrapper));\n\t\t\t\t\t}\n\t\t\t\t\treturn toToggle;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultShowErrors: function defaultShowErrors() {\n\t\t\t\t\tvar i, elements, error;\n\t\t\t\t\tfor (i = 0; this.errorList[i]; i++) {\n\t\t\t\t\t\terror = this.errorList[i];\n\t\t\t\t\t\tif (this.settings.highlight) {\n\t\t\t\t\t\t\tthis.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showLabel(error.element, error.message);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.errorList.length) {\n\t\t\t\t\t\tthis.toShow = this.toShow.add(this.containers);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.success) {\n\t\t\t\t\t\tfor (i = 0; this.successList[i]; i++) {\n\t\t\t\t\t\t\tthis.showLabel(this.successList[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0, elements = this.validElements(); elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toHide = this.toHide.not(this.toShow);\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tthis.addWrapper(this.toShow).show();\n\t\t\t\t},\n\t\n\t\t\t\tvalidElements: function validElements() {\n\t\t\t\t\treturn this.currentElements.not(this.invalidElements());\n\t\t\t\t},\n\t\n\t\t\t\tinvalidElements: function invalidElements() {\n\t\t\t\t\treturn $(this.errorList).map(function () {\n\t\t\t\t\t\treturn this.element;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tshowLabel: function showLabel(element, message) {\n\t\t\t\t\tvar place,\n\t\t\t\t\t    group,\n\t\t\t\t\t    errorID,\n\t\t\t\t\t    v,\n\t\t\t\t\t    error = this.errorsFor(element),\n\t\t\t\t\t    elementID = this.idOrName(element),\n\t\t\t\t\t    describedBy = $(element).attr(\"aria-describedby\");\n\t\n\t\t\t\t\tif (error.length) {\n\t\n\t\t\t\t\t\t// Refresh error/success class\n\t\t\t\t\t\terror.removeClass(this.settings.validClass).addClass(this.settings.errorClass);\n\t\n\t\t\t\t\t\t// Replace message on existing label\n\t\t\t\t\t\terror.html(message);\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t// Create error element\n\t\t\t\t\t\terror = $(\"<\" + this.settings.errorElement + \">\").attr(\"id\", elementID + \"-error\").addClass(this.settings.errorClass).html(message || \"\");\n\t\n\t\t\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\t\t\tplace = error;\n\t\t\t\t\t\tif (this.settings.wrapper) {\n\t\n\t\t\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\t\t\tplace = error.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.labelContainer.length) {\n\t\t\t\t\t\t\tthis.labelContainer.append(place);\n\t\t\t\t\t\t} else if (this.settings.errorPlacement) {\n\t\t\t\t\t\t\tthis.settings.errorPlacement(place, $(element));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplace.insertAfter(element);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Link error back to the element\n\t\t\t\t\t\tif (error.is(\"label\")) {\n\t\n\t\t\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\t\t\terror.attr(\"for\", elementID);\n\t\n\t\t\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t\t\t} else if (error.parents(\"label[for='\" + this.escapeCssMeta(elementID) + \"']\").length === 0) {\n\t\t\t\t\t\t\t\terrorID = error.attr(\"id\");\n\t\n\t\t\t\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\t\t\t\tif (!describedBy) {\n\t\t\t\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t\t\t\t} else if (!describedBy.match(new RegExp(\"\\\\b\" + this.escapeCssMeta(errorID) + \"\\\\b\"))) {\n\t\n\t\t\t\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$(element).attr(\"aria-describedby\", describedBy);\n\t\n\t\t\t\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\t\t\t\tgroup = this.groups[element.name];\n\t\t\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t\t\t\t$.each(v.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\t\t\tif (testgroup === group) {\n\t\t\t\t\t\t\t\t\t\t\t$(\"[name='\" + v.escapeCssMeta(name) + \"']\", v.currentForm).attr(\"aria-describedby\", error.attr(\"id\"));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!message && this.settings.success) {\n\t\t\t\t\t\terror.text(\"\");\n\t\t\t\t\t\tif (typeof this.settings.success === \"string\") {\n\t\t\t\t\t\t\terror.addClass(this.settings.success);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.settings.success(error, element);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toShow = this.toShow.add(error);\n\t\t\t\t},\n\t\n\t\t\t\terrorsFor: function errorsFor(element) {\n\t\t\t\t\tvar name = this.escapeCssMeta(this.idOrName(element)),\n\t\t\t\t\t    describer = $(element).attr(\"aria-describedby\"),\n\t\t\t\t\t    selector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\t\n\t\t\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\t\t\tif (describer) {\n\t\t\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta(describer).replace(/\\s+/g, \", #\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn this.errors().filter(selector);\n\t\t\t\t},\n\t\n\t\t\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t\t\t// as a literal part of a name/id or any selector.\n\t\t\t\tescapeCssMeta: function escapeCssMeta(string) {\n\t\t\t\t\treturn string.replace(/([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\");\n\t\t\t\t},\n\t\n\t\t\t\tidOrName: function idOrName(element) {\n\t\t\t\t\treturn this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\n\t\t\t\t},\n\t\n\t\t\t\tvalidationTargetFor: function validationTargetFor(element) {\n\t\n\t\t\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\telement = this.findByName(element.name);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Always apply ignore filter\n\t\t\t\t\treturn $(element).not(this.settings.ignore)[0];\n\t\t\t\t},\n\t\n\t\t\t\tcheckable: function checkable(element) {\n\t\t\t\t\treturn (/radio|checkbox/i.test(element.type)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\n\t\t\t\tfindByName: function findByName(name) {\n\t\t\t\t\treturn $(this.currentForm).find(\"[name='\" + this.escapeCssMeta(name) + \"']\");\n\t\t\t\t},\n\t\n\t\t\t\tgetLength: function getLength(value, element) {\n\t\t\t\t\tswitch (element.nodeName.toLowerCase()) {\n\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\treturn $(\"option:selected\", element).length;\n\t\t\t\t\t\tcase \"input\":\n\t\t\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length;\n\t\t\t\t},\n\t\n\t\t\t\tdepend: function depend(param, element) {\n\t\t\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\n\t\t\t\t},\n\t\n\t\t\t\tdependTypes: {\n\t\t\t\t\t\"boolean\": function boolean(param) {\n\t\t\t\t\t\treturn param;\n\t\t\t\t\t},\n\t\t\t\t\t\"string\": function string(param, element) {\n\t\t\t\t\t\treturn !!$(param, element.form).length;\n\t\t\t\t\t},\n\t\t\t\t\t\"function\": function _function(param, element) {\n\t\t\t\t\t\treturn param(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\toptional: function optional(element) {\n\t\t\t\t\tvar val = this.elementValue(element);\n\t\t\t\t\treturn !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\n\t\t\t\t},\n\t\n\t\t\t\tstartRequest: function startRequest(element) {\n\t\t\t\t\tif (!this.pending[element.name]) {\n\t\t\t\t\t\tthis.pendingRequest++;\n\t\t\t\t\t\t$(element).addClass(this.settings.pendingClass);\n\t\t\t\t\t\tthis.pending[element.name] = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tstopRequest: function stopRequest(element, valid) {\n\t\t\t\t\tthis.pendingRequest--;\n\t\n\t\t\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\t\t\tif (this.pendingRequest < 0) {\n\t\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\t}\n\t\t\t\t\tdelete this.pending[element.name];\n\t\t\t\t\t$(element).removeClass(this.settings.pendingClass);\n\t\t\t\t\tif (valid && this.pendingRequest === 0 && this.formSubmitted && this.form()) {\n\t\t\t\t\t\t$(this.currentForm).submit();\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t} else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tpreviousValue: function previousValue(element, method) {\n\t\t\t\t\treturn $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\n\t\t\t\t\t\told: null,\n\t\t\t\t\t\tvalid: true,\n\t\t\t\t\t\tmessage: this.defaultMessage(element, { method: method })\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\t\t\tdestroy: function destroy() {\n\t\t\t\t\tthis.resetForm();\n\t\n\t\t\t\t\t$(this.currentForm).off(\".validate\").removeData(\"validator\").find(\".validate-equalTo-blur\").off(\".validate-equalTo\").removeClass(\"validate-equalTo-blur\");\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tclassRuleSettings: {\n\t\t\t\trequired: { required: true },\n\t\t\t\temail: { email: true },\n\t\t\t\turl: { url: true },\n\t\t\t\tdate: { date: true },\n\t\t\t\tdateISO: { dateISO: true },\n\t\t\t\tnumber: { number: true },\n\t\t\t\tdigits: { digits: true },\n\t\t\t\tcreditcard: { creditcard: true }\n\t\t\t},\n\t\n\t\t\taddClassRules: function addClassRules(className, rules) {\n\t\t\t\tif (className.constructor === String) {\n\t\t\t\t\tthis.classRuleSettings[className] = rules;\n\t\t\t\t} else {\n\t\t\t\t\t$.extend(this.classRuleSettings, className);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tclassRules: function classRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    classes = $(element).attr(\"class\");\n\t\n\t\t\t\tif (classes) {\n\t\t\t\t\t$.each(classes.split(\" \"), function () {\n\t\t\t\t\t\tif (this in $.validator.classRuleSettings) {\n\t\t\t\t\t\t\t$.extend(rules, $.validator.classRuleSettings[this]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeAttributeRule: function normalizeAttributeRule(rules, type, method, value) {\n\t\n\t\t\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t\t\t// allows type=\"date\" and others to be compared as strings\n\t\t\t\tif (/min|max|step/.test(method) && (type === null || /number|range|text/.test(type))) {\n\t\t\t\t\tvalue = Number(value);\n\t\n\t\t\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\t\tvalue = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (value || value === 0) {\n\t\t\t\t\trules[method] = value;\n\t\t\t\t} else if (type === method && type !== \"range\") {\n\t\n\t\t\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t\t\t// does not test for the html5 'range' type\n\t\t\t\t\trules[method] = true;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tattributeRules: function attributeRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\n\t\t\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\tvalue = element.getAttribute(method);\n\t\n\t\t\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\t\t\tif (value === \"\") {\n\t\t\t\t\t\t\tvalue = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\t\t\tvalue = !!value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = $element.attr(method);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\n\t\t\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\t\t\tif (rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength)) {\n\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tdataRules: function dataRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\t\t\t\tvalue = $element.data(\"rule\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase());\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tstaticRules: function staticRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    validator = $.data(element.form, \"validator\");\n\t\n\t\t\t\tif (validator.settings.rules) {\n\t\t\t\t\trules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeRules: function normalizeRules(rules, element) {\n\t\n\t\t\t\t// Handle dependency check\n\t\t\t\t$.each(rules, function (prop, val) {\n\t\n\t\t\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (val.param || val.depends) {\n\t\t\t\t\t\tvar keepRule = true;\n\t\t\t\t\t\tswitch (typeof val.depends) {\n\t\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\t\tkeepRule = !!$(val.depends, element.form).length;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\t\tkeepRule = val.depends.call(element, element);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (keepRule) {\n\t\t\t\t\t\t\trules[prop] = val.param !== undefined ? val.param : true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.data(element.form, \"validator\").resetElements($(element));\n\t\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\t// Evaluate parameters\n\t\t\t\t$.each(rules, function (rule, parameter) {\n\t\t\t\t\trules[rule] = $.isFunction(parameter) && rule !== \"normalizer\" ? parameter(element) : parameter;\n\t\t\t\t});\n\t\n\t\t\t\t// Clean number parameters\n\t\t\t\t$.each([\"minlength\", \"maxlength\"], function () {\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\trules[this] = Number(rules[this]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$.each([\"rangelength\", \"range\"], function () {\n\t\t\t\t\tvar parts;\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\tif ($.isArray(rules[this])) {\n\t\t\t\t\t\t\trules[this] = [Number(rules[this][0]), Number(rules[this][1])];\n\t\t\t\t\t\t} else if (typeof rules[this] === \"string\") {\n\t\t\t\t\t\t\tparts = rules[this].replace(/[\\[\\]]/g, \"\").split(/[\\s,]+/);\n\t\t\t\t\t\t\trules[this] = [Number(parts[0]), Number(parts[1])];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif ($.validator.autoCreateRanges) {\n\t\n\t\t\t\t\t// Auto-create ranges\n\t\t\t\t\tif (rules.min != null && rules.max != null) {\n\t\t\t\t\t\trules.range = [rules.min, rules.max];\n\t\t\t\t\t\tdelete rules.min;\n\t\t\t\t\t\tdelete rules.max;\n\t\t\t\t\t}\n\t\t\t\t\tif (rules.minlength != null && rules.maxlength != null) {\n\t\t\t\t\t\trules.rangelength = [rules.minlength, rules.maxlength];\n\t\t\t\t\t\tdelete rules.minlength;\n\t\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\t\t\tnormalizeRule: function normalizeRule(data) {\n\t\t\t\tif (typeof data === \"string\") {\n\t\t\t\t\tvar transformed = {};\n\t\t\t\t\t$.each(data.split(/\\s/), function () {\n\t\t\t\t\t\ttransformed[this] = true;\n\t\t\t\t\t});\n\t\t\t\t\tdata = transformed;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\t\t\taddMethod: function addMethod(name, method, message) {\n\t\t\t\t$.validator.methods[name] = method;\n\t\t\t\t$.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n\t\t\t\tif (method.length < 3) {\n\t\t\t\t\t$.validator.addClassRules(name, $.validator.normalizeRule(name));\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\t\t\tmethods: {\n\t\n\t\t\t\t// http://jqueryvalidation.org/required-method/\n\t\t\t\trequired: function required(value, element, param) {\n\t\n\t\t\t\t\t// Check if dependency is met\n\t\t\t\t\tif (!this.depend(param, element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\t\t\t\tif (element.nodeName.toLowerCase() === \"select\") {\n\t\n\t\t\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\t\t\tvar val = $(element).val();\n\t\t\t\t\t\treturn val && val.length > 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\treturn this.getLength(value, element) > 0;\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length > 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/email-method/\n\t\t\t\temail: function email(value, element) {\n\t\n\t\t\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t\t\t// Retrieved 2014-01-14\n\t\t\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t\t\t// Or use custom methods to implement your own email validation\n\t\t\t\t\treturn this.optional(element) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/url-method/\n\t\t\t\turl: function url(value, element) {\n\t\n\t\t\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t\t\t// modified to allow protocol-relative URLs\n\t\t\t\t\treturn this.optional(element) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/date-method/\n\t\t\t\tdate: function date(value, element) {\n\t\t\t\t\treturn this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString());\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\t\t\tdateISO: function dateISO(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/number-method/\n\t\t\t\tnumber: function number(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/digits-method/\n\t\t\t\tdigits: function digits(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d+$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/minlength-method/\n\t\t\t\tminlength: function minlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\t\t\tmaxlength: function maxlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\t\t\trangelength: function rangelength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param[0] && length <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/min-method/\n\t\t\t\tmin: function min(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/max-method/\n\t\t\t\tmax: function max(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/range-method/\n\t\t\t\trange: function range(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param[0] && value <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/step-method/\n\t\t\t\tstep: function step(value, element, param) {\n\t\t\t\t\tvar type = $(element).attr(\"type\"),\n\t\t\t\t\t    errorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\t\t    supportedTypes = [\"text\", \"number\", \"range\"],\n\t\t\t\t\t    re = new RegExp(\"\\\\b\" + type + \"\\\\b\"),\n\t\t\t\t\t    notSupported = type && !re.test(supportedTypes.join());\n\t\n\t\t\t\t\t// Works only for text, number and range input types\n\t\t\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\t\t\tif (notSupported) {\n\t\t\t\t\t\tthrow new Error(errorMessage);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.optional(element) || value % param === 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\t\t\tequalTo: function equalTo(value, element, param) {\n\t\n\t\t\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\t\t\tvar target = $(param);\n\t\t\t\t\tif (this.settings.onfocusout && target.not(\".validate-equalTo-blur\").length) {\n\t\t\t\t\t\ttarget.addClass(\"validate-equalTo-blur\").on(\"blur.validate-equalTo\", function () {\n\t\t\t\t\t\t\t$(element).valid();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn value === target.val();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/remote-method/\n\t\t\t\tremote: function remote(value, element, param, method) {\n\t\t\t\t\tif (this.optional(element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\n\t\t\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\t\n\t\t\t\t\tvar previous = this.previousValue(element, method),\n\t\t\t\t\t    validator,\n\t\t\t\t\t    data,\n\t\t\t\t\t    optionDataString;\n\t\n\t\t\t\t\tif (!this.settings.messages[element.name]) {\n\t\t\t\t\t\tthis.settings.messages[element.name] = {};\n\t\t\t\t\t}\n\t\t\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[element.name][method];\n\t\t\t\t\tthis.settings.messages[element.name][method] = previous.message;\n\t\n\t\t\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\t\t\toptionDataString = $.param($.extend({ data: value }, param.data));\n\t\t\t\t\tif (previous.old === optionDataString) {\n\t\t\t\t\t\treturn previous.valid;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tprevious.old = optionDataString;\n\t\t\t\t\tvalidator = this;\n\t\t\t\t\tthis.startRequest(element);\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata[element.name] = value;\n\t\t\t\t\t$.ajax($.extend(true, {\n\t\t\t\t\t\tmode: \"abort\",\n\t\t\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tcontext: validator.currentForm,\n\t\t\t\t\t\tsuccess: function success(response) {\n\t\t\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\t\t    errors,\n\t\t\t\t\t\t\t    message,\n\t\t\t\t\t\t\t    submitted;\n\t\n\t\t\t\t\t\t\tvalidator.settings.messages[element.name][method] = previous.originalMessage;\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\t\t\tvalidator.toHide = validator.errorsFor(element);\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\t\t\tvalidator.successList.push(element);\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = false;\n\t\t\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\t\t\tmessage = response || validator.defaultMessage(element, { method: method, parameters: value });\n\t\t\t\t\t\t\t\terrors[element.name] = previous.message = message;\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = true;\n\t\t\t\t\t\t\t\tvalidator.showErrors(errors);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\t\t\tvalidator.stopRequest(element, valid);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, param));\n\t\t\t\t\treturn \"pending\";\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t});\n\t\n\t\t// Ajax mode: abort\n\t\t// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n\t\t// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\t\n\t\tvar pendingRequests = {},\n\t\t    ajax;\n\t\n\t\t// Use a prefilter if available (1.5+)\n\t\tif ($.ajaxPrefilter) {\n\t\t\t$.ajaxPrefilter(function (settings, _, xhr) {\n\t\t\t\tvar port = settings.port;\n\t\t\t\tif (settings.mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = xhr;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\n\t\t\t// Proxy ajax\n\t\t\tajax = $.ajax;\n\t\t\t$.ajax = function (settings) {\n\t\t\t\tvar mode = (\"mode\" in settings ? settings : $.ajaxSettings).mode,\n\t\t\t\t    port = (\"port\" in settings ? settings : $.ajaxSettings).port;\n\t\t\t\tif (mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = ajax.apply(this, arguments);\n\t\t\t\t\treturn pendingRequests[port];\n\t\t\t\t}\n\t\t\t\treturn ajax.apply(this, arguments);\n\t\t\t};\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 22:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/**\n\t * jQuery Formset 1.3-pre\n\t * @author Stanislaus Madueke (stan DOT madueke AT gmail DOT com)\n\t * @requires jQuery 1.2.6 or later\n\t *\n\t * Copyright (c) 2009, Stanislaus Madueke\n\t * All rights reserved.\n\t *\n\t * Licensed under the New BSD License\n\t * See: http://www.opensource.org/licenses/bsd-license.php\n\t */\n\t'use strict';\n\t\n\t;(function ($) {\n\t    $.fn.formset = function (opts) {\n\t        var options = $.extend({}, $.fn.formset.defaults, opts),\n\t            flatExtraClasses = options.extraClasses.join(' '),\n\t            totalForms = $('#id_' + options.prefix + '-TOTAL_FORMS'),\n\t            maxForms = $('#id_' + options.prefix + '-MAX_NUM_FORMS'),\n\t            minForms = $('#id_' + options.prefix + '-MIN_NUM_FORMS'),\n\t            childElementSelector = 'input,select,textarea,label,div',\n\t            $$ = $(this),\n\t            applyExtraClasses = function applyExtraClasses(row, ndx) {\n\t            if (options.extraClasses) {\n\t                row.removeClass(flatExtraClasses);\n\t                row.addClass(options.extraClasses[ndx % options.extraClasses.length]);\n\t            }\n\t        },\n\t            updateElementIndex = function updateElementIndex(elem, prefix, ndx) {\n\t            var idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n\t                replacement = prefix + '-' + ndx + '-';\n\t            if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n\t            if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n\t            if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n\t        },\n\t            hasChildElements = function hasChildElements(row) {\n\t            return row.find(childElementSelector).length > 0;\n\t        },\n\t            showAddButton = function showAddButton() {\n\t            return maxForms.length == 0 || // For Django versions pre 1.2\n\t            maxForms.val() == '' || maxForms.val() - totalForms.val() > 0;\n\t        },\n\t\n\t        /**\n\t        * Indicates whether delete link(s) can be displayed - when total forms > min forms\n\t        */\n\t        showDeleteLinks = function showDeleteLinks() {\n\t            return minForms.length == 0 || // For Django versions pre 1.7\n\t            minForms.val() == '' || totalForms.val() - minForms.val() > 0;\n\t        },\n\t            insertDeleteLink = function insertDeleteLink(row) {\n\t            var delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.'),\n\t                addCssSelector = $.trim(options.addCssClass).replace(/\\s+/g, '.');\n\t            if (row.is('TR')) {\n\t                // If the forms are laid out in table rows, insert\n\t                // the remove button into the last table cell:\n\t                row.children(':last').append('<a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText + '</a>');\n\t            } else if (row.is('UL') || row.is('OL')) {\n\t                // If they're laid out as an ordered/unordered list,\n\t                // insert an <li> after the last list item:\n\t                row.append('<li><a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText + '</a></li>');\n\t            } else {\n\t                // Otherwise, just insert the remove button as the\n\t                // last child element of the form's container:\n\t                if (options.deleteTemplate) {\n\t                    row.append(options.deleteTemplate);\n\t                } else {\n\t                    row.append('<a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText + '</a>');\n\t                }\n\t            }\n\t            // Check if we're under the minimum number of forms - not to display delete link at rendering\n\t            if (!showDeleteLinks()) {\n\t                row.find('a.' + delCssSelector).hide();\n\t            }\n\t\n\t            row.find('a.' + delCssSelector).click(function () {\n\t                var row = $(this).parents('.' + options.formCssClass),\n\t                    del = row.find('input:hidden[id $= \"-DELETE\"]'),\n\t                    buttonRow = row.siblings(\"a.\" + addCssSelector + ', .' + options.formCssClass + '-add'),\n\t                    forms;\n\t                if (del.length) {\n\t                    // We're dealing with an inline formset.\n\t                    // Rather than remove this form from the DOM, we'll mark it as deleted\n\t                    // and hide it, then let Django handle the deleting:\n\t                    del.val('on');\n\t                    row.hide();\n\t                    forms = $('.' + options.formCssClass).not(':hidden');\n\t                } else {\n\t                    row.remove();\n\t                    // Update the TOTAL_FORMS count:\n\t                    forms = $('.' + options.formCssClass).not('.formset-custom-template');\n\t                    totalForms.val(forms.length);\n\t                }\n\t                for (var i = 0, formCount = forms.length; i < formCount; i++) {\n\t                    // Apply `extraClasses` to form rows so they're nicely alternating:\n\t                    applyExtraClasses(forms.eq(i), i);\n\t                    if (!del.length) {\n\t                        // Also update names and IDs for all child controls (if this isn't\n\t                        // a delete-able inline formset) so they remain in sequence:\n\t                        forms.eq(i).find(childElementSelector).each(function () {\n\t                            updateElementIndex($(this), options.prefix, i);\n\t                        });\n\t                    }\n\t                }\n\t                // Check if we've reached the minimum number of forms - hide all delete link(s)\n\t                if (!showDeleteLinks()) {\n\t                    $('.' + options.formCssClass).find('a.' + delCssSelector).each(function () {\n\t                        $(this).hide();\n\t                    });\n\t                }\n\t                // Check if we need to show the add button:\n\t                if (buttonRow.is(':hidden') && showAddButton()) buttonRow.show();\n\t                // If a post-delete callback was provided, call it with the deleted form:\n\t                if (options.removed) options.removed(row);\n\t                return false;\n\t            });\n\t        };\n\t\n\t        $$.each(function (i) {\n\t            var row = $(this),\n\t                del = row.find('input:checkbox[id $= \"-DELETE\"]');\n\t            if (del.length) {\n\t                // If you specify \"can_delete = True\" when creating an inline formset,\n\t                // Django adds a checkbox to each form in the formset.\n\t                // Replace the default checkbox with a hidden field:\n\t                if (del.is(':checked')) {\n\t                    // If an inline formset containing deleted forms fails validation, make sure\n\t                    // we keep the forms hidden (thanks for the bug report and suggested fix Mike)\n\t                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') + '\" id=\"' + del.attr('id') + '\" value=\"on\" />');\n\t                    row.hide();\n\t                } else {\n\t                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') + '\" id=\"' + del.attr('id') + '\" />');\n\t                }\n\t                // Hide any labels associated with the DELETE checkbox:\n\t                $('label[for=\"' + del.attr('id') + '\"]').hide();\n\t                del.remove();\n\t            }\n\t            if (hasChildElements(row)) {\n\t                row.addClass(options.formCssClass);\n\t                insertDeleteLink(row);\n\t                applyExtraClasses(row, i);\n\t            }\n\t        });\n\t\n\t        if ($$.length) {\n\t            var hideAddButton = !showAddButton(),\n\t                addButton,\n\t                template;\n\t            if (options.formTemplate) {\n\t                // If a form template was specified, we'll clone it to generate new form instances:\n\t                template = options.formTemplate instanceof $ ? options.formTemplate : $(options.formTemplate);\n\t                template.removeAttr('id').addClass(options.formCssClass + ' formset-custom-template');\n\t                template.find(childElementSelector).each(function () {\n\t                    updateElementIndex($(this), options.prefix, '__prefix__');\n\t                });\n\t                insertDeleteLink(template);\n\t            } else {\n\t                // Otherwise, use the last form in the formset; this works much better if you've got\n\t                // extra (>= 1) forms (thnaks to justhamade for pointing this out):\n\t                template = $('.' + options.formCssClass + ':last').clone(true).removeAttr('id');\n\t                template.find('input:hidden[id $= \"-DELETE\"]').remove();\n\t                // Clear all cloned fields, except those the user wants to keep (thanks to brunogola for the suggestion):\n\t                template.find(childElementSelector).not(options.keepFieldValues).each(function () {\n\t                    var elem = $(this);\n\t                    // If this is a checkbox or radiobutton, uncheck it.\n\t                    // This fixes Issue 1, reported by Wilson.Andrew.J:\n\t                    if (elem.is('input:checkbox') || elem.is('input:radio')) {\n\t                        elem.attr('checked', false);\n\t                    } else {\n\t                        elem.val('');\n\t                    }\n\t                });\n\t            }\n\t            // FIXME: Perhaps using $.data would be a better idea?\n\t            options.formTemplate = template;\n\t\n\t            if ($$.is('TR')) {\n\t                // If forms are laid out as table rows, insert the\n\t                // \"add\" button in a new table row:\n\t                var numCols = $$.eq(0).children().length,\n\t                    // This is a bit of an assumption :|\n\t                buttonRow = $('<tr><td colspan=\"' + numCols + '\"><a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a></tr>').addClass(options.formCssClass + '-add');\n\t                $$.parent().append(buttonRow);\n\t                if (hideAddButton) buttonRow.hide();\n\t                addButton = buttonRow.find('a');\n\t            } else {\n\t                // Otherwise, insert it immediately after the last form:\n\t                $$.filter(':last').after('<a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a>');\n\t                addButton = $$.filter(':last').next();\n\t                if (hideAddButton) addButton.hide();\n\t            }\n\t            addButton.click(function () {\n\t                var formCount = parseInt(totalForms.val()),\n\t                    row = options.formTemplate.clone(true).removeClass('formset-custom-template'),\n\t                    buttonRow = $($(this).parents('tr.' + options.formCssClass + '-add').get(0) || this),\n\t                    delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.');\n\t                applyExtraClasses(row, formCount);\n\t                row.insertBefore(buttonRow).show();\n\t                row.find(childElementSelector).each(function () {\n\t                    updateElementIndex($(this), options.prefix, formCount);\n\t                });\n\t                totalForms.val(formCount + 1);\n\t                // Check if we're above the minimum allowed number of forms -> show all delete link(s)\n\t                if (showDeleteLinks()) {\n\t                    $('.' + options.formCssClass).find('a.' + delCssSelector).each(function () {\n\t                        $(this).show();\n\t                    });\n\t                }\n\t                // Check if we've exceeded the maximum allowed number of forms:\n\t                if (!showAddButton()) buttonRow.hide();\n\t                // If a post-add callback was supplied, call it with the added form:\n\t                if (options.added) options.added(row);\n\t                return false;\n\t            });\n\t        }\n\t\n\t        return $$;\n\t    };\n\t\n\t    /* Setup plugin defaults */\n\t    $.fn.formset.defaults = {\n\t        prefix: 'form', // The form prefix for your django formset\n\t        formTemplate: null, // The jQuery selection cloned to generate new form instances\n\t        addText: 'add another', // Text for the add link\n\t        deleteText: 'remove', // Text for the delete link\n\t        addCssClass: 'add-row', // CSS class applied to the add link\n\t        deleteCssClass: 'delete-row', // CSS class applied to the delete link\n\t        formCssClass: 'dynamic-form', // CSS class applied to each form in a formset\n\t        extraClasses: [], // Additional CSS classes, which will be applied to each form in turn\n\t        keepFieldValues: '', // jQuery selector for fields whose values should be kept when the form is cloned\n\t        added: null, // Function called each time a new form is added\n\t        removed: null // Function called each time a form is deleted\n\t    };\n\t})(jQuery);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n\n/***/ 23:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar suggest = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'id',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    // , hideSelected: true\n\t    render: {\n\t        item: templateItem,\n\t        option: templateOption\n\t    },\n\t    load: loadUsers\n\t};\n\t\n\tvar tagger = function tagger(element) {\n\t    var type = (0, _jquery2['default'])(element).data('taggerType');\n\t    switch (type) {\n\t        case 'suggest':\n\t            (0, _jquery2['default'])(element).selectize(suggest);\n\t    }\n\t};\n\t\n\tfunction templateItem(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div>' + name + '</div>';\n\t}\n\tfunction templateOption(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div class=\"item-float-notification\">\\n    <span><img src=\"' + item.img + '\" alt=\"' + name + '\"></span>\\n    <span>' + name + '</span>\\n  </div>';\n\t}\n\t\n\tfunction loadUsers(query, callback) {\n\t    var options = this.$wrapper.prev().data();\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        type: 'GET',\n\t        data: {\n\t            criteria: query\n\t        },\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res.users);\n\t        }\n\t    });\n\t}\n\t\n\texports['default'] = tagger;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 24:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(10);\n\t\n\tvar taxonomy,\n\t    elementData,\n\t    $element,\n\t    TemplateEngine = __webpack_require__(8);\n\t\n\tvar defaultSettings = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'url',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    render: {\n\t        item: renderItem,\n\t        option: renderOption\n\t    },\n\t    load: loadItems\n\t};\n\t\n\tvar defaultTemplates = {\n\t    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n\t    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n\t};\n\t\n\tfunction renderItem(item) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.item;\n\t    var elementData = $element.data();\n\t    if ('templateItem' in elementData && (0, _jquery2['default'])(elementData.templateItem).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateItem).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction renderOption(item, escape) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.option;\n\t    var elementData = $element.data();\n\t    if ('templateOption' in elementData && (0, _jquery2['default'])(elementData.templateOption).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateOption).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction loadItems(query, callback) {\n\t\n\t    var options = (0, _jquery2['default'])(this.$input).data();\n\t\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        data: _data,\n\t        type: options.method || 'GET',\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res);\n\t        }\n\t    });\n\t}\n\t\n\ttaxonomy = function (element) {\n\t    $element = (0, _jquery2['default'])(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t    (0, _jquery2['default'])(element).selectize(selectizeSettings);\n\t};\n\t\n\texports['default'] = taxonomy;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 217:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (check, dataTarget) {\n\t  var $check = $(check);\n\t  var $target = $('[' + dataTarget + ']');\n\t\n\t  if ($check.is(':checked')) {\n\t    console.log($check.val());\n\t  }\n\t\n\t  $check.on({\n\t    change: function change(event) {\n\t      var $this = $(event.currentTarget);\n\t      $target.hide();\n\t      $target.find(':input').attr('disabled', true);\n\t\n\t      if ($this.is(':not(:checked)')) {\n\t        $('[' + dataTarget + ']').show().find(':input').attr('disabled', false);\n\t      }\n\t    }\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.1.js","var map = {\n\t\"./TemplateEngine\": 8,\n\t\"./TemplateEngine.js\": 8,\n\t\"./ajaxselect\": 9,\n\t\"./ajaxselect.js\": 9,\n\t\"./dropzoneUploader\": 13,\n\t\"./dropzoneUploader.js\": 13,\n\t\"./geography\": 14,\n\t\"./geography.js\": 14,\n\t\"./index\": 6,\n\t\"./index.js\": 6,\n\t\"./job\": 15,\n\t\"./job.js\": 15,\n\t\"./profession\": 16,\n\t\"./profession.js\": 16,\n\t\"./steps\": 17,\n\t\"./steps.js\": 17,\n\t\"./tagger\": 23,\n\t\"./tagger.js\": 23,\n\t\"./taxonomy\": 24,\n\t\"./taxonomy.js\": 24\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./asyncModules ^\\.\\/.*$\n// module id = 7\n// module chunks = 1","module.exports = function(html, options) {\n\tvar re = /<%(.+?)%>/g, \n\t\treExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g, \n\t\tcode = 'with(obj) { var r=[];\\n', \n\t\tcursor = 0, \n\t\tresult;\n\tvar add = function(line, js) {\n\t\tjs? (code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n') :\n\t\t\t(code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '');\n\t\treturn add;\n\t}\n\tvar match = re.exec(html);\n\twhile(match) {\n\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\tcursor = match.index + match[0].length;\n\t\tmatch = re.exec(html);\n\t}\n\tadd(html.substr(cursor, html.length - cursor));\n\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\ttry { result = new Function('obj', code).apply(options, [options]); }\n\tcatch(err) { console.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\"); }\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/TemplateEngine.js","'use strict'\n\nimport $ from 'jquery'\nrequire('selectize')\n\nvar elementData,\n    $element;\n\nconst [suggest] = [{\n    valueField: 'id'\n    , labelField: 'name'\n    , searchField: 'name'\n    , create: false\n    , highlight: false\n    , render: {\n        item: templateItem\n        , option: templateOption\n    }\n    , load: loadUsers\n}]\n\nvar ajaxselect = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, suggest, elementData);\n    $(element).selectize(selectizeSettings);\n}\n\nfunction templateItem (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    return `<div>${name}</div>`\n}\nfunction templateOption (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    var template = `<div class=\"item-float-notification\">\n      <span><img src=\"${item.img}\" alt=\"${name}\"></span>\n      ${name}\n    </div>`\n    console.log(template);\n      return template\n}\n\nfunction loadUsers(query, callback) {\n    var options = this.$wrapper.prev().data();\n    if (!query.length) {\n        return callback()\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n    console.log(_data);\n\n    $.ajax({\n        url: options.url,\n        type: 'GET',\n        data: _data,\n        error: function () {\n            callback()\n        },\n        success: function (res) {\n            callback(res.items);\n        }\n    })\n}\n\n\nexport default ajaxselect\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/ajaxselect.js","/**\n * selectize.js (v0.12.4)\n * Copyright (c) 2013–2015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery','sifter','microplugin'], factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t} else {\n\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t}\n}(this, function($, Sifter, MicroPlugin) {\n\t'use strict';\n\n\tvar highlight = function($element, pattern) {\n\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\n\t\tvar highlight = function(node) {\n\t\t\tvar skip = 0;\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\tskip = 1;\n\t\t\t\t}\n\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn skip;\n\t\t};\n\t\n\t\treturn $element.each(function() {\n\t\t\thighlight(this);\n\t\t});\n\t};\n\t\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with() and pass js strict mode\n\t */\n\t$.fn.removeHighlight = function() {\n\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\tvar parent = this.parentNode;\n\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\tparent.normalize();\n\t\t}).end();\n\t};\n\t\n\t\n\tvar MicroEvent = function() {};\n\tMicroEvent.prototype = {\n\t\ton: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\tthis._events[event].push(fct);\n\t\t},\n\t\toff: function(event, fct){\n\t\t\tvar n = arguments.length;\n\t\t\tif (n === 0) return delete this._events;\n\t\t\tif (n === 1) return delete this._events[event];\n\t\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t},\n\t\ttrigger: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t *\n\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t *\n\t * @param {object} the object which will support MicroEvent\n\t */\n\tMicroEvent.mixin = function(destObject){\n\t\tvar props = ['on', 'off', 'trigger'];\n\t\tfor (var i = 0; i < props.length; i++){\n\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t}\n\t};\n\t\n\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\n\tvar KEY_A         = 65;\n\tvar KEY_COMMA     = 188;\n\tvar KEY_RETURN    = 13;\n\tvar KEY_ESC       = 27;\n\tvar KEY_LEFT      = 37;\n\tvar KEY_UP        = 38;\n\tvar KEY_P         = 80;\n\tvar KEY_RIGHT     = 39;\n\tvar KEY_DOWN      = 40;\n\tvar KEY_N         = 78;\n\tvar KEY_BACKSPACE = 8;\n\tvar KEY_DELETE    = 46;\n\tvar KEY_SHIFT     = 16;\n\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\tvar KEY_TAB       = 9;\n\t\n\tvar TAG_SELECT    = 1;\n\tvar TAG_INPUT     = 2;\n\t\n\t// for now, android support in general is too spotty to support validity\n\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\n\t\n\tvar isset = function(object) {\n\t\treturn typeof object !== 'undefined';\n\t};\n\t\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t * @param {string} value\n\t * @returns {string|null}\n\t */\n\tvar hash_key = function(value) {\n\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\treturn value + '';\n\t};\n\t\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_html = function(str) {\n\t\treturn (str + '')\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t};\n\t\n\t/**\n\t * Escapes \"$\" characters in replacement strings.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_replace = function(str) {\n\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t};\n\t\n\tvar hook = {};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked before the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.before = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn original.apply(self, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked after the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.after = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tvar result = original.apply(self, arguments);\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn result;\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be invoked once.\n\t *\n\t * @param {function} fn\n\t * @returns {function}\n\t */\n\tvar once = function(fn) {\n\t\tvar called = false;\n\t\treturn function() {\n\t\t\tif (called) return;\n\t\t\tcalled = true;\n\t\t\tfn.apply(this, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be called once\n\t * every `delay` milliseconds (invoked on the falling edge).\n\t *\n\t * @param {function} fn\n\t * @param {int} delay\n\t * @returns {function}\n\t */\n\tvar debounce = function(fn, delay) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar self = this;\n\t\t\tvar args = arguments;\n\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\tfn.apply(self, args);\n\t\t\t}, delay);\n\t\t};\n\t};\n\t\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t * @param {object} self\n\t * @param {array} types\n\t * @param {function} fn\n\t */\n\tvar debounce_events = function(self, types, fn) {\n\t\tvar type;\n\t\tvar trigger = self.trigger;\n\t\tvar event_args = {};\n\t\n\t\t// override trigger method\n\t\tself.trigger = function() {\n\t\t\tvar type = arguments[0];\n\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\tevent_args[type] = arguments;\n\t\t\t} else {\n\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t}\n\t\t};\n\t\n\t\t// invoke provided function\n\t\tfn.apply(self, []);\n\t\tself.trigger = trigger;\n\t\n\t\t// trigger queued events\n\t\tfor (type in event_args) {\n\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t *\n\t * @param {object} $parent - Parent element to listen on.\n\t * @param {string} event - Event name.\n\t * @param {string} selector - Descendant selector to filter by.\n\t * @param {function} fn - Event handler.\n\t */\n\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t$parent.on(event, selector, function(e) {\n\t\t\tvar child = e.target;\n\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\tchild = child.parentNode;\n\t\t\t}\n\t\t\te.currentTarget = child;\n\t\t\treturn fn.apply(this, [e]);\n\t\t});\n\t};\n\t\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t * @param {object} input\n\t * @returns {object}\n\t */\n\tvar getSelection = function(input) {\n\t\tvar result = {};\n\t\tif ('selectionStart' in input) {\n\t\t\tresult.start = input.selectionStart;\n\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t} else if (document.selection) {\n\t\t\tinput.focus();\n\t\t\tvar sel = document.selection.createRange();\n\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\tresult.start = sel.text.length - selLen;\n\t\t\tresult.length = selLen;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t/**\n\t * Copies CSS properties from one element to another.\n\t *\n\t * @param {object} $from\n\t * @param {object} $to\n\t * @param {array} properties\n\t */\n\tvar transferStyles = function($from, $to, properties) {\n\t\tvar i, n, styles = {};\n\t\tif (properties) {\n\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tstyles = $from.css();\n\t\t}\n\t\t$to.css(styles);\n\t};\n\t\n\t/**\n\t * Measures the width of a string within a\n\t * parent element (in pixels).\n\t *\n\t * @param {string} str\n\t * @param {object} $parent\n\t * @returns {int}\n\t */\n\tvar measureString = function(str, $parent) {\n\t\tif (!str) {\n\t\t\treturn 0;\n\t\t}\n\t\n\t\tvar $test = $('<test>').css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -99999,\n\t\t\tleft: -99999,\n\t\t\twidth: 'auto',\n\t\t\tpadding: 0,\n\t\t\twhiteSpace: 'pre'\n\t\t}).text(str).appendTo('body');\n\t\n\t\ttransferStyles($parent, $test, [\n\t\t\t'letterSpacing',\n\t\t\t'fontSize',\n\t\t\t'fontFamily',\n\t\t\t'fontWeight',\n\t\t\t'textTransform'\n\t\t]);\n\t\n\t\tvar width = $test.width();\n\t\t$test.remove();\n\t\n\t\treturn width;\n\t};\n\t\n\t/**\n\t * Sets up an input to grow horizontally as the user\n\t * types. If the value is changed manually, you can\n\t * trigger the \"update\" handler to resize:\n\t *\n\t * $input.trigger('update');\n\t *\n\t * @param {object} $input\n\t */\n\tvar autoGrow = function($input) {\n\t\tvar currentWidth = null;\n\t\n\t\tvar update = function(e, options) {\n\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\tvar shift, character, selection;\n\t\t\te = e || window.event || {};\n\t\t\toptions = options || {};\n\t\n\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\n\t\t\tvalue = $input.val();\n\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\tprintable = (\n\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t);\n\t\n\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (printable) {\n\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\tvalue += character;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\tif (!value && placeholder) {\n\t\t\t\tvalue = placeholder;\n\t\t\t}\n\t\n\t\t\twidth = measureString(value, $input) + 4;\n\t\t\tif (width !== currentWidth) {\n\t\t\t\tcurrentWidth = width;\n\t\t\t\t$input.width(width);\n\t\t\t\t$input.triggerHandler('resize');\n\t\t\t}\n\t\t};\n\t\n\t\t$input.on('keydown keyup update blur', update);\n\t\tupdate();\n\t};\n\t\n\tvar domToString = function(d) {\n\t\tvar tmp = document.createElement('div');\n\t\n\t\ttmp.appendChild(d.cloneNode(true));\n\t\n\t\treturn tmp.innerHTML;\n\t};\n\t\n\tvar logError = function(message, options){\n\t\tif(!options) options = {};\n\t\tvar component = \"Selectize\";\n\t\n\t\tconsole.error(component + \": \" + message)\n\t\n\t\tif(options.explanation){\n\t\t\t// console.group is undefined in <IE11\n\t\t\tif(console.group) console.group();\n\t\t\tconsole.error(options.explanation);\n\t\t\tif(console.group) console.groupEnd();\n\t\t}\n\t}\n\t\n\t\n\tvar Selectize = function($input, settings) {\n\t\tvar key, i, n, dir, input, self = this;\n\t\tinput = $input[0];\n\t\tinput.selectize = self;\n\t\n\t\t// detect rtl environment\n\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\n\t\t// setup default state\n\t\t$.extend(self, {\n\t\t\torder            : 0,\n\t\t\tsettings         : settings,\n\t\t\t$input           : $input,\n\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\trtl              : /rtl/i.test(dir),\n\t\n\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\thighlightedValue : null,\n\t\t\tisOpen           : false,\n\t\t\tisDisabled       : false,\n\t\t\tisRequired       : $input.is('[required]'),\n\t\t\tisInvalid        : false,\n\t\t\tisLocked         : false,\n\t\t\tisFocused        : false,\n\t\t\tisInputHidden    : false,\n\t\t\tisSetup          : false,\n\t\t\tisShiftDown      : false,\n\t\t\tisCmdDown        : false,\n\t\t\tisCtrlDown       : false,\n\t\t\tignoreFocus      : false,\n\t\t\tignoreBlur       : false,\n\t\t\tignoreHover      : false,\n\t\t\thasOptions       : false,\n\t\t\tcurrentResults   : null,\n\t\t\tlastValue        : '',\n\t\t\tcaretPos         : 0,\n\t\t\tloading          : 0,\n\t\t\tloadedSearches   : {},\n\t\n\t\t\t$activeOption    : null,\n\t\t\t$activeItems     : [],\n\t\n\t\t\toptgroups        : {},\n\t\t\toptions          : {},\n\t\t\tuserOptions      : {},\n\t\t\titems            : [],\n\t\t\trenderCache      : {},\n\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t});\n\t\n\t\t// search system\n\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\n\t\t// build options table\n\t\tif (self.settings.options) {\n\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t}\n\t\t\tdelete self.settings.options;\n\t\t}\n\t\n\t\t// build optgroup table\n\t\tif (self.settings.optgroups) {\n\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t}\n\t\t\tdelete self.settings.optgroups;\n\t\t}\n\t\n\t\t// option-dependent defaults\n\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t}\n\t\n\t\tself.initializePlugins(self.settings.plugins);\n\t\tself.setupCallbacks();\n\t\tself.setupTemplates();\n\t\tself.setup();\n\t};\n\t\n\t// mixins\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\tMicroEvent.mixin(Selectize);\n\t\n\tif(typeof MicroPlugin !== \"undefined\"){\n\t\tMicroPlugin.mixin(Selectize);\n\t}else{\n\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t{explanation:\n\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\"load Selectize.\"}\n\t\t);\n\t}\n\t\n\t\n\t// methods\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t$.extend(Selectize.prototype, {\n\t\n\t\t/**\n\t\t * Creates all elements and sets up event bindings.\n\t\t */\n\t\tsetup: function() {\n\t\t\tvar self      = this;\n\t\t\tvar settings  = self.settings;\n\t\t\tvar eventNS   = self.eventNS;\n\t\t\tvar $window   = $(window);\n\t\t\tvar $document = $(document);\n\t\t\tvar $input    = self.$input;\n\t\n\t\t\tvar $wrapper;\n\t\t\tvar $control;\n\t\t\tvar $control_input;\n\t\t\tvar $dropdown;\n\t\t\tvar $dropdown_content;\n\t\t\tvar $dropdown_parent;\n\t\t\tvar inputMode;\n\t\t\tvar timeout_blur;\n\t\t\tvar timeout_focus;\n\t\t\tvar classes;\n\t\t\tvar classes_plugins;\n\t\t\tvar inputId;\n\t\n\t\t\tinputMode         = self.settings.mode;\n\t\t\tclasses           = $input.attr('class') || '';\n\t\n\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\n\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t}\n\t\n\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t$dropdown.addClass(classes);\n\t\t\t}\n\t\n\t\t\t$wrapper.css({\n\t\t\t\twidth: $input[0].style.width\n\t\t\t});\n\t\n\t\t\tif (self.plugins.names.length) {\n\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t}\n\t\n\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t}\n\t\n\t\t\tif (self.settings.placeholder) {\n\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t}\n\t\n\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t}\n\t\n\t\t\tself.$wrapper          = $wrapper;\n\t\t\tself.$control          = $control;\n\t\t\tself.$control_input    = $control_input;\n\t\t\tself.$dropdown         = $dropdown;\n\t\t\tself.$dropdown_content = $dropdown_content;\n\t\n\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\tautoGrow($control_input);\n\t\n\t\t\t$control.on({\n\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$control_input.on({\n\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t});\n\t\n\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t});\n\t\n\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// blur on click outside\n\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\tself.ignoreHover = false;\n\t\t\t});\n\t\n\t\t\t// store original children and tab index so that they can be\n\t\t\t// restored when the destroy() method is called.\n\t\t\tthis.revertSettings = {\n\t\t\t\t$children : $input.children().detach(),\n\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t};\n\t\n\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\n\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\tself.setValue(settings.items);\n\t\t\t\tdelete settings.items;\n\t\t\t}\n\t\n\t\t\t// feature detect for the validation API\n\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\tself.refreshState();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tself.updateOriginalInput();\n\t\t\tself.refreshItems();\n\t\t\tself.refreshState();\n\t\t\tself.updatePlaceholder();\n\t\t\tself.isSetup = true;\n\t\n\t\t\tif ($input.is(':disabled')) {\n\t\t\t\tself.disable();\n\t\t\t}\n\t\n\t\t\tself.on('change', this.onChange);\n\t\n\t\t\t$input.data('selectize', self);\n\t\t\t$input.addClass('selectized');\n\t\t\tself.trigger('initialize');\n\t\n\t\t\t// preload options\n\t\t\tif (settings.preload === true) {\n\t\t\t\tself.onSearchChange('');\n\t\t\t}\n\t\n\t\t},\n\t\n\t\t/**\n\t\t * Sets up default rendering functions.\n\t\t */\n\t\tsetupTemplates: function() {\n\t\t\tvar self = this;\n\t\t\tvar field_label = self.settings.labelField;\n\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\n\t\t\tvar templates = {\n\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t},\n\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t},\n\t\n\t\t/**\n\t\t * Maps fired events to callbacks provided\n\t\t * in the settings used when creating the control.\n\t\t */\n\t\tsetupCallbacks: function() {\n\t\t\tvar key, fn, callbacks = {\n\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t'change'          : 'onChange',\n\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t'type'            : 'onType',\n\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t'blur'            : 'onBlur'\n\t\t\t};\n\t\n\t\t\tfor (key in callbacks) {\n\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a click event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonClick: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t// is ignored unless invoked within a click event)\n\t\t\tif (!self.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a mouse down event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonMouseDown: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\tvar $target = $(e.target);\n\t\n\t\t\tif (self.isFocused) {\n\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// give control focus\n\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the value of the control has been changed.\n\t\t * This should propagate the event to the original DOM\n\t\t * input / select element.\n\t\t */\n\t\tonChange: function() {\n\t\t\tthis.$input.trigger('change');\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> paste.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonPaste: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t// input and create Items for each separate value\n\t\t\tif (self.settings.splitOn) {\n\t\n\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\n\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keypress.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyPress: function(e) {\n\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\tthis.createItem();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keydown.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyDown: function(e) {\n\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) {\n\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase KEY_A:\n\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase KEY_ESC:\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_N:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\tself.open();\n\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_P:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_UP:\n\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_TAB:\n\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\n\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keyup.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyUp: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\tvar value = self.$control_input.val() || '';\n\t\t\tif (self.lastValue !== value) {\n\t\t\t\tself.lastValue = value;\n\t\t\t\tself.onSearchChange(value);\n\t\t\t\tself.refreshOptions();\n\t\t\t\tself.trigger('type', value);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the user-provide option provider / loader.\n\t\t *\n\t\t * Note: this function is debounced in the Selectize\n\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tonSearchChange: function(value) {\n\t\t\tvar self = this;\n\t\t\tvar fn = self.settings.load;\n\t\t\tif (!fn) return;\n\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\tself.loadedSearches[value] = true;\n\t\t\tself.load(function(callback) {\n\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> focus.\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tonFocus: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar wasFocused = self.isFocused;\n\t\n\t\t\tif (self.isDisabled) {\n\t\t\t\tself.blur();\n\t\t\t\te && e.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tif (self.ignoreFocus) return;\n\t\t\tself.isFocused = true;\n\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\n\t\t\tif (!wasFocused) self.trigger('focus');\n\t\n\t\t\tif (!self.$activeItems.length) {\n\t\t\t\tself.showInput();\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t}\n\t\n\t\t\tself.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> blur.\n\t\t *\n\t\t * @param {object} e\n\t\t * @param {Element} dest\n\t\t */\n\t\tonBlur: function(e, dest) {\n\t\t\tvar self = this;\n\t\t\tif (!self.isFocused) return;\n\t\t\tself.isFocused = false;\n\t\n\t\t\tif (self.ignoreFocus) {\n\t\t\t\treturn;\n\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\tself.ignoreBlur = true;\n\t\t\t\tself.onFocus(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar deactivate = function() {\n\t\t\t\tself.close();\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\tself.refreshState();\n\t\n\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\tdest && dest.focus && dest.focus();\n\t\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.trigger('blur');\n\t\t\t};\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t} else {\n\t\t\t\tdeactivate();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user rolls over\n\t\t * an option in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionHover: function(e) {\n\t\t\tif (this.ignoreHover) return;\n\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an option\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionSelect: function(e) {\n\t\t\tvar value, $target, $option, self = this;\n\t\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\n\t\t\t$target = $(e.currentTarget);\n\t\t\tif ($target.hasClass('create')) {\n\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an item\n\t\t * that has been selected.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonItemSelect: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return;\n\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the provided method that provides\n\t\t * results to a callback---which are then added\n\t\t * as options to the control.\n\t\t *\n\t\t * @param {function} fn\n\t\t */\n\t\tload: function(fn) {\n\t\t\tvar self = this;\n\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\n\t\t\tself.loading++;\n\t\t\tfn.apply(self, [function(results) {\n\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\tif (results && results.length) {\n\t\t\t\t\tself.addOption(results);\n\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t}\n\t\t\t\tif (!self.loading) {\n\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t}\n\t\t\t\tself.trigger('load', results);\n\t\t\t}]);\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the input field of the control to the specified value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tsetTextboxValue: function(value) {\n\t\t\tvar $input = this.$control_input;\n\t\t\tvar changed = $input.val() !== value;\n\t\t\tif (changed) {\n\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\tthis.lastValue = value;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the value of the control. If multiple items\n\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t * an array. If only one item can be selected, this\n\t\t * returns a string.\n\t\t *\n\t\t * @returns {mixed}\n\t\t */\n\t\tgetValue: function() {\n\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\treturn this.items;\n\t\t\t} else {\n\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Resets the selected items to the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t */\n\t\tsetValue: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tthis.clear(silent);\n\t\t\t\tthis.addItems(value, silent);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item.\n\t\t *\n\t\t * @param {object} $item\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tsetActiveItem: function($item, e) {\n\t\t\tvar self = this;\n\t\t\tvar eventName;\n\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\tvar $last;\n\t\n\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t$item = $($item);\n\t\n\t\t\t// clear the active selection\n\t\t\tif (!$item.length) {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [];\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// modify selection\n\t\t\teventName = e && e.type.toLowerCase();\n\t\n\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\tif (begin > end) {\n\t\t\t\t\tswap  = begin;\n\t\t\t\t\tbegin = end;\n\t\t\t\t\tend   = swap;\n\t\t\t\t}\n\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t}\n\t\n\t\t\t// ensure control has focus\n\t\t\tself.hideInput();\n\t\t\tif (!this.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item in the dropdown menu\n\t\t * of available options.\n\t\t *\n\t\t * @param {object} $object\n\t\t * @param {boolean} scroll\n\t\t * @param {boolean} animate\n\t\t */\n\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\tvar height_menu, height_item, y;\n\t\t\tvar scroll_top, scroll_bottom;\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\tself.$activeOption = null;\n\t\n\t\t\t$option = $($option);\n\t\t\tif (!$option.length) return;\n\t\n\t\t\tself.$activeOption = $option.addClass('active');\n\t\n\t\t\tif (scroll || !isset(scroll)) {\n\t\n\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\tscroll_top    = y;\n\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\n\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Selects all items (CTRL + A).\n\t\t */\n\t\tselectAll: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.settings.mode === 'single') return;\n\t\n\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.close();\n\t\t\t}\n\t\t\tself.focus();\n\t\t},\n\t\n\t\t/**\n\t\t * Hides the input element out of view, while\n\t\t * retaining its focus.\n\t\t */\n\t\thideInput: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.setTextboxValue('');\n\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\tself.isInputHidden = true;\n\t\t},\n\t\n\t\t/**\n\t\t * Restores input visibility.\n\t\t */\n\t\tshowInput: function() {\n\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\tthis.isInputHidden = false;\n\t\t},\n\t\n\t\t/**\n\t\t * Gives the control focus.\n\t\t */\n\t\tfocus: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.isDisabled) return;\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tself.$control_input[0].focus();\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.onFocus();\n\t\t\t}, 0);\n\t\t},\n\t\n\t\t/**\n\t\t * Forces the control out of focus.\n\t\t *\n\t\t * @param {Element} dest\n\t\t */\n\t\tblur: function(dest) {\n\t\t\tthis.$control_input[0].blur();\n\t\t\tthis.onBlur(null, dest);\n\t\t},\n\t\n\t\t/**\n\t\t * Returns a function that scores an object\n\t\t * to show how good of a match it is to the\n\t\t * provided query.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @return {function}\n\t\t */\n\t\tgetScoreFunction: function(query) {\n\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t},\n\t\n\t\t/**\n\t\t * Returns search options for sifter (the system\n\t\t * for scoring and sorting results).\n\t\t *\n\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t * @return {object}\n\t\t */\n\t\tgetSearchOptions: function() {\n\t\t\tvar settings = this.settings;\n\t\t\tvar sort = settings.sortField;\n\t\t\tif (typeof sort === 'string') {\n\t\t\t\tsort = [{field: sort}];\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tfields      : settings.searchField,\n\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\tsort        : sort\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Searches through available options and returns\n\t\t * a sorted array of matches.\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {object}\n\t\t */\n\t\tsearch: function(query) {\n\t\t\tvar i, value, score, result, calculateScore;\n\t\t\tvar self     = this;\n\t\t\tvar settings = self.settings;\n\t\t\tvar options  = this.getSearchOptions();\n\t\n\t\t\t// validate user-provided result scoring function\n\t\t\tif (settings.score) {\n\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// perform search\n\t\t\tif (query !== self.lastQuery) {\n\t\t\t\tself.lastQuery = query;\n\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\tself.currentResults = result;\n\t\t\t} else {\n\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t}\n\t\n\t\t\t// filter out selected items\n\t\t\tif (settings.hideSelected) {\n\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the list of available options shown\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {boolean} triggerDropdown\n\t\t */\n\t\trefreshOptions: function(triggerDropdown) {\n\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\tvar $active, $active_before, $create;\n\t\n\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tvar self              = this;\n\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\tvar results           = self.search(query);\n\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\n\t\t\t// build markup\n\t\t\tn = results.items.length;\n\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t}\n\t\n\t\t\t// render and group available options individually\n\t\t\tgroups = {};\n\t\t\tgroups_order = [];\n\t\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\toption_html = self.render('option', option);\n\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\n\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t}\n\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// sort optgroups\n\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// render optgroup headers & join groups\n\t\t\thtml = document.createDocumentFragment();\n\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\toptgroup = groups_order[i];\n\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\n\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t$dropdown_content.html(html);\n\t\n\t\t\t// highlight matching terms inline\n\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add \"selected\" class to selected options\n\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add create option\n\t\t\thas_create_option = self.canCreate(query);\n\t\t\tif (has_create_option) {\n\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t}\n\t\n\t\t\t// activate\n\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\tif (self.hasOptions) {\n\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t}\n\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$active = $create;\n\t\t\t\t}\n\t\t\t\tself.setActiveOption($active);\n\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t} else {\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Adds an available option. If it already exists,\n\t\t * nothing will happen. Note: this does not refresh\n\t\t * the options list dropdown (use `refreshOptions`\n\t\t * for that).\n\t\t *\n\t\t * Usage:\n\t\t *\n\t\t *   this.addOption(data)\n\t\t *\n\t\t * @param {object|array} data\n\t\t */\n\t\taddOption: function(data) {\n\t\t\tvar i, n, value, self = this;\n\t\n\t\t\tif ($.isArray(data)) {\n\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\tself.userOptions[value] = true;\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option to the pool of options.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOption: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.options[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option group to the pool of option groups.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOptionGroup: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\tif (!key) return false;\n\t\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.optgroups[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers a new optgroup for options\n\t\t * to be bucketed into.\n\t\t *\n\t\t * @param {string} id\n\t\t * @param {object} data\n\t\t */\n\t\taddOptionGroup: function(id, data) {\n\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes an existing option group.\n\t\t *\n\t\t * @param {string} id\n\t\t */\n\t\tremoveOptionGroup: function(id) {\n\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\tdelete this.optgroups[id];\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all existing option groups.\n\t\t */\n\t\tclearOptionGroups: function() {\n\t\t\tthis.optgroups = {};\n\t\t\tthis.renderCache = {};\n\t\t\tthis.trigger('optgroup_clear');\n\t\t},\n\t\n\t\t/**\n\t\t * Updates an option available for selection. If\n\t\t * it is visible in the selected items or options\n\t\t * dropdown, it will be re-rendered automatically.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {object} data\n\t\t */\n\t\tupdateOption: function(value, data) {\n\t\t\tvar self = this;\n\t\t\tvar $item, $item_new;\n\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\n\t\t\tvalue     = hash_key(value);\n\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\n\t\t\t// sanity checks\n\t\t\tif (value === null) return;\n\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\n\t\t\torder_old = self.options[value].$order;\n\t\n\t\t\t// update references\n\t\t\tif (value_new !== value) {\n\t\t\t\tdelete self.options[value];\n\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.$order = data.$order || order_old;\n\t\t\tself.options[value_new] = data;\n\t\n\t\t\t// invalidate render cache\n\t\t\tcache_items = self.renderCache['item'];\n\t\t\tcache_options = self.renderCache['option'];\n\t\n\t\t\tif (cache_items) {\n\t\t\t\tdelete cache_items[value];\n\t\t\t\tdelete cache_items[value_new];\n\t\t\t}\n\t\t\tif (cache_options) {\n\t\t\t\tdelete cache_options[value];\n\t\t\t\tdelete cache_options[value_new];\n\t\t\t}\n\t\n\t\t\t// update the item if it's selected\n\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t$item = self.getItem(value);\n\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t$item.replaceWith($item_new);\n\t\t\t}\n\t\n\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\tself.lastQuery = null;\n\t\n\t\t\t// update dropdown contents\n\t\t\tif (self.isOpen) {\n\t\t\t\tself.refreshOptions(false);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes a single option.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\tremoveOption: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\tif (cache_items) delete cache_items[value];\n\t\t\tif (cache_options) delete cache_options[value];\n\t\n\t\t\tdelete self.userOptions[value];\n\t\t\tdelete self.options[value];\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_remove', value);\n\t\t\tself.removeItem(value, silent);\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all options.\n\t\t */\n\t\tclearOptions: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.loadedSearches = {};\n\t\t\tself.userOptions = {};\n\t\t\tself.renderCache = {};\n\t\t\tself.options = self.sifter.items = {};\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_clear');\n\t\t\tself.clear();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the option\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetOption: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the next or\n\t\t * previous selectable option.\n\t\t *\n\t\t * @param {object} $option\n\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t * @return {object}\n\t\t */\n\t\tgetAdjacentOption: function($option, direction) {\n\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t},\n\t\n\t\t/**\n\t\t * Finds the first element with a \"data-value\" attribute\n\t\t * that matches the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} $els\n\t\t * @return {object}\n\t\t */\n\t\tgetElementWithValue: function(value, $els) {\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn $();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the item\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetItem: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItems: function(values, silent) {\n\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" an item. Adds it to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItem: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tvar $item, $option, $options;\n\t\t\t\tvar self = this;\n\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\tvalue = hash_key(value);\n\t\n\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\n\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\twasFull = self.isFull();\n\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\tself.insertAtCaret($item);\n\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\tself.refreshState();\n\t\t\t\t}\n\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\n\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the selected item matching\n\t\t * the provided value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tremoveItem: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvar $item, i, idx;\n\t\n\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\ti = self.items.indexOf(value);\n\t\n\t\t\tif (i !== -1) {\n\t\t\t\t$item.remove();\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.items.splice(i, 1);\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t}\n\t\n\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the `create` method provided in the\n\t\t * selectize options that should provide the data\n\t\t * for the new item, given the user input.\n\t\t *\n\t\t * Once this completes, it will be added\n\t\t * to the item list.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} [triggerDropdown]\n\t\t * @param {function} [callback]\n\t\t * @return {boolean}\n\t\t */\n\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\tvar self  = this;\n\t\t\tvar caret = self.caretPos;\n\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\n\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\n\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tif (!self.canCreate(input)) {\n\t\t\t\tcallback();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tself.lock();\n\t\n\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\tvar data = {};\n\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\treturn data;\n\t\t\t};\n\t\n\t\t\tvar create = once(function(data) {\n\t\t\t\tself.unlock();\n\t\n\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\tif (typeof value !== 'string') return callback();\n\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.addOption(data);\n\t\t\t\tself.setCaret(caret);\n\t\t\t\tself.addItem(value);\n\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\n\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\tcreate(output);\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Re-renders the selected item lists.\n\t\t */\n\t\trefreshItems: function() {\n\t\t\tthis.lastQuery = null;\n\t\n\t\t\tif (this.isSetup) {\n\t\t\t\tthis.addItem(this.items);\n\t\t\t}\n\t\n\t\t\tthis.refreshState();\n\t\t\tthis.updateOriginalInput();\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent attributes\n\t\t * and CSS classes.\n\t\t */\n\t\trefreshState: function() {\n\t\t\tthis.refreshValidityState();\n\t\t\tthis.refreshClasses();\n\t\t},\n\t\n\t\t/**\n\t\t * Update the `required` attribute of both input and control input.\n\t\t *\n\t\t * The `required` property needs to be activated on the control input\n\t\t * for the error to be displayed at the right place. `required` also\n\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t * hidden and can't show errors.\n\t\t */\n\t\trefreshValidityState: function() {\n\t\t\tif (!this.isRequired) return false;\n\t\n\t\t\tvar invalid = !this.items.length;\n\t\n\t\t\tthis.isInvalid = invalid;\n\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\tthis.$input.prop('required', !invalid);\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent CSS classes.\n\t\t */\n\t\trefreshClasses: function() {\n\t\t\tvar self     = this;\n\t\t\tvar isFull   = self.isFull();\n\t\t\tvar isLocked = self.isLocked;\n\t\n\t\t\tself.$wrapper\n\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\n\t\t\tself.$control\n\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\n\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not more items can be added\n\t\t * to the control without exceeding the user-defined maximum.\n\t\t *\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFull: function() {\n\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the original <select> or <input>\n\t\t * element to reflect the current state.\n\t\t */\n\t\tupdateOriginalInput: function(opts) {\n\t\t\tvar i, n, options, label, self = this;\n\t\t\topts = opts || {};\n\t\n\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\toptions = [];\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t}\n\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t}\n\t\t\t\tself.$input.html(options.join(''));\n\t\t\t} else {\n\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t}\n\t\n\t\t\tif (self.isSetup) {\n\t\t\t\tif (!opts.silent) {\n\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Shows/hide the input placeholder depending\n\t\t * on if there items in the list already.\n\t\t */\n\t\tupdatePlaceholder: function() {\n\t\t\tif (!this.settings.placeholder) return;\n\t\t\tvar $input = this.$control_input;\n\t\n\t\t\tif (this.items.length) {\n\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t} else {\n\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t}\n\t\t\t$input.triggerHandler('update', {force: true});\n\t\t},\n\t\n\t\t/**\n\t\t * Shows the autocomplete dropdown containing\n\t\t * the available options.\n\t\t */\n\t\topen: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\tself.focus();\n\t\t\tself.isOpen = true;\n\t\t\tself.refreshState();\n\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\tself.positionDropdown();\n\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Closes the autocomplete dropdown menu.\n\t\t */\n\t\tclose: function() {\n\t\t\tvar self = this;\n\t\t\tvar trigger = self.isOpen;\n\t\n\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t}\n\t\n\t\t\tself.isOpen = false;\n\t\t\tself.$dropdown.hide();\n\t\t\tself.setActiveOption(null);\n\t\t\tself.refreshState();\n\t\n\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Calculates and applies the appropriate\n\t\t * position of the dropdown.\n\t\t */\n\t\tpositionDropdown: function() {\n\t\t\tvar $control = this.$control;\n\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\toffset.top += $control.outerHeight(true);\n\t\n\t\t\tthis.$dropdown.css({\n\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\ttop   : offset.top,\n\t\t\t\tleft  : offset.left\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Resets / clears all selected items\n\t\t * from the control.\n\t\t *\n\t\t * @param {boolean} silent\n\t\t */\n\t\tclear: function(silent) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (!self.items.length) return;\n\t\t\tself.$control.children(':not(input)').remove();\n\t\t\tself.items = [];\n\t\t\tself.lastQuery = null;\n\t\t\tself.setCaret(0);\n\t\t\tself.setActiveItem(null);\n\t\t\tself.updatePlaceholder();\n\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\tself.refreshState();\n\t\t\tself.showInput();\n\t\t\tself.trigger('clear');\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for inserting an element\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {object} $el\n\t\t */\n\t\tinsertAtCaret: function($el) {\n\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\tif (caret === 0) {\n\t\t\t\tthis.$control.prepend($el);\n\t\t\t} else {\n\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t}\n\t\t\tthis.setCaret(caret + 1);\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the current selected item(s).\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tdeleteSelection: function(e) {\n\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t}\n\t\n\t\t\t// determine items that will be removed\n\t\t\tvalues = [];\n\t\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\tif (direction > 0) { caret++; }\n\t\n\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t}\n\t\t\t\tif (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// allow the callback to abort\n\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// perform removal\n\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\tself.setCaret(caret);\n\t\t\t}\n\t\t\twhile (values.length) {\n\t\t\t\tself.removeItem(values.pop());\n\t\t\t}\n\t\n\t\t\tself.showInput();\n\t\t\tself.positionDropdown();\n\t\t\tself.refreshOptions(true);\n\t\n\t\t\t// select previous option\n\t\t\tif (option_select) {\n\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\tif ($option_select.length) {\n\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Selects the previous / next item (depending\n\t\t * on the `direction` argument).\n\t\t *\n\t\t * > 0 - right\n\t\t * < 0 - left\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceSelection: function(direction, e) {\n\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tif (direction === 0) return;\n\t\t\tif (self.rtl) direction *= -1;\n\t\n\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t: selection.start === valueLength;\n\t\n\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\tif ($tail.length) {\n\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret left / right.\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceCaret: function(direction, e) {\n\t\t\tvar self = this, fn, $adj;\n\t\n\t\t\tif (direction === 0) return;\n\t\n\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\tif (self.isShiftDown) {\n\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\tif ($adj.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret to the specified index.\n\t\t *\n\t\t * @param {int} i\n\t\t */\n\t\tsetCaret: function(i) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\ti = self.items.length;\n\t\t\t} else {\n\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t}\n\t\n\t\t\tif(!self.isPending) {\n\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t// on mobile webkit devices\n\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tself.caretPos = i;\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control. Used while\n\t\t * items are being asynchronously created.\n\t\t */\n\t\tlock: function() {\n\t\t\tthis.close();\n\t\t\tthis.isLocked = true;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Re-enables user input on the control.\n\t\t */\n\t\tunlock: function() {\n\t\t\tthis.isLocked = false;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control completely.\n\t\t * While disabled, it cannot receive focus.\n\t\t */\n\t\tdisable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', true);\n\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\tself.isDisabled = true;\n\t\t\tself.lock();\n\t\t},\n\t\n\t\t/**\n\t\t * Enables the control so that it can respond\n\t\t * to focus and user input.\n\t\t */\n\t\tenable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', false);\n\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\tself.isDisabled = false;\n\t\t\tself.unlock();\n\t\t},\n\t\n\t\t/**\n\t\t * Completely destroys the control and\n\t\t * unbinds all event listeners so that it can\n\t\t * be garbage collected.\n\t\t */\n\t\tdestroy: function() {\n\t\t\tvar self = this;\n\t\t\tvar eventNS = self.eventNS;\n\t\t\tvar revertSettings = self.revertSettings;\n\t\n\t\t\tself.trigger('destroy');\n\t\t\tself.off();\n\t\t\tself.$wrapper.remove();\n\t\t\tself.$dropdown.remove();\n\t\n\t\t\tself.$input\n\t\t\t\t.html('')\n\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t.removeClass('selectized')\n\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t.show();\n\t\n\t\t\tself.$control_input.removeData('grow');\n\t\t\tself.$input.removeData('selectize');\n\t\n\t\t\t$(window).off(eventNS);\n\t\t\t$(document).off(eventNS);\n\t\t\t$(document.body).off(eventNS);\n\t\n\t\t\tdelete self.$input[0].selectize;\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for rendering \"item\" and\n\t\t * \"option\" templates, given the data.\n\t\t *\n\t\t * @param {string} templateName\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(templateName, data) {\n\t\t\tvar value, id, label;\n\t\t\tvar html = '';\n\t\t\tvar cache = false;\n\t\t\tvar self = this;\n\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\tcache = !!value;\n\t\t\t}\n\t\n\t\t\t// pull markup from cache if it exists\n\t\t\tif (cache) {\n\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t}\n\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// render markup\n\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\n\t\t\t// add mandatory attributes\n\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t}\n\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\thtml.attr('data-group', id);\n\t\t\t}\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t}\n\t\n\t\t\t// update cache\n\t\t\tif (cache) {\n\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t}\n\t\n\t\t\treturn html[0];\n\t\t},\n\t\n\t\t/**\n\t\t * Clears the render cache for a template. If\n\t\t * no template is given, clears all render\n\t\t * caches.\n\t\t *\n\t\t * @param {string} templateName\n\t\t */\n\t\tclearCache: function(templateName) {\n\t\t\tvar self = this;\n\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\tself.renderCache = {};\n\t\t\t} else {\n\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not to display the\n\t\t * create item prompt, given a user input.\n\t\t *\n\t\t * @param {string} input\n\t\t * @return {boolean}\n\t\t */\n\t\tcanCreate: function(input) {\n\t\t\tvar self = this;\n\t\t\tif (!self.settings.create) return false;\n\t\t\tvar filter = self.settings.createFilter;\n\t\t\treturn input.length\n\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t}\n\t\n\t});\n\t\n\t\n\tSelectize.count = 0;\n\tSelectize.defaults = {\n\t\toptions: [],\n\t\toptgroups: [],\n\t\n\t\tplugins: [],\n\t\tdelimiter: ',',\n\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\tpersist: true,\n\t\tdiacritics: true,\n\t\tcreate: false,\n\t\tcreateOnBlur: false,\n\t\tcreateFilter: null,\n\t\thighlight: true,\n\t\topenOnFocus: true,\n\t\tmaxOptions: 1000,\n\t\tmaxItems: null,\n\t\thideSelected: null,\n\t\taddPrecedence: false,\n\t\tselectOnTab: false,\n\t\tpreload: false,\n\t\tallowEmptyOption: false,\n\t\tcloseAfterSelect: false,\n\t\n\t\tscrollDuration: 60,\n\t\tloadThrottle: 300,\n\t\tloadingClass: 'loading',\n\t\n\t\tdataAttr: 'data-data',\n\t\toptgroupField: 'optgroup',\n\t\tvalueField: 'value',\n\t\tlabelField: 'text',\n\t\toptgroupLabelField: 'label',\n\t\toptgroupValueField: 'value',\n\t\tlockOptgroupOrder: false,\n\t\n\t\tsortField: '$order',\n\t\tsearchField: ['text'],\n\t\tsearchConjunction: 'and',\n\t\n\t\tmode: null,\n\t\twrapperClass: 'selectize-control',\n\t\tinputClass: 'selectize-input',\n\t\tdropdownClass: 'selectize-dropdown',\n\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\n\t\tdropdownParent: null,\n\t\n\t\tcopyClassesToDropdown: true,\n\t\n\t\t/*\n\t\tload                 : null, // function(query, callback) { ... }\n\t\tscore                : null, // function(search) { ... }\n\t\tonInitialize         : null, // function() { ... }\n\t\tonChange             : null, // function(value) { ... }\n\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\tonItemRemove         : null, // function(value) { ... }\n\t\tonClear              : null, // function() { ... }\n\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\tonOptionRemove       : null, // function(value) { ... }\n\t\tonOptionClear        : null, // function() { ... }\n\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\tonOptionGroupClear   : null, // function() { ... }\n\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\tonType               : null, // function(str) { ... }\n\t\tonDelete             : null, // function(values) { ... }\n\t\t*/\n\t\n\t\trender: {\n\t\t\t/*\n\t\t\titem: null,\n\t\t\toptgroup: null,\n\t\t\toptgroup_header: null,\n\t\t\toption: null,\n\t\t\toption_create: null\n\t\t\t*/\n\t\t}\n\t};\n\t\n\t\n\t$.fn.selectize = function(settings_user) {\n\t\tvar defaults             = $.fn.selectize.defaults;\n\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\tvar attr_data            = settings.dataAttr;\n\t\tvar field_label          = settings.labelField;\n\t\tvar field_value          = settings.valueField;\n\t\tvar field_optgroup       = settings.optgroupField;\n\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\n\t\t/**\n\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_textbox = function($input, settings_element) {\n\t\t\tvar i, n, values, option;\n\t\n\t\t\tvar data_raw = $input.attr(attr_data);\n\t\n\t\t\tif (!data_raw) {\n\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\toption = {};\n\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t}\n\t\t\t\tsettings_element.items = values;\n\t\t\t} else {\n\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Initializes selectize from a <select> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_select = function($input, settings_element) {\n\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\tvar options = settings_element.options;\n\t\t\tvar optionsMap = {};\n\t\n\t\t\tvar readData = function($el) {\n\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\t\n\t\t\tvar addOption = function($option, group) {\n\t\t\t\t$option = $($option);\n\t\n\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\n\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\n\t\t\t\toptionsMap[value] = option;\n\t\t\t\toptions.push(option);\n\t\n\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\tvar i, n, id, optgroup, $options;\n\t\n\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\tid = $optgroup.attr('label');\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t}\n\t\n\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\n\t\t\t$children = $input.children();\n\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\taddOption($children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\treturn this.each(function() {\n\t\t\tif (this.selectize) return;\n\t\n\t\t\tvar instance;\n\t\t\tvar $input = $(this);\n\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t}\n\t\n\t\t\tvar settings_element = {\n\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t'options'     : [],\n\t\t\t\t'optgroups'   : [],\n\t\t\t\t'items'       : []\n\t\t\t};\n\t\n\t\t\tif (tag_name === 'select') {\n\t\t\t\tinit_select($input, settings_element);\n\t\t\t} else {\n\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t}\n\t\n\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t});\n\t};\n\t\n\t$.fn.selectize.defaults = Selectize.defaults;\n\t$.fn.selectize.support = {\n\t\tvalidity: SUPPORTS_VALIDITY_API\n\t};\n\t\n\t\n\tSelectize.define('drag_drop', function(options) {\n\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\tif (this.settings.mode !== 'multi') return;\n\t\tvar self = this;\n\t\n\t\tself.lock = (function() {\n\t\t\tvar original = self.lock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.unlock = (function() {\n\t\t\tvar original = self.unlock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(this, arguments);\n\t\n\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t},\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('dropdown_header', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\ttitle         : 'Untitled',\n\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\n\t\t\thtml: function(data) {\n\t\t\t\treturn (\n\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</div>'\n\t\t\t\t);\n\t\t\t}\n\t\t}, options);\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('optgroup_columns', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\tequalizeWidth  : true,\n\t\t\tequalizeHeight : true\n\t\t}, options);\n\t\n\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, $option, $options, $optgroup;\n\t\n\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\n\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tvar getScrollbarWidth = function() {\n\t\t\tvar div;\n\t\t\tvar width = getScrollbarWidth.width;\n\t\t\tvar doc = document;\n\t\n\t\t\tif (typeof width === 'undefined') {\n\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\tdiv = div.firstChild;\n\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\tdoc.body.removeChild(div);\n\t\t\t}\n\t\t\treturn width;\n\t\t};\n\t\n\t\tvar equalizeSizes = function() {\n\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\n\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\tn = $optgroups.length;\n\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\n\t\t\tif (options.equalizeHeight) {\n\t\t\t\theight_max = 0;\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t}\n\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t}\n\t\n\t\t\tif (options.equalizeWidth) {\n\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t$optgroups.css({width: width});\n\t\t\t\tif (n > 1) {\n\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t}\n\t\n\t\n\t});\n\t\n\tSelectize.define('remove_button', function(options) {\n\t\toptions = $.extend({\n\t\t\t\tlabel     : '&times;',\n\t\t\t\ttitle     : 'Remove',\n\t\t\t\tclassName : 'remove',\n\t\t\t\tappend    : true\n\t\t\t}, options);\n\t\n\t\t\tvar singleClose = function(thisRef, options) {\n\t\n\t\t\t\toptions.className = 'remove-single';\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tvar multiClose = function(thisRef, options) {\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\tsingleClose(this, options);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tmultiClose(this, options);\n\t\t\t}\n\t});\n\t\n\t\n\tSelectize.define('restore_on_backspace', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions.text = options.text || function(option) {\n\t\t\treturn option[this.settings.labelField];\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, option;\n\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t});\n\t\n\n\treturn Selectize;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/dist/js/selectize.js\n// module id = 10\n// module chunks = 1 2","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.Sifter = factory();\n\t}\n}(this, function() {\n\n\t/**\n\t * Textually searches arrays and hashes of objects\n\t * by property (or multiple properties). Designed\n\t * specifically for autocomplete.\n\t *\n\t * @constructor\n\t * @param {array|object} items\n\t * @param {object} items\n\t */\n\tvar Sifter = function(items, settings) {\n\t\tthis.items = items;\n\t\tthis.settings = settings || {diacritics: true};\n\t};\n\n\t/**\n\t * Splits a search string into an array of individual\n\t * regexps to be used to match results.\n\t *\n\t * @param {string} query\n\t * @returns {array}\n\t */\n\tSifter.prototype.tokenize = function(query) {\n\t\tquery = trim(String(query || '').toLowerCase());\n\t\tif (!query || !query.length) return [];\n\n\t\tvar i, n, regex, letter;\n\t\tvar tokens = [];\n\t\tvar words = query.split(/ +/);\n\n\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\tregex = escape_regex(words[i]);\n\t\t\tif (this.settings.diacritics) {\n\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttokens.push({\n\t\t\t\tstring : words[i],\n\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t});\n\t\t}\n\n\t\treturn tokens;\n\t};\n\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * this.iterator(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t * @param {array|object} object\n\t */\n\tSifter.prototype.iterator = function(object, callback) {\n\t\tvar iterator;\n\t\tif (is_array(object)) {\n\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\titerator = function(callback) {\n\t\t\t\tfor (var key in this) {\n\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\titerator.apply(object, [callback]);\n\t};\n\n\t/**\n\t * Returns a function to be used to score individual results.\n\t *\n\t * Good matches will have a higher score than poor matches.\n\t * If an item is not a match, 0 will be returned by the function.\n\t *\n\t * @param {object|string} search\n\t * @param {object} options (optional)\n\t * @returns {function}\n\t */\n\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\tvar self, fields, tokens, token_count, nesting;\n\n\t\tself        = this;\n\t\tsearch      = self.prepareSearch(search, options);\n\t\ttokens      = search.tokens;\n\t\tfields      = search.options.fields;\n\t\ttoken_count = tokens.length;\n\t\tnesting     = search.options.nesting;\n\n\t\t/**\n\t\t * Calculates how close of a match the\n\t\t * given value is against a search token.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} token\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreValue = function(value, token) {\n\t\t\tvar score, pos;\n\n\t\t\tif (!value) return 0;\n\t\t\tvalue = String(value || '');\n\t\t\tpos = value.search(token.regex);\n\t\t\tif (pos === -1) return 0;\n\t\t\tscore = token.string.length / value.length;\n\t\t\tif (pos === 0) score += 0.5;\n\t\t\treturn score;\n\t\t};\n\n\t\t/**\n\t\t * Calculates the score of an object\n\t\t * against the search query.\n\t\t *\n\t\t * @param {object} token\n\t\t * @param {object} data\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreObject = (function() {\n\t\t\tvar field_count = fields.length;\n\t\t\tif (!field_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (field_count === 1) {\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn function(token, data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t}\n\t\t\t\treturn sum / field_count;\n\t\t\t};\n\t\t})();\n\n\t\tif (!token_count) {\n\t\t\treturn function() { return 0; };\n\t\t}\n\t\tif (token_count === 1) {\n\t\t\treturn function(data) {\n\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t};\n\t\t}\n\n\t\tif (search.options.conjunction === 'and') {\n\t\t\treturn function(data) {\n\t\t\t\tvar score;\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\tsum += score;\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Returns a function that can be used to compare two\n\t * results, for sorting purposes. If no sorting should\n\t * be performed, `null` will be returned.\n\t *\n\t * @param {string|object} search\n\t * @param {object} options\n\t * @return function(a,b)\n\t */\n\tSifter.prototype.getSortFunction = function(search, options) {\n\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n\t\tself   = this;\n\t\tsearch = self.prepareSearch(search, options);\n\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\n\t\t/**\n\t\t * Fetches the specified sort field value\n\t\t * from a search result item.\n\t\t *\n\t\t * @param  {string} name\n\t\t * @param  {object} result\n\t\t * @return {mixed}\n\t\t */\n\t\tget_field = function(name, result) {\n\t\t\tif (name === '$score') return result.score;\n\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t};\n\n\t\t// parse options\n\t\tfields = [];\n\t\tif (sort) {\n\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// the \"$score\" field is implied to be the primary\n\t\t// sort field, unless it's manually specified\n\t\tif (search.query) {\n\t\t\timplicit_score = true;\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\timplicit_score = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (implicit_score) {\n\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmultipliers = [];\n\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t}\n\n\t\t// build function\n\t\tfields_count = fields.length;\n\t\tif (!fields_count) {\n\t\t\treturn null;\n\t\t} else if (fields_count === 1) {\n\t\t\tfield = fields[0].field;\n\t\t\tmultiplier = multipliers[0];\n\t\t\treturn function(a, b) {\n\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\tget_field(field, a),\n\t\t\t\t\tget_field(field, b)\n\t\t\t\t);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(a, b) {\n\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t\tif (result) return result;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Parses a search query and returns an object\n\t * with tokens and fields ready to be populated\n\t * with results.\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.prepareSearch = function(query, options) {\n\t\tif (typeof query === 'object') return query;\n\n\t\toptions = extend({}, options);\n\n\t\tvar option_fields     = options.fields;\n\t\tvar option_sort       = options.sort;\n\t\tvar option_sort_empty = options.sort_empty;\n\n\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n\t\treturn {\n\t\t\toptions : options,\n\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\ttokens  : this.tokenize(query),\n\t\t\ttotal   : 0,\n\t\t\titems   : []\n\t\t};\n\t};\n\n\t/**\n\t * Searches through all items and returns a sorted array of matches.\n\t *\n\t * The `options` parameter can contain:\n\t *\n\t *   - fields {string|array}\n\t *   - sort {array}\n\t *   - score {function}\n\t *   - filter {bool}\n\t *   - limit {integer}\n\t *\n\t * Returns an object containing:\n\t *\n\t *   - options {object}\n\t *   - query {string}\n\t *   - tokens {array}\n\t *   - total {int}\n\t *   - items {array}\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.search = function(query, options) {\n\t\tvar self = this, value, score, search, calculateScore;\n\t\tvar fn_sort;\n\t\tvar fn_score;\n\n\t\tsearch  = this.prepareSearch(query, options);\n\t\toptions = search.options;\n\t\tquery   = search.query;\n\n\t\t// generate result scoring function\n\t\tfn_score = options.score || self.getScoreFunction(search);\n\n\t\t// perform search and sort\n\t\tif (query.length) {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tscore = fn_score(item);\n\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t});\n\t\t}\n\n\t\tfn_sort = self.getSortFunction(search, options);\n\t\tif (fn_sort) search.items.sort(fn_sort);\n\n\t\t// apply limits\n\t\tsearch.total = search.items.length;\n\t\tif (typeof options.limit === 'number') {\n\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t}\n\n\t\treturn search;\n\t};\n\n\t// utilities\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\tvar cmp = function(a, b) {\n\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t}\n\t\ta = asciifold(String(a || ''));\n\t\tb = asciifold(String(b || ''));\n\t\tif (a > b) return 1;\n\t\tif (b > a) return -1;\n\t\treturn 0;\n\t};\n\n\tvar extend = function(a, b) {\n\t\tvar i, n, k, object;\n\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\tobject = arguments[i];\n\t\t\tif (!object) continue;\n\t\t\tfor (k in object) {\n\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\ta[k] = object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t};\n\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @param  {Boolean} nesting Handle nesting or not\n\t * @return {Object}          The resolved property value\n\t */\n\tvar getattr = function(obj, name, nesting) {\n\t    if (!obj || !name) return;\n\t    if (!nesting) return obj[name];\n\t    var names = name.split(\".\");\n\t    while(names.length && (obj = obj[names.shift()]));\n\t    return obj;\n\t};\n\n\tvar trim = function(str) {\n\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t};\n\n\tvar escape_regex = function(str) {\n\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t};\n\n\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t};\n\n\tvar DIACRITICS = {\n\t\t'a': '[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]',\n\t\t'b': '[b␢βΒB฿𐌁ᛒ]',\n\t\t'c': '[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]',\n\t\t'd': '[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]',\n\t\t'e': '[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]',\n\t\t'f': '[fƑƒḞḟ]',\n\t\t'g': '[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]',\n\t\t'h': '[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]',\n\t\t'i': '[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]',\n\t\t'j': '[jȷĴĵɈɉʝɟʲ]',\n\t\t'k': '[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]',\n\t\t'l': '[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]',\n\t\t'n': '[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]',\n\t\t'o': '[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]',\n\t\t'p': '[pṔṕṖṗⱣᵽƤƥᵱ]',\n\t\t'q': '[qꝖꝗʠɊɋꝘꝙq̃]',\n\t\t'r': '[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]',\n\t\t's': '[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]',\n\t\t't': '[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]',\n\t\t'u': '[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]',\n\t\t'v': '[vṼṽṾṿƲʋꝞꝟⱱʋ]',\n\t\t'w': '[wẂẃẀẁŴŵẄẅẆẇẈẉ]',\n\t\t'x': '[xẌẍẊẋχ]',\n\t\t'y': '[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]',\n\t\t'z': '[zŹźẐẑŽžŻżẒẓẔẕƵƶ]'\n\t};\n\n\tvar asciifold = (function() {\n\t\tvar i, n, k, chunk;\n\t\tvar foreignletters = '';\n\t\tvar lookup = {};\n\t\tfor (k in DIACRITICS) {\n\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\tforeignletters += chunk;\n\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\treturn function(str) {\n\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\treturn lookup[foreignletter];\n\t\t\t}).toLowerCase();\n\t\t};\n\t})();\n\n\n\t// export\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\treturn Sifter;\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/~/sifter/sifter.js\n// module id = 11\n// module chunks = 1 2","/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MicroPlugin = factory();\n\t}\n}(this, function() {\n\tvar MicroPlugin = {};\n\n\tMicroPlugin.mixin = function(Interface) {\n\t\tInterface.plugins = {};\n\n\t\t/**\n\t\t * Initializes the listed plugins (with options).\n\t\t * Acceptable formats:\n\t\t *\n\t\t * List (without options):\n\t\t *   ['a', 'b', 'c']\n\t\t *\n\t\t * List (with options):\n\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t *\n\t\t * Hash (with options):\n\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t *\n\t\t * @param {mixed} plugins\n\t\t */\n\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\tvar i, n, key;\n\t\t\tvar self  = this;\n\t\t\tvar queue = [];\n\n\t\t\tself.plugins = {\n\t\t\t\tnames     : [],\n\t\t\t\tsettings  : {},\n\t\t\t\trequested : {},\n\t\t\t\tloaded    : {}\n\t\t\t};\n\n\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (plugins) {\n\t\t\t\tfor (key in plugins) {\n\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (queue.length) {\n\t\t\t\tself.require(queue.shift());\n\t\t\t}\n\t\t};\n\n\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\tvar self    = this;\n\t\t\tvar plugins = self.plugins;\n\t\t\tvar plugin  = Interface.plugins[name];\n\n\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t}\n\n\t\t\tplugins.requested[name] = true;\n\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\tplugins.names.push(name);\n\t\t};\n\n\t\t/**\n\t\t * Initializes a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t */\n\t\tInterface.prototype.require = function(name) {\n\t\t\tvar self = this;\n\t\t\tvar plugins = self.plugins;\n\n\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t}\n\t\t\t\tself.loadPlugin(name);\n\t\t\t}\n\n\t\t\treturn plugins.loaded[name];\n\t\t};\n\n\t\t/**\n\t\t * Registers a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\tInterface.define = function(name, fn) {\n\t\t\tInterface.plugins[name] = {\n\t\t\t\t'name' : name,\n\t\t\t\t'fn'   : fn\n\t\t\t};\n\t\t};\n\t};\n\n\tvar utils = {\n\t\tisArray: Array.isArray || function(vArg) {\n\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t}\n\t};\n\n\treturn MicroPlugin;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/~/microplugin/src/microplugin.js\n// module id = 12\n// module chunks = 1 2","'use strict'\n\n// Dependecies\nconst $ =  require('jquery')\n\nvar module = (element) => {\n  const dropZone = $(element)\n  let $input = dropZone.find('input') // TODO: Change this selector name\n  let $altInput = dropZone.find('[data-trigger=\"file\"]')\n  let defaultImage = dropZone.data('original-image')\n\n  if(defaultImage){\n      fakeLoad('Imagem Padrão', defaultImage)\n  }\n\n  dropZone.on({\n    dragover: cbDragOver,\n    dragleave: cbDragLeave,\n    drop: cbDrop\n  })\n\n  $input.on({\n    change: cbChangeFile\n  })\n\n  $altInput.on({\n    click: cbTriggerFile\n  })\n\n  function cbDragOver (event) {\n    dropZone.addClass('hover')\n    return false\n  }\n\n  function cbDragLeave (event) {\n    dropZone.removeClass('hover')\n    return false\n  }\n\n  function cbDrop (event) {\n    let file = event.originalEvent.dataTransfer.files[0]\n\n    event.stopPropagation()\n    event.preventDefault()\n    dropZone.removeClass('hover')\n\n    readFile(file)\n    $input.files = file\n    $input.val('')\n    return false\n  }\n\n  function cbChangeFile (event) {\n    readFile(this.files[0])\n    return false\n  }\n\n  function cbTriggerFile (event) {\n    $input.trigger('click')\n  }\n\n}\n\nvar fakeLoad = function(name, src){\n  var $image = $('<img/>')\n      .load(function() {\n          createPreview(name, getCanvasImage(this))\n      })\n      .attr('src', src);\n}\n\nvar readFile = function (file) {\n  var reader = new FileReader();\n\n  reader.onload = function(e) {\n      fakeLoad(file.name, e.target.result)\n  }\n  reader.readAsDataURL(file);\n}\n\nvar getCanvasImage = function(image) {\n\n  let imgWidth = image.width,\n      imgHeight = image.height;\n\n  let canvas = document.createElement('canvas');\n  canvas.width = imgWidth;\n  canvas.height = imgHeight;\n\n  let ctx = canvas.getContext('2d');\n  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\n  return canvas.toDataURL('image/jpeg');\n}\n\nvar createPreview = function(filename, newURL) {\n  let fileName = filename.substr(0, filename.lastIndexOf('.')) //subtract file extension\n  let filePath = newURL\n  let image = `<img src=\"${filePath}\" class=\"img-responsive\" alt=\"${fileName}\"/>`\n  //append new image through jQuery Template\n  $('[data-content=\"file\"]').html(image).show()\n  $('.custom-file-content').hide()\n}\n\nexport default module\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/dropzoneUploader.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar profession,\n  elementData,\n  $element;\n\nvar defaultSettings = {\n  plugins: ['remove_button'],\n  // delimiter: ',',\n  // persist: false,\n  create: true,\n  render: {\n    item: function (item) {\n      return `<div>${item.input}</div>`;\n    },\n    option: function (item) {\n      return `<div>${item.input}</div>`;\n    }\n  },\n  load: function (query, callback) {\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n    console.log(_data);\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function(res){\n            callback(res);\n        }\n    });\n  }\n};\n\nprofession = ( element ) => {\n  const $element = $( element )\n  elementData = $element.data()\n  var selectizeSettings = $.extend( {}, defaultSettings, elementData )\n  $element.selectize( defaultSettings )\n};\n\nexport default profession;\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/geography.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar job,\n  elementData,\n  $element;\n\nvar defaultSettings = {\n  plugins: ['remove_button'],\n  delimiter: ',',\n  persist: false,\n  create: true,\n  render: {\n    option_create: function (item) {\n      return `<div class=\"create\">${item.input}</div>`;\n    }\n  }\n};\n\njob = (element) => {\n  $element = $(element);\n  elementData = $element.data();\n  $(element).selectize(defaultSettings);\n};\n\nexport default job;\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/job.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar profession,\n  elementData,\n  $element;\n\nvar defaultSettings = {\n  // plugins: ['remove_button'],\n  // delimiter: ',',\n  // persist: false,\n  // create: true,\n  // render: {\n  //   option_create: function (item) {\n  //     return `<div class=\"create\">${item.input}</div>`;\n  //   }\n  // }\n};\n\nprofession = ( element ) => {\n  const $element = $( element )\n  elementData = $element.data()\n  var selectizeSettings = $.extend( {}, defaultSettings, elementData )\n  $element.selectize( defaultSettings )\n};\n\nexport default profession;\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/profession.js","import profession from './profession'\nimport geography from './geography'\nimport input from '../components/customform/input'\nimport toggleSelect from '../components/customform/toggle-select'\nimport toggleCheck from '../components/customform/toggle-check'\nimport '../vendor/jquery.steps'\nimport '../vendor/jquery.validate'\nimport '../vendor/jquery.formset'\n\nconst steps = ( root ) => {\n  const $root = $( root )\n  const $form = $root.parents( 'form' )\n\n  $form.validate({\n    errorPlacement: function errorPlacement(error, element) {\n      element.after(error)\n    },\n    highlight: function(element, errorClass, validClass) {\n      $( element ).parents( '.customform' ).addClass( 'customform-error' )\n    },\n    unhighlight: function(element, errorClass, validClass) {\n      $( element ).parents( '.customform' ).removeClass( 'customform-error' )\n    },\n    submitHandler: function(form) {\n      if ($(form).valid()) {\n        form.submit()\n      }\n    }\n  })\n\n  $root.steps({\n    headerTag: '[data-step-part=\"header\"]',\n    bodyTag: '[data-step-part=\"content\"]',\n    enableAllSteps: true,\n    titleTemplate: '#title#',\n    enablePagination: false,\n    onInit: function ( event, currentIndex ) {\n      input( $root.find( '[data-toggle=\"input\"]' ))\n      toggleSelect( $root.find( '[data-toggle=\"salary\"]' ), 'data-salary' )\n      toggleCheck( $root.find( '[data-toggle=\"location\"]' ), 'data-location' )\n      $( '[data-toggle=\"tooltip\"]' ).tooltip()\n      let formsetLength = $( '[data-toggle=\"formset\"]' ).length\n      let professionLength = $( '[data-module=\"profession\"]' ).length\n      if ( !!formsetLength ) {\n        let $containerForm = $root.find( '[data-toggle=\"formset\"]' )\n        $containerForm.each(( index, value ) => {\n          let dataFormset = $( value ).data()\n          $( value ).find( '.row' ).formset({\n            prefix: dataFormset.prefix,\n            formCssClass: `dynamic-formset-${index}`,\n            addCssClass: 'customform-button',\n            addText: dataFormset.addText,\n            deleteTemplate: `<div class=\"col-sm-1 text-center\"><div class=\"customform customform-error\">\n              <a class=\"delete-row text-danger\" href=\"javascript:void(0)\"><i class=\"gsticon gsticon-lg gsticon-minus-circle\"></i></a></div></div>`\n          })\n        })\n      }\n      if ( !!professionLength ) {\n        profession( $root.find( '[data-module=\"profession\"]' ))\n        geography( $root.find( '[data-module=\"geography\"]'))\n      }\n    },\n    onStepChanging: function ( event, currentIndex, newIndex ) {\n      $form.validate().settings.ignore = ':disabled,:hidden'\n      return $form.valid()\n    },\n  })\n\n  $root.find( '[data-step-action=\"next\"]' ).on( 'click', ( event ) => {\n    $root.steps( 'next' )\n  })\n}\n\nexport default steps\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/steps.js","module.exports = ( name ) => {\n  const $element = $( name )\n\n  $element.map( element => {\n    if ( $element[element].nodeName === 'TEXTAREA' && ( $element[element].value.length !== 0 )) {\n      setTimeout( inputResize( $element[element] ), 0)\n    }\n  })\n\n  $element.on({\n    focus: function ( event ) {\n      const $this = $( this )\n      $this.siblings( 'label' ).addClass( 'active' )\n    },\n    blur: function ( event ) {\n      const $this = $( this )\n      if ( !$this.val() ) {\n        $this.siblings( 'label' ).removeClass( 'active' )\n      }\n    },\n    input: function ( event ) {\n      if ( event.currentTarget.nodeName === 'TEXTAREA' ) {\n        setTimeout( inputResize( event.currentTarget ), 0)\n      }\n    }\n  })\n}\n\nconst inputResize = ( selector ) => {\n  const style = selector.style\n  const height = !!selector.scrollHeight ? selector.scrollHeight + 'px' : 'auto'\n  style.height = 'auto'\n\n  style.height = height\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/input.js","module.exports = ( select, dataTarget ) => {\n  const $select = $( select )\n  const $target = $( `[${dataTarget}]` )\n  $target.hide()\n  $target.find(':input').attr('disabled', true)\n  $( `[${dataTarget}=${$select.val()}]` ).show().find(':input' ).attr('disabled', false)\n\n  $select.on({\n    change: function ( event ) {\n      const $this = $( event.currentTarget )\n      $target.hide()\n      $target.find(':input').attr('disabled', true)\n      $( `[${dataTarget}=${$this.val()}]` ).show().find(':input' ).attr('disabled', false)\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/toggle-select.js","/*!\n * jQuery Steps v1.1.0 - 09/04/2014\n * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n * Licensed under MIT http://www.opensource.org/licenses/MIT\n */\n;(function ($, undefined)\n{\n$.fn.extend({\n    _aria: function (name, value)\n    {\n        return this.attr(\"aria-\" + name, value);\n    },\n\n    _removeAria: function (name)\n    {\n        return this.removeAttr(\"aria-\" + name);\n    },\n\n    _enableAria: function (enable)\n    {\n        return (enable == null || enable) ?\n            this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") :\n            this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n    },\n\n    _showAria: function (show)\n    {\n        return (show == null || show) ?\n            this.show()._aria(\"hidden\", \"false\") :\n            this.hide()._aria(\"hidden\", \"true\");\n    },\n\n    _selectAria: function (select)\n    {\n        return (select == null || select) ?\n            this.addClass(\"current\")._aria(\"selected\", \"true\") :\n            this.removeClass(\"current\")._aria(\"selected\", \"false\");\n    },\n\n    _id: function (id)\n    {\n        return (id) ? this.attr(\"id\", id) : this.attr(\"id\");\n    }\n});\n\nif (!String.prototype.format)\n{\n    String.prototype.format = function()\n    {\n        var args = (arguments.length === 1 && $.isArray(arguments[0])) ? arguments[0] : arguments;\n        var formattedString = this;\n        for (var i = 0; i < args.length; i++)\n        {\n            var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n            formattedString = formattedString.replace(pattern, args[i]);\n        }\n        return formattedString;\n    };\n}\n\n/**\n * A global unique id count.\n *\n * @static\n * @private\n * @property _uniqueId\n * @type Integer\n **/\nvar _uniqueId = 0;\n\n/**\n * The plugin prefix for cookies.\n *\n * @final\n * @private\n * @property _cookiePrefix\n * @type String\n **/\nvar _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\n/**\n * Suffix for the unique tab id.\n *\n * @final\n * @private\n * @property _tabSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabSuffix = \"-t-\";\n\n/**\n * Suffix for the unique tabpanel id.\n *\n * @final\n * @private\n * @property _tabpanelSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabpanelSuffix = \"-p-\";\n\n/**\n * Suffix for the unique title id.\n *\n * @final\n * @private\n * @property _titleSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _titleSuffix = \"-h-\";\n\n/**\n * An error message for an \"index out of range\" error.\n *\n * @final\n * @private\n * @property _indexOutOfRangeErrorMessage\n * @type String\n **/\nvar _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\n/**\n * An error message for an \"missing corresponding element\" error.\n *\n * @final\n * @private\n * @property _missingCorrespondingElementErrorMessage\n * @type String\n **/\nvar _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\n/**\n * Adds a step to the cache.\n *\n * @static\n * @private\n * @method addStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param step {Object} The step object to add\n **/\nfunction addStepToCache(wizard, step)\n{\n    getSteps(wizard).push(step);\n}\n\nfunction analyzeData(wizard, options, state)\n{\n    var stepTitles = wizard.children(options.headerTag),\n        stepContents = wizard.children(options.bodyTag);\n\n    // Validate content\n    if (stepTitles.length > stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n    }\n    else if (stepTitles.length < stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n    }\n\n    var startIndex = options.startIndex;\n\n    state.stepCount = stepTitles.length;\n\n    // Tries to load the saved state (step position)\n    if (options.saveState && $.cookie)\n    {\n        var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n        // Sets the saved position to the start index if not undefined or out of range\n        var savedIndex = parseInt(savedState, 0);\n        if (!isNaN(savedIndex) && savedIndex < state.stepCount)\n        {\n            startIndex = savedIndex;\n        }\n    }\n\n    state.currentIndex = startIndex;\n\n    stepTitles.each(function (index)\n    {\n        var item = $(this), // item == header\n            content = stepContents.eq(index),\n            modeData = content.data(\"mode\"),\n            mode = (modeData == null) ? contentMode.html : getValidEnumValue(contentMode,\n                (/^\\s*$/.test(modeData) || isNaN(modeData)) ? modeData : parseInt(modeData, 0)),\n            contentUrl = (mode === contentMode.html || content.data(\"url\") === undefined) ?\n                \"\" : content.data(\"url\"),\n            contentLoaded = (mode !== contentMode.html && content.data(\"loaded\") === \"1\"),\n            step = $.extend({}, stepModel, {\n                title: item.html(),\n                content: (mode === contentMode.html) ? content.html() : \"\",\n                contentUrl: contentUrl,\n                contentMode: mode,\n                contentLoaded: contentLoaded\n            });\n\n        addStepToCache(wizard, step);\n    });\n}\n\n/**\n * Triggers the onCanceled event.\n *\n * @static\n * @private\n * @method cancel\n * @param wizard {Object} The jQuery wizard object\n **/\nfunction cancel(wizard)\n{\n    wizard.triggerHandler(\"canceled\");\n}\n\nfunction decreaseCurrentIndexBy(state, decreaseBy)\n{\n    return state.currentIndex - decreaseBy;\n}\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @static\n * @private\n * @method destroy\n * @param wizard {Object} A jQuery wizard object\n **/\nfunction destroy(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    // Remove virtual data objects from the wizard\n    wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\")\n        .removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\")\n        .find(\".actions a\").unbind(eventNamespace);\n\n    // Remove attributes and CSS classes from the wizard\n    wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\n    var contents = wizard.find(\".content > *\");\n\n    // Remove virtual data objects from panels and their titles\n    contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\n    // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n    contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\")\n        .removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")\n        ._removeAria(\"hidden\");\n\n    // Empty panels if the mode is set to 'async' or 'iframe'\n    wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\n    var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\n    var wizardId = wizard._id();\n    if (wizardId != null && wizardId !== \"\")\n    {\n        wizardSubstitute._id(wizardId);\n    }\n\n    wizardSubstitute.html(wizard.find(\".content\").html());\n    wizard.after(wizardSubstitute);\n    wizard.remove();\n\n    return wizardSubstitute;\n}\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @static\n * @private\n * @method finishStep\n * @param wizard {Object} The jQuery wizard object\n * @param state {Object} The state container of the current wizard\n **/\nfunction finishStep(wizard, state)\n{\n    var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\n    if (wizard.triggerHandler(\"finishing\", [state.currentIndex]))\n    {\n        currentStep.addClass(\"done\").removeClass(\"error\");\n        wizard.triggerHandler(\"finished\", [state.currentIndex]);\n    }\n    else\n    {\n        currentStep.addClass(\"error\");\n    }\n}\n\n/**\n * Gets or creates if not exist an unique event namespace for the given wizard instance.\n *\n * @static\n * @private\n * @method getEventNamespace\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique event namespace for the given wizard\n */\nfunction getEventNamespace(wizard)\n{\n    var eventNamespace = wizard.data(\"eventNamespace\");\n\n    if (eventNamespace == null)\n    {\n        eventNamespace = \".\" + getUniqueId(wizard);\n        wizard.data(\"eventNamespace\", eventNamespace);\n    }\n\n    return eventNamespace;\n}\n\nfunction getStepAnchor(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n}\n\nfunction getStepPanel(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n}\n\nfunction getStepTitle(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n}\n\nfunction getOptions(wizard)\n{\n    return wizard.data(\"options\");\n}\n\nfunction getState(wizard)\n{\n    return wizard.data(\"state\");\n}\n\nfunction getSteps(wizard)\n{\n    return wizard.data(\"steps\");\n}\n\n/**\n * Gets a specific step object by index.\n *\n * @static\n * @private\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\nfunction getStep(wizard, index)\n{\n    var steps = getSteps(wizard);\n\n    if (index < 0 || index >= steps.length)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    return steps[index];\n}\n\n/**\n * Gets or creates if not exist an unique id from the given wizard instance.\n *\n * @static\n * @private\n * @method getUniqueId\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique id for the given wizard\n */\nfunction getUniqueId(wizard)\n{\n    var uniqueId = wizard.data(\"uid\");\n\n    if (uniqueId == null)\n    {\n        uniqueId = wizard._id();\n        if (uniqueId == null)\n        {\n            uniqueId = \"steps-uid-\".concat(_uniqueId);\n            wizard._id(uniqueId);\n        }\n\n        _uniqueId++;\n        wizard.data(\"uid\", uniqueId);\n    }\n\n    return uniqueId;\n}\n\n/**\n * Gets a valid enum value by checking a specific enum key or value.\n *\n * @static\n * @private\n * @method getValidEnumValue\n * @param enumType {Object} Type of enum\n * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n */\nfunction getValidEnumValue(enumType, keyOrValue)\n{\n    validateArgument(\"enumType\", enumType);\n    validateArgument(\"keyOrValue\", keyOrValue);\n\n    // Is key\n    if (typeof keyOrValue === \"string\")\n    {\n        var value = enumType[keyOrValue];\n        if (value === undefined)\n        {\n            throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n        }\n\n        return value;\n    }\n    // Is value\n    else if (typeof keyOrValue === \"number\")\n    {\n        for (var key in enumType)\n        {\n            if (enumType[key] === keyOrValue)\n            {\n                return keyOrValue;\n            }\n        }\n\n        throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n    }\n    // Type is not supported\n    else\n    {\n        throwError(\"Invalid key or value type.\");\n    }\n}\n\n/**\n * Routes to the next step.\n *\n * @static\n * @private\n * @method goToNextStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToNextStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to the previous step.\n *\n * @static\n * @private\n * @method goToPreviousStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToPreviousStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to a specific step by a given index.\n *\n * @static\n * @private\n * @method goToStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the action succeeded or failed\n **/\nfunction goToStep(wizard, options, state, index)\n{\n    if (index < 0 || index >= state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    if (options.forceMoveForward && index < state.currentIndex)\n    {\n        return;\n    }\n\n    var oldIndex = state.currentIndex;\n    if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index]))\n    {\n        // Save new state\n        state.currentIndex = index;\n        saveCurrentStateToCookie(wizard, options, state);\n\n        // Change visualisation\n        refreshStepNavigation(wizard, options, state, oldIndex);\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n        startTransitionEffect(wizard, options, state, index, oldIndex, function()\n        {\n            wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n        });\n    }\n    else\n    {\n        wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n    }\n\n    return true;\n}\n\nfunction increaseCurrentIndexBy(state, increaseBy)\n{\n    return state.currentIndex + increaseBy;\n}\n\n/**\n * Initializes the component.\n *\n * @static\n * @private\n * @method initialize\n * @param options {Object} The component settings\n **/\nfunction initialize(options)\n{\n    /*jshint -W040 */\n    var opts = $.extend(true, {}, defaults, options);\n\n    return this.each(function ()\n    {\n        var wizard = $(this);\n        var state = {\n            currentIndex: opts.startIndex,\n            currentStep: null,\n            stepCount: 0,\n            transitionElement: null\n        };\n\n        // Create data container\n        wizard.data(\"options\", opts);\n        wizard.data(\"state\", state);\n        wizard.data(\"steps\", []);\n\n        analyzeData(wizard, opts, state);\n        render(wizard, opts, state);\n        registerEvents(wizard, opts);\n\n        // Trigger focus\n        if (opts.autoFocus && _uniqueId === 0)\n        {\n            getStepAnchor(wizard, opts.startIndex).focus();\n        }\n\n        wizard.triggerHandler(\"init\", [opts.startIndex]);\n    });\n}\n\n/**\n * Inserts a new step to a specific position.\n *\n * @static\n * @private\n * @method insertStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\nfunction insertStep(wizard, options, state, index, step)\n{\n    if (index < 0 || index > state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    // TODO: Validate step object\n\n    // Change data\n    step = $.extend({}, stepModel, step);\n    insertStepToCache(wizard, index, step);\n    if (state.currentIndex !== state.stepCount && state.currentIndex >= index)\n    {\n        state.currentIndex++;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount++;\n\n    var contentContainer = wizard.find(\".content\"),\n        header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n        body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\n    if (step.contentMode == null || step.contentMode === contentMode.html)\n    {\n        body.html(step.content);\n    }\n\n    if (index === 0)\n    {\n        contentContainer.prepend(body).prepend(header);\n    }\n    else\n    {\n        getStepPanel(wizard, (index - 1)).after(body).after(header);\n    }\n\n    renderBody(wizard, state, body, index);\n    renderTitle(wizard, options, state, header, index);\n    refreshSteps(wizard, options, state, index);\n    if (index === state.currentIndex)\n    {\n        refreshStepNavigation(wizard, options, state);\n    }\n    refreshPagination(wizard, options, state);\n\n    return wizard;\n}\n\n/**\n * Inserts a step object to the cache at a specific position.\n *\n * @static\n * @private\n * @method insertStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n **/\nfunction insertStepToCache(wizard, index, step)\n{\n    getSteps(wizard).splice(index, 0, step);\n}\n\n/**\n * Handles the keyup DOM event for pagination.\n *\n * @static\n * @private\n * @event keyup\n * @param event {Object} An event object\n */\nfunction keyUpHandler(event)\n{\n    var wizard = $(this),\n        options = getOptions(wizard),\n        state = getState(wizard);\n\n    if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\"))\n    {\n        event.preventDefault();\n        return false;\n    }\n\n    var keyCodes = { left: 37, right: 39 };\n    if (event.keyCode === keyCodes.left)\n    {\n        event.preventDefault();\n        goToPreviousStep(wizard, options, state);\n    }\n    else if (event.keyCode === keyCodes.right)\n    {\n        event.preventDefault();\n        goToNextStep(wizard, options, state);\n    }\n}\n\n/**\n * Loads and includes async content.\n *\n * @static\n * @private\n * @method loadAsyncContent\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction loadAsyncContent(wizard, options, state)\n{\n    if (state.stepCount > 0)\n    {\n        var currentIndex = state.currentIndex,\n            currentStep = getStep(wizard, currentIndex);\n\n        if (!options.enableContentCache || !currentStep.contentLoaded)\n        {\n            switch (getValidEnumValue(contentMode, currentStep.contentMode))\n            {\n                case contentMode.iframe:\n                    wizard.find(\".content > .body\").eq(state.currentIndex).empty()\n                        .html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\")\n                        .data(\"loaded\", \"1\");\n                    break;\n\n                case contentMode.async:\n                    var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\")\n                        .empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\n                    $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data)\n                    {\n                        currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n                        wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n                    });\n                    break;\n            }\n        }\n    }\n}\n\n/**\n * Fires the action next or previous click event.\n *\n * @static\n * @private\n * @method paginationClick\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the event fired successfully or not\n **/\nfunction paginationClick(wizard, options, state, index)\n{\n    var oldIndex = state.currentIndex;\n\n    if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex))\n    {\n        var anchor = getStepAnchor(wizard, index),\n            parent = anchor.parent(),\n            isDisabled = parent.hasClass(\"disabled\");\n\n        // Enable the step to make the anchor clickable!\n        parent._enableAria();\n        anchor.click();\n\n        // An error occured\n        if (oldIndex === state.currentIndex && isDisabled)\n        {\n            // Disable the step again if current index has not changed; prevents click action.\n            parent._enableAria(false);\n            return false;\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Fires when a pagination click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction paginationClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        href = anchor.attr(\"href\");\n\n    switch (href.substring(href.lastIndexOf(\"#\") + 1))\n    {\n        case \"cancel\":\n            cancel(wizard);\n            break;\n\n        case \"finish\":\n            finishStep(wizard, state);\n            break;\n\n        case \"next\":\n            goToNextStep(wizard, options, state);\n            break;\n\n        case \"previous\":\n            goToPreviousStep(wizard, options, state);\n            break;\n    }\n}\n\n/**\n * Refreshs the visualization state for the entire pagination.\n *\n * @static\n * @private\n * @method refreshPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction refreshPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n            next = wizard.find(\".actions a[href$='#next']\").parent();\n\n        if (!options.forceMoveForward)\n        {\n            var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n            previous._enableAria(state.currentIndex > 0);\n        }\n\n        if (options.enableFinishButton && options.showFinishButtonAlways)\n        {\n            finish._enableAria(state.stepCount > 0);\n            next._enableAria(state.stepCount > 1 && state.stepCount > (state.currentIndex + 1));\n        }\n        else\n        {\n            finish._showAria(options.enableFinishButton && state.stepCount === (state.currentIndex + 1));\n            next._showAria(state.stepCount === 0 || state.stepCount > (state.currentIndex + 1)).\n                _enableAria(state.stepCount > (state.currentIndex + 1) || !options.enableFinishButton);\n        }\n    }\n}\n\n/**\n * Refreshs the visualization state for the step navigation (tabs).\n *\n * @static\n * @private\n * @method refreshStepNavigation\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param [oldIndex] {Integer} The index of the prior step\n */\nfunction refreshStepNavigation(wizard, options, state, oldIndex)\n{\n    var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n        currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n        stepTitles = wizard.find(\".content > .title\");\n\n    if (oldIndex != null)\n    {\n        var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n        oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n        stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n        currentInfo = oldStepAnchor.find(\".current-info\");\n        currentOrNewStepAnchor.focus();\n    }\n\n    currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n    stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n}\n\n/**\n * Refreshes step buttons and their related titles beyond a certain position.\n *\n * @static\n * @private\n * @method refreshSteps\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The start point for refreshing ids\n */\nfunction refreshSteps(wizard, options, state, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    for (var i = index; i < state.stepCount; i++)\n    {\n        var uniqueStepId = uniqueId + _tabSuffix + i,\n            uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n            uniqueHeaderId = uniqueId + _titleSuffix + i,\n            title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\n        wizard.find(\".steps a\").eq(i)._id(uniqueStepId)\n            ._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId)\n            .html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n        wizard.find(\".body\").eq(i)._id(uniqueBodyId)\n            ._aria(\"labelledby\", uniqueHeaderId);\n    }\n}\n\nfunction registerEvents(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n    wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n    wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n    wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n    wizard.bind(\"init\" + eventNamespace, options.onInit);\n    wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n    wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\n    if (options.enableKeyNavigation)\n    {\n        wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n    }\n\n    wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n}\n\n/**\n * Removes a specific step by an given index.\n *\n * @static\n * @private\n * @method removeStep\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\nfunction removeStep(wizard, options, state, index)\n{\n    // Index out of range and try deleting current item will return false.\n    if (index < 0 || index >= state.stepCount || state.currentIndex === index)\n    {\n        return false;\n    }\n\n    // Change data\n    removeStepFromCache(wizard, index);\n    if (state.currentIndex > index)\n    {\n        state.currentIndex--;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount--;\n\n    getStepTitle(wizard, index).remove();\n    getStepPanel(wizard, index).remove();\n    getStepAnchor(wizard, index).parent().remove();\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        wizard.find(\".steps li\").first().addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === state.stepCount)\n    {\n        wizard.find(\".steps li\").eq(index).addClass(\"last\");\n    }\n\n    refreshSteps(wizard, options, state, index);\n    refreshPagination(wizard, options, state);\n\n    return true;\n}\n\nfunction removeStepFromCache(wizard, index)\n{\n    getSteps(wizard).splice(index, 1);\n}\n\n/**\n * Transforms the base html structure to a more sensible html structure.\n *\n * @static\n * @private\n * @method render\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n **/\nfunction render(wizard, options, state)\n{\n    // Create a content wrapper and copy HTML from the intial wizard structure\n    var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n        orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n        verticalCssClass = (orientation === stepsOrientation.vertical) ? \" vertical\" : \"\",\n        contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n        stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n        stepTitles = contentWrapper.children(options.headerTag),\n        stepContents = contentWrapper.children(options.bodyTag);\n\n    // Transform the wizard wrapper and remove the inner HTML\n    wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper)\n        .addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\n    // Add WIA-ARIA support\n    stepContents.each(function (index)\n    {\n        renderBody(wizard, state, $(this), index);\n    });\n\n    stepTitles.each(function (index)\n    {\n        renderTitle(wizard, options, state, $(this), index);\n    });\n\n    refreshStepNavigation(wizard, options, state);\n    renderPagination(wizard, options, state);\n}\n\n/**\n * Transforms the body to a proper tabpanel.\n *\n * @static\n * @private\n * @method renderBody\n * @param wizard {Object} A jQuery wizard object\n * @param body {Object} A jQuery body object\n * @param index {Integer} The position of the body\n */\nfunction renderBody(wizard, state, body, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index;\n\n    body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId)\n        .addClass(\"body\")._showAria(state.currentIndex === index);\n}\n\n/**\n * Renders a pagination if enabled.\n *\n * @static\n * @private\n * @method renderPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction renderPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n            buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n            buttons = \"\";\n\n        if (!options.forceMoveForward)\n        {\n            buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n        }\n\n        buttons += buttonTemplate.format(\"next\", options.labels.next);\n\n        if (options.enableFinishButton)\n        {\n            buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n        }\n\n        if (options.enableCancelButton)\n        {\n            buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n        }\n\n        wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass,\n            options.labels.pagination, buttons));\n\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n    }\n}\n\n/**\n * Renders a template and replaces all placeholder.\n *\n * @static\n * @private\n * @method renderTemplate\n * @param template {String} A template\n * @param substitutes {Object} A list of substitute\n * @return {String} The rendered template\n */\nfunction renderTemplate(template, substitutes)\n{\n    var matches = template.match(/#([a-z]*)#/gi);\n\n    for (var i = 0; i < matches.length; i++)\n    {\n        var match = matches[i],\n            key = match.substring(1, match.length - 1);\n\n        if (substitutes[key] === undefined)\n        {\n            throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n        }\n\n        template = template.replace(match, substitutes[key]);\n    }\n\n    return template;\n}\n\n/**\n * Transforms the title to a step item button.\n *\n * @static\n * @private\n * @method renderTitle\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param header {Object} A jQuery header object\n * @param index {Integer} The position of the header\n */\nfunction renderTitle(wizard, options, state, header, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueStepId = uniqueId + _tabSuffix + index,\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index,\n        stepCollection = wizard.find(\".steps > ul\"),\n        title = renderTemplate(options.titleTemplate, {\n            index: index + 1,\n            title: header.html()\n        }),\n        stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId +\n            \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\n    stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\n    if (state.currentIndex > index)\n    {\n        stepItem.addClass(\"done\");\n    }\n\n    header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\n    if (index === 0)\n    {\n        stepCollection.prepend(stepItem);\n    }\n    else\n    {\n        stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n    }\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === (state.stepCount - 1))\n    {\n        stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n    }\n\n    // Register click event\n    stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n}\n\n/**\n * Saves the current state to a cookie.\n *\n * @static\n * @private\n * @method saveCurrentStateToCookie\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction saveCurrentStateToCookie(wizard, options, state)\n{\n    if (options.saveState && $.cookie)\n    {\n        $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n    }\n}\n\nfunction startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback)\n{\n    var stepContents = wizard.find(\".content > .body\"),\n        effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n        effectSpeed = options.transitionEffectSpeed,\n        newStep = stepContents.eq(index),\n        currentStep = stepContents.eq(oldIndex);\n\n    switch (effect)\n    {\n        case transitionEffect.fade:\n        case transitionEffect.slide:\n            var hide = (effect === transitionEffect.fade) ? \"fadeOut\" : \"slideUp\",\n                show = (effect === transitionEffect.fade) ? \"fadeIn\" : \"slideDown\";\n\n            state.transitionElement = newStep;\n            currentStep[hide](effectSpeed, function ()\n            {\n                var wizard = $(this)._showAria(false).parent().parent(),\n                    state = getState(wizard);\n\n                if (state.transitionElement)\n                {\n                    state.transitionElement[show](effectSpeed, function ()\n                    {\n                        $(this)._showAria();\n                    }).promise().done(doneCallback);\n                    state.transitionElement = null;\n                }\n            });\n            break;\n\n        case transitionEffect.slideLeft:\n            var outerWidth = currentStep.outerWidth(true),\n                posFadeOut = (index > oldIndex) ? -(outerWidth) : outerWidth,\n                posFadeIn = (index > oldIndex) ? outerWidth : -(outerWidth);\n\n            $.when(currentStep.animate({ left: posFadeOut }, effectSpeed,\n                    function () { $(this)._showAria(false); }),\n                newStep.css(\"left\", posFadeIn + \"px\")._showAria()\n                    .animate({ left: 0 }, effectSpeed)).done(doneCallback);\n            break;\n\n        default:\n            $.when(currentStep._showAria(false), newStep._showAria())\n                .done(doneCallback);\n            break;\n    }\n}\n\n/**\n * Fires when a step click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction stepClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        oldIndex = state.currentIndex;\n\n    if (anchor.parent().is(\":not(.disabled):not(.current)\"))\n    {\n        var href = anchor.attr(\"href\"),\n            position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\n        goToStep(wizard, options, state, position);\n    }\n\n    // If nothing has changed\n    if (oldIndex === state.currentIndex)\n    {\n        getStepAnchor(wizard, oldIndex).focus();\n        return false;\n    }\n}\n\nfunction throwError(message)\n{\n    if (arguments.length > 1)\n    {\n        message = message.format(Array.prototype.slice.call(arguments, 1));\n    }\n\n    throw new Error(message);\n}\n\n/**\n * Checks an argument for null or undefined and throws an error if one check applies.\n *\n * @static\n * @private\n * @method validateArgument\n * @param argumentName {String} The name of the given argument\n * @param argumentValue {Object} The argument itself\n */\nfunction validateArgument(argumentName, argumentValue)\n{\n    if (argumentValue == null)\n    {\n        throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n    }\n}\n\n/**\n * Represents a jQuery wizard plugin.\n *\n * @class steps\n * @constructor\n * @param [method={}] The name of the method as `String` or an JSON object for initialization\n * @param [params=]* {Array} Additional arguments for a method call\n * @chainable\n **/\n$.fn.steps = function (method)\n{\n    if ($.fn.steps[method])\n    {\n        return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n    else if (typeof method === \"object\" || !method)\n    {\n        return initialize.apply(this, arguments);\n    }\n    else\n    {\n        $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n    }\n};\n\n/**\n * Adds a new step.\n *\n * @method add\n * @param step {Object} The step object to add\n * @chainable\n **/\n$.fn.steps.add = function (step)\n{\n    var state = getState(this);\n    return insertStep(this, getOptions(this), state, state.stepCount, step);\n};\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @method destroy\n * @chainable\n **/\n$.fn.steps.destroy = function ()\n{\n    return destroy(this, getOptions(this));\n};\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @method finish\n **/\n$.fn.steps.finish = function ()\n{\n    finishStep(this, getState(this));\n};\n\n/**\n * Gets the current step index.\n *\n * @method getCurrentIndex\n * @return {Integer} The actual step index (zero-based)\n * @for steps\n **/\n$.fn.steps.getCurrentIndex = function ()\n{\n    return getState(this).currentIndex;\n};\n\n/**\n * Gets the current step object.\n *\n * @method getCurrentStep\n * @return {Object} The actual step object\n **/\n$.fn.steps.getCurrentStep = function ()\n{\n    return getStep(this, getState(this).currentIndex);\n};\n\n/**\n * Gets a specific step object by index.\n *\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\n$.fn.steps.getStep = function (index)\n{\n    return getStep(this, index);\n};\n\n/**\n * Inserts a new step to a specific position.\n *\n * @method insert\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\n$.fn.steps.insert = function (index, step)\n{\n    return insertStep(this, getOptions(this), getState(this), index, step);\n};\n\n/**\n * Routes to the next step.\n *\n * @method next\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.next = function ()\n{\n    return goToNextStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Routes to the previous step.\n *\n * @method previous\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.previous = function ()\n{\n    return goToPreviousStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Removes a specific step by an given index.\n *\n * @method remove\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\n$.fn.steps.remove = function (index)\n{\n    return removeStep(this, getOptions(this), getState(this), index);\n};\n\n/**\n * Sets a specific step object by index.\n *\n * @method setStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @param step {Object} The step object to change\n **/\n$.fn.steps.setStep = function (index, step)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * Skips an certain amount of steps.\n *\n * @method skip\n * @param count {Integer} The amount of steps that should be skipped\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.skip = function (count)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * An enum represents the different content types of a step and their loading mechanisms.\n *\n * @class contentMode\n * @for steps\n **/\nvar contentMode = $.fn.steps.contentMode = {\n    /**\n     * HTML embedded content\n     *\n     * @readOnly\n     * @property html\n     * @type Integer\n     * @for contentMode\n     **/\n    html: 0,\n\n    /**\n     * IFrame embedded content\n     *\n     * @readOnly\n     * @property iframe\n     * @type Integer\n     * @for contentMode\n     **/\n    iframe: 1,\n\n    /**\n     * Async embedded content\n     *\n     * @readOnly\n     * @property async\n     * @type Integer\n     * @for contentMode\n     **/\n    async: 2\n};\n\n/**\n * An enum represents the orientation of the steps navigation.\n *\n * @class stepsOrientation\n * @for steps\n **/\nvar stepsOrientation = $.fn.steps.stepsOrientation = {\n    /**\n     * Horizontal orientation\n     *\n     * @readOnly\n     * @property horizontal\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    horizontal: 0,\n\n    /**\n     * Vertical orientation\n     *\n     * @readOnly\n     * @property vertical\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    vertical: 1\n};\n\n/**\n * An enum that represents the various transition animations.\n *\n * @class transitionEffect\n * @for steps\n **/\nvar transitionEffect = $.fn.steps.transitionEffect = {\n    /**\n     * No transition animation\n     *\n     * @readOnly\n     * @property none\n     * @type Integer\n     * @for transitionEffect\n     **/\n    none: 0,\n\n    /**\n     * Fade in transition\n     *\n     * @readOnly\n     * @property fade\n     * @type Integer\n     * @for transitionEffect\n     **/\n    fade: 1,\n\n    /**\n     * Slide up transition\n     *\n     * @readOnly\n     * @property slide\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slide: 2,\n\n    /**\n     * Slide left transition\n     *\n     * @readOnly\n     * @property slideLeft\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slideLeft: 3\n};\n\nvar stepModel = $.fn.steps.stepModel = {\n    title: \"\",\n    content: \"\",\n    contentUrl: \"\",\n    contentMode: contentMode.html,\n    contentLoaded: false\n};\n\n/**\n * An object that represents the default settings.\n * There are two possibities to override the sub-properties.\n * Either by doing it generally (global) or on initialization.\n *\n * @static\n * @class defaults\n * @for steps\n * @example\n *   // Global approach\n *   $.steps.defaults.headerTag = \"h3\";\n * @example\n *   // Initialization approach\n *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n **/\nvar defaults = $.fn.steps.defaults = {\n    /**\n     * The header tag is used to find the step button text within the declared wizard area.\n     *\n     * @property headerTag\n     * @type String\n     * @default \"h1\"\n     * @for defaults\n     **/\n    headerTag: \"h1\",\n\n    /**\n     * The body tag is used to find the step content within the declared wizard area.\n     *\n     * @property bodyTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    bodyTag: \"div\",\n\n    /**\n     * The content container tag which will be used to wrap all step contents.\n     *\n     * @property contentContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    contentContainerTag: \"div\",\n\n    /**\n     * The action container tag which will be used to wrap the pagination navigation.\n     *\n     * @property actionContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    actionContainerTag: \"div\",\n\n    /**\n     * The steps container tag which will be used to wrap the steps navigation.\n     *\n     * @property stepsContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    stepsContainerTag: \"div\",\n\n    /**\n     * The css class which will be added to the outer component wrapper.\n     *\n     * @property cssClass\n     * @type String\n     * @default \"wizard\"\n     * @for defaults\n     * @example\n     *     <div class=\"wizard\">\n     *         ...\n     *     </div>\n     **/\n    cssClass: \"wizard\",\n\n    /**\n     * The css class which will be used for floating scenarios.\n     *\n     * @property clearFixCssClass\n     * @type String\n     * @default \"clearfix\"\n     * @for defaults\n     **/\n    clearFixCssClass: \"clearfix\",\n\n    /**\n     * Determines whether the steps are vertically or horizontally oriented.\n     *\n     * @property stepsOrientation\n     * @type stepsOrientation\n     * @default horizontal\n     * @for defaults\n     * @since 1.0.0\n     **/\n    stepsOrientation: stepsOrientation.horizontal,\n\n    /*\n     * Tempplates\n     */\n\n    /**\n     * The title template which will be used to create a step button.\n     *\n     * @property titleTemplate\n     * @type String\n     * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n     * @for defaults\n     **/\n    titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\n    /**\n     * The loading template which will be used to create the loading animation.\n     *\n     * @property loadingTemplate\n     * @type String\n     * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n     * @for defaults\n     **/\n    loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\n    /*\n     * Behaviour\n     */\n\n    /**\n     * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n     *\n     * @property autoFocus\n     * @type Boolean\n     * @default false\n     * @for defaults\n     * @since 0.9.4\n     **/\n    autoFocus: false,\n\n    /**\n     * Enables all steps from the begining if `true` (all steps are clickable).\n     *\n     * @property enableAllSteps\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableAllSteps: false,\n\n    /**\n     * Enables keyboard navigation if `true` (arrow left and arrow right).\n     *\n     * @property enableKeyNavigation\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableKeyNavigation: true,\n\n    /**\n     * Enables pagination if `true`.\n     *\n     * @property enablePagination\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enablePagination: true,\n\n    /**\n     * Suppresses pagination if a form field is focused.\n     *\n     * @property suppressPaginationOnFocus\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    suppressPaginationOnFocus: true,\n\n    /**\n     * Enables cache for async loaded or iframe embedded content.\n     *\n     * @property enableContentCache\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableContentCache: true,\n\n    /**\n     * Shows the cancel button if enabled.\n     *\n     * @property enableCancelButton\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableCancelButton: false,\n\n    /**\n     * Shows the finish button if enabled.\n     *\n     * @property enableFinishButton\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableFinishButton: true,\n\n    /**\n     * Not yet implemented.\n     *\n     * @property preloadContent\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    preloadContent: false,\n\n    /**\n     * Shows the finish button always (on each step; right beside the next button) if `true`.\n     * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n     *\n     * @property showFinishButtonAlways\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    showFinishButtonAlways: false,\n\n    /**\n     * Prevents jumping to a previous step.\n     *\n     * @property forceMoveForward\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    forceMoveForward: false,\n\n    /**\n     * Saves the current state (step position) to a cookie.\n     * By coming next time the last active step becomes activated.\n     *\n     * @property saveState\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    saveState: false,\n\n    /**\n     * The position to start on (zero-based).\n     *\n     * @property startIndex\n     * @type Integer\n     * @default 0\n     * @for defaults\n     **/\n    startIndex: 0,\n\n    /*\n     * Animation Effect Configuration\n     */\n\n    /**\n     * The animation effect which will be used for step transitions.\n     *\n     * @property transitionEffect\n     * @type transitionEffect\n     * @default none\n     * @for defaults\n     **/\n    transitionEffect: transitionEffect.none,\n\n    /**\n     * Animation speed for step transitions (in milliseconds).\n     *\n     * @property transitionEffectSpeed\n     * @type Integer\n     * @default 200\n     * @for defaults\n     **/\n    transitionEffectSpeed: 200,\n\n    /*\n     * Events\n     */\n\n    /**\n     * Fires before the step changes and can be used to prevent step changing by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onStepChanging\n     * @type Event\n     * @default function (event, currentIndex, newIndex) { return true; }\n     * @for defaults\n     **/\n    onStepChanging: function (event, currentIndex, newIndex) { return true; },\n\n    /**\n     * Fires after the step has change.\n     *\n     * @property onStepChanged\n     * @type Event\n     * @default function (event, currentIndex, priorIndex) { }\n     * @for defaults\n     **/\n    onStepChanged: function (event, currentIndex, priorIndex) { },\n\n    /**\n     * Fires after cancelation.\n     *\n     * @property onCanceled\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onCanceled: function (event) { },\n\n    /**\n     * Fires before finishing and can be used to prevent completion by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onFinishing\n     * @type Event\n     * @default function (event, currentIndex) { return true; }\n     * @for defaults\n     **/\n    onFinishing: function (event, currentIndex) { return true; },\n\n    /**\n     * Fires after completion.\n     *\n     * @property onFinished\n     * @type Event\n     * @default function (event, currentIndex) { }\n     * @for defaults\n     **/\n    onFinished: function (event, currentIndex) { },\n\n    /**\n     * Fires after async content is loaded.\n     *\n     * @property onContentLoaded\n     * @type Event\n     * @default function (event, index) { }\n     * @for defaults\n     **/\n    onContentLoaded: function (event, currentIndex) { },\n\n    /**\n     * Fires when the wizard is initialized.\n     *\n     * @property onInit\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onInit: function (event, currentIndex) { },\n\n    /**\n     * Contains all labels.\n     *\n     * @property labels\n     * @type Object\n     * @for defaults\n     **/\n    labels: {\n        /**\n         * Label for the cancel button.\n         *\n         * @property cancel\n         * @type String\n         * @default \"Cancel\"\n         * @for defaults\n         **/\n        cancel: \"Cancel\",\n\n        /**\n         * This label is important for accessability reasons.\n         * Indicates which step is activated.\n         *\n         * @property current\n         * @type String\n         * @default \"current step:\"\n         * @for defaults\n         **/\n        current: \"current step:\",\n\n        /**\n         * This label is important for accessability reasons and describes the kind of navigation.\n         *\n         * @property pagination\n         * @type String\n         * @default \"Pagination\"\n         * @for defaults\n         * @since 0.9.7\n         **/\n        pagination: \"Pagination\",\n\n        /**\n         * Label for the finish button.\n         *\n         * @property finish\n         * @type String\n         * @default \"Finish\"\n         * @for defaults\n         **/\n        finish: \"Finish\",\n\n        /**\n         * Label for the next button.\n         *\n         * @property next\n         * @type String\n         * @default \"Next\"\n         * @for defaults\n         **/\n        next: \"Next\",\n\n        /**\n         * Label for the previous button.\n         *\n         * @property previous\n         * @type String\n         * @default \"Previous\"\n         * @for defaults\n         **/\n        previous: \"Previous\",\n\n        /**\n         * Label for the loading animation.\n         *\n         * @property loading\n         * @type String\n         * @default \"Loading ...\"\n         * @for defaults\n         **/\n        loading: \"Loading ...\"\n    }\n};\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.steps.js","/*!\n * jQuery Validation Plugin v1.15.0\n *\n * http://jqueryvalidation.org/\n *\n * Copyright (c) 2016 Jörn Zaefferer\n * Released under the MIT license\n */\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n$.extend( $.fn, {\n\n\t// http://jqueryvalidation.org/validate/\n\tvalidate: function( options ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\tif ( options && options.debug && window.console ) {\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if a validator for this form was already created\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\n\t\tif ( validator ) {\n\t\t\treturn validator;\n\t\t}\n\n\t\t// Add novalidate tag if HTML5.\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\n\n\t\tvalidator = new $.validator( options, this[ 0 ] );\n\t\t$.data( this[ 0 ], \"validator\", validator );\n\n\t\tif ( validator.settings.onsubmit ) {\n\n\t\t\tthis.on( \"click.validate\", \":submit\", function( event ) {\n\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\tif ( $( this ).hasClass( \"cancel\" ) ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\tif ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Validate the form on submit\n\t\t\tthis.on( \"submit.validate\", function( event ) {\n\t\t\t\tif ( validator.settings.debug ) {\n\n\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tfunction handle() {\n\t\t\t\t\tvar hidden, result;\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\n\t\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\n\t\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\n\t\t\t\t\t\t\t\t.appendTo( validator.currentForm );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== undefined ) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\tif ( validator.cancelSubmit ) {\n\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\treturn handle();\n\t\t\t\t}\n\t\t\t\tif ( validator.form() ) {\n\t\t\t\t\tif ( validator.pendingRequest ) {\n\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn handle();\n\t\t\t\t} else {\n\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn validator;\n\t},\n\n\t// http://jqueryvalidation.org/valid/\n\tvalid: function() {\n\t\tvar valid, validator, errorList;\n\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\n\t\t\tvalid = this.validate().form();\n\t\t} else {\n\t\t\terrorList = [];\n\t\t\tvalid = true;\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\n\t\t\tthis.each( function() {\n\t\t\t\tvalid = validator.element( this ) && valid;\n\t\t\t\tif ( !valid ) {\n\t\t\t\t\terrorList = errorList.concat( validator.errorList );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tvalidator.errorList = errorList;\n\t\t}\n\t\treturn valid;\n\t},\n\n\t// http://jqueryvalidation.org/rules/\n\trules: function( command, argument ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element = this[ 0 ],\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\n\n\t\tif ( command ) {\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\n\t\t\tstaticRules = settings.rules;\n\t\t\texistingRules = $.validator.staticRules( element );\n\t\t\tswitch ( command ) {\n\t\t\tcase \"add\":\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\n\n\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\tdelete existingRules.messages;\n\t\t\t\tstaticRules[ element.name ] = existingRules;\n\t\t\t\tif ( argument.messages ) {\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"remove\":\n\t\t\t\tif ( !argument ) {\n\t\t\t\t\tdelete staticRules[ element.name ];\n\t\t\t\t\treturn existingRules;\n\t\t\t\t}\n\t\t\t\tfiltered = {};\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\n\t\t\t\t\tdelete existingRules[ method ];\n\t\t\t\t\tif ( method === \"required\" ) {\n\t\t\t\t\t\t$( element ).removeAttr( \"aria-required\" );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn filtered;\n\t\t\t}\n\t\t}\n\n\t\tdata = $.validator.normalizeRules(\n\t\t$.extend(\n\t\t\t{},\n\t\t\t$.validator.classRules( element ),\n\t\t\t$.validator.attributeRules( element ),\n\t\t\t$.validator.dataRules( element ),\n\t\t\t$.validator.staticRules( element )\n\t\t), element );\n\n\t\t// Make sure required is at front\n\t\tif ( data.required ) {\n\t\t\tparam = data.required;\n\t\t\tdelete data.required;\n\t\t\tdata = $.extend( { required: param }, data );\n\t\t\t$( element ).attr( \"aria-required\", \"true\" );\n\t\t}\n\n\t\t// Make sure remote is at back\n\t\tif ( data.remote ) {\n\t\t\tparam = data.remote;\n\t\t\tdelete data.remote;\n\t\t\tdata = $.extend( data, { remote: param } );\n\t\t}\n\n\t\treturn data;\n\t}\n} );\n\n// Custom selectors\n$.extend( $.expr[ \":\" ], {\n\n\t// http://jqueryvalidation.org/blank-selector/\n\tblank: function( a ) {\n\t\treturn !$.trim( \"\" + $( a ).val() );\n\t},\n\n\t// http://jqueryvalidation.org/filled-selector/\n\tfilled: function( a ) {\n\t\tvar val = $( a ).val();\n\t\treturn val !== null && !!$.trim( \"\" + val );\n\t},\n\n\t// http://jqueryvalidation.org/unchecked-selector/\n\tunchecked: function( a ) {\n\t\treturn !$( a ).prop( \"checked\" );\n\t}\n} );\n\n// Constructor for validator\n$.validator = function( options, form ) {\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\n\tthis.currentForm = form;\n\tthis.init();\n};\n\n// http://jqueryvalidation.org/jQuery.validator.format/\n$.validator.format = function( source, params ) {\n\tif ( arguments.length === 1 ) {\n\t\treturn function() {\n\t\t\tvar args = $.makeArray( arguments );\n\t\t\targs.unshift( source );\n\t\t\treturn $.validator.format.apply( this, args );\n\t\t};\n\t}\n\tif ( params === undefined ) {\n\t\treturn source;\n\t}\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\n\t\tparams = $.makeArray( arguments ).slice( 1 );\n\t}\n\tif ( params.constructor !== Array ) {\n\t\tparams = [ params ];\n\t}\n\t$.each( params, function( i, n ) {\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n\t\t\treturn n;\n\t\t} );\n\t} );\n\treturn source;\n};\n\n$.extend( $.validator, {\n\n\tdefaults: {\n\t\tmessages: {},\n\t\tgroups: {},\n\t\trules: {},\n\t\terrorClass: \"error\",\n\t\tpendingClass: \"pending\",\n\t\tvalidClass: \"valid\",\n\t\terrorElement: \"label\",\n\t\tfocusCleanup: false,\n\t\tfocusInvalid: true,\n\t\terrorContainer: $( [] ),\n\t\terrorLabelContainer: $( [] ),\n\t\tonsubmit: true,\n\t\tignore: \":hidden\",\n\t\tignoreTitle: false,\n\t\tonfocusin: function( element ) {\n\t\t\tthis.lastActive = element;\n\n\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\tif ( this.settings.focusCleanup ) {\n\t\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\n\t\t\t}\n\t\t},\n\t\tonfocusout: function( element ) {\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonkeyup: function( element, event ) {\n\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t// Shift       => 16\n\t\t\t// Ctrl        => 17\n\t\t\t// Alt         => 18\n\t\t\t// Caps lock   => 20\n\t\t\t// End         => 35\n\t\t\t// Home        => 36\n\t\t\t// Left arrow  => 37\n\t\t\t// Up arrow    => 38\n\t\t\t// Right arrow => 39\n\t\t\t// Down arrow  => 40\n\t\t\t// Insert      => 45\n\t\t\t// Num lock    => 144\n\t\t\t// AltGr key   => 225\n\t\t\tvar excludedKeys = [\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\n\t\t\t\t38, 39, 40, 45, 144, 225\n\t\t\t];\n\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t} else if ( element.name in this.submitted || element.name in this.invalid ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonclick: function( element ) {\n\n\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\tif ( element.name in this.submitted ) {\n\t\t\t\tthis.element( element );\n\n\t\t\t// Or option elements, check parent select in that case\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\n\t\t\t\tthis.element( element.parentNode );\n\t\t\t}\n\t\t},\n\t\thighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\n\t\t\t}\n\t\t},\n\t\tunhighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\n\t\t\t}\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\tsetDefaults: function( settings ) {\n\t\t$.extend( $.validator.defaults, settings );\n\t},\n\n\tmessages: {\n\t\trequired: \"This field is required.\",\n\t\tremote: \"Please fix this field.\",\n\t\temail: \"Please enter a valid email address.\",\n\t\turl: \"Please enter a valid URL.\",\n\t\tdate: \"Please enter a valid date.\",\n\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\tnumber: \"Please enter a valid number.\",\n\t\tdigits: \"Please enter only digits.\",\n\t\tequalTo: \"Please enter the same value again.\",\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\n\t\tstep: $.validator.format( \"Please enter a multiple of {0}.\" )\n\t},\n\n\tautoCreateRanges: false,\n\n\tprototype: {\n\n\t\tinit: function() {\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\n\t\t\tthis.submitted = {};\n\t\t\tthis.valueCache = {};\n\t\t\tthis.pendingRequest = 0;\n\t\t\tthis.pending = {};\n\t\t\tthis.invalid = {};\n\t\t\tthis.reset();\n\n\t\t\tvar groups = ( this.groups = {} ),\n\t\t\t\trules;\n\t\t\t$.each( this.settings.groups, function( key, value ) {\n\t\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\t\tvalue = value.split( /\\s/ );\n\t\t\t\t}\n\t\t\t\t$.each( value, function( index, name ) {\n\t\t\t\t\tgroups[ name ] = key;\n\t\t\t\t} );\n\t\t\t} );\n\t\t\trules = this.settings.rules;\n\t\t\t$.each( rules, function( key, value ) {\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\n\t\t\t} );\n\n\t\t\tfunction delegate( event ) {\n\t\t\t\tvar validator = $.data( this.form, \"validator\" ),\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n\t\t\t\t\tsettings = validator.settings;\n\t\t\t\tif ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\n\t\t\t\t\tsettings[ eventType ].call( validator, this, event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate\",\n\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable]\", delegate )\n\n\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t.on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\n\n\t\t\tif ( this.settings.invalidHandler ) {\n\t\t\t\t$( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\n\t\t\t}\n\n\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t$( this.currentForm ).find( \"[required], [data-rule-required], .required\" ).attr( \"aria-required\", \"true\" );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.form/\n\t\tform: function() {\n\t\t\tthis.checkForm();\n\t\t\t$.extend( this.submitted, this.errorMap );\n\t\t\tthis.invalid = $.extend( {}, this.errorMap );\n\t\t\tif ( !this.valid() ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t}\n\t\t\tthis.showErrors();\n\t\t\treturn this.valid();\n\t\t},\n\n\t\tcheckForm: function() {\n\t\t\tthis.prepareForm();\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\n\t\t\t\tthis.check( elements[ i ] );\n\t\t\t}\n\t\t\treturn this.valid();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.element/\n\t\telement: function( element ) {\n\t\t\tvar cleanElement = this.clean( element ),\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\n\t\t\t\tv = this,\n\t\t\t\tresult = true,\n\t\t\t\trs, group;\n\n\t\t\tif ( checkElement === undefined ) {\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\n\t\t\t} else {\n\t\t\t\tthis.prepareElement( checkElement );\n\t\t\t\tthis.currentElements = $( checkElement );\n\n\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t// containing a value\n\t\t\t\tgroup = this.groups[ checkElement.name ];\n\t\t\t\tif ( group ) {\n\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\n\t\t\t\t\t\tif ( testgroup === group && name !== checkElement.name ) {\n\t\t\t\t\t\t\tcleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\n\t\t\t\t\t\t\tif ( cleanElement && cleanElement.name in v.invalid ) {\n\t\t\t\t\t\t\t\tv.currentElements.push( cleanElement );\n\t\t\t\t\t\t\t\tresult = result && v.check( cleanElement );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\trs = this.check( checkElement ) !== false;\n\t\t\t\tresult = result && rs;\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\n\t\t\t\t}\n\n\t\t\t\tif ( !this.numberOfInvalids() ) {\n\n\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\tthis.toHide = this.toHide.add( this.containers );\n\t\t\t\t}\n\t\t\t\tthis.showErrors();\n\n\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t$( element ).attr( \"aria-invalid\", !rs );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\tshowErrors: function( errors ) {\n\t\t\tif ( errors ) {\n\t\t\t\tvar validator = this;\n\n\t\t\t\t// Add items to error list and map\n\t\t\t\t$.extend( this.errorMap, errors );\n\t\t\t\tthis.errorList = $.map( this.errorMap, function( message, name ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: validator.findByName( name )[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t\t// Remove items from success list\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\n\t\t\t\t\treturn !( element.name in errors );\n\t\t\t\t} );\n\t\t\t}\n\t\t\tif ( this.settings.showErrors ) {\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\n\t\t\t} else {\n\t\t\t\tthis.defaultShowErrors();\n\t\t\t}\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\tresetForm: function() {\n\t\t\tif ( $.fn.resetForm ) {\n\t\t\t\t$( this.currentForm ).resetForm();\n\t\t\t}\n\t\t\tthis.invalid = {};\n\t\t\tthis.submitted = {};\n\t\t\tthis.prepareForm();\n\t\t\tthis.hideErrors();\n\t\t\tvar elements = this.elements()\n\t\t\t\t.removeData( \"previousValue\" )\n\t\t\t\t.removeAttr( \"aria-invalid\" );\n\n\t\t\tthis.resetElements( elements );\n\t\t},\n\n\t\tresetElements: function( elements ) {\n\t\t\tvar i;\n\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\n\t\t\t\t\tthis.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telements\n\t\t\t\t\t.removeClass( this.settings.errorClass )\n\t\t\t\t\t.removeClass( this.settings.validClass );\n\t\t\t}\n\t\t},\n\n\t\tnumberOfInvalids: function() {\n\t\t\treturn this.objectLength( this.invalid );\n\t\t},\n\n\t\tobjectLength: function( obj ) {\n\t\t\t/* jshint unused: false */\n\t\t\tvar count = 0,\n\t\t\t\ti;\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( obj[ i ] ) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\thideErrors: function() {\n\t\t\tthis.hideThese( this.toHide );\n\t\t},\n\n\t\thideThese: function( errors ) {\n\t\t\terrors.not( this.containers ).text( \"\" );\n\t\t\tthis.addWrapper( errors ).hide();\n\t\t},\n\n\t\tvalid: function() {\n\t\t\treturn this.size() === 0;\n\t\t},\n\n\t\tsize: function() {\n\t\t\treturn this.errorList.length;\n\t\t},\n\n\t\tfocusInvalid: function() {\n\t\t\tif ( this.settings.focusInvalid ) {\n\t\t\t\ttry {\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\n\t\t\t\t\t.filter( \":visible\" )\n\t\t\t\t\t.focus()\n\n\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t.trigger( \"focusin\" );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindLastActive: function() {\n\t\t\tvar lastActive = this.lastActive;\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\n\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t} ).length === 1 && lastActive;\n\t\t},\n\n\t\telements: function() {\n\t\t\tvar validator = this,\n\t\t\t\trulesCache = {};\n\n\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\treturn $( this.currentForm )\n\t\t\t.find( \"input, select, textarea, [contenteditable]\" )\n\t\t\t.not( \":submit, :reset, :image, :disabled\" )\n\t\t\t.not( this.settings.ignore )\n\t\t\t.filter( function() {\n\t\t\t\tvar name = this.name || $( this ).attr( \"name\" ); // For contenteditable\n\t\t\t\tif ( !name && validator.settings.debug && window.console ) {\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\n\t\t\t\t}\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( this.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\tif ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\trulesCache[ name ] = true;\n\t\t\t\treturn true;\n\t\t\t} );\n\t\t},\n\n\t\tclean: function( selector ) {\n\t\t\treturn $( selector )[ 0 ];\n\t\t},\n\n\t\terrors: function() {\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\n\t\t},\n\n\t\tresetInternals: function() {\n\t\t\tthis.successList = [];\n\t\t\tthis.errorList = [];\n\t\t\tthis.errorMap = {};\n\t\t\tthis.toShow = $( [] );\n\t\t\tthis.toHide = $( [] );\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.resetInternals();\n\t\t\tthis.currentElements = $( [] );\n\t\t},\n\n\t\tprepareForm: function() {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errors().add( this.containers );\n\t\t},\n\n\t\tprepareElement: function( element ) {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errorsFor( element );\n\t\t},\n\n\t\telementValue: function( element ) {\n\t\t\tvar $element = $( element ),\n\t\t\t\ttype = element.type,\n\t\t\t\tval, idx;\n\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\n\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).val();\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t}\n\n\t\t\tif ( element.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\tval = $element.text();\n\t\t\t} else {\n\t\t\t\tval = $element.val();\n\t\t\t}\n\n\t\t\tif ( type === \"file\" ) {\n\n\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\tif ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\n\t\t\t\t\treturn val.substr( 12 );\n\t\t\t\t}\n\n\t\t\t\t// Legacy browsers\n\t\t\t\t// Unix-based path\n\t\t\t\tidx = val.lastIndexOf( \"/\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Windows-based path\n\t\t\t\tidx = val.lastIndexOf( \"\\\\\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Just the file name\n\t\t\t\treturn val;\n\t\t\t}\n\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\treturn val.replace( /\\r/g, \"\" );\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\tcheck: function( element ) {\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\n\n\t\t\tvar rules = $( element ).rules(),\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\n\t\t\t\t\treturn i;\n\t\t\t\t} ).length,\n\t\t\t\tdependencyMismatch = false,\n\t\t\t\tval = this.elementValue( element ),\n\t\t\t\tresult, method, rule;\n\n\t\t\t// If a normalizer is defined for this element, then\n\t\t\t// call it to retreive the changed value instead\n\t\t\t// of using the real one.\n\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\tif ( typeof rules.normalizer === \"function\" ) {\n\t\t\t\tval = rules.normalizer.call( element, val );\n\n\t\t\t\tif ( typeof val !== \"string\" ) {\n\t\t\t\t\tthrow new TypeError( \"The normalizer should return a string value.\" );\n\t\t\t\t}\n\n\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t// it as a pre-defined method.\n\t\t\t\tdelete rules.normalizer;\n\t\t\t}\n\n\t\t\tfor ( method in rules ) {\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\n\t\t\t\ttry {\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdependencyMismatch = false;\n\n\t\t\t\t\tif ( result === \"pending\" ) {\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n\t\t\t\t\t}\n\t\t\t\t\tif ( e instanceof TypeError ) {\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( dependencyMismatch ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( this.objectLength( rules ) ) {\n\t\t\t\tthis.successList.push( element );\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Return the custom message for the given element and validation method\n\t\t// specified in the element's HTML5 data attribute\n\t\t// return the generic message if present and no method specific message is present\n\t\tcustomDataMessage: function( element, method ) {\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\n\t\t},\n\n\t\t// Return the custom message for the given element name and validation method\n\t\tcustomMessage: function( name, method ) {\n\t\t\tvar m = this.settings.messages[ name ];\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ] );\n\t\t},\n\n\t\t// Return the first defined argument, allowing empty strings\n\t\tfindDefined: function() {\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\n\t\t\t\t\treturn arguments[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\n\t\tdefaultMessage: function( element, rule ) {\n\t\t\tvar message = this.findDefined(\n\t\t\t\t\tthis.customMessage( element.name, rule.method ),\n\t\t\t\t\tthis.customDataMessage( element, rule.method ),\n\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\n\t\t\t\t\t$.validator.messages[ rule.method ],\n\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n\t\t\t\t),\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\tif ( typeof message === \"function\" ) {\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\n\t\t\t} else if ( theregex.test( message ) ) {\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\n\t\t\t}\n\n\t\t\treturn message;\n\t\t},\n\n\t\tformatAndAdd: function( element, rule ) {\n\t\t\tvar message = this.defaultMessage( element, rule );\n\n\t\t\tthis.errorList.push( {\n\t\t\t\tmessage: message,\n\t\t\t\telement: element,\n\t\t\t\tmethod: rule.method\n\t\t\t} );\n\n\t\t\tthis.errorMap[ element.name ] = message;\n\t\t\tthis.submitted[ element.name ] = message;\n\t\t},\n\n\t\taddWrapper: function( toToggle ) {\n\t\t\tif ( this.settings.wrapper ) {\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n\t\t\t}\n\t\t\treturn toToggle;\n\t\t},\n\n\t\tdefaultShowErrors: function() {\n\t\t\tvar i, elements, error;\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\n\t\t\t\terror = this.errorList[ i ];\n\t\t\t\tif ( this.settings.highlight ) {\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.showLabel( error.element, error.message );\n\t\t\t}\n\t\t\tif ( this.errorList.length ) {\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\n\t\t\t}\n\t\t\tif ( this.settings.success ) {\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\n\t\t\tthis.hideErrors();\n\t\t\tthis.addWrapper( this.toShow ).show();\n\t\t},\n\n\t\tvalidElements: function() {\n\t\t\treturn this.currentElements.not( this.invalidElements() );\n\t\t},\n\n\t\tinvalidElements: function() {\n\t\t\treturn $( this.errorList ).map( function() {\n\t\t\t\treturn this.element;\n\t\t\t} );\n\t\t},\n\n\t\tshowLabel: function( element, message ) {\n\t\t\tvar place, group, errorID, v,\n\t\t\t\terror = this.errorsFor( element ),\n\t\t\t\telementID = this.idOrName( element ),\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\n\n\t\t\tif ( error.length ) {\n\n\t\t\t\t// Refresh error/success class\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n\n\t\t\t\t// Replace message on existing label\n\t\t\t\terror.html( message );\n\t\t\t} else {\n\n\t\t\t\t// Create error element\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\n\t\t\t\t\t.addClass( this.settings.errorClass )\n\t\t\t\t\t.html( message || \"\" );\n\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\tplace = error;\n\t\t\t\tif ( this.settings.wrapper ) {\n\n\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\n\t\t\t\t}\n\t\t\t\tif ( this.labelContainer.length ) {\n\t\t\t\t\tthis.labelContainer.append( place );\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\n\t\t\t\t\tthis.settings.errorPlacement( place, $( element ) );\n\t\t\t\t} else {\n\t\t\t\t\tplace.insertAfter( element );\n\t\t\t\t}\n\n\t\t\t\t// Link error back to the element\n\t\t\t\tif ( error.is( \"label\" ) ) {\n\n\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\terror.attr( \"for\", elementID );\n\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t} else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\n\t\t\t\t\terrorID = error.attr( \"id\" );\n\n\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\tif ( !describedBy ) {\n\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\n\n\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t}\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\n\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\tgroup = this.groups[ element.name ];\n\t\t\t\t\tif ( group ) {\n\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t$.each( v.groups, function( name, testgroup ) {\n\t\t\t\t\t\t\tif ( testgroup === group ) {\n\t\t\t\t\t\t\t\t$( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !message && this.settings.success ) {\n\t\t\t\terror.text( \"\" );\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\n\t\t\t\t\terror.addClass( this.settings.success );\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings.success( error, element );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toShow = this.toShow.add( error );\n\t\t},\n\n\t\terrorsFor: function( element ) {\n\t\t\tvar name = this.escapeCssMeta( this.idOrName( element ) ),\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\n\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\tif ( describer ) {\n\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta( describer )\n\t\t\t\t\t.replace( /\\s+/g, \", #\" );\n\t\t\t}\n\n\t\t\treturn this\n\t\t\t\t.errors()\n\t\t\t\t.filter( selector );\n\t\t},\n\n\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t// as a literal part of a name/id or any selector.\n\t\tescapeCssMeta: function( string ) {\n\t\t\treturn string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\n\t\t},\n\n\t\tidOrName: function( element ) {\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\n\t\t},\n\n\t\tvalidationTargetFor: function( element ) {\n\n\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\telement = this.findByName( element.name );\n\t\t\t}\n\n\t\t\t// Always apply ignore filter\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\n\t\t},\n\n\t\tcheckable: function( element ) {\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\n\t\t},\n\n\t\tfindByName: function( name ) {\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\n\t\t},\n\n\t\tgetLength: function( value, element ) {\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\n\t\t\tcase \"select\":\n\t\t\t\treturn $( \"option:selected\", element ).length;\n\t\t\tcase \"input\":\n\t\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value.length;\n\t\t},\n\n\t\tdepend: function( param, element ) {\n\t\t\treturn this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\n\t\t},\n\n\t\tdependTypes: {\n\t\t\t\"boolean\": function( param ) {\n\t\t\t\treturn param;\n\t\t\t},\n\t\t\t\"string\": function( param, element ) {\n\t\t\t\treturn !!$( param, element.form ).length;\n\t\t\t},\n\t\t\t\"function\": function( param, element ) {\n\t\t\t\treturn param( element );\n\t\t\t}\n\t\t},\n\n\t\toptional: function( element ) {\n\t\t\tvar val = this.elementValue( element );\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n\t\t},\n\n\t\tstartRequest: function( element ) {\n\t\t\tif ( !this.pending[ element.name ] ) {\n\t\t\t\tthis.pendingRequest++;\n\t\t\t\t$( element ).addClass( this.settings.pendingClass );\n\t\t\t\tthis.pending[ element.name ] = true;\n\t\t\t}\n\t\t},\n\n\t\tstopRequest: function( element, valid ) {\n\t\t\tthis.pendingRequest--;\n\n\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\tif ( this.pendingRequest < 0 ) {\n\t\t\t\tthis.pendingRequest = 0;\n\t\t\t}\n\t\t\tdelete this.pending[ element.name ];\n\t\t\t$( element ).removeClass( this.settings.pendingClass );\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\n\t\t\t\t$( this.currentForm ).submit();\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t}\n\t\t},\n\n\t\tpreviousValue: function( element, method ) {\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\n\t\t\t\told: null,\n\t\t\t\tvalid: true,\n\t\t\t\tmessage: this.defaultMessage( element, { method: method } )\n\t\t\t} );\n\t\t},\n\n\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\tdestroy: function() {\n\t\t\tthis.resetForm();\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.off( \".validate\" )\n\t\t\t\t.removeData( \"validator\" )\n\t\t\t\t.find( \".validate-equalTo-blur\" )\n\t\t\t\t\t.off( \".validate-equalTo\" )\n\t\t\t\t\t.removeClass( \"validate-equalTo-blur\" );\n\t\t}\n\n\t},\n\n\tclassRuleSettings: {\n\t\trequired: { required: true },\n\t\temail: { email: true },\n\t\turl: { url: true },\n\t\tdate: { date: true },\n\t\tdateISO: { dateISO: true },\n\t\tnumber: { number: true },\n\t\tdigits: { digits: true },\n\t\tcreditcard: { creditcard: true }\n\t},\n\n\taddClassRules: function( className, rules ) {\n\t\tif ( className.constructor === String ) {\n\t\t\tthis.classRuleSettings[ className ] = rules;\n\t\t} else {\n\t\t\t$.extend( this.classRuleSettings, className );\n\t\t}\n\t},\n\n\tclassRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tclasses = $( element ).attr( \"class\" );\n\n\t\tif ( classes ) {\n\t\t\t$.each( classes.split( \" \" ), function() {\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeAttributeRule: function( rules, type, method, value ) {\n\n\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t// allows type=\"date\" and others to be compared as strings\n\t\tif ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n\t\t\tvalue = Number( value );\n\n\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\tif ( isNaN( value ) ) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif ( value || value === 0 ) {\n\t\t\trules[ method ] = value;\n\t\t} else if ( type === method && type !== \"range\" ) {\n\n\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t// does not test for the html5 'range' type\n\t\t\trules[ method ] = true;\n\t\t}\n\t},\n\n\tattributeRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\n\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\tif ( method === \"required\" ) {\n\t\t\t\tvalue = element.getAttribute( method );\n\n\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t}\n\n\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\tvalue = !!value;\n\t\t\t} else {\n\t\t\t\tvalue = $element.attr( method );\n\t\t\t}\n\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\n\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n\t\t\tdelete rules.maxlength;\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\tdataRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tstaticRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tvalidator = $.data( element.form, \"validator\" );\n\n\t\tif ( validator.settings.rules ) {\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeRules: function( rules, element ) {\n\n\t\t// Handle dependency check\n\t\t$.each( rules, function( prop, val ) {\n\n\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\tif ( val === false ) {\n\t\t\t\tdelete rules[ prop ];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( val.param || val.depends ) {\n\t\t\t\tvar keepRule = true;\n\t\t\t\tswitch ( typeof val.depends ) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"function\":\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( keepRule ) {\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\n\t\t\t\t} else {\n\t\t\t\t\t$.data( element.form, \"validator\" ).resetElements( $( element ) );\n\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Evaluate parameters\n\t\t$.each( rules, function( rule, parameter ) {\n\t\t\trules[ rule ] = $.isFunction( parameter ) && rule !== \"normalizer\" ? parameter( element ) : parameter;\n\t\t} );\n\n\t\t// Clean number parameters\n\t\t$.each( [ \"minlength\", \"maxlength\" ], function() {\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\trules[ this ] = Number( rules[ this ] );\n\t\t\t}\n\t\t} );\n\t\t$.each( [ \"rangelength\", \"range\" ], function() {\n\t\t\tvar parts;\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\n\t\t\t\t\tparts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tif ( $.validator.autoCreateRanges ) {\n\n\t\t\t// Auto-create ranges\n\t\t\tif ( rules.min != null && rules.max != null ) {\n\t\t\t\trules.range = [ rules.min, rules.max ];\n\t\t\t\tdelete rules.min;\n\t\t\t\tdelete rules.max;\n\t\t\t}\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\n\t\t\t\tdelete rules.minlength;\n\t\t\t\tdelete rules.maxlength;\n\t\t\t}\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\tnormalizeRule: function( data ) {\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tvar transformed = {};\n\t\t\t$.each( data.split( /\\s/ ), function() {\n\t\t\t\ttransformed[ this ] = true;\n\t\t\t} );\n\t\t\tdata = transformed;\n\t\t}\n\t\treturn data;\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\taddMethod: function( name, method, message ) {\n\t\t$.validator.methods[ name ] = method;\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\n\t\tif ( method.length < 3 ) {\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\tmethods: {\n\n\t\t// http://jqueryvalidation.org/required-method/\n\t\trequired: function( value, element, param ) {\n\n\t\t\t// Check if dependency is met\n\t\t\tif ( !this.depend( param, element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\n\n\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\tvar val = $( element ).val();\n\t\t\t\treturn val && val.length > 0;\n\t\t\t}\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\treturn this.getLength( value, element ) > 0;\n\t\t\t}\n\t\t\treturn value.length > 0;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/email-method/\n\t\temail: function( value, element ) {\n\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t// Retrieved 2014-01-14\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t// Or use custom methods to implement your own email validation\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/url-method/\n\t\turl: function( value, element ) {\n\n\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t// modified to allow protocol-relative URLs\n\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/date-method/\n\t\tdate: function( value, element ) {\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\tdateISO: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/number-method/\n\t\tnumber: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/digits-method/\n\t\tdigits: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/minlength-method/\n\t\tminlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\tmaxlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\trangelength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/min-method/\n\t\tmin: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/max-method/\n\t\tmax: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/range-method/\n\t\trange: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/step-method/\n\t\tstep: function( value, element, param ) {\n\t\t\tvar type = $( element ).attr( \"type\" ),\n\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\tsupportedTypes = [ \"text\", \"number\", \"range\" ],\n\t\t\t\tre = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\n\t\t\t\tnotSupported = type && !re.test( supportedTypes.join() );\n\n\t\t\t// Works only for text, number and range input types\n\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\tif ( notSupported ) {\n\t\t\t\tthrow new Error( errorMessage );\n\t\t\t}\n\t\t\treturn this.optional( element ) || ( value % param === 0 );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\tequalTo: function( value, element, param ) {\n\n\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\tvar target = $( param );\n\t\t\tif ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\n\t\t\t\ttarget.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\n\t\t\t\t\t$( element ).valid();\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn value === target.val();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/remote-method/\n\t\tremote: function( value, element, param, method ) {\n\t\t\tif ( this.optional( element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\tvar previous = this.previousValue( element, method ),\n\t\t\t\tvalidator, data, optionDataString;\n\n\t\t\tif ( !this.settings.messages[ element.name ] ) {\n\t\t\t\tthis.settings.messages[ element.name ] = {};\n\t\t\t}\n\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\n\t\t\tthis.settings.messages[ element.name ][ method ] = previous.message;\n\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\toptionDataString = $.param( $.extend( { data: value }, param.data ) );\n\t\t\tif ( previous.old === optionDataString ) {\n\t\t\t\treturn previous.valid;\n\t\t\t}\n\n\t\t\tprevious.old = optionDataString;\n\t\t\tvalidator = this;\n\t\t\tthis.startRequest( element );\n\t\t\tdata = {};\n\t\t\tdata[ element.name ] = value;\n\t\t\t$.ajax( $.extend( true, {\n\t\t\t\tmode: \"abort\",\n\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: data,\n\t\t\t\tcontext: validator.currentForm,\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\terrors, message, submitted;\n\n\t\t\t\t\tvalidator.settings.messages[ element.name ][ method ] = previous.originalMessage;\n\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\tvalidator.toHide = validator.errorsFor( element );\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\tvalidator.successList.push( element );\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = false;\n\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, { method: method, parameters: value } );\n\t\t\t\t\t\terrors[ element.name ] = previous.message = message;\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\n\t\t\t\t\t\tvalidator.showErrors( errors );\n\t\t\t\t\t}\n\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\tvalidator.stopRequest( element, valid );\n\t\t\t\t}\n\t\t\t}, param ) );\n\t\t\treturn \"pending\";\n\t\t}\n\t}\n\n} );\n\n// Ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\nvar pendingRequests = {},\n\tajax;\n\n// Use a prefilter if available (1.5+)\nif ( $.ajaxPrefilter ) {\n\t$.ajaxPrefilter( function( settings, _, xhr ) {\n\t\tvar port = settings.port;\n\t\tif ( settings.mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = xhr;\n\t\t}\n\t} );\n} else {\n\n\t// Proxy ajax\n\tajax = $.ajax;\n\t$.ajax = function( settings ) {\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n\t\tif ( mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = ajax.apply( this, arguments );\n\t\t\treturn pendingRequests[ port ];\n\t\t}\n\t\treturn ajax.apply( this, arguments );\n\t};\n}\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.validate.js","/**\n * jQuery Formset 1.3-pre\n * @author Stanislaus Madueke (stan DOT madueke AT gmail DOT com)\n * @requires jQuery 1.2.6 or later\n *\n * Copyright (c) 2009, Stanislaus Madueke\n * All rights reserved.\n *\n * Licensed under the New BSD License\n * See: http://www.opensource.org/licenses/bsd-license.php\n */\n;(function($) {\n    $.fn.formset = function(opts)\n    {\n        var options = $.extend({}, $.fn.formset.defaults, opts),\n            flatExtraClasses = options.extraClasses.join(' '),\n            totalForms = $('#id_' + options.prefix + '-TOTAL_FORMS'),\n            maxForms = $('#id_' + options.prefix + '-MAX_NUM_FORMS'),\n            minForms = $('#id_' + options.prefix + '-MIN_NUM_FORMS'),\n            childElementSelector = 'input,select,textarea,label,div',\n            $$ = $(this),\n\n            applyExtraClasses = function(row, ndx) {\n                if (options.extraClasses) {\n                    row.removeClass(flatExtraClasses);\n                    row.addClass(options.extraClasses[ndx % options.extraClasses.length]);\n                }\n            },\n\n            updateElementIndex = function(elem, prefix, ndx) {\n                var idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n                    replacement = prefix + '-' + ndx + '-';\n                if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n                if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n                if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n            },\n\n            hasChildElements = function(row) {\n                return row.find(childElementSelector).length > 0;\n            },\n\n            showAddButton = function() {\n                return maxForms.length == 0 ||   // For Django versions pre 1.2\n                    (maxForms.val() == '' || (maxForms.val() - totalForms.val() > 0));\n            },\n\n            /**\n            * Indicates whether delete link(s) can be displayed - when total forms > min forms\n            */\n            showDeleteLinks = function() {\n                return minForms.length == 0 ||   // For Django versions pre 1.7\n                    (minForms.val() == '' || (totalForms.val() - minForms.val() > 0));\n            },\n\n            insertDeleteLink = function(row) {\n                var delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.'),\n                    addCssSelector = $.trim(options.addCssClass).replace(/\\s+/g, '.');\n                if (row.is('TR')) {\n                    // If the forms are laid out in table rows, insert\n                    // the remove button into the last table cell:\n                    row.children(':last').append('<a class=\"' + options.deleteCssClass +'\" href=\"javascript:void(0)\">' + options.deleteText + '</a>');\n                } else if (row.is('UL') || row.is('OL')) {\n                    // If they're laid out as an ordered/unordered list,\n                    // insert an <li> after the last list item:\n                    row.append('<li><a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText +'</a></li>');\n                } else {\n                    // Otherwise, just insert the remove button as the\n                    // last child element of the form's container:\n                    if (options.deleteTemplate) {\n                      row.append(options.deleteTemplate);\n                    } else {\n                      row.append('<a class=\"' + options.deleteCssClass + '\" href=\"javascript:void(0)\">' + options.deleteText +'</a>');\n                    }\n                }\n                // Check if we're under the minimum number of forms - not to display delete link at rendering\n                if (!showDeleteLinks()){\n                    row.find('a.' + delCssSelector).hide();\n                }\n\n                row.find('a.' + delCssSelector).click(function() {\n                    var row = $(this).parents('.' + options.formCssClass),\n                        del = row.find('input:hidden[id $= \"-DELETE\"]'),\n                        buttonRow = row.siblings(\"a.\" + addCssSelector + ', .' + options.formCssClass + '-add'),\n                        forms;\n                    if (del.length) {\n                        // We're dealing with an inline formset.\n                        // Rather than remove this form from the DOM, we'll mark it as deleted\n                        // and hide it, then let Django handle the deleting:\n                        del.val('on');\n                        row.hide();\n                        forms = $('.' + options.formCssClass).not(':hidden');\n                    } else {\n                        row.remove();\n                        // Update the TOTAL_FORMS count:\n                        forms = $('.' + options.formCssClass).not('.formset-custom-template');\n                        totalForms.val(forms.length);\n                    }\n                    for (var i=0, formCount=forms.length; i<formCount; i++) {\n                        // Apply `extraClasses` to form rows so they're nicely alternating:\n                        applyExtraClasses(forms.eq(i), i);\n                        if (!del.length) {\n                            // Also update names and IDs for all child controls (if this isn't\n                            // a delete-able inline formset) so they remain in sequence:\n                            forms.eq(i).find(childElementSelector).each(function() {\n                                updateElementIndex($(this), options.prefix, i);\n                            });\n                        }\n                    }\n                    // Check if we've reached the minimum number of forms - hide all delete link(s)\n                    if (!showDeleteLinks()){\n                        $('.' + options.formCssClass).find('a.' + delCssSelector).each(function(){$(this).hide();});\n                    }\n                    // Check if we need to show the add button:\n                    if (buttonRow.is(':hidden') && showAddButton()) buttonRow.show();\n                    // If a post-delete callback was provided, call it with the deleted form:\n                    if (options.removed) options.removed(row);\n                    return false;\n                });\n            };\n\n        $$.each(function(i) {\n            var row = $(this),\n                del = row.find('input:checkbox[id $= \"-DELETE\"]');\n            if (del.length) {\n                // If you specify \"can_delete = True\" when creating an inline formset,\n                // Django adds a checkbox to each form in the formset.\n                // Replace the default checkbox with a hidden field:\n                if (del.is(':checked')) {\n                    // If an inline formset containing deleted forms fails validation, make sure\n                    // we keep the forms hidden (thanks for the bug report and suggested fix Mike)\n                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') +'\" id=\"' + del.attr('id') +'\" value=\"on\" />');\n                    row.hide();\n                } else {\n                    del.before('<input type=\"hidden\" name=\"' + del.attr('name') +'\" id=\"' + del.attr('id') +'\" />');\n                }\n                // Hide any labels associated with the DELETE checkbox:\n                $('label[for=\"' + del.attr('id') + '\"]').hide();\n                del.remove();\n            }\n            if (hasChildElements(row)) {\n                row.addClass(options.formCssClass);\n                insertDeleteLink(row);\n                applyExtraClasses(row, i);\n            }\n        });\n\n        if ($$.length) {\n            var hideAddButton = !showAddButton(),\n                addButton, template;\n            if (options.formTemplate) {\n                // If a form template was specified, we'll clone it to generate new form instances:\n                template = (options.formTemplate instanceof $) ? options.formTemplate : $(options.formTemplate);\n                template.removeAttr('id').addClass(options.formCssClass + ' formset-custom-template');\n                template.find(childElementSelector).each(function() {\n                    updateElementIndex($(this), options.prefix, '__prefix__');\n                });\n                insertDeleteLink(template);\n            } else {\n                // Otherwise, use the last form in the formset; this works much better if you've got\n                // extra (>= 1) forms (thnaks to justhamade for pointing this out):\n                template = $('.' + options.formCssClass + ':last').clone(true).removeAttr('id');\n                template.find('input:hidden[id $= \"-DELETE\"]').remove();\n                // Clear all cloned fields, except those the user wants to keep (thanks to brunogola for the suggestion):\n                template.find(childElementSelector).not(options.keepFieldValues).each(function() {\n                    var elem = $(this);\n                    // If this is a checkbox or radiobutton, uncheck it.\n                    // This fixes Issue 1, reported by Wilson.Andrew.J:\n                    if (elem.is('input:checkbox') || elem.is('input:radio')) {\n                        elem.attr('checked', false);\n                    } else {\n                        elem.val('');\n                    }\n                });\n            }\n            // FIXME: Perhaps using $.data would be a better idea?\n            options.formTemplate = template;\n\n            if ($$.is('TR')) {\n                // If forms are laid out as table rows, insert the\n                // \"add\" button in a new table row:\n                var numCols = $$.eq(0).children().length,   // This is a bit of an assumption :|\n                    buttonRow = $('<tr><td colspan=\"' + numCols + '\"><a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a></tr>')\n                                .addClass(options.formCssClass + '-add');\n                $$.parent().append(buttonRow);\n                if (hideAddButton) buttonRow.hide();\n                addButton = buttonRow.find('a');\n            } else {\n                // Otherwise, insert it immediately after the last form:\n                $$.filter(':last').after('<a class=\"' + options.addCssClass + '\" href=\"javascript:void(0)\">' + options.addText + '</a>');\n                addButton = $$.filter(':last').next();\n                if (hideAddButton) addButton.hide();\n            }\n            addButton.click(function() {\n                var formCount = parseInt(totalForms.val()),\n                    row = options.formTemplate.clone(true).removeClass('formset-custom-template'),\n                    buttonRow = $($(this).parents('tr.' + options.formCssClass + '-add').get(0) || this),\n                    delCssSelector = $.trim(options.deleteCssClass).replace(/\\s+/g, '.');\n                applyExtraClasses(row, formCount);\n                row.insertBefore(buttonRow).show();\n                row.find(childElementSelector).each(function() {\n                    updateElementIndex($(this), options.prefix, formCount);\n                });\n                totalForms.val(formCount + 1);\n                // Check if we're above the minimum allowed number of forms -> show all delete link(s)\n                if (showDeleteLinks()){\n                    $('.' + options.formCssClass).find('a.' + delCssSelector).each(function(){$(this).show();});\n                }\n                // Check if we've exceeded the maximum allowed number of forms:\n                if (!showAddButton()) buttonRow.hide();\n                // If a post-add callback was supplied, call it with the added form:\n                if (options.added) options.added(row);\n                return false;\n            });\n        }\n\n        return $$;\n    };\n\n    /* Setup plugin defaults */\n    $.fn.formset.defaults = {\n        prefix: 'form',                  // The form prefix for your django formset\n        formTemplate: null,              // The jQuery selection cloned to generate new form instances\n        addText: 'add another',          // Text for the add link\n        deleteText: 'remove',            // Text for the delete link\n        addCssClass: 'add-row',          // CSS class applied to the add link\n        deleteCssClass: 'delete-row',    // CSS class applied to the delete link\n        formCssClass: 'dynamic-form',    // CSS class applied to each form in a formset\n        extraClasses: [],                // Additional CSS classes, which will be applied to each form in turn\n        keepFieldValues: '',             // jQuery selector for fields whose values should be kept when the form is cloned\n        added: null,                     // Function called each time a new form is added\n        removed: null                    // Function called each time a form is deleted\n    };\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.formset.js","'use strict'\n\nimport $ from 'jquery'\nrequire('selectize')\n\nconst [suggest] = [{\n  plugins: ['remove_button']\n  , maxItems: 5\n  , valueField: 'id'\n  , labelField: 'name'\n  , searchField: 'name'\n  , create: false\n  // , hideSelected: true\n  , render: {\n    item: templateItem\n    , option: templateOption\n  }\n  , load: loadUsers\n}]\n\nvar tagger = (element) => {\n    var type = $(element).data('taggerType')\n    switch (type) {\n        case 'suggest':\n            $(element).selectize(suggest)\n    }\n}\n\nfunction templateItem (item, escape) {\n  let name = item.name ? escape(item.name) : ''\n  return `<div>${name}</div>`\n}\nfunction templateOption (item, escape) {\n  let name = item.name ? escape(item.name) : ''\n  return `<div class=\"item-float-notification\">\n    <span><img src=\"${item.img}\" alt=\"${name}\"></span>\n    <span>${name}</span>\n  </div>`\n}\n\nfunction loadUsers(query, callback) {\n    var options = this.$wrapper.prev().data();\n    if (!query.length) {\n        return callback()\n    }\n    $.ajax({\n        url: options.url,\n        type: 'GET',\n        data: {\n            criteria: query\n        },\n        error: function () {\n            callback()\n        },\n        success: function (res) {\n            callback(res.users);\n        }\n    })\n}\n\n\nexport default tagger\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/tagger.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar taxonomy,\n    elementData,\n    $element,\n    TemplateEngine = require('./TemplateEngine');\n\nvar defaultSettings = {\n    plugins: ['remove_button'],\n    maxItems: 5,\n    valueField: 'url',\n    labelField: 'name',\n    searchField: 'name',\n    create: false,\n    render: {\n        item: renderItem,\n        option: renderOption\n    },\n    load: loadItems\n};\n\nvar defaultTemplates = {\n    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n};\n\nfunction renderItem(item){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.item;\n    var elementData = $element.data();\n    if('templateItem' in elementData && $(elementData.templateItem).length){\n        renderTemplate = $(elementData.templateItem).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n}\n\nfunction renderOption(item, escape){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.option;\n    var elementData = $element.data();\n    if('templateOption' in elementData && $(elementData.templateOption).length){\n        renderTemplate = $(elementData.templateOption).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n\n}\n\nfunction loadItems(query, callback) {\n\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function(res){\n            callback(res);\n        }\n    });\n}\n\ntaxonomy = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, defaultSettings, elementData);\n    $(element).selectize(selectizeSettings);\n};\n\nexport default taxonomy\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/taxonomy.js","module.exports = ( check, dataTarget ) => {\n  const $check = $( check )\n  const $target = $( `[${dataTarget}]` )\n\n  if ($check.is(':checked')) {\n    console.log($check.val())\n  }\n\n  $check.on({\n    change: function ( event ) {\n      const $this = $( event.currentTarget )\n      $target.hide()\n      $target.find(':input').attr('disabled', true)\n\n      if ($this.is(':not(:checked)')) {\n        $( `[${dataTarget}]` ).show().find(':input' ).attr('disabled', false)\n      }\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/toggle-check.js"],"sourceRoot":""}