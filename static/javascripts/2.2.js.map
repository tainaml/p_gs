{"version":3,"sources":["webpack:///2.2.js","webpack:///./asyncModules/TemplateEngine.js?2e38","webpack:///./asyncModules/ajaxselect.js?8ab8","webpack:////projects/rede_gsti/resources/~/selectize/dist/js/selectize.js?9d90","webpack:////projects/rede_gsti/resources/~/sifter/sifter.js?cc31","webpack:////projects/rede_gsti/resources/~/microplugin/src/microplugin.js?f864","webpack:///./asyncModules/dropzoneUploader.js?b068","webpack:///./components/geography.js?a423","webpack:///./components/customform/toggle-select.js?277b","webpack:///./components/customform/toggle-check.js?9514","webpack:///./vendor/jquery.steps.js?45ac","webpack:///./vendor/jquery.validate.js?e566","webpack:///./asyncModules/taxonomy.js?8b01","webpack:///./components ^\\.\\/.*$","webpack:///./components/comments.js","webpack:////projects/rede_gsti/resources/~/jscroll/jquery.jscroll.js","webpack:///./components/comments/jquery.render-list.js","webpack:///./components/courses.js","webpack:///./vendor/rateYo/jquery.rateyo.js","webpack:///./components/customform.js","webpack:///./components/organization.js","webpack:///./components/professions.js","webpack:///./components/publication-carousel.js","webpack:///./vendor/jquery.jcarousel.js","webpack:///./components/register.js","webpack:///./components/videos.js"],"names":["webpackJsonp","module","exports","html","options","result","re","reExp","code","cursor","add","line","js","match","replace","exec","slice","index","length","substr","Function","apply","err","console","error","message","__webpack_require__","$","templateItem","item","escape","name","templateOption","template","img","loadUsers","query","callback","this","$wrapper","prev","data","_data","settings","searchField","log","ajax","url","type","success","res","items","Object","defineProperty","value","elementData","$element","suggest","valueField","labelField","create","highlight","render","option","load","ajaxselect","element","selectizeSettings","extend","selectize","call","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","Sifter","MicroPlugin","pattern","regex","RegExp","node","skip","nodeType","pos","search","spannode","document","createElement","className","middlebit","splitText","middleclone","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","tagName","i","each","fn","removeHighlight","find","firstChild","nodeName","parent","normalize","end","MicroEvent","prototype","on","event","fct","_events","push","off","n","arguments","splice","indexOf","trigger","Array","mixin","destObject","props","IS_MAC","navigator","userAgent","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_P","KEY_RIGHT","KEY_DOWN","KEY_N","KEY_BACKSPACE","KEY_DELETE","KEY_SHIFT","KEY_CMD","KEY_CTRL","KEY_TAB","TAG_SELECT","TAG_INPUT","SUPPORTS_VALIDITY_API","window","validity","isset","object","hash_key","escape_html","str","hook","before","self","method","original","after","once","called","debounce","delay","timeout","args","clearTimeout","setTimeout","debounce_events","types","event_args","hasOwnProperty","watchChildEvent","$parent","selector","e","child","target","currentTarget","getSelection","input","start","selectionStart","selectionEnd","selection","focus","sel","createRange","selLen","text","moveStart","transferStyles","$from","$to","properties","styles","css","measureString","$test","position","top","left","width","padding","whiteSpace","appendTo","remove","autoGrow","$input","currentWidth","update","keyCode","printable","placeholder","shift","character","metaKey","altKey","force","val","toLowerCase","substring","shiftKey","String","fromCharCode","toUpperCase","attr","triggerHandler","domToString","d","tmp","innerHTML","logError","component","explanation","group","groupEnd","Selectize","dir","computedStyle","getComputedStyle","getPropertyValue","currentStyle","direction","parents","order","tabIndex","tagType","rtl","eventNS","count","highlightedValue","isOpen","isDisabled","isRequired","is","isInvalid","isLocked","isFocused","isInputHidden","isSetup","isShiftDown","isCmdDown","isCtrlDown","ignoreFocus","ignoreBlur","ignoreHover","hasOptions","currentResults","lastValue","caretPos","loading","loadedSearches","$activeOption","$activeItems","optgroups","userOptions","renderCache","onSearchChange","loadThrottle","sifter","diacritics","registerOption","registerOptionGroup","mode","maxItems","hideSelected","initializePlugins","plugins","setupCallbacks","setupTemplates","setup","$control","$control_input","$dropdown","$dropdown_content","$dropdown_parent","inputMode","classes","classes_plugins","inputId","$window","$document","addClass","wrapperClass","inputClass","dropdownParent","dropdownClass","hide","dropdownContentClass","copyClassesToDropdown","style","names","join","splitOn","delimiter","delimiterEscaped","onOptionHover","onOptionSelect","onItemSelect","mousedown","onMouseDown","click","onClick","stopPropagation","keydown","onKeyDown","keyup","onKeyUp","keypress","onKeyPress","resize","positionDropdown","blur","onBlur","onFocus","paste","onPaste","has","revertSettings","$children","children","detach","tabindex","isArray","setValue","preventDefault","refreshState","updateOriginalInput","refreshItems","updatePlaceholder","disable","onChange","preload","field_label","field_optgroup","optgroupLabelField","templates","optgroup","optgroup_header","option_create","key","callbacks","initialize","change","item_add","item_remove","clear","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","defaultPrevented","isDefaultPrevented","close","open","setActiveItem","isFull","pastedText","splitInput","trim","split","createItem","which","selectAll","ctrlKey","$next","getAdjacentOption","setActiveOption","$prev","advanceSelection","selectOnTab","deleteSelection","refreshOptions","wasFocused","showInput","openOnFocus","dest","activeElement","deactivate","setTextboxValue","setCaret","createOnBlur","$target","hasClass","closeAfterSelect","lastQuery","addItem","getOption","loadingClass","results","Math","max","addOption","removeClass","changed","getValue","silent","events","addItems","$item","eventName","idx","begin","swap","$last","hideInput","$option","scroll","animate","height_menu","height_item","y","scroll_top","scroll_bottom","height","outerHeight","scrollTop","offset","stop","scrollDuration","opacity","getScoreFunction","getSearchOptions","sort","sortField","field","fields","conjunction","searchConjunction","calculateScore","score","Error","id","triggerDropdown","j","k","groups","groups_order","option_html","html_children","has_create_option","$active","$active_before","$create","active_before","maxOptions","min","optgroupField","createDocumentFragment","lockOptgroupOrder","a","b","a_order","$order","b_order","dom","tokens","canCreate","prepend","addPrecedence","optgroupValueField","addOptionGroup","removeOptionGroup","clearOptionGroups","updateOption","$item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","replaceWith","removeOption","removeItem","clearOptions","getElementWithValue","$options","eq","$els","getAttribute","values","isPending","value_next","wasFull","insertAtCaret","persist","caret","lock","unlock","output","refreshValidityState","refreshClasses","invalid","prop","toggleClass","isEmptyObject","opts","label","removeAttr","visibility","display","outerWidth","$el","option_select","$option_select","$tail","onDelete","pop","tail","valueLength","cursorAtEdge","advanceCaret","$adj","$child","append","enable","destroy","show","removeData","body","templateName","cache","clearCache","filter","createFilter","defaults","allowEmptyOption","dataAttr","settings_user","attr_data","field_value","field_optgroup_label","field_optgroup_value","init_textbox","settings_element","data_raw","JSON","parse","init_select","optionsMap","readData","arr","addGroup","$optgroup","instance","tag_name","support","define","sortable","forcePlaceholderSize","disabled","ui","helper","overflow","active","title","headerClass","titleRowClass","labelClass","closeClass","$dropdown_header","equalizeWidth","equalizeHeight","closest","next","getScrollbarWidth","div","doc","offsetWidth","clientWidth","removeChild","equalizeSizes","height_max","width_last","width_parent","$optgroups","innerWidth","round","singleClose","thisRef","html_container","html_element","context","render_item","multiClose","tokenize","letter","words","escape_regex","DIACRITICS","string","iterator","is_array","forEach","token_count","nesting","prepareSearch","scoreValue","token","scoreObject","field_count","getattr","sum","getSortFunction","fields_count","multiplier","multipliers","get_field","implicit_score","sort_empty","unshift","cmp","option_fields","option_sort","option_sort_empty","total","fn_sort","fn_score","limit","asciifold","obj","toString","c","f","g","h","l","o","p","q","r","s","t","u","v","w","x","z","chunk","foreignletters","lookup","charAt","regexp","foreignletter","Interface","queue","requested","loaded","utils","require","loadPlugin","plugin","vArg","_module","cbDragOver","dropZone","cbDragLeave","cbDrop","file","originalEvent","dataTransfer","files","readFile","cbChangeFile","cbTriggerFile","$altInput","defaultImage","fakeLoad","dragover","dragleave","drop","src","createPreview","getCanvasImage","reader","FileReader","onload","readAsDataURL","image","imgWidth","imgHeight","canvas","ctx","getContext","drawImage","toDataURL","filename","newURL","fileName","lastIndexOf","filePath","defaultSettings","_item","_option","dataType","geography","select","dataTarget","$select","$this","check","$check","jQuery","addStepToCache","wizard","step","getSteps","analyzeData","state","stepTitles","headerTag","stepContents","bodyTag","throwError","_missingCorrespondingElementErrorMessage","startIndex","stepCount","saveState","cookie","savedState","_cookiePrefix","getUniqueId","savedIndex","parseInt","isNaN","currentIndex","content","modeData","contentMode","getValidEnumValue","contentUrl","contentLoaded","stepModel","cancel","decreaseCurrentIndexBy","decreaseBy","eventNamespace","getEventNamespace","unbind","clearFixCssClass","contents","_removeAria","empty","wizardSubstitute","format","get","wizardId","_id","finishStep","currentStep","getStepAnchor","uniqueId","_tabSuffix","getStepPanel","_tabpanelSuffix","getStepTitle","_titleSuffix","getOptions","getState","getStep","steps","_indexOutOfRangeErrorMessage","concat","_uniqueId","enumType","keyOrValue","validateArgument","goToNextStep","paginationClick","increaseCurrentIndexBy","goToPreviousStep","goToStep","forceMoveForward","oldIndex","saveCurrentStateToCookie","refreshStepNavigation","refreshPagination","loadAsyncContent","startTransitionEffect","increaseBy","transitionElement","registerEvents","autoFocus","insertStep","insertStepToCache","contentContainer","header","renderBody","renderTitle","refreshSteps","keyUpHandler","suppressPaginationOnFocus","keyCodes","right","enableContentCache","iframe","async","currentStepContent","_aria","renderTemplate","loadingTemplate","labels","done","anchor","_enableAria","paginationClickHandler","href","enablePagination","finish","previous","enableFinishButton","showFinishButtonAlways","_showAria","currentOrNewStepAnchor","currentInfo","current","oldStepAnchor","_selectAria","uniqueStepId","uniqueBodyId","uniqueHeaderId","titleTemplate","bind","onCanceled","onContentLoaded","onFinishing","onFinished","onInit","onStepChanging","onStepChanged","enableKeyNavigation","removeStep","removeStepFromCache","first","wrapperTemplate","orientation","stepsOrientation","verticalCssClass","vertical","contentWrapper","contentContainerTag","stepsWrapper","stepsContainerTag","cssClass","renderPagination","pagination","buttonTemplate","buttons","enableCancelButton","actionContainerTag","substitutes","matches","stepCollection","stepItem","enableAllSteps","stepClickHandler","doneCallback","effect","transitionEffect","effectSpeed","transitionEffectSpeed","newStep","fade","slide","promise","slideLeft","posFadeOut","posFadeIn","when","argumentName","argumentValue","formattedString","getCurrentIndex","getCurrentStep","insert","setStep","horizontal","none","preloadContent","newIndex","priorIndex","validate","debug","warn","validator","onsubmit","submitHandler","submitButton","cancelSubmit","handle","hidden","currentForm","form","pendingRequest","formSubmitted","focusInvalid","valid","errorList","rules","command","argument","staticRules","existingRules","param","filtered","normalizeRule","messages","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","blank","filled","unchecked","init","source","params","makeArray","constructor","errorClass","pendingClass","validClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignore","ignoreTitle","onfocusin","lastActive","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","excludedKeys","elementValue","inArray","onclick","findByName","setDefaults","email","date","dateISO","number","digits","equalTo","maxlength","minlength","rangelength","range","autoCreateRanges","delegate","eventType","labelContainer","errorContext","containers","valueCache","pending","reset","invalidHandler","checkForm","errorMap","showErrors","prepareForm","elements","currentElements","_element","rs","cleanElement","clean","checkElement","validationTargetFor","prepareElement","testgroup","numberOfInvalids","toHide","errors","map","successList","grep","defaultShowErrors","resetForm","hideErrors","resetElements","objectLength","not","addWrapper","size","findLastActive","rulesCache","hasAttribute","resetInternals","toShow","badInput","rule","rulesCount","dependencyMismatch","normalizer","TypeError","parameters","methods","formatAndAdd","customDataMessage","customMessage","m","findDefined","defaultMessage","theregex","toToggle","wrapper","showLabel","validElements","invalidElements","place","errorID","elementID","idOrName","describedBy","wrap","errorPlacement","insertAfter","escapeCssMeta","describer","getLength","depend","dependTypes","boolean","function","startRequest","stopRequest","submit","previousValue","old","classRuleSettings","creditcard","addClassRules","normalizeAttributeRule","Number","depends","keepRule","parameter","isFunction","parts","transformed","addMethod","Date","errorMessage","supportedTypes","notSupported","optionDataString","originalMessage","port","response","pendingRequests","ajaxPrefilter","_","xhr","abort","ajaxSettings","renderItem","defaultTemplates","TemplateEngine","renderOption","loadItems","taxonomy","webpackContext","req","webpackContextResolve","./comments","./comments.js","./comments/jquery.render-list","./comments/jquery.render-list.js","./commit-box","./commit-box.js","./courses","./courses.js","./customform","./customform.js","./customform/input","./customform/input.js","./customform/toggle-check","./customform/toggle-check.js","./customform/toggle-select","./customform/toggle-select.js","./geography","./geography.js","./index","./index.js","./organization","./organization.js","./professions","./professions.js","./publication-carousel","./publication-carousel.js","./register","./register.js","./videos","./videos.js","keys","resolve","setData","$form","$divToUpdate","action","$form_to_hide","summernote","refreshEditors","$preInComment","Prism","highlightElement","form_submit","$subforms","$subform","IdeiaAjaxForm","$dataList","renderList","refreshAsyncLike","functionOpenModalToDelete","$btn","$modal","modal","functionAjaxSuccessDeleteItem","itemId","itemType","fadeOut","commentDropDown","xhr_contents","$comment_form","jscroll","autoTrigger","autoTriggerUntil","loadingHtml","loadingFunction","nextSelector","contentSelector","pagingSelector","jScroll","$e","_userOptions","_options","_isWindow","_$next","_$window","_$body","_$scroll","_nextHref","_preloadImage","Image","_wrapInnerContent","wrapAll","_nextWrap","_destroy","unwrap","_observe","$inner","borderTopWidth","borderTopWidthInt","iContainerTop","iTopHeight","innerTop","iTotalHeight","ceil","waiting","_debug","_load","_checkNextHref","nextHref","_setBindings","scrollingBodyHeight","scrollingHeight","windowHeight","last","status","sMethod","initialized","Plugin","_defaults","_name","pluginName","propertyName","attachList","fail","always","$showMore","$rating","formRating","halfStar","normalFill","ratedFill","spacing","starWidth","onSet","rating","rateYoInstance","reactions","floor","dataConfig","rateYo","$self","toggleHeight","seletor","ANIMATION_TIME","currentHeight","autoHeight","isMobileBrowser","vendor","opera","checkPrecision","minValue","maxValue","checkBounds","isValid","isDefined","getChannelValue","startVal","endVal","percent","newVal","getColor","startColor","endColor","hexToRGB","RateYo","$node","showRating","ratingVal","currentRating","numStarsToShow","percentOfStar","percentOfSpacing","setRatedFill","$ratedGroup","setContainerWidth","containerWidth","numStars","setStarWidth","newWidth","starHeight","parseFloat","$normalGroup","setSpacing","newSpacing","margin-left","setNormalFill","newFill","$svgs","fill","multiColor","ratingDiff","percentCovered","colorOpts","MULTICOLOR_OPTIONS","setRtl","newValue","setMultiColor","colorOptions","setNumStars","starSvg","BASICSTAR","setMaxValue","setRating","setPrecision","precision","setHalfStar","setFullStar","fullStar","remainder","halfStep","isHalfStar","isFullStar","calculateRating","nodeStartX","nodeEndX","pageX","calculatedRating","calcPrcnt","remPrcnt","setReadOnly","readOnly","unbindEvents","bindEvents","toFixed","isInitialized","setOnInit","setOnSet","setOnChange","onMouseEnter","onMouseLeave","onMouseClick","resultantRating","that","$groupWrapper","collection","deleteInstance","methodName","optionName","getInstance","firstPart","secondPart","_rateYo","rateYoInstances","$nodes","existingInstance","returnVal","DEFAULTS","hexRegex","hex","hexValues","_interopRequireDefault","__esModule","default","updateElementIndex","elem","prefix","ndx","idRegex","replacement","_customformInput","_customformInput2","_asyncModulesAjaxselect","_asyncModulesAjaxselect2","_asyncModulesTaxonomy","_asyncModulesTaxonomy2","_asyncModulesDropzoneUploader","_asyncModulesDropzoneUploader2","$root","$steps","$templateOrganizationUser","childElementSelector","usersId","$user","$role","$formset","totalForms","usersList","communitiesList","communitiesErrorMsg","formPrefix","formCount","userTemplate","clone","removeProp","userValue","location","origin","_user","some","user","defaultRate","mod","$module","carousel","jcarousel","jcarouselControl","jCarousel","version","rRelativeTarget","parseTarget","relative","detectCarousel","base","_carousel","_init","noop","_create","_reload","_trigger","reload","Event","pluginPrototype","returnValue","methodValue","toFloat","animating","inTail","resizeTimer","lt","circular","underflow","list","animation","transitions","center","_list","_items","_target","_first","_last","_visible","_fullyvisible","onWindowResize","found","_prepare","_position","move","lrb","clipping","dim","dimension","abs","visible","fullyvisible","hasNext","hasPrev","parsed","curr","isVisible","_scroll","_scrollTail","moveBy","correction","transforms","transforms3d","duration","complete","backup","transitionDuration","transitionTimingFunction","transitionProperty","oldComplete","easing","transform","one","jquery","currPos","_animate","_update","proxy","fx","speeds","margin","wh","clip","centerOffset","back","doUpdate","elIn","elOut","reverse","scrollIntoView","_active","onDestroy","onReload","onEvent","perPage","page","_carouselItems","_pages","_currentPage","onScroll","_clear","_calculatePages","pp","_getCarouselItems","numCarouselItems","carouselItems","currItem","currentPage","reloadCarouselItems","pages","hiddenProp","visibilityChangeEvent","visibilityChangeEventNames","mozHidden","msHidden","webkitHidden","interval","autostart","_timer","_started","onAnimateEnd","_start","onVisibilityChange","_stop","contentSelect"],"mappings":"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","file":"2.2.js","sourcesContent":["webpackJsonp([2],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function (html, options) {\n\t\tvar re = /<%(.+?)%>/g,\n\t\t    reExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,\n\t\t    code = 'with(obj) { var r=[];\\n',\n\t\t    cursor = 0,\n\t\t    result;\n\t\tvar add = function add(line, js) {\n\t\t\tjs ? code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n' : code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '';\n\t\t\treturn add;\n\t\t};\n\t\tvar match = re.exec(html);\n\t\twhile (match) {\n\t\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\t\tcursor = match.index + match[0].length;\n\t\t\tmatch = re.exec(html);\n\t\t}\n\t\tadd(html.substr(cursor, html.length - cursor));\n\t\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\t\ttry {\n\t\t\tresult = new Function('obj', code).apply(options, [options]);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\");\n\t\t}\n\t\treturn result;\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t// import $ from 'jquery'\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t__webpack_require__(11);\n\t\n\tvar elementData, $element;\n\t\n\tvar suggest = {\n\t    valueField: 'id',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    highlight: false,\n\t    render: {\n\t        item: templateItem,\n\t        option: templateOption\n\t    },\n\t    load: loadUsers\n\t};\n\t\n\tvar ajaxselect = function ajaxselect(element) {\n\t    $element = $(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = $.extend({}, suggest, elementData);\n\t    $(element).selectize(selectizeSettings);\n\t};\n\t\n\tfunction templateItem(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div>' + name + '</div>';\n\t}\n\tfunction templateOption(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    var template = '<div class=\"item-float-notification\">\\n      <span><img src=\"' + item.img + '\" alt=\"' + name + '\"></span>\\n      ' + name + '\\n    </div>';\n\t    return template;\n\t}\n\t\n\tfunction loadUsers(query, callback) {\n\t    var options = this.$wrapper.prev().data();\n\t    var _data = {};\n\t\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    _data[this.settings.searchField] = query;\n\t    console.log(_data);\n\t\n\t    $.ajax({\n\t        url: options.url,\n\t        type: 'GET',\n\t        data: _data,\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res.items);\n\t        }\n\t    });\n\t}\n\t\n\texports['default'] = ajaxselect;\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * selectize.js (v0.12.4)\n\t * Copyright (c) 20132015 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t/*jshint curly:false */\n\t/*jshint browser:true */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2),__webpack_require__(12),__webpack_require__(13)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t\t} else {\n\t\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t\t}\n\t}(this, function($, Sifter, MicroPlugin) {\n\t\t'use strict';\n\t\n\t\tvar highlight = function($element, pattern) {\n\t\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\t\n\t\t\tvar highlight = function(node) {\n\t\t\t\tvar skip = 0;\n\t\t\t\tif (node.nodeType === 3) {\n\t\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\t\tskip = 1;\n\t\t\t\t\t}\n\t\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn skip;\n\t\t\t};\n\t\t\n\t\t\treturn $element.each(function() {\n\t\t\t\thighlight(this);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * removeHighlight fn copied from highlight v5 and\n\t\t * edited to remove with() and pass js strict mode\n\t\t */\n\t\t$.fn.removeHighlight = function() {\n\t\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\t\tvar parent = this.parentNode;\n\t\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\t\tparent.normalize();\n\t\t\t}).end();\n\t\t};\n\t\t\n\t\t\n\t\tvar MicroEvent = function() {};\n\t\tMicroEvent.prototype = {\n\t\t\ton: function(event, fct){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\t\tthis._events[event].push(fct);\n\t\t\t},\n\t\t\toff: function(event, fct){\n\t\t\t\tvar n = arguments.length;\n\t\t\t\tif (n === 0) return delete this._events;\n\t\t\t\tif (n === 1) return delete this._events[event];\n\t\t\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t\t},\n\t\t\ttrigger: function(event /* , args... */){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t\t *\n\t\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t\t *\n\t\t * @param {object} the object which will support MicroEvent\n\t\t */\n\t\tMicroEvent.mixin = function(destObject){\n\t\t\tvar props = ['on', 'off', 'trigger'];\n\t\t\tfor (var i = 0; i < props.length; i++){\n\t\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\t\n\t\tvar KEY_A         = 65;\n\t\tvar KEY_COMMA     = 188;\n\t\tvar KEY_RETURN    = 13;\n\t\tvar KEY_ESC       = 27;\n\t\tvar KEY_LEFT      = 37;\n\t\tvar KEY_UP        = 38;\n\t\tvar KEY_P         = 80;\n\t\tvar KEY_RIGHT     = 39;\n\t\tvar KEY_DOWN      = 40;\n\t\tvar KEY_N         = 78;\n\t\tvar KEY_BACKSPACE = 8;\n\t\tvar KEY_DELETE    = 46;\n\t\tvar KEY_SHIFT     = 16;\n\t\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\t\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\t\tvar KEY_TAB       = 9;\n\t\t\n\t\tvar TAG_SELECT    = 1;\n\t\tvar TAG_INPUT     = 2;\n\t\t\n\t\t// for now, android support in general is too spotty to support validity\n\t\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\t\n\t\t\n\t\tvar isset = function(object) {\n\t\t\treturn typeof object !== 'undefined';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Converts a scalar to its best string representation\n\t\t * for hash keys and HTML attribute values.\n\t\t *\n\t\t * Transformations:\n\t\t *   'str'     -> 'str'\n\t\t *   null      -> ''\n\t\t *   undefined -> ''\n\t\t *   true      -> '1'\n\t\t *   false     -> '0'\n\t\t *   0         -> '0'\n\t\t *   1         -> '1'\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {string|null}\n\t\t */\n\t\tvar hash_key = function(value) {\n\t\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\t\treturn value + '';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes a string for use within HTML.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_html = function(str) {\n\t\t\treturn (str + '')\n\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes \"$\" characters in replacement strings.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_replace = function(str) {\n\t\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t\t};\n\t\t\n\t\tvar hook = {};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked before the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.before = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked after the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.after = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tvar result = original.apply(self, arguments);\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be invoked once.\n\t\t *\n\t\t * @param {function} fn\n\t\t * @returns {function}\n\t\t */\n\t\tvar once = function(fn) {\n\t\t\tvar called = false;\n\t\t\treturn function() {\n\t\t\t\tif (called) return;\n\t\t\t\tcalled = true;\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be called once\n\t\t * every `delay` milliseconds (invoked on the falling edge).\n\t\t *\n\t\t * @param {function} fn\n\t\t * @param {int} delay\n\t\t * @returns {function}\n\t\t */\n\t\tvar debounce = function(fn, delay) {\n\t\t\tvar timeout;\n\t\t\treturn function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\twindow.clearTimeout(timeout);\n\t\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\t\tfn.apply(self, args);\n\t\t\t\t}, delay);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Debounce all fired events types listed in `types`\n\t\t * while executing the provided `fn`.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {array} types\n\t\t * @param {function} fn\n\t\t */\n\t\tvar debounce_events = function(self, types, fn) {\n\t\t\tvar type;\n\t\t\tvar trigger = self.trigger;\n\t\t\tvar event_args = {};\n\t\t\n\t\t\t// override trigger method\n\t\t\tself.trigger = function() {\n\t\t\t\tvar type = arguments[0];\n\t\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\t\tevent_args[type] = arguments;\n\t\t\t\t} else {\n\t\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t// invoke provided function\n\t\t\tfn.apply(self, []);\n\t\t\tself.trigger = trigger;\n\t\t\n\t\t\t// trigger queued events\n\t\t\tfor (type in event_args) {\n\t\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t\t *\n\t\t * @param {object} $parent - Parent element to listen on.\n\t\t * @param {string} event - Event name.\n\t\t * @param {string} selector - Descendant selector to filter by.\n\t\t * @param {function} fn - Event handler.\n\t\t */\n\t\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t\t$parent.on(event, selector, function(e) {\n\t\t\t\tvar child = e.target;\n\t\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\t\tchild = child.parentNode;\n\t\t\t\t}\n\t\t\t\te.currentTarget = child;\n\t\t\t\treturn fn.apply(this, [e]);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * Determines the current selection within a text input control.\n\t\t * Returns an object containing:\n\t\t *   - start\n\t\t *   - length\n\t\t *\n\t\t * @param {object} input\n\t\t * @returns {object}\n\t\t */\n\t\tvar getSelection = function(input) {\n\t\t\tvar result = {};\n\t\t\tif ('selectionStart' in input) {\n\t\t\t\tresult.start = input.selectionStart;\n\t\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t\t} else if (document.selection) {\n\t\t\t\tinput.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\t\tresult.start = sel.text.length - selLen;\n\t\t\t\tresult.length = selLen;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Copies CSS properties from one element to another.\n\t\t *\n\t\t * @param {object} $from\n\t\t * @param {object} $to\n\t\t * @param {array} properties\n\t\t */\n\t\tvar transferStyles = function($from, $to, properties) {\n\t\t\tvar i, n, styles = {};\n\t\t\tif (properties) {\n\t\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstyles = $from.css();\n\t\t\t}\n\t\t\t$to.css(styles);\n\t\t};\n\t\t\n\t\t/**\n\t\t * Measures the width of a string within a\n\t\t * parent element (in pixels).\n\t\t *\n\t\t * @param {string} str\n\t\t * @param {object} $parent\n\t\t * @returns {int}\n\t\t */\n\t\tvar measureString = function(str, $parent) {\n\t\t\tif (!str) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\n\t\t\tvar $test = $('<test>').css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: -99999,\n\t\t\t\tleft: -99999,\n\t\t\t\twidth: 'auto',\n\t\t\t\tpadding: 0,\n\t\t\t\twhiteSpace: 'pre'\n\t\t\t}).text(str).appendTo('body');\n\t\t\n\t\t\ttransferStyles($parent, $test, [\n\t\t\t\t'letterSpacing',\n\t\t\t\t'fontSize',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontWeight',\n\t\t\t\t'textTransform'\n\t\t\t]);\n\t\t\n\t\t\tvar width = $test.width();\n\t\t\t$test.remove();\n\t\t\n\t\t\treturn width;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Sets up an input to grow horizontally as the user\n\t\t * types. If the value is changed manually, you can\n\t\t * trigger the \"update\" handler to resize:\n\t\t *\n\t\t * $input.trigger('update');\n\t\t *\n\t\t * @param {object} $input\n\t\t */\n\t\tvar autoGrow = function($input) {\n\t\t\tvar currentWidth = null;\n\t\t\n\t\t\tvar update = function(e, options) {\n\t\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\t\tvar shift, character, selection;\n\t\t\t\te = e || window.event || {};\n\t\t\t\toptions = options || {};\n\t\t\n\t\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\t\n\t\t\t\tvalue = $input.val();\n\t\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\t\tprintable = (\n\t\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t\t);\n\t\t\n\t\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (printable) {\n\t\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\t\tvalue += character;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\t\tif (!value && placeholder) {\n\t\t\t\t\tvalue = placeholder;\n\t\t\t\t}\n\t\t\n\t\t\t\twidth = measureString(value, $input) + 4;\n\t\t\t\tif (width !== currentWidth) {\n\t\t\t\t\tcurrentWidth = width;\n\t\t\t\t\t$input.width(width);\n\t\t\t\t\t$input.triggerHandler('resize');\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t$input.on('keydown keyup update blur', update);\n\t\t\tupdate();\n\t\t};\n\t\t\n\t\tvar domToString = function(d) {\n\t\t\tvar tmp = document.createElement('div');\n\t\t\n\t\t\ttmp.appendChild(d.cloneNode(true));\n\t\t\n\t\t\treturn tmp.innerHTML;\n\t\t};\n\t\t\n\t\tvar logError = function(message, options){\n\t\t\tif(!options) options = {};\n\t\t\tvar component = \"Selectize\";\n\t\t\n\t\t\tconsole.error(component + \": \" + message)\n\t\t\n\t\t\tif(options.explanation){\n\t\t\t\t// console.group is undefined in <IE11\n\t\t\t\tif(console.group) console.group();\n\t\t\t\tconsole.error(options.explanation);\n\t\t\t\tif(console.group) console.groupEnd();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tvar Selectize = function($input, settings) {\n\t\t\tvar key, i, n, dir, input, self = this;\n\t\t\tinput = $input[0];\n\t\t\tinput.selectize = self;\n\t\t\n\t\t\t// detect rtl environment\n\t\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\t\n\t\t\t// setup default state\n\t\t\t$.extend(self, {\n\t\t\t\torder            : 0,\n\t\t\t\tsettings         : settings,\n\t\t\t\t$input           : $input,\n\t\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\t\trtl              : /rtl/i.test(dir),\n\t\t\n\t\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\t\thighlightedValue : null,\n\t\t\t\tisOpen           : false,\n\t\t\t\tisDisabled       : false,\n\t\t\t\tisRequired       : $input.is('[required]'),\n\t\t\t\tisInvalid        : false,\n\t\t\t\tisLocked         : false,\n\t\t\t\tisFocused        : false,\n\t\t\t\tisInputHidden    : false,\n\t\t\t\tisSetup          : false,\n\t\t\t\tisShiftDown      : false,\n\t\t\t\tisCmdDown        : false,\n\t\t\t\tisCtrlDown       : false,\n\t\t\t\tignoreFocus      : false,\n\t\t\t\tignoreBlur       : false,\n\t\t\t\tignoreHover      : false,\n\t\t\t\thasOptions       : false,\n\t\t\t\tcurrentResults   : null,\n\t\t\t\tlastValue        : '',\n\t\t\t\tcaretPos         : 0,\n\t\t\t\tloading          : 0,\n\t\t\t\tloadedSearches   : {},\n\t\t\n\t\t\t\t$activeOption    : null,\n\t\t\t\t$activeItems     : [],\n\t\t\n\t\t\t\toptgroups        : {},\n\t\t\t\toptions          : {},\n\t\t\t\tuserOptions      : {},\n\t\t\t\titems            : [],\n\t\t\t\trenderCache      : {},\n\t\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t\t});\n\t\t\n\t\t\t// search system\n\t\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\t\n\t\t\t// build options table\n\t\t\tif (self.settings.options) {\n\t\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.options;\n\t\t\t}\n\t\t\n\t\t\t// build optgroup table\n\t\t\tif (self.settings.optgroups) {\n\t\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.optgroups;\n\t\t\t}\n\t\t\n\t\t\t// option-dependent defaults\n\t\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t\t}\n\t\t\n\t\t\tself.initializePlugins(self.settings.plugins);\n\t\t\tself.setupCallbacks();\n\t\t\tself.setupTemplates();\n\t\t\tself.setup();\n\t\t};\n\t\t\n\t\t// mixins\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\tMicroEvent.mixin(Selectize);\n\t\t\n\t\tif(typeof MicroPlugin !== \"undefined\"){\n\t\t\tMicroPlugin.mixin(Selectize);\n\t\t}else{\n\t\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t\t{explanation:\n\t\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\t\"load Selectize.\"}\n\t\t\t);\n\t\t}\n\t\t\n\t\t\n\t\t// methods\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\t$.extend(Selectize.prototype, {\n\t\t\n\t\t\t/**\n\t\t\t * Creates all elements and sets up event bindings.\n\t\t\t */\n\t\t\tsetup: function() {\n\t\t\t\tvar self      = this;\n\t\t\t\tvar settings  = self.settings;\n\t\t\t\tvar eventNS   = self.eventNS;\n\t\t\t\tvar $window   = $(window);\n\t\t\t\tvar $document = $(document);\n\t\t\t\tvar $input    = self.$input;\n\t\t\n\t\t\t\tvar $wrapper;\n\t\t\t\tvar $control;\n\t\t\t\tvar $control_input;\n\t\t\t\tvar $dropdown;\n\t\t\t\tvar $dropdown_content;\n\t\t\t\tvar $dropdown_parent;\n\t\t\t\tvar inputMode;\n\t\t\t\tvar timeout_blur;\n\t\t\t\tvar timeout_focus;\n\t\t\t\tvar classes;\n\t\t\t\tvar classes_plugins;\n\t\t\t\tvar inputId;\n\t\t\n\t\t\t\tinputMode         = self.settings.mode;\n\t\t\t\tclasses           = $input.attr('class') || '';\n\t\t\n\t\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\t\n\t\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t\t}\n\t\t\n\t\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t\t$dropdown.addClass(classes);\n\t\t\t\t}\n\t\t\n\t\t\t\t$wrapper.css({\n\t\t\t\t\twidth: $input[0].style.width\n\t\t\t\t});\n\t\t\n\t\t\t\tif (self.plugins.names.length) {\n\t\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.settings.placeholder) {\n\t\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t\t}\n\t\t\n\t\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t\t}\n\t\t\n\t\t\t\tself.$wrapper          = $wrapper;\n\t\t\t\tself.$control          = $control;\n\t\t\t\tself.$control_input    = $control_input;\n\t\t\t\tself.$dropdown         = $dropdown;\n\t\t\t\tself.$dropdown_content = $dropdown_content;\n\t\t\n\t\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\t\tautoGrow($control_input);\n\t\t\n\t\t\t\t$control.on({\n\t\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$control_input.on({\n\t\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// blur on click outside\n\t\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\t\tself.ignoreHover = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t// store original children and tab index so that they can be\n\t\t\t\t// restored when the destroy() method is called.\n\t\t\t\tthis.revertSettings = {\n\t\t\t\t\t$children : $input.children().detach(),\n\t\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t\t};\n\t\t\n\t\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\t\n\t\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\t\tself.setValue(settings.items);\n\t\t\t\t\tdelete settings.items;\n\t\t\t\t}\n\t\t\n\t\t\t\t// feature detect for the validation API\n\t\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tself.updateOriginalInput();\n\t\t\t\tself.refreshItems();\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.isSetup = true;\n\t\t\n\t\t\t\tif ($input.is(':disabled')) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\n\t\t\t\tself.on('change', this.onChange);\n\t\t\n\t\t\t\t$input.data('selectize', self);\n\t\t\t\t$input.addClass('selectized');\n\t\t\t\tself.trigger('initialize');\n\t\t\n\t\t\t\t// preload options\n\t\t\t\tif (settings.preload === true) {\n\t\t\t\t\tself.onSearchChange('');\n\t\t\t\t}\n\t\t\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets up default rendering functions.\n\t\t\t */\n\t\t\tsetupTemplates: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar field_label = self.settings.labelField;\n\t\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\t\n\t\t\t\tvar templates = {\n\t\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Maps fired events to callbacks provided\n\t\t\t * in the settings used when creating the control.\n\t\t\t */\n\t\t\tsetupCallbacks: function() {\n\t\t\t\tvar key, fn, callbacks = {\n\t\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t\t'change'          : 'onChange',\n\t\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t\t'type'            : 'onType',\n\t\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t\t'blur'            : 'onBlur'\n\t\t\t\t};\n\t\t\n\t\t\t\tfor (key in callbacks) {\n\t\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a click event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonClick: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t\t// is ignored unless invoked within a click event)\n\t\t\t\tif (!self.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a mouse down event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonMouseDown: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\t\tvar $target = $(e.target);\n\t\t\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// give control focus\n\t\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the value of the control has been changed.\n\t\t\t * This should propagate the event to the original DOM\n\t\t\t * input / select element.\n\t\t\t */\n\t\t\tonChange: function() {\n\t\t\t\tthis.$input.trigger('change');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> paste.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonPaste: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t\t// input and create Items for each separate value\n\t\t\t\tif (self.settings.splitOn) {\n\t\t\n\t\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\t\n\t\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keypress.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyPress: function(e) {\n\t\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\t\tthis.createItem();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keydown.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyDown: function(e) {\n\t\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) {\n\t\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase KEY_A:\n\t\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_ESC:\n\t\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_N:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\t\tself.open();\n\t\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_P:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_UP:\n\t\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_TAB:\n\t\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\n\t\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keyup.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyUp: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\t\tvar value = self.$control_input.val() || '';\n\t\t\t\tif (self.lastValue !== value) {\n\t\t\t\t\tself.lastValue = value;\n\t\t\t\t\tself.onSearchChange(value);\n\t\t\t\t\tself.refreshOptions();\n\t\t\t\t\tself.trigger('type', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the user-provide option provider / loader.\n\t\t\t *\n\t\t\t * Note: this function is debounced in the Selectize\n\t\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tonSearchChange: function(value) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar fn = self.settings.load;\n\t\t\t\tif (!fn) return;\n\t\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\t\tself.loadedSearches[value] = true;\n\t\t\t\tself.load(function(callback) {\n\t\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> focus.\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonFocus: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar wasFocused = self.isFocused;\n\t\t\n\t\t\t\tif (self.isDisabled) {\n\t\t\t\t\tself.blur();\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.ignoreFocus) return;\n\t\t\t\tself.isFocused = true;\n\t\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\t\n\t\t\t\tif (!wasFocused) self.trigger('focus');\n\t\t\n\t\t\t\tif (!self.$activeItems.length) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t\t}\n\t\t\n\t\t\t\tself.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> blur.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tonBlur: function(e, dest) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.isFocused) return;\n\t\t\t\tself.isFocused = false;\n\t\t\n\t\t\t\tif (self.ignoreFocus) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\t\tself.ignoreBlur = true;\n\t\t\t\t\tself.onFocus(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar deactivate = function() {\n\t\t\t\t\tself.close();\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\t\tdest && dest.focus && dest.focus();\n\t\t\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.trigger('blur');\n\t\t\t\t};\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t\t} else {\n\t\t\t\t\tdeactivate();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user rolls over\n\t\t\t * an option in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionHover: function(e) {\n\t\t\t\tif (this.ignoreHover) return;\n\t\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an option\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionSelect: function(e) {\n\t\t\t\tvar value, $target, $option, self = this;\n\t\t\n\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\n\t\t\t\t$target = $(e.currentTarget);\n\t\t\t\tif ($target.hasClass('create')) {\n\t\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\t\tself.addItem(value);\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an item\n\t\t\t * that has been selected.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonItemSelect: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return;\n\t\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the provided method that provides\n\t\t\t * results to a callback---which are then added\n\t\t\t * as options to the control.\n\t\t\t *\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tload: function(fn) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\t\n\t\t\t\tself.loading++;\n\t\t\t\tfn.apply(self, [function(results) {\n\t\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\t\tif (results && results.length) {\n\t\t\t\t\t\tself.addOption(results);\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t\t}\n\t\t\t\t\tif (!self.loading) {\n\t\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t\t}\n\t\t\t\t\tself.trigger('load', results);\n\t\t\t\t}]);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the input field of the control to the specified value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tsetTextboxValue: function(value) {\n\t\t\t\tvar $input = this.$control_input;\n\t\t\t\tvar changed = $input.val() !== value;\n\t\t\t\tif (changed) {\n\t\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\t\tthis.lastValue = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the value of the control. If multiple items\n\t\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t\t * an array. If only one item can be selected, this\n\t\t\t * returns a string.\n\t\t\t *\n\t\t\t * @returns {mixed}\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\t\treturn this.items;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets the selected items to the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t */\n\t\t\tsetValue: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tthis.clear(silent);\n\t\t\t\t\tthis.addItems(value, silent);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item.\n\t\t\t *\n\t\t\t * @param {object} $item\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tsetActiveItem: function($item, e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventName;\n\t\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\t\tvar $last;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t\t$item = $($item);\n\t\t\n\t\t\t\t// clear the active selection\n\t\t\t\tif (!$item.length) {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [];\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\tself.showInput();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// modify selection\n\t\t\t\teventName = e && e.type.toLowerCase();\n\t\t\n\t\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\t\tif (begin > end) {\n\t\t\t\t\t\tswap  = begin;\n\t\t\t\t\t\tbegin = end;\n\t\t\t\t\t\tend   = swap;\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t\t}\n\t\t\n\t\t\t\t// ensure control has focus\n\t\t\t\tself.hideInput();\n\t\t\t\tif (!this.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item in the dropdown menu\n\t\t\t * of available options.\n\t\t\t *\n\t\t\t * @param {object} $object\n\t\t\t * @param {boolean} scroll\n\t\t\t * @param {boolean} animate\n\t\t\t */\n\t\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\t\tvar height_menu, height_item, y;\n\t\t\t\tvar scroll_top, scroll_bottom;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\t\tself.$activeOption = null;\n\t\t\n\t\t\t\t$option = $($option);\n\t\t\t\tif (!$option.length) return;\n\t\t\n\t\t\t\tself.$activeOption = $option.addClass('active');\n\t\t\n\t\t\t\tif (scroll || !isset(scroll)) {\n\t\t\n\t\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\t\tscroll_top    = y;\n\t\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\t\n\t\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects all items (CTRL + A).\n\t\t\t */\n\t\t\tselectAll: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\n\t\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t\tself.focus();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Hides the input element out of view, while\n\t\t\t * retaining its focus.\n\t\t\t */\n\t\t\thideInput: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\t\tself.isInputHidden = true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Restores input visibility.\n\t\t\t */\n\t\t\tshowInput: function() {\n\t\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\t\tthis.isInputHidden = false;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Gives the control focus.\n\t\t\t */\n\t\t\tfocus: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.isDisabled) return;\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tself.$control_input[0].focus();\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.onFocus();\n\t\t\t\t}, 0);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Forces the control out of focus.\n\t\t\t *\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tblur: function(dest) {\n\t\t\t\tthis.$control_input[0].blur();\n\t\t\t\tthis.onBlur(null, dest);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns a function that scores an object\n\t\t\t * to show how good of a match it is to the\n\t\t\t * provided query.\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @param {object} options\n\t\t\t * @return {function}\n\t\t\t */\n\t\t\tgetScoreFunction: function(query) {\n\t\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns search options for sifter (the system\n\t\t\t * for scoring and sorting results).\n\t\t\t *\n\t\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetSearchOptions: function() {\n\t\t\t\tvar settings = this.settings;\n\t\t\t\tvar sort = settings.sortField;\n\t\t\t\tif (typeof sort === 'string') {\n\t\t\t\t\tsort = [{field: sort}];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tfields      : settings.searchField,\n\t\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\t\tsort        : sort\n\t\t\t\t};\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Searches through available options and returns\n\t\t\t * a sorted array of matches.\n\t\t\t *\n\t\t\t * Returns an object containing:\n\t\t\t *\n\t\t\t *   - query {string}\n\t\t\t *   - tokens {array}\n\t\t\t *   - total {int}\n\t\t\t *   - items {array}\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tsearch: function(query) {\n\t\t\t\tvar i, value, score, result, calculateScore;\n\t\t\t\tvar self     = this;\n\t\t\t\tvar settings = self.settings;\n\t\t\t\tvar options  = this.getSearchOptions();\n\t\t\n\t\t\t\t// validate user-provided result scoring function\n\t\t\t\tif (settings.score) {\n\t\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform search\n\t\t\t\tif (query !== self.lastQuery) {\n\t\t\t\t\tself.lastQuery = query;\n\t\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\t\tself.currentResults = result;\n\t\t\t\t} else {\n\t\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t\t}\n\t\t\n\t\t\t\t// filter out selected items\n\t\t\t\tif (settings.hideSelected) {\n\t\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the list of available options shown\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {boolean} triggerDropdown\n\t\t\t */\n\t\t\trefreshOptions: function(triggerDropdown) {\n\t\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\t\tvar $active, $active_before, $create;\n\t\t\n\t\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar self              = this;\n\t\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\t\tvar results           = self.search(query);\n\t\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\t\n\t\t\t\t// build markup\n\t\t\t\tn = results.items.length;\n\t\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t\t}\n\t\t\n\t\t\t\t// render and group available options individually\n\t\t\t\tgroups = {};\n\t\t\t\tgroups_order = [];\n\t\t\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\t\toption_html = self.render('option', option);\n\t\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\t\n\t\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// sort optgroups\n\t\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\t// render optgroup headers & join groups\n\t\t\t\thtml = document.createDocumentFragment();\n\t\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\t\toptgroup = groups_order[i];\n\t\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\t\n\t\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t\t})));\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t$dropdown_content.html(html);\n\t\t\n\t\t\t\t// highlight matching terms inline\n\t\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add \"selected\" class to selected options\n\t\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add create option\n\t\t\t\thas_create_option = self.canCreate(query);\n\t\t\t\tif (has_create_option) {\n\t\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t\t}\n\t\t\n\t\t\t\t// activate\n\t\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\t\tif (self.hasOptions) {\n\t\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$active = $create;\n\t\t\t\t\t}\n\t\t\t\t\tself.setActiveOption($active);\n\t\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t\t} else {\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Adds an available option. If it already exists,\n\t\t\t * nothing will happen. Note: this does not refresh\n\t\t\t * the options list dropdown (use `refreshOptions`\n\t\t\t * for that).\n\t\t\t *\n\t\t\t * Usage:\n\t\t\t *\n\t\t\t *   this.addOption(data)\n\t\t\t *\n\t\t\t * @param {object|array} data\n\t\t\t */\n\t\t\taddOption: function(data) {\n\t\t\t\tvar i, n, value, self = this;\n\t\t\n\t\t\t\tif ($.isArray(data)) {\n\t\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\t\tself.userOptions[value] = true;\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option to the pool of options.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOption: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.options[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option group to the pool of option groups.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOptionGroup: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\t\tif (!key) return false;\n\t\t\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.optgroups[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers a new optgroup for options\n\t\t\t * to be bucketed into.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\taddOptionGroup: function(id, data) {\n\t\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes an existing option group.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t */\n\t\t\tremoveOptionGroup: function(id) {\n\t\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\t\tdelete this.optgroups[id];\n\t\t\t\t\tthis.renderCache = {};\n\t\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all existing option groups.\n\t\t\t */\n\t\t\tclearOptionGroups: function() {\n\t\t\t\tthis.optgroups = {};\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates an option available for selection. If\n\t\t\t * it is visible in the selected items or options\n\t\t\t * dropdown, it will be re-rendered automatically.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\tupdateOption: function(value, data) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, $item_new;\n\t\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\t\n\t\t\t\tvalue     = hash_key(value);\n\t\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\t\n\t\t\t\t// sanity checks\n\t\t\t\tif (value === null) return;\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\t\n\t\t\t\torder_old = self.options[value].$order;\n\t\t\n\t\t\t\t// update references\n\t\t\t\tif (value_new !== value) {\n\t\t\t\t\tdelete self.options[value];\n\t\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.$order = data.$order || order_old;\n\t\t\t\tself.options[value_new] = data;\n\t\t\n\t\t\t\t// invalidate render cache\n\t\t\t\tcache_items = self.renderCache['item'];\n\t\t\t\tcache_options = self.renderCache['option'];\n\t\t\n\t\t\t\tif (cache_items) {\n\t\t\t\t\tdelete cache_items[value];\n\t\t\t\t\tdelete cache_items[value_new];\n\t\t\t\t}\n\t\t\t\tif (cache_options) {\n\t\t\t\t\tdelete cache_options[value];\n\t\t\t\t\tdelete cache_options[value_new];\n\t\t\t\t}\n\t\t\n\t\t\t\t// update the item if it's selected\n\t\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t\t$item = self.getItem(value);\n\t\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t\t$item.replaceWith($item_new);\n\t\t\t\t}\n\t\t\n\t\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\t\tself.lastQuery = null;\n\t\t\n\t\t\t\t// update dropdown contents\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.refreshOptions(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes a single option.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tremoveOption: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\t\tif (cache_items) delete cache_items[value];\n\t\t\t\tif (cache_options) delete cache_options[value];\n\t\t\n\t\t\t\tdelete self.userOptions[value];\n\t\t\t\tdelete self.options[value];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_remove', value);\n\t\t\t\tself.removeItem(value, silent);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all options.\n\t\t\t */\n\t\t\tclearOptions: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.loadedSearches = {};\n\t\t\t\tself.userOptions = {};\n\t\t\t\tself.renderCache = {};\n\t\t\t\tself.options = self.sifter.items = {};\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_clear');\n\t\t\t\tself.clear();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the option\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetOption: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the next or\n\t\t\t * previous selectable option.\n\t\t\t *\n\t\t\t * @param {object} $option\n\t\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetAdjacentOption: function($option, direction) {\n\t\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Finds the first element with a \"data-value\" attribute\n\t\t\t * that matches the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} $els\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetElementWithValue: function(value, $els) {\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the item\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetItem: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItems: function(values, silent) {\n\t\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" an item. Adds it to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItem: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tvar $item, $option, $options;\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\t\n\t\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\t\twasFull = self.isFull();\n\t\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\t\tself.insertAtCaret($item);\n\t\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\t\n\t\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the selected item matching\n\t\t\t * the provided value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tremoveItem: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, i, idx;\n\t\t\n\t\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\t\ti = self.items.indexOf(value);\n\t\t\n\t\t\t\tif (i !== -1) {\n\t\t\t\t\t$item.remove();\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.items.splice(i, 1);\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.refreshState();\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the `create` method provided in the\n\t\t\t * selectize options that should provide the data\n\t\t\t * for the new item, given the user input.\n\t\t\t *\n\t\t\t * Once this completes, it will be added\n\t\t\t * to the item list.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} [triggerDropdown]\n\t\t\t * @param {function} [callback]\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\t\tvar self  = this;\n\t\t\t\tvar caret = self.caretPos;\n\t\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\t\n\t\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\t\n\t\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!self.canCreate(input)) {\n\t\t\t\t\tcallback();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tself.lock();\n\t\t\n\t\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar create = once(function(data) {\n\t\t\t\t\tself.unlock();\n\t\t\n\t\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tif (typeof value !== 'string') return callback();\n\t\t\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addOption(data);\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\t\tcallback(data);\n\t\t\t\t});\n\t\t\n\t\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\t\tcreate(output);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-renders the selected item lists.\n\t\t\t */\n\t\t\trefreshItems: function() {\n\t\t\t\tthis.lastQuery = null;\n\t\t\n\t\t\t\tif (this.isSetup) {\n\t\t\t\t\tthis.addItem(this.items);\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.refreshState();\n\t\t\t\tthis.updateOriginalInput();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent attributes\n\t\t\t * and CSS classes.\n\t\t\t */\n\t\t\trefreshState: function() {\n\t\t\t\tthis.refreshValidityState();\n\t\t\t\tthis.refreshClasses();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Update the `required` attribute of both input and control input.\n\t\t\t *\n\t\t\t * The `required` property needs to be activated on the control input\n\t\t\t * for the error to be displayed at the right place. `required` also\n\t\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t\t * hidden and can't show errors.\n\t\t\t */\n\t\t\trefreshValidityState: function() {\n\t\t\t\tif (!this.isRequired) return false;\n\t\t\n\t\t\t\tvar invalid = !this.items.length;\n\t\t\n\t\t\t\tthis.isInvalid = invalid;\n\t\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\t\tthis.$input.prop('required', !invalid);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent CSS classes.\n\t\t\t */\n\t\t\trefreshClasses: function() {\n\t\t\t\tvar self     = this;\n\t\t\t\tvar isFull   = self.isFull();\n\t\t\t\tvar isLocked = self.isLocked;\n\t\t\n\t\t\t\tself.$wrapper\n\t\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\t\n\t\t\t\tself.$control\n\t\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\t\n\t\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not more items can be added\n\t\t\t * to the control without exceeding the user-defined maximum.\n\t\t\t *\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisFull: function() {\n\t\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the original <select> or <input>\n\t\t\t * element to reflect the current state.\n\t\t\t */\n\t\t\tupdateOriginalInput: function(opts) {\n\t\t\t\tvar i, n, options, label, self = this;\n\t\t\t\topts = opts || {};\n\t\t\n\t\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\t\toptions = [];\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t\t}\n\t\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t\t}\n\t\t\t\t\tself.$input.html(options.join(''));\n\t\t\t\t} else {\n\t\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\tif (!opts.silent) {\n\t\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows/hide the input placeholder depending\n\t\t\t * on if there items in the list already.\n\t\t\t */\n\t\t\tupdatePlaceholder: function() {\n\t\t\t\tif (!this.settings.placeholder) return;\n\t\t\t\tvar $input = this.$control_input;\n\t\t\n\t\t\t\tif (this.items.length) {\n\t\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t\t} else {\n\t\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t\t}\n\t\t\t\t$input.triggerHandler('update', {force: true});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows the autocomplete dropdown containing\n\t\t\t * the available options.\n\t\t\t */\n\t\t\topen: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\t\tself.focus();\n\t\t\t\tself.isOpen = true;\n\t\t\t\tself.refreshState();\n\t\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Closes the autocomplete dropdown menu.\n\t\t\t */\n\t\t\tclose: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar trigger = self.isOpen;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t\t}\n\t\t\n\t\t\t\tself.isOpen = false;\n\t\t\t\tself.$dropdown.hide();\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Calculates and applies the appropriate\n\t\t\t * position of the dropdown.\n\t\t\t */\n\t\t\tpositionDropdown: function() {\n\t\t\t\tvar $control = this.$control;\n\t\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\t\toffset.top += $control.outerHeight(true);\n\t\t\n\t\t\t\tthis.$dropdown.css({\n\t\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\t\ttop   : offset.top,\n\t\t\t\t\tleft  : offset.left\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets / clears all selected items\n\t\t\t * from the control.\n\t\t\t *\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tclear: function(silent) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (!self.items.length) return;\n\t\t\t\tself.$control.children(':not(input)').remove();\n\t\t\t\tself.items = [];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.setCaret(0);\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.refreshState();\n\t\t\t\tself.showInput();\n\t\t\t\tself.trigger('clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for inserting an element\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {object} $el\n\t\t\t */\n\t\t\tinsertAtCaret: function($el) {\n\t\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\t\tif (caret === 0) {\n\t\t\t\t\tthis.$control.prepend($el);\n\t\t\t\t} else {\n\t\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t\t}\n\t\t\t\tthis.setCaret(caret + 1);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the current selected item(s).\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tdeleteSelection: function(e) {\n\t\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t\t}\n\t\t\n\t\t\t\t// determine items that will be removed\n\t\t\t\tvalues = [];\n\t\t\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tif (direction > 0) { caret++; }\n\t\t\n\t\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t\t}\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// allow the callback to abort\n\t\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform removal\n\t\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t}\n\t\t\t\twhile (values.length) {\n\t\t\t\t\tself.removeItem(values.pop());\n\t\t\t\t}\n\t\t\n\t\t\t\tself.showInput();\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.refreshOptions(true);\n\t\t\n\t\t\t\t// select previous option\n\t\t\t\tif (option_select) {\n\t\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\t\tif ($option_select.length) {\n\t\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects the previous / next item (depending\n\t\t\t * on the `direction` argument).\n\t\t\t *\n\t\t\t * > 0 - right\n\t\t\t * < 0 - left\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceSelection: function(direction, e) {\n\t\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\t\tif (self.rtl) direction *= -1;\n\t\t\n\t\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t\t: selection.start === valueLength;\n\t\t\n\t\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\t\tif ($tail.length) {\n\t\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret left / right.\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceCaret: function(direction, e) {\n\t\t\t\tvar self = this, fn, $adj;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\n\t\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\t\tif (self.isShiftDown) {\n\t\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\t\tif ($adj.length) {\n\t\t\t\t\t\tself.hideInput();\n\t\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret to the specified index.\n\t\t\t *\n\t\t\t * @param {int} i\n\t\t\t */\n\t\t\tsetCaret: function(i) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\ti = self.items.length;\n\t\t\t\t} else {\n\t\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t\t}\n\t\t\n\t\t\t\tif(!self.isPending) {\n\t\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t\t// on mobile webkit devices\n\t\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tself.caretPos = i;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control. Used while\n\t\t\t * items are being asynchronously created.\n\t\t\t */\n\t\t\tlock: function() {\n\t\t\t\tthis.close();\n\t\t\t\tthis.isLocked = true;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-enables user input on the control.\n\t\t\t */\n\t\t\tunlock: function() {\n\t\t\t\tthis.isLocked = false;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control completely.\n\t\t\t * While disabled, it cannot receive focus.\n\t\t\t */\n\t\t\tdisable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', true);\n\t\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\t\tself.isDisabled = true;\n\t\t\t\tself.lock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Enables the control so that it can respond\n\t\t\t * to focus and user input.\n\t\t\t */\n\t\t\tenable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', false);\n\t\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\t\tself.isDisabled = false;\n\t\t\t\tself.unlock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Completely destroys the control and\n\t\t\t * unbinds all event listeners so that it can\n\t\t\t * be garbage collected.\n\t\t\t */\n\t\t\tdestroy: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventNS = self.eventNS;\n\t\t\t\tvar revertSettings = self.revertSettings;\n\t\t\n\t\t\t\tself.trigger('destroy');\n\t\t\t\tself.off();\n\t\t\t\tself.$wrapper.remove();\n\t\t\t\tself.$dropdown.remove();\n\t\t\n\t\t\t\tself.$input\n\t\t\t\t\t.html('')\n\t\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t\t.removeClass('selectized')\n\t\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t\t.show();\n\t\t\n\t\t\t\tself.$control_input.removeData('grow');\n\t\t\t\tself.$input.removeData('selectize');\n\t\t\n\t\t\t\t$(window).off(eventNS);\n\t\t\t\t$(document).off(eventNS);\n\t\t\t\t$(document.body).off(eventNS);\n\t\t\n\t\t\t\tdelete self.$input[0].selectize;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for rendering \"item\" and\n\t\t\t * \"option\" templates, given the data.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t * @param {object} data\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\trender: function(templateName, data) {\n\t\t\t\tvar value, id, label;\n\t\t\t\tvar html = '';\n\t\t\t\tvar cache = false;\n\t\t\t\tvar self = this;\n\t\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\t\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tcache = !!value;\n\t\t\t\t}\n\t\t\n\t\t\t\t// pull markup from cache if it exists\n\t\t\t\tif (cache) {\n\t\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// render markup\n\t\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\t\n\t\t\t\t// add mandatory attributes\n\t\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t\t}\n\t\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\t\thtml.attr('data-group', id);\n\t\t\t\t}\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t\t}\n\t\t\n\t\t\t\t// update cache\n\t\t\t\tif (cache) {\n\t\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn html[0];\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears the render cache for a template. If\n\t\t\t * no template is given, clears all render\n\t\t\t * caches.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t */\n\t\t\tclearCache: function(templateName) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\t\tself.renderCache = {};\n\t\t\t\t} else {\n\t\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not to display the\n\t\t\t * create item prompt, given a user input.\n\t\t\t *\n\t\t\t * @param {string} input\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcanCreate: function(input) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.settings.create) return false;\n\t\t\t\tvar filter = self.settings.createFilter;\n\t\t\t\treturn input.length\n\t\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t\t}\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.count = 0;\n\t\tSelectize.defaults = {\n\t\t\toptions: [],\n\t\t\toptgroups: [],\n\t\t\n\t\t\tplugins: [],\n\t\t\tdelimiter: ',',\n\t\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\t\tpersist: true,\n\t\t\tdiacritics: true,\n\t\t\tcreate: false,\n\t\t\tcreateOnBlur: false,\n\t\t\tcreateFilter: null,\n\t\t\thighlight: true,\n\t\t\topenOnFocus: true,\n\t\t\tmaxOptions: 1000,\n\t\t\tmaxItems: null,\n\t\t\thideSelected: null,\n\t\t\taddPrecedence: false,\n\t\t\tselectOnTab: false,\n\t\t\tpreload: false,\n\t\t\tallowEmptyOption: false,\n\t\t\tcloseAfterSelect: false,\n\t\t\n\t\t\tscrollDuration: 60,\n\t\t\tloadThrottle: 300,\n\t\t\tloadingClass: 'loading',\n\t\t\n\t\t\tdataAttr: 'data-data',\n\t\t\toptgroupField: 'optgroup',\n\t\t\tvalueField: 'value',\n\t\t\tlabelField: 'text',\n\t\t\toptgroupLabelField: 'label',\n\t\t\toptgroupValueField: 'value',\n\t\t\tlockOptgroupOrder: false,\n\t\t\n\t\t\tsortField: '$order',\n\t\t\tsearchField: ['text'],\n\t\t\tsearchConjunction: 'and',\n\t\t\n\t\t\tmode: null,\n\t\t\twrapperClass: 'selectize-control',\n\t\t\tinputClass: 'selectize-input',\n\t\t\tdropdownClass: 'selectize-dropdown',\n\t\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\t\n\t\t\tdropdownParent: null,\n\t\t\n\t\t\tcopyClassesToDropdown: true,\n\t\t\n\t\t\t/*\n\t\t\tload                 : null, // function(query, callback) { ... }\n\t\t\tscore                : null, // function(search) { ... }\n\t\t\tonInitialize         : null, // function() { ... }\n\t\t\tonChange             : null, // function(value) { ... }\n\t\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\t\tonItemRemove         : null, // function(value) { ... }\n\t\t\tonClear              : null, // function() { ... }\n\t\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\t\tonOptionRemove       : null, // function(value) { ... }\n\t\t\tonOptionClear        : null, // function() { ... }\n\t\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\t\tonOptionGroupClear   : null, // function() { ... }\n\t\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\t\tonType               : null, // function(str) { ... }\n\t\t\tonDelete             : null, // function(values) { ... }\n\t\t\t*/\n\t\t\n\t\t\trender: {\n\t\t\t\t/*\n\t\t\t\titem: null,\n\t\t\t\toptgroup: null,\n\t\t\t\toptgroup_header: null,\n\t\t\t\toption: null,\n\t\t\t\toption_create: null\n\t\t\t\t*/\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t$.fn.selectize = function(settings_user) {\n\t\t\tvar defaults             = $.fn.selectize.defaults;\n\t\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\t\tvar attr_data            = settings.dataAttr;\n\t\t\tvar field_label          = settings.labelField;\n\t\t\tvar field_value          = settings.valueField;\n\t\t\tvar field_optgroup       = settings.optgroupField;\n\t\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_textbox = function($input, settings_element) {\n\t\t\t\tvar i, n, values, option;\n\t\t\n\t\t\t\tvar data_raw = $input.attr(attr_data);\n\t\t\n\t\t\t\tif (!data_raw) {\n\t\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\t\toption = {};\n\t\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t\t}\n\t\t\t\t\tsettings_element.items = values;\n\t\t\t\t} else {\n\t\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <select> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_select = function($input, settings_element) {\n\t\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\t\tvar options = settings_element.options;\n\t\t\t\tvar optionsMap = {};\n\t\t\n\t\t\t\tvar readData = function($el) {\n\t\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addOption = function($option, group) {\n\t\t\t\t\t$option = $($option);\n\t\t\n\t\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\t\n\t\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\t\n\t\t\t\t\toptionsMap[value] = option;\n\t\t\t\t\toptions.push(option);\n\t\t\n\t\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\t\tvar i, n, id, optgroup, $options;\n\t\t\n\t\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\t\tid = $optgroup.attr('label');\n\t\t\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\t\n\t\t\t\t$children = $input.children();\n\t\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\t\taddOption($children[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn this.each(function() {\n\t\t\t\tif (this.selectize) return;\n\t\t\n\t\t\t\tvar instance;\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t\t}\n\t\t\n\t\t\t\tvar settings_element = {\n\t\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t\t'options'     : [],\n\t\t\t\t\t'optgroups'   : [],\n\t\t\t\t\t'items'       : []\n\t\t\t\t};\n\t\t\n\t\t\t\tif (tag_name === 'select') {\n\t\t\t\t\tinit_select($input, settings_element);\n\t\t\t\t} else {\n\t\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t\t}\n\t\t\n\t\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t\t});\n\t\t};\n\t\t\n\t\t$.fn.selectize.defaults = Selectize.defaults;\n\t\t$.fn.selectize.support = {\n\t\t\tvalidity: SUPPORTS_VALIDITY_API\n\t\t};\n\t\t\n\t\t\n\t\tSelectize.define('drag_drop', function(options) {\n\t\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\t\tif (this.settings.mode !== 'multi') return;\n\t\t\tvar self = this;\n\t\t\n\t\t\tself.lock = (function() {\n\t\t\t\tvar original = self.lock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.unlock = (function() {\n\t\t\t\tvar original = self.unlock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(this, arguments);\n\t\t\n\t\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('dropdown_header', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\ttitle         : 'Untitled',\n\t\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\t\n\t\t\t\thtml: function(data) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, options);\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('optgroup_columns', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\tequalizeWidth  : true,\n\t\t\t\tequalizeHeight : true\n\t\t\t}, options);\n\t\t\n\t\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, $option, $options, $optgroup;\n\t\t\n\t\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\t\n\t\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tvar getScrollbarWidth = function() {\n\t\t\t\tvar div;\n\t\t\t\tvar width = getScrollbarWidth.width;\n\t\t\t\tvar doc = document;\n\t\t\n\t\t\t\tif (typeof width === 'undefined') {\n\t\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\t\tdiv = div.firstChild;\n\t\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\t\tdoc.body.removeChild(div);\n\t\t\t\t}\n\t\t\t\treturn width;\n\t\t\t};\n\t\t\n\t\t\tvar equalizeSizes = function() {\n\t\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\t\n\t\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\t\tn = $optgroups.length;\n\t\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\t\n\t\t\t\tif (options.equalizeHeight) {\n\t\t\t\t\theight_max = 0;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t\t}\n\t\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (options.equalizeWidth) {\n\t\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t\t$optgroups.css({width: width});\n\t\t\t\t\tif (n > 1) {\n\t\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t\t}\n\t\t\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('remove_button', function(options) {\n\t\t\toptions = $.extend({\n\t\t\t\t\tlabel     : '&times;',\n\t\t\t\t\ttitle     : 'Remove',\n\t\t\t\t\tclassName : 'remove',\n\t\t\t\t\tappend    : true\n\t\t\t\t}, options);\n\t\t\n\t\t\t\tvar singleClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\toptions.className = 'remove-single';\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\t\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tvar multiClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\t\tsingleClose(this, options);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmultiClose(this, options);\n\t\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.define('restore_on_backspace', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions.text = options.text || function(option) {\n\t\t\t\treturn option[this.settings.labelField];\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, option;\n\t\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t});\n\t\t\n\t\n\t\treturn Selectize;\n\t}));\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function($) {/**\n\t * sifter.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.Sifter = factory();\n\t\t}\n\t}(this, function() {\n\t\n\t\t/**\n\t\t * Textually searches arrays and hashes of objects\n\t\t * by property (or multiple properties). Designed\n\t\t * specifically for autocomplete.\n\t\t *\n\t\t * @constructor\n\t\t * @param {array|object} items\n\t\t * @param {object} items\n\t\t */\n\t\tvar Sifter = function(items, settings) {\n\t\t\tthis.items = items;\n\t\t\tthis.settings = settings || {diacritics: true};\n\t\t};\n\t\n\t\t/**\n\t\t * Splits a search string into an array of individual\n\t\t * regexps to be used to match results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {array}\n\t\t */\n\t\tSifter.prototype.tokenize = function(query) {\n\t\t\tquery = trim(String(query || '').toLowerCase());\n\t\t\tif (!query || !query.length) return [];\n\t\n\t\t\tvar i, n, regex, letter;\n\t\t\tvar tokens = [];\n\t\t\tvar words = query.split(/ +/);\n\t\n\t\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\t\tregex = escape_regex(words[i]);\n\t\t\t\tif (this.settings.diacritics) {\n\t\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttokens.push({\n\t\t\t\t\tstring : words[i],\n\t\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn tokens;\n\t\t};\n\t\n\t\t/**\n\t\t * Iterates over arrays and hashes.\n\t\t *\n\t\t * ```\n\t\t * this.iterator(this.items, function(item, id) {\n\t\t *    // invoked for each item\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * @param {array|object} object\n\t\t */\n\t\tSifter.prototype.iterator = function(object, callback) {\n\t\t\tvar iterator;\n\t\t\tif (is_array(object)) {\n\t\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\titerator = function(callback) {\n\t\t\t\t\tfor (var key in this) {\n\t\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\titerator.apply(object, [callback]);\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function to be used to score individual results.\n\t\t *\n\t\t * Good matches will have a higher score than poor matches.\n\t\t * If an item is not a match, 0 will be returned by the function.\n\t\t *\n\t\t * @param {object|string} search\n\t\t * @param {object} options (optional)\n\t\t * @returns {function}\n\t\t */\n\t\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\t\tvar self, fields, tokens, token_count, nesting;\n\t\n\t\t\tself        = this;\n\t\t\tsearch      = self.prepareSearch(search, options);\n\t\t\ttokens      = search.tokens;\n\t\t\tfields      = search.options.fields;\n\t\t\ttoken_count = tokens.length;\n\t\t\tnesting     = search.options.nesting;\n\t\n\t\t\t/**\n\t\t\t * Calculates how close of a match the\n\t\t\t * given value is against a search token.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} token\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreValue = function(value, token) {\n\t\t\t\tvar score, pos;\n\t\n\t\t\t\tif (!value) return 0;\n\t\t\t\tvalue = String(value || '');\n\t\t\t\tpos = value.search(token.regex);\n\t\t\t\tif (pos === -1) return 0;\n\t\t\t\tscore = token.string.length / value.length;\n\t\t\t\tif (pos === 0) score += 0.5;\n\t\t\t\treturn score;\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Calculates the score of an object\n\t\t\t * against the search query.\n\t\t\t *\n\t\t\t * @param {object} token\n\t\t\t * @param {object} data\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreObject = (function() {\n\t\t\t\tvar field_count = fields.length;\n\t\t\t\tif (!field_count) {\n\t\t\t\t\treturn function() { return 0; };\n\t\t\t\t}\n\t\t\t\tif (field_count === 1) {\n\t\t\t\t\treturn function(token, data) {\n\t\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / field_count;\n\t\t\t\t};\n\t\t\t})();\n\t\n\t\t\tif (!token_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (token_count === 1) {\n\t\t\t\treturn function(data) {\n\t\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tif (search.options.conjunction === 'and') {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tvar score;\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\t\tsum += score;\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function that can be used to compare two\n\t\t * results, for sorting purposes. If no sorting should\n\t\t * be performed, `null` will be returned.\n\t\t *\n\t\t * @param {string|object} search\n\t\t * @param {object} options\n\t\t * @return function(a,b)\n\t\t */\n\t\tSifter.prototype.getSortFunction = function(search, options) {\n\t\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\t\n\t\t\tself   = this;\n\t\t\tsearch = self.prepareSearch(search, options);\n\t\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\t\n\t\t\t/**\n\t\t\t * Fetches the specified sort field value\n\t\t\t * from a search result item.\n\t\t\t *\n\t\t\t * @param  {string} name\n\t\t\t * @param  {object} result\n\t\t\t * @return {mixed}\n\t\t\t */\n\t\t\tget_field = function(name, result) {\n\t\t\t\tif (name === '$score') return result.score;\n\t\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t\t};\n\t\n\t\t\t// parse options\n\t\t\tfields = [];\n\t\t\tif (sort) {\n\t\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// the \"$score\" field is implied to be the primary\n\t\t\t// sort field, unless it's manually specified\n\t\t\tif (search.query) {\n\t\t\t\timplicit_score = true;\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\timplicit_score = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (implicit_score) {\n\t\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tmultipliers = [];\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t\t}\n\t\n\t\t\t// build function\n\t\t\tfields_count = fields.length;\n\t\t\tif (!fields_count) {\n\t\t\t\treturn null;\n\t\t\t} else if (fields_count === 1) {\n\t\t\t\tfield = fields[0].field;\n\t\t\t\tmultiplier = multipliers[0];\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (result) return result;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Parses a search query and returns an object\n\t\t * with tokens and fields ready to be populated\n\t\t * with results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.prepareSearch = function(query, options) {\n\t\t\tif (typeof query === 'object') return query;\n\t\n\t\t\toptions = extend({}, options);\n\t\n\t\t\tvar option_fields     = options.fields;\n\t\t\tvar option_sort       = options.sort;\n\t\t\tvar option_sort_empty = options.sort_empty;\n\t\n\t\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\t\n\t\t\treturn {\n\t\t\t\toptions : options,\n\t\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\t\ttokens  : this.tokenize(query),\n\t\t\t\ttotal   : 0,\n\t\t\t\titems   : []\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t\t * Searches through all items and returns a sorted array of matches.\n\t\t *\n\t\t * The `options` parameter can contain:\n\t\t *\n\t\t *   - fields {string|array}\n\t\t *   - sort {array}\n\t\t *   - score {function}\n\t\t *   - filter {bool}\n\t\t *   - limit {integer}\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - options {object}\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.search = function(query, options) {\n\t\t\tvar self = this, value, score, search, calculateScore;\n\t\t\tvar fn_sort;\n\t\t\tvar fn_score;\n\t\n\t\t\tsearch  = this.prepareSearch(query, options);\n\t\t\toptions = search.options;\n\t\t\tquery   = search.query;\n\t\n\t\t\t// generate result scoring function\n\t\t\tfn_score = options.score || self.getScoreFunction(search);\n\t\n\t\t\t// perform search and sort\n\t\t\tif (query.length) {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tscore = fn_score(item);\n\t\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tfn_sort = self.getSortFunction(search, options);\n\t\t\tif (fn_sort) search.items.sort(fn_sort);\n\t\n\t\t\t// apply limits\n\t\t\tsearch.total = search.items.length;\n\t\t\tif (typeof options.limit === 'number') {\n\t\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t\t}\n\t\n\t\t\treturn search;\n\t\t};\n\t\n\t\t// utilities\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\tvar cmp = function(a, b) {\n\t\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t\t}\n\t\t\ta = asciifold(String(a || ''));\n\t\t\tb = asciifold(String(b || ''));\n\t\t\tif (a > b) return 1;\n\t\t\tif (b > a) return -1;\n\t\t\treturn 0;\n\t\t};\n\t\n\t\tvar extend = function(a, b) {\n\t\t\tvar i, n, k, object;\n\t\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\t\tobject = arguments[i];\n\t\t\t\tif (!object) continue;\n\t\t\t\tfor (k in object) {\n\t\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\t\ta[k] = object[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\t\n\t\t/**\n\t\t * A property getter resolving dot-notation\n\t\t * @param  {Object}  obj     The root object to fetch property on\n\t\t * @param  {String}  name    The optionally dotted property name to fetch\n\t\t * @param  {Boolean} nesting Handle nesting or not\n\t\t * @return {Object}          The resolved property value\n\t\t */\n\t\tvar getattr = function(obj, name, nesting) {\n\t\t    if (!obj || !name) return;\n\t\t    if (!nesting) return obj[name];\n\t\t    var names = name.split(\".\");\n\t\t    while(names.length && (obj = obj[names.shift()]));\n\t\t    return obj;\n\t\t};\n\t\n\t\tvar trim = function(str) {\n\t\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t\t};\n\t\n\t\tvar escape_regex = function(str) {\n\t\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t\t};\n\t\n\t\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t\t};\n\t\n\t\tvar DIACRITICS = {\n\t\t\t'a': '[a]',\n\t\t\t'b': '[bB]',\n\t\t\t'c': '[cCc]',\n\t\t\t'd': '[dDd]',\n\t\t\t'e': '[e]',\n\t\t\t'f': '[f]',\n\t\t\t'g': '[g]',\n\t\t\t'h': '[h]',\n\t\t\t'i': '[iiI]',\n\t\t\t'j': '[j]',\n\t\t\t'k': '[k]',\n\t\t\t'l': '[l]',\n\t\t\t'n': '[nNn]',\n\t\t\t'o': '[o]',\n\t\t\t'p': '[p]',\n\t\t\t'q': '[qq]',\n\t\t\t'r': '[r]',\n\t\t\t's': '[sSs]',\n\t\t\t't': '[t]',\n\t\t\t'u': '[u]',\n\t\t\t'v': '[v]',\n\t\t\t'w': '[w]',\n\t\t\t'x': '[x]',\n\t\t\t'y': '[y]',\n\t\t\t'z': '[z]'\n\t\t};\n\t\n\t\tvar asciifold = (function() {\n\t\t\tvar i, n, k, chunk;\n\t\t\tvar foreignletters = '';\n\t\t\tvar lookup = {};\n\t\t\tfor (k in DIACRITICS) {\n\t\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\t\tforeignletters += chunk;\n\t\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\t\treturn function(str) {\n\t\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\t\treturn lookup[foreignletter];\n\t\t\t\t}).toLowerCase();\n\t\t\t};\n\t\t})();\n\t\n\t\n\t\t// export\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\treturn Sifter;\n\t}));\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * microplugin.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.MicroPlugin = factory();\n\t\t}\n\t}(this, function() {\n\t\tvar MicroPlugin = {};\n\t\n\t\tMicroPlugin.mixin = function(Interface) {\n\t\t\tInterface.plugins = {};\n\t\n\t\t\t/**\n\t\t\t * Initializes the listed plugins (with options).\n\t\t\t * Acceptable formats:\n\t\t\t *\n\t\t\t * List (without options):\n\t\t\t *   ['a', 'b', 'c']\n\t\t\t *\n\t\t\t * List (with options):\n\t\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t\t *\n\t\t\t * Hash (with options):\n\t\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t\t *\n\t\t\t * @param {mixed} plugins\n\t\t\t */\n\t\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\t\tvar i, n, key;\n\t\t\t\tvar self  = this;\n\t\t\t\tvar queue = [];\n\t\n\t\t\t\tself.plugins = {\n\t\t\t\t\tnames     : [],\n\t\t\t\t\tsettings  : {},\n\t\t\t\t\trequested : {},\n\t\t\t\t\tloaded    : {}\n\t\t\t\t};\n\t\n\t\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (plugins) {\n\t\t\t\t\tfor (key in plugins) {\n\t\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\twhile (queue.length) {\n\t\t\t\t\tself.require(queue.shift());\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\t\tvar self    = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\t\t\tvar plugin  = Interface.plugins[name];\n\t\n\t\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t\t}\n\t\n\t\t\t\tplugins.requested[name] = true;\n\t\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\t\tplugins.names.push(name);\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Initializes a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t */\n\t\t\tInterface.prototype.require = function(name) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\n\t\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t\t}\n\t\t\t\t\tself.loadPlugin(name);\n\t\t\t\t}\n\t\n\t\t\t\treturn plugins.loaded[name];\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Registers a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tInterface.define = function(name, fn) {\n\t\t\t\tInterface.plugins[name] = {\n\t\t\t\t\t'name' : name,\n\t\t\t\t\t'fn'   : fn\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\n\t\tvar utils = {\n\t\t\tisArray: Array.isArray || function(vArg) {\n\t\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t\t}\n\t\t};\n\t\n\t\treturn MicroPlugin;\n\t}));\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Dependecies\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tvar $ = __webpack_require__(2);\n\t\n\tvar _module = function _module(element) {\n\t  var dropZone = $(element);\n\t  var $input = dropZone.find('input'); // TODO: Change this selector name\n\t  var $altInput = dropZone.find('[data-trigger=\"file\"]');\n\t  var defaultImage = dropZone.data('original-image');\n\t\n\t  if (defaultImage) {\n\t    fakeLoad('Imagem Padro', defaultImage);\n\t  }\n\t\n\t  dropZone.on({\n\t    dragover: cbDragOver,\n\t    dragleave: cbDragLeave,\n\t    drop: cbDrop\n\t  });\n\t\n\t  $input.on({\n\t    change: cbChangeFile\n\t  });\n\t\n\t  $altInput.on({\n\t    click: cbTriggerFile\n\t  });\n\t\n\t  function cbDragOver(event) {\n\t    dropZone.addClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDragLeave(event) {\n\t    dropZone.removeClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDrop(event) {\n\t    var file = event.originalEvent.dataTransfer.files[0];\n\t\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    dropZone.removeClass('hover');\n\t\n\t    readFile(file);\n\t    $input.files = file;\n\t    $input.val('');\n\t    return false;\n\t  }\n\t\n\t  function cbChangeFile(event) {\n\t    readFile(this.files[0]);\n\t    return false;\n\t  }\n\t\n\t  function cbTriggerFile(event) {\n\t    $input.trigger('click');\n\t  }\n\t};\n\t\n\tvar fakeLoad = function fakeLoad(name, src) {\n\t  var $image = $('<img/>').load(function () {\n\t    createPreview(name, getCanvasImage(this));\n\t  }).attr('src', src);\n\t};\n\t\n\tvar readFile = function readFile(file) {\n\t  var reader = new FileReader();\n\t\n\t  reader.onload = function (e) {\n\t    fakeLoad(file.name, e.target.result);\n\t  };\n\t  reader.readAsDataURL(file);\n\t};\n\t\n\tvar getCanvasImage = function getCanvasImage(image) {\n\t\n\t  var imgWidth = image.width,\n\t      imgHeight = image.height;\n\t\n\t  var canvas = document.createElement('canvas');\n\t  canvas.width = imgWidth;\n\t  canvas.height = imgHeight;\n\t\n\t  var ctx = canvas.getContext('2d');\n\t  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\t\n\t  return canvas.toDataURL('image/jpeg');\n\t};\n\t\n\tvar createPreview = function createPreview(filename, newURL) {\n\t  var fileName = filename.substr(0, filename.lastIndexOf('.')); //subtract file extension\n\t  var filePath = newURL;\n\t  var image = '<img src=\"' + filePath + '\" class=\"img-responsive\" alt=\"' + fileName + '\"/>';\n\t  //append new image through jQuery Template\n\t  $('[data-content=\"file\"]').html(image).show();\n\t  $('.custom-file-content').hide();\n\t};\n\t\n\texports['default'] = _module;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t// import $ from 'jquery';\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t__webpack_require__(11);\n\t\n\tvar defaultSettings = {\n\t  plugins: ['remove_button'],\n\t  maxItems: null,\n\t  valueField: 'id',\n\t  labelField: 'name',\n\t  searchField: 'name',\n\t  options: [],\n\t  create: false,\n\t  render: {\n\t    item: function item(_item) {\n\t      return '<div>' + _item.name + '</div>';\n\t    },\n\t    option: function option(_option, escape) {\n\t      return '<div>' + escape(_option.name) + '</div>';\n\t    }\n\t  },\n\t  load: function load(query, callback) {\n\t    var options = $(this.$input).data();\n\t\n\t    if (!query.length) {\n\t      return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    $.ajax({\n\t      url: options.url,\n\t      data: _data,\n\t      dataType: 'json',\n\t      type: options.method || 'GET',\n\t      error: function error() {\n\t        callback();\n\t      },\n\t      success: function success(res) {\n\t        callback(res);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\tvar geography = function geography(element) {\n\t  var $element = $(element);\n\t  var elementData = $element.data();\n\t  var selectizeSettings = $.extend({}, defaultSettings, elementData);\n\t  $element.selectize(defaultSettings);\n\t};\n\t\n\texports['default'] = geography;\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (select, dataTarget) {\n\t  var $select = $(select);\n\t  var $target = $('[' + dataTarget + ']');\n\t  $target.hide();\n\t  $target.find(':input').attr('disabled', true);\n\t  $('[' + dataTarget + '=' + $select.val() + ']').show().find(':input').attr('disabled', false);\n\t\n\t  $select.on({\n\t    change: function change(event) {\n\t      var $this = $(event.currentTarget);\n\t      $target.hide();\n\t      $target.find(':input').attr('disabled', true);\n\t      $('[' + dataTarget + '=' + $this.val() + ']').show().find(':input').attr('disabled', false);\n\t    }\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (check, dataTarget) {\n\t  var $check = $(check);\n\t  var $target = $('[' + dataTarget + ']');\n\t\n\t  if ($check.is(':checked')) {\n\t    console.log($check.val());\n\t  }\n\t\n\t  $check.on({\n\t    change: function change(event) {\n\t      var $this = $(event.currentTarget);\n\t      $target.hide();\n\t      $target.find(':input').attr('disabled', true);\n\t\n\t      if ($this.is(':not(:checked)')) {\n\t        $('[' + dataTarget + ']').show().find(':input').attr('disabled', false);\n\t      }\n\t    }\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/*!\n\t * jQuery Steps v1.1.0 - 09/04/2014\n\t * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n\t * Licensed under MIT http://www.opensource.org/licenses/MIT\n\t */\n\t\"use strict\";\n\t\n\t;(function ($, undefined) {\n\t    $.fn.extend({\n\t        _aria: function _aria(name, value) {\n\t            return this.attr(\"aria-\" + name, value);\n\t        },\n\t\n\t        _removeAria: function _removeAria(name) {\n\t            return this.removeAttr(\"aria-\" + name);\n\t        },\n\t\n\t        _enableAria: function _enableAria(enable) {\n\t            return enable == null || enable ? this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") : this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n\t        },\n\t\n\t        _showAria: function _showAria(show) {\n\t            return show == null || show ? this.show()._aria(\"hidden\", \"false\") : this.hide()._aria(\"hidden\", \"true\");\n\t        },\n\t\n\t        _selectAria: function _selectAria(select) {\n\t            return select == null || select ? this.addClass(\"current\")._aria(\"selected\", \"true\") : this.removeClass(\"current\")._aria(\"selected\", \"false\");\n\t        },\n\t\n\t        _id: function _id(id) {\n\t            return id ? this.attr(\"id\", id) : this.attr(\"id\");\n\t        }\n\t    });\n\t\n\t    if (!String.prototype.format) {\n\t        String.prototype.format = function () {\n\t            var args = arguments.length === 1 && $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t            var formattedString = this;\n\t            for (var i = 0; i < args.length; i++) {\n\t                var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n\t                formattedString = formattedString.replace(pattern, args[i]);\n\t            }\n\t            return formattedString;\n\t        };\n\t    }\n\t\n\t    /**\n\t     * A global unique id count.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @property _uniqueId\n\t     * @type Integer\n\t     **/\n\t    var _uniqueId = 0;\n\t\n\t    /**\n\t     * The plugin prefix for cookies.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _cookiePrefix\n\t     * @type String\n\t     **/\n\t    var _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\t\n\t    /**\n\t     * Suffix for the unique tab id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabSuffix = \"-t-\";\n\t\n\t    /**\n\t     * Suffix for the unique tabpanel id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabpanelSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabpanelSuffix = \"-p-\";\n\t\n\t    /**\n\t     * Suffix for the unique title id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _titleSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _titleSuffix = \"-h-\";\n\t\n\t    /**\n\t     * An error message for an \"index out of range\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _indexOutOfRangeErrorMessage\n\t     * @type String\n\t     **/\n\t    var _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\t\n\t    /**\n\t     * An error message for an \"missing corresponding element\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _missingCorrespondingElementErrorMessage\n\t     * @type String\n\t     **/\n\t    var _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\t\n\t    /**\n\t     * Adds a step to the cache.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method addStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function addStepToCache(wizard, step) {\n\t        getSteps(wizard).push(step);\n\t    }\n\t\n\t    function analyzeData(wizard, options, state) {\n\t        var stepTitles = wizard.children(options.headerTag),\n\t            stepContents = wizard.children(options.bodyTag);\n\t\n\t        // Validate content\n\t        if (stepTitles.length > stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n\t        } else if (stepTitles.length < stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n\t        }\n\t\n\t        var startIndex = options.startIndex;\n\t\n\t        state.stepCount = stepTitles.length;\n\t\n\t        // Tries to load the saved state (step position)\n\t        if (options.saveState && $.cookie) {\n\t            var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n\t            // Sets the saved position to the start index if not undefined or out of range\n\t            var savedIndex = parseInt(savedState, 0);\n\t            if (!isNaN(savedIndex) && savedIndex < state.stepCount) {\n\t                startIndex = savedIndex;\n\t            }\n\t        }\n\t\n\t        state.currentIndex = startIndex;\n\t\n\t        stepTitles.each(function (index) {\n\t            var item = $(this),\n\t                // item == header\n\t            content = stepContents.eq(index),\n\t                modeData = content.data(\"mode\"),\n\t                mode = modeData == null ? contentMode.html : getValidEnumValue(contentMode, /^\\s*$/.test(modeData) || isNaN(modeData) ? modeData : parseInt(modeData, 0)),\n\t                contentUrl = mode === contentMode.html || content.data(\"url\") === undefined ? \"\" : content.data(\"url\"),\n\t                contentLoaded = mode !== contentMode.html && content.data(\"loaded\") === \"1\",\n\t                step = $.extend({}, stepModel, {\n\t                title: item.html(),\n\t                content: mode === contentMode.html ? content.html() : \"\",\n\t                contentUrl: contentUrl,\n\t                contentMode: mode,\n\t                contentLoaded: contentLoaded\n\t            });\n\t\n\t            addStepToCache(wizard, step);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Triggers the onCanceled event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method cancel\n\t     * @param wizard {Object} The jQuery wizard object\n\t     **/\n\t    function cancel(wizard) {\n\t        wizard.triggerHandler(\"canceled\");\n\t    }\n\t\n\t    function decreaseCurrentIndexBy(state, decreaseBy) {\n\t        return state.currentIndex - decreaseBy;\n\t    }\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method destroy\n\t     * @param wizard {Object} A jQuery wizard object\n\t     **/\n\t    function destroy(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        // Remove virtual data objects from the wizard\n\t        wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\").removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\").find(\".actions a\").unbind(eventNamespace);\n\t\n\t        // Remove attributes and CSS classes from the wizard\n\t        wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\t\n\t        var contents = wizard.find(\".content > *\");\n\t\n\t        // Remove virtual data objects from panels and their titles\n\t        contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\t\n\t        // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n\t        contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\").removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")._removeAria(\"hidden\");\n\t\n\t        // Empty panels if the mode is set to 'async' or 'iframe'\n\t        wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\t\n\t        var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\t\n\t        var wizardId = wizard._id();\n\t        if (wizardId != null && wizardId !== \"\") {\n\t            wizardSubstitute._id(wizardId);\n\t        }\n\t\n\t        wizardSubstitute.html(wizard.find(\".content\").html());\n\t        wizard.after(wizardSubstitute);\n\t        wizard.remove();\n\t\n\t        return wizardSubstitute;\n\t    }\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method finishStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function finishStep(wizard, state) {\n\t        var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\t\n\t        if (wizard.triggerHandler(\"finishing\", [state.currentIndex])) {\n\t            currentStep.addClass(\"done\").removeClass(\"error\");\n\t            wizard.triggerHandler(\"finished\", [state.currentIndex]);\n\t        } else {\n\t            currentStep.addClass(\"error\");\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique event namespace for the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getEventNamespace\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique event namespace for the given wizard\n\t     */\n\t    function getEventNamespace(wizard) {\n\t        var eventNamespace = wizard.data(\"eventNamespace\");\n\t\n\t        if (eventNamespace == null) {\n\t            eventNamespace = \".\" + getUniqueId(wizard);\n\t            wizard.data(\"eventNamespace\", eventNamespace);\n\t        }\n\t\n\t        return eventNamespace;\n\t    }\n\t\n\t    function getStepAnchor(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n\t    }\n\t\n\t    function getStepPanel(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n\t    }\n\t\n\t    function getStepTitle(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n\t    }\n\t\n\t    function getOptions(wizard) {\n\t        return wizard.data(\"options\");\n\t    }\n\t\n\t    function getState(wizard) {\n\t        return wizard.data(\"state\");\n\t    }\n\t\n\t    function getSteps(wizard) {\n\t        return wizard.data(\"steps\");\n\t    }\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    function getStep(wizard, index) {\n\t        var steps = getSteps(wizard);\n\t\n\t        if (index < 0 || index >= steps.length) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        return steps[index];\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique id from the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getUniqueId\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique id for the given wizard\n\t     */\n\t    function getUniqueId(wizard) {\n\t        var uniqueId = wizard.data(\"uid\");\n\t\n\t        if (uniqueId == null) {\n\t            uniqueId = wizard._id();\n\t            if (uniqueId == null) {\n\t                uniqueId = \"steps-uid-\".concat(_uniqueId);\n\t                wizard._id(uniqueId);\n\t            }\n\t\n\t            _uniqueId++;\n\t            wizard.data(\"uid\", uniqueId);\n\t        }\n\t\n\t        return uniqueId;\n\t    }\n\t\n\t    /**\n\t     * Gets a valid enum value by checking a specific enum key or value.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getValidEnumValue\n\t     * @param enumType {Object} Type of enum\n\t     * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n\t     */\n\t    function getValidEnumValue(enumType, keyOrValue) {\n\t        validateArgument(\"enumType\", enumType);\n\t        validateArgument(\"keyOrValue\", keyOrValue);\n\t\n\t        // Is key\n\t        if (typeof keyOrValue === \"string\") {\n\t            var value = enumType[keyOrValue];\n\t            if (value === undefined) {\n\t                throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n\t            }\n\t\n\t            return value;\n\t        }\n\t        // Is value\n\t        else if (typeof keyOrValue === \"number\") {\n\t                for (var key in enumType) {\n\t                    if (enumType[key] === keyOrValue) {\n\t                        return keyOrValue;\n\t                    }\n\t                }\n\t\n\t                throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n\t            }\n\t            // Type is not supported\n\t            else {\n\t                    throwError(\"Invalid key or value type.\");\n\t                }\n\t    }\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToNextStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToNextStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToPreviousStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToPreviousStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to a specific step by a given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the action succeeded or failed\n\t     **/\n\t    function goToStep(wizard, options, state, index) {\n\t        if (index < 0 || index >= state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        if (options.forceMoveForward && index < state.currentIndex) {\n\t            return;\n\t        }\n\t\n\t        var oldIndex = state.currentIndex;\n\t        if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index])) {\n\t            // Save new state\n\t            state.currentIndex = index;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t\n\t            // Change visualisation\n\t            refreshStepNavigation(wizard, options, state, oldIndex);\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t            startTransitionEffect(wizard, options, state, index, oldIndex, function () {\n\t                wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n\t            });\n\t        } else {\n\t            wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    function increaseCurrentIndexBy(state, increaseBy) {\n\t        return state.currentIndex + increaseBy;\n\t    }\n\t\n\t    /**\n\t     * Initializes the component.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method initialize\n\t     * @param options {Object} The component settings\n\t     **/\n\t    function initialize(options) {\n\t        /*jshint -W040 */\n\t        var opts = $.extend(true, {}, defaults, options);\n\t\n\t        return this.each(function () {\n\t            var wizard = $(this);\n\t            var state = {\n\t                currentIndex: opts.startIndex,\n\t                currentStep: null,\n\t                stepCount: 0,\n\t                transitionElement: null\n\t            };\n\t\n\t            // Create data container\n\t            wizard.data(\"options\", opts);\n\t            wizard.data(\"state\", state);\n\t            wizard.data(\"steps\", []);\n\t\n\t            analyzeData(wizard, opts, state);\n\t            render(wizard, opts, state);\n\t            registerEvents(wizard, opts);\n\t\n\t            // Trigger focus\n\t            if (opts.autoFocus && _uniqueId === 0) {\n\t                getStepAnchor(wizard, opts.startIndex).focus();\n\t            }\n\t\n\t            wizard.triggerHandler(\"init\", [opts.startIndex]);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    function insertStep(wizard, options, state, index, step) {\n\t        if (index < 0 || index > state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        // TODO: Validate step object\n\t\n\t        // Change data\n\t        step = $.extend({}, stepModel, step);\n\t        insertStepToCache(wizard, index, step);\n\t        if (state.currentIndex !== state.stepCount && state.currentIndex >= index) {\n\t            state.currentIndex++;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount++;\n\t\n\t        var contentContainer = wizard.find(\".content\"),\n\t            header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n\t            body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\t\n\t        if (step.contentMode == null || step.contentMode === contentMode.html) {\n\t            body.html(step.content);\n\t        }\n\t\n\t        if (index === 0) {\n\t            contentContainer.prepend(body).prepend(header);\n\t        } else {\n\t            getStepPanel(wizard, index - 1).after(body).after(header);\n\t        }\n\t\n\t        renderBody(wizard, state, body, index);\n\t        renderTitle(wizard, options, state, header, index);\n\t        refreshSteps(wizard, options, state, index);\n\t        if (index === state.currentIndex) {\n\t            refreshStepNavigation(wizard, options, state);\n\t        }\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return wizard;\n\t    }\n\t\n\t    /**\n\t     * Inserts a step object to the cache at a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function insertStepToCache(wizard, index, step) {\n\t        getSteps(wizard).splice(index, 0, step);\n\t    }\n\t\n\t    /**\n\t     * Handles the keyup DOM event for pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event keyup\n\t     * @param event {Object} An event object\n\t     */\n\t    function keyUpHandler(event) {\n\t        var wizard = $(this),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard);\n\t\n\t        if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\")) {\n\t            event.preventDefault();\n\t            return false;\n\t        }\n\t\n\t        var keyCodes = { left: 37, right: 39 };\n\t        if (event.keyCode === keyCodes.left) {\n\t            event.preventDefault();\n\t            goToPreviousStep(wizard, options, state);\n\t        } else if (event.keyCode === keyCodes.right) {\n\t            event.preventDefault();\n\t            goToNextStep(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Loads and includes async content.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method loadAsyncContent\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function loadAsyncContent(wizard, options, state) {\n\t        if (state.stepCount > 0) {\n\t            var currentIndex = state.currentIndex,\n\t                currentStep = getStep(wizard, currentIndex);\n\t\n\t            if (!options.enableContentCache || !currentStep.contentLoaded) {\n\t                switch (getValidEnumValue(contentMode, currentStep.contentMode)) {\n\t                    case contentMode.iframe:\n\t                        wizard.find(\".content > .body\").eq(state.currentIndex).empty().html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\").data(\"loaded\", \"1\");\n\t                        break;\n\t\n\t                    case contentMode.async:\n\t                        var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\").empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\t\n\t                        $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data) {\n\t                            currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n\t                            wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n\t                        });\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires the action next or previous click event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method paginationClick\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the event fired successfully or not\n\t     **/\n\t    function paginationClick(wizard, options, state, index) {\n\t        var oldIndex = state.currentIndex;\n\t\n\t        if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex)) {\n\t            var anchor = getStepAnchor(wizard, index),\n\t                parent = anchor.parent(),\n\t                isDisabled = parent.hasClass(\"disabled\");\n\t\n\t            // Enable the step to make the anchor clickable!\n\t            parent._enableAria();\n\t            anchor.click();\n\t\n\t            // An error occured\n\t            if (oldIndex === state.currentIndex && isDisabled) {\n\t                // Disable the step again if current index has not changed; prevents click action.\n\t                parent._enableAria(false);\n\t                return false;\n\t            }\n\t\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    }\n\t\n\t    /**\n\t     * Fires when a pagination click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function paginationClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            href = anchor.attr(\"href\");\n\t\n\t        switch (href.substring(href.lastIndexOf(\"#\") + 1)) {\n\t            case \"cancel\":\n\t                cancel(wizard);\n\t                break;\n\t\n\t            case \"finish\":\n\t                finishStep(wizard, state);\n\t                break;\n\t\n\t            case \"next\":\n\t                goToNextStep(wizard, options, state);\n\t                break;\n\t\n\t            case \"previous\":\n\t                goToPreviousStep(wizard, options, state);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the entire pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function refreshPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n\t                next = wizard.find(\".actions a[href$='#next']\").parent();\n\t\n\t            if (!options.forceMoveForward) {\n\t                var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n\t                previous._enableAria(state.currentIndex > 0);\n\t            }\n\t\n\t            if (options.enableFinishButton && options.showFinishButtonAlways) {\n\t                finish._enableAria(state.stepCount > 0);\n\t                next._enableAria(state.stepCount > 1 && state.stepCount > state.currentIndex + 1);\n\t            } else {\n\t                finish._showAria(options.enableFinishButton && state.stepCount === state.currentIndex + 1);\n\t                next._showAria(state.stepCount === 0 || state.stepCount > state.currentIndex + 1)._enableAria(state.stepCount > state.currentIndex + 1 || !options.enableFinishButton);\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the step navigation (tabs).\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshStepNavigation\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param [oldIndex] {Integer} The index of the prior step\n\t     */\n\t    function refreshStepNavigation(wizard, options, state, oldIndex) {\n\t        var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n\t            currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n\t            stepTitles = wizard.find(\".content > .title\");\n\t\n\t        if (oldIndex != null) {\n\t            var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n\t            oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n\t            stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n\t            currentInfo = oldStepAnchor.find(\".current-info\");\n\t            currentOrNewStepAnchor.focus();\n\t        }\n\t\n\t        currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n\t        stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n\t    }\n\t\n\t    /**\n\t     * Refreshes step buttons and their related titles beyond a certain position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshSteps\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The start point for refreshing ids\n\t     */\n\t    function refreshSteps(wizard, options, state, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        for (var i = index; i < state.stepCount; i++) {\n\t            var uniqueStepId = uniqueId + _tabSuffix + i,\n\t                uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n\t                uniqueHeaderId = uniqueId + _titleSuffix + i,\n\t                title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\t\n\t            wizard.find(\".steps a\").eq(i)._id(uniqueStepId)._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId).html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n\t            wizard.find(\".body\").eq(i)._id(uniqueBodyId)._aria(\"labelledby\", uniqueHeaderId);\n\t        }\n\t    }\n\t\n\t    function registerEvents(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n\t        wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n\t        wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n\t        wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n\t        wizard.bind(\"init\" + eventNamespace, options.onInit);\n\t        wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n\t        wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\t\n\t        if (options.enableKeyNavigation) {\n\t            wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n\t        }\n\t\n\t        wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method removeStep\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    function removeStep(wizard, options, state, index) {\n\t        // Index out of range and try deleting current item will return false.\n\t        if (index < 0 || index >= state.stepCount || state.currentIndex === index) {\n\t            return false;\n\t        }\n\t\n\t        // Change data\n\t        removeStepFromCache(wizard, index);\n\t        if (state.currentIndex > index) {\n\t            state.currentIndex--;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount--;\n\t\n\t        getStepTitle(wizard, index).remove();\n\t        getStepPanel(wizard, index).remove();\n\t        getStepAnchor(wizard, index).parent().remove();\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            wizard.find(\".steps li\").first().addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount) {\n\t            wizard.find(\".steps li\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        refreshSteps(wizard, options, state, index);\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return true;\n\t    }\n\t\n\t    function removeStepFromCache(wizard, index) {\n\t        getSteps(wizard).splice(index, 1);\n\t    }\n\t\n\t    /**\n\t     * Transforms the base html structure to a more sensible html structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method render\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function render(wizard, options, state) {\n\t        // Create a content wrapper and copy HTML from the intial wizard structure\n\t        var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n\t            orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n\t            verticalCssClass = orientation === stepsOrientation.vertical ? \" vertical\" : \"\",\n\t            contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n\t            stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n\t            stepTitles = contentWrapper.children(options.headerTag),\n\t            stepContents = contentWrapper.children(options.bodyTag);\n\t\n\t        // Transform the wizard wrapper and remove the inner HTML\n\t        wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper).addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\t\n\t        // Add WIA-ARIA support\n\t        stepContents.each(function (index) {\n\t            renderBody(wizard, state, $(this), index);\n\t        });\n\t\n\t        stepTitles.each(function (index) {\n\t            renderTitle(wizard, options, state, $(this), index);\n\t        });\n\t\n\t        refreshStepNavigation(wizard, options, state);\n\t        renderPagination(wizard, options, state);\n\t    }\n\t\n\t    /**\n\t     * Transforms the body to a proper tabpanel.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderBody\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param body {Object} A jQuery body object\n\t     * @param index {Integer} The position of the body\n\t     */\n\t    function renderBody(wizard, state, body, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index;\n\t\n\t        body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId).addClass(\"body\")._showAria(state.currentIndex === index);\n\t    }\n\t\n\t    /**\n\t     * Renders a pagination if enabled.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function renderPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n\t                buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n\t                buttons = \"\";\n\t\n\t            if (!options.forceMoveForward) {\n\t                buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n\t            }\n\t\n\t            buttons += buttonTemplate.format(\"next\", options.labels.next);\n\t\n\t            if (options.enableFinishButton) {\n\t                buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n\t            }\n\t\n\t            if (options.enableCancelButton) {\n\t                buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n\t            }\n\t\n\t            wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass, options.labels.pagination, buttons));\n\t\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Renders a template and replaces all placeholder.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTemplate\n\t     * @param template {String} A template\n\t     * @param substitutes {Object} A list of substitute\n\t     * @return {String} The rendered template\n\t     */\n\t    function renderTemplate(template, substitutes) {\n\t        var matches = template.match(/#([a-z]*)#/gi);\n\t\n\t        for (var i = 0; i < matches.length; i++) {\n\t            var match = matches[i],\n\t                key = match.substring(1, match.length - 1);\n\t\n\t            if (substitutes[key] === undefined) {\n\t                throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n\t            }\n\t\n\t            template = template.replace(match, substitutes[key]);\n\t        }\n\t\n\t        return template;\n\t    }\n\t\n\t    /**\n\t     * Transforms the title to a step item button.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTitle\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param header {Object} A jQuery header object\n\t     * @param index {Integer} The position of the header\n\t     */\n\t    function renderTitle(wizard, options, state, header, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueStepId = uniqueId + _tabSuffix + index,\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index,\n\t            stepCollection = wizard.find(\".steps > ul\"),\n\t            title = renderTemplate(options.titleTemplate, {\n\t            index: index + 1,\n\t            title: header.html()\n\t        }),\n\t            stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId + \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\t\n\t        stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\t\n\t        if (state.currentIndex > index) {\n\t            stepItem.addClass(\"done\");\n\t        }\n\t\n\t        header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\t\n\t        if (index === 0) {\n\t            stepCollection.prepend(stepItem);\n\t        } else {\n\t            stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n\t        }\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount - 1) {\n\t            stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        // Register click event\n\t        stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Saves the current state to a cookie.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method saveCurrentStateToCookie\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function saveCurrentStateToCookie(wizard, options, state) {\n\t        if (options.saveState && $.cookie) {\n\t            $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n\t        }\n\t    }\n\t\n\t    function startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback) {\n\t        var stepContents = wizard.find(\".content > .body\"),\n\t            effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n\t            effectSpeed = options.transitionEffectSpeed,\n\t            newStep = stepContents.eq(index),\n\t            currentStep = stepContents.eq(oldIndex);\n\t\n\t        switch (effect) {\n\t            case transitionEffect.fade:\n\t            case transitionEffect.slide:\n\t                var hide = effect === transitionEffect.fade ? \"fadeOut\" : \"slideUp\",\n\t                    show = effect === transitionEffect.fade ? \"fadeIn\" : \"slideDown\";\n\t\n\t                state.transitionElement = newStep;\n\t                currentStep[hide](effectSpeed, function () {\n\t                    var wizard = $(this)._showAria(false).parent().parent(),\n\t                        state = getState(wizard);\n\t\n\t                    if (state.transitionElement) {\n\t                        state.transitionElement[show](effectSpeed, function () {\n\t                            $(this)._showAria();\n\t                        }).promise().done(doneCallback);\n\t                        state.transitionElement = null;\n\t                    }\n\t                });\n\t                break;\n\t\n\t            case transitionEffect.slideLeft:\n\t                var outerWidth = currentStep.outerWidth(true),\n\t                    posFadeOut = index > oldIndex ? -outerWidth : outerWidth,\n\t                    posFadeIn = index > oldIndex ? outerWidth : -outerWidth;\n\t\n\t                $.when(currentStep.animate({ left: posFadeOut }, effectSpeed, function () {\n\t                    $(this)._showAria(false);\n\t                }), newStep.css(\"left\", posFadeIn + \"px\")._showAria().animate({ left: 0 }, effectSpeed)).done(doneCallback);\n\t                break;\n\t\n\t            default:\n\t                $.when(currentStep._showAria(false), newStep._showAria()).done(doneCallback);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires when a step click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function stepClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            oldIndex = state.currentIndex;\n\t\n\t        if (anchor.parent().is(\":not(.disabled):not(.current)\")) {\n\t            var href = anchor.attr(\"href\"),\n\t                position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\t\n\t            goToStep(wizard, options, state, position);\n\t        }\n\t\n\t        // If nothing has changed\n\t        if (oldIndex === state.currentIndex) {\n\t            getStepAnchor(wizard, oldIndex).focus();\n\t            return false;\n\t        }\n\t    }\n\t\n\t    function throwError(message) {\n\t        if (arguments.length > 1) {\n\t            message = message.format(Array.prototype.slice.call(arguments, 1));\n\t        }\n\t\n\t        throw new Error(message);\n\t    }\n\t\n\t    /**\n\t     * Checks an argument for null or undefined and throws an error if one check applies.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method validateArgument\n\t     * @param argumentName {String} The name of the given argument\n\t     * @param argumentValue {Object} The argument itself\n\t     */\n\t    function validateArgument(argumentName, argumentValue) {\n\t        if (argumentValue == null) {\n\t            throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Represents a jQuery wizard plugin.\n\t     *\n\t     * @class steps\n\t     * @constructor\n\t     * @param [method={}] The name of the method as `String` or an JSON object for initialization\n\t     * @param [params=]* {Array} Additional arguments for a method call\n\t     * @chainable\n\t     **/\n\t    $.fn.steps = function (method) {\n\t        if ($.fn.steps[method]) {\n\t            return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n\t        } else if (typeof method === \"object\" || !method) {\n\t            return initialize.apply(this, arguments);\n\t        } else {\n\t            $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Adds a new step.\n\t     *\n\t     * @method add\n\t     * @param step {Object} The step object to add\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.add = function (step) {\n\t        var state = getState(this);\n\t        return insertStep(this, getOptions(this), state, state.stepCount, step);\n\t    };\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @method destroy\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.destroy = function () {\n\t        return destroy(this, getOptions(this));\n\t    };\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @method finish\n\t     **/\n\t    $.fn.steps.finish = function () {\n\t        finishStep(this, getState(this));\n\t    };\n\t\n\t    /**\n\t     * Gets the current step index.\n\t     *\n\t     * @method getCurrentIndex\n\t     * @return {Integer} The actual step index (zero-based)\n\t     * @for steps\n\t     **/\n\t    $.fn.steps.getCurrentIndex = function () {\n\t        return getState(this).currentIndex;\n\t    };\n\t\n\t    /**\n\t     * Gets the current step object.\n\t     *\n\t     * @method getCurrentStep\n\t     * @return {Object} The actual step object\n\t     **/\n\t    $.fn.steps.getCurrentStep = function () {\n\t        return getStep(this, getState(this).currentIndex);\n\t    };\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    $.fn.steps.getStep = function (index) {\n\t        return getStep(this, index);\n\t    };\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @method insert\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.insert = function (index, step) {\n\t        return insertStep(this, getOptions(this), getState(this), index, step);\n\t    };\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @method next\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.next = function () {\n\t        return goToNextStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @method previous\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.previous = function () {\n\t        return goToPreviousStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @method remove\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    $.fn.steps.remove = function (index) {\n\t        return removeStep(this, getOptions(this), getState(this), index);\n\t    };\n\t\n\t    /**\n\t     * Sets a specific step object by index.\n\t     *\n\t     * @method setStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @param step {Object} The step object to change\n\t     **/\n\t    $.fn.steps.setStep = function (index, step) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * Skips an certain amount of steps.\n\t     *\n\t     * @method skip\n\t     * @param count {Integer} The amount of steps that should be skipped\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.skip = function (count) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * An enum represents the different content types of a step and their loading mechanisms.\n\t     *\n\t     * @class contentMode\n\t     * @for steps\n\t     **/\n\t    var contentMode = $.fn.steps.contentMode = {\n\t        /**\n\t         * HTML embedded content\n\t         *\n\t         * @readOnly\n\t         * @property html\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        html: 0,\n\t\n\t        /**\n\t         * IFrame embedded content\n\t         *\n\t         * @readOnly\n\t         * @property iframe\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        iframe: 1,\n\t\n\t        /**\n\t         * Async embedded content\n\t         *\n\t         * @readOnly\n\t         * @property async\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        async: 2\n\t    };\n\t\n\t    /**\n\t     * An enum represents the orientation of the steps navigation.\n\t     *\n\t     * @class stepsOrientation\n\t     * @for steps\n\t     **/\n\t    var stepsOrientation = $.fn.steps.stepsOrientation = {\n\t        /**\n\t         * Horizontal orientation\n\t         *\n\t         * @readOnly\n\t         * @property horizontal\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        horizontal: 0,\n\t\n\t        /**\n\t         * Vertical orientation\n\t         *\n\t         * @readOnly\n\t         * @property vertical\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        vertical: 1\n\t    };\n\t\n\t    /**\n\t     * An enum that represents the various transition animations.\n\t     *\n\t     * @class transitionEffect\n\t     * @for steps\n\t     **/\n\t    var transitionEffect = $.fn.steps.transitionEffect = {\n\t        /**\n\t         * No transition animation\n\t         *\n\t         * @readOnly\n\t         * @property none\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        none: 0,\n\t\n\t        /**\n\t         * Fade in transition\n\t         *\n\t         * @readOnly\n\t         * @property fade\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        fade: 1,\n\t\n\t        /**\n\t         * Slide up transition\n\t         *\n\t         * @readOnly\n\t         * @property slide\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slide: 2,\n\t\n\t        /**\n\t         * Slide left transition\n\t         *\n\t         * @readOnly\n\t         * @property slideLeft\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slideLeft: 3\n\t    };\n\t\n\t    var stepModel = $.fn.steps.stepModel = {\n\t        title: \"\",\n\t        content: \"\",\n\t        contentUrl: \"\",\n\t        contentMode: contentMode.html,\n\t        contentLoaded: false\n\t    };\n\t\n\t    /**\n\t     * An object that represents the default settings.\n\t     * There are two possibities to override the sub-properties.\n\t     * Either by doing it generally (global) or on initialization.\n\t     *\n\t     * @static\n\t     * @class defaults\n\t     * @for steps\n\t     * @example\n\t     *   // Global approach\n\t     *   $.steps.defaults.headerTag = \"h3\";\n\t     * @example\n\t     *   // Initialization approach\n\t     *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n\t     **/\n\t    var defaults = $.fn.steps.defaults = {\n\t        /**\n\t         * The header tag is used to find the step button text within the declared wizard area.\n\t         *\n\t         * @property headerTag\n\t         * @type String\n\t         * @default \"h1\"\n\t         * @for defaults\n\t         **/\n\t        headerTag: \"h1\",\n\t\n\t        /**\n\t         * The body tag is used to find the step content within the declared wizard area.\n\t         *\n\t         * @property bodyTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        bodyTag: \"div\",\n\t\n\t        /**\n\t         * The content container tag which will be used to wrap all step contents.\n\t         *\n\t         * @property contentContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        contentContainerTag: \"div\",\n\t\n\t        /**\n\t         * The action container tag which will be used to wrap the pagination navigation.\n\t         *\n\t         * @property actionContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        actionContainerTag: \"div\",\n\t\n\t        /**\n\t         * The steps container tag which will be used to wrap the steps navigation.\n\t         *\n\t         * @property stepsContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        stepsContainerTag: \"div\",\n\t\n\t        /**\n\t         * The css class which will be added to the outer component wrapper.\n\t         *\n\t         * @property cssClass\n\t         * @type String\n\t         * @default \"wizard\"\n\t         * @for defaults\n\t         * @example\n\t         *     <div class=\"wizard\">\n\t         *         ...\n\t         *     </div>\n\t         **/\n\t        cssClass: \"wizard\",\n\t\n\t        /**\n\t         * The css class which will be used for floating scenarios.\n\t         *\n\t         * @property clearFixCssClass\n\t         * @type String\n\t         * @default \"clearfix\"\n\t         * @for defaults\n\t         **/\n\t        clearFixCssClass: \"clearfix\",\n\t\n\t        /**\n\t         * Determines whether the steps are vertically or horizontally oriented.\n\t         *\n\t         * @property stepsOrientation\n\t         * @type stepsOrientation\n\t         * @default horizontal\n\t         * @for defaults\n\t         * @since 1.0.0\n\t         **/\n\t        stepsOrientation: stepsOrientation.horizontal,\n\t\n\t        /*\n\t         * Tempplates\n\t         */\n\t\n\t        /**\n\t         * The title template which will be used to create a step button.\n\t         *\n\t         * @property titleTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n\t         * @for defaults\n\t         **/\n\t        titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\t\n\t        /**\n\t         * The loading template which will be used to create the loading animation.\n\t         *\n\t         * @property loadingTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n\t         * @for defaults\n\t         **/\n\t        loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\t\n\t        /*\n\t         * Behaviour\n\t         */\n\t\n\t        /**\n\t         * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n\t         *\n\t         * @property autoFocus\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         * @since 0.9.4\n\t         **/\n\t        autoFocus: false,\n\t\n\t        /**\n\t         * Enables all steps from the begining if `true` (all steps are clickable).\n\t         *\n\t         * @property enableAllSteps\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableAllSteps: false,\n\t\n\t        /**\n\t         * Enables keyboard navigation if `true` (arrow left and arrow right).\n\t         *\n\t         * @property enableKeyNavigation\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableKeyNavigation: true,\n\t\n\t        /**\n\t         * Enables pagination if `true`.\n\t         *\n\t         * @property enablePagination\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enablePagination: true,\n\t\n\t        /**\n\t         * Suppresses pagination if a form field is focused.\n\t         *\n\t         * @property suppressPaginationOnFocus\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        suppressPaginationOnFocus: true,\n\t\n\t        /**\n\t         * Enables cache for async loaded or iframe embedded content.\n\t         *\n\t         * @property enableContentCache\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableContentCache: true,\n\t\n\t        /**\n\t         * Shows the cancel button if enabled.\n\t         *\n\t         * @property enableCancelButton\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableCancelButton: false,\n\t\n\t        /**\n\t         * Shows the finish button if enabled.\n\t         *\n\t         * @property enableFinishButton\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableFinishButton: true,\n\t\n\t        /**\n\t         * Not yet implemented.\n\t         *\n\t         * @property preloadContent\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        preloadContent: false,\n\t\n\t        /**\n\t         * Shows the finish button always (on each step; right beside the next button) if `true`.\n\t         * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n\t         *\n\t         * @property showFinishButtonAlways\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        showFinishButtonAlways: false,\n\t\n\t        /**\n\t         * Prevents jumping to a previous step.\n\t         *\n\t         * @property forceMoveForward\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        forceMoveForward: false,\n\t\n\t        /**\n\t         * Saves the current state (step position) to a cookie.\n\t         * By coming next time the last active step becomes activated.\n\t         *\n\t         * @property saveState\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        saveState: false,\n\t\n\t        /**\n\t         * The position to start on (zero-based).\n\t         *\n\t         * @property startIndex\n\t         * @type Integer\n\t         * @default 0\n\t         * @for defaults\n\t         **/\n\t        startIndex: 0,\n\t\n\t        /*\n\t         * Animation Effect Configuration\n\t         */\n\t\n\t        /**\n\t         * The animation effect which will be used for step transitions.\n\t         *\n\t         * @property transitionEffect\n\t         * @type transitionEffect\n\t         * @default none\n\t         * @for defaults\n\t         **/\n\t        transitionEffect: transitionEffect.none,\n\t\n\t        /**\n\t         * Animation speed for step transitions (in milliseconds).\n\t         *\n\t         * @property transitionEffectSpeed\n\t         * @type Integer\n\t         * @default 200\n\t         * @for defaults\n\t         **/\n\t        transitionEffectSpeed: 200,\n\t\n\t        /*\n\t         * Events\n\t         */\n\t\n\t        /**\n\t         * Fires before the step changes and can be used to prevent step changing by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onStepChanging\n\t         * @type Event\n\t         * @default function (event, currentIndex, newIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after the step has change.\n\t         *\n\t         * @property onStepChanged\n\t         * @type Event\n\t         * @default function (event, currentIndex, priorIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onStepChanged: function onStepChanged(event, currentIndex, priorIndex) {},\n\t\n\t        /**\n\t         * Fires after cancelation.\n\t         *\n\t         * @property onCanceled\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onCanceled: function onCanceled(event) {},\n\t\n\t        /**\n\t         * Fires before finishing and can be used to prevent completion by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onFinishing\n\t         * @type Event\n\t         * @default function (event, currentIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onFinishing: function onFinishing(event, currentIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after completion.\n\t         *\n\t         * @property onFinished\n\t         * @type Event\n\t         * @default function (event, currentIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onFinished: function onFinished(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires after async content is loaded.\n\t         *\n\t         * @property onContentLoaded\n\t         * @type Event\n\t         * @default function (event, index) { }\n\t         * @for defaults\n\t         **/\n\t        onContentLoaded: function onContentLoaded(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires when the wizard is initialized.\n\t         *\n\t         * @property onInit\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onInit: function onInit(event, currentIndex) {},\n\t\n\t        /**\n\t         * Contains all labels.\n\t         *\n\t         * @property labels\n\t         * @type Object\n\t         * @for defaults\n\t         **/\n\t        labels: {\n\t            /**\n\t             * Label for the cancel button.\n\t             *\n\t             * @property cancel\n\t             * @type String\n\t             * @default \"Cancel\"\n\t             * @for defaults\n\t             **/\n\t            cancel: \"Cancel\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons.\n\t             * Indicates which step is activated.\n\t             *\n\t             * @property current\n\t             * @type String\n\t             * @default \"current step:\"\n\t             * @for defaults\n\t             **/\n\t            current: \"current step:\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons and describes the kind of navigation.\n\t             *\n\t             * @property pagination\n\t             * @type String\n\t             * @default \"Pagination\"\n\t             * @for defaults\n\t             * @since 0.9.7\n\t             **/\n\t            pagination: \"Pagination\",\n\t\n\t            /**\n\t             * Label for the finish button.\n\t             *\n\t             * @property finish\n\t             * @type String\n\t             * @default \"Finish\"\n\t             * @for defaults\n\t             **/\n\t            finish: \"Finish\",\n\t\n\t            /**\n\t             * Label for the next button.\n\t             *\n\t             * @property next\n\t             * @type String\n\t             * @default \"Next\"\n\t             * @for defaults\n\t             **/\n\t            next: \"Next\",\n\t\n\t            /**\n\t             * Label for the previous button.\n\t             *\n\t             * @property previous\n\t             * @type String\n\t             * @default \"Previous\"\n\t             * @for defaults\n\t             **/\n\t            previous: \"Previous\",\n\t\n\t            /**\n\t             * Label for the loading animation.\n\t             *\n\t             * @property loading\n\t             * @type String\n\t             * @default \"Loading ...\"\n\t             * @for defaults\n\t             **/\n\t            loading: \"Loading ...\"\n\t        }\n\t    };\n\t})(jQuery);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * jQuery Validation Plugin v1.15.0\n\t *\n\t * http://jqueryvalidation.org/\n\t *\n\t * Copyright (c) 2016 Jrn Zaefferer\n\t * Released under the MIT license\n\t */\n\t\"use strict\";\n\t\n\t(function (factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof module === \"object\" && module.exports) {\n\t\t\tmodule.exports = factory(require(\"jquery\"));\n\t\t} else {\n\t\t\tfactory(jQuery);\n\t\t}\n\t})(function ($) {\n\t\n\t\t$.extend($.fn, {\n\t\n\t\t\t// http://jqueryvalidation.org/validate/\n\t\t\tvalidate: function validate(options) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\tif (options && options.debug && window.console) {\n\t\t\t\t\t\tconsole.warn(\"Nothing selected, can't validate, returning nothing.\");\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// Check if a validator for this form was already created\n\t\t\t\tvar validator = $.data(this[0], \"validator\");\n\t\t\t\tif (validator) {\n\t\t\t\t\treturn validator;\n\t\t\t\t}\n\t\n\t\t\t\t// Add novalidate tag if HTML5.\n\t\t\t\tthis.attr(\"novalidate\", \"novalidate\");\n\t\n\t\t\t\tvalidator = new $.validator(options, this[0]);\n\t\t\t\t$.data(this[0], \"validator\", validator);\n\t\n\t\t\t\tif (validator.settings.onsubmit) {\n\t\n\t\t\t\t\tthis.on(\"click.validate\", \":submit\", function (event) {\n\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\t\t\tif ($(this).hasClass(\"cancel\")) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\t\t\tif ($(this).attr(\"formnovalidate\") !== undefined) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// Validate the form on submit\n\t\t\t\t\tthis.on(\"submit.validate\", function (event) {\n\t\t\t\t\t\tif (validator.settings.debug) {\n\t\n\t\t\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfunction handle() {\n\t\t\t\t\t\t\tvar hidden, result;\n\t\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\t\t\thidden = $(\"<input type='hidden'/>\").attr(\"name\", validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresult = validator.settings.submitHandler.call(validator, validator.currentForm, event);\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (result !== undefined) {\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\t\t\tif (validator.cancelSubmit) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (validator.form()) {\n\t\t\t\t\t\t\tif (validator.pendingRequest) {\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\treturn validator;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/valid/\n\t\t\tvalid: function valid() {\n\t\t\t\tvar valid, validator, errorList;\n\t\n\t\t\t\tif ($(this[0]).is(\"form\")) {\n\t\t\t\t\tvalid = this.validate().form();\n\t\t\t\t} else {\n\t\t\t\t\terrorList = [];\n\t\t\t\t\tvalid = true;\n\t\t\t\t\tvalidator = $(this[0].form).validate();\n\t\t\t\t\tthis.each(function () {\n\t\t\t\t\t\tvalid = validator.element(this) && valid;\n\t\t\t\t\t\tif (!valid) {\n\t\t\t\t\t\t\terrorList = errorList.concat(validator.errorList);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvalidator.errorList = errorList;\n\t\t\t\t}\n\t\t\t\treturn valid;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/rules/\n\t\t\trules: function rules(command, argument) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar element = this[0],\n\t\t\t\t    settings,\n\t\t\t\t    staticRules,\n\t\t\t\t    existingRules,\n\t\t\t\t    data,\n\t\t\t\t    param,\n\t\t\t\t    filtered;\n\t\n\t\t\t\tif (command) {\n\t\t\t\t\tsettings = $.data(element.form, \"validator\").settings;\n\t\t\t\t\tstaticRules = settings.rules;\n\t\t\t\t\texistingRules = $.validator.staticRules(element);\n\t\t\t\t\tswitch (command) {\n\t\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\t\t$.extend(existingRules, $.validator.normalizeRule(argument));\n\t\n\t\t\t\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\t\t\t\tdelete existingRules.messages;\n\t\t\t\t\t\t\tstaticRules[element.name] = existingRules;\n\t\t\t\t\t\t\tif (argument.messages) {\n\t\t\t\t\t\t\t\tsettings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"remove\":\n\t\t\t\t\t\t\tif (!argument) {\n\t\t\t\t\t\t\t\tdelete staticRules[element.name];\n\t\t\t\t\t\t\t\treturn existingRules;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfiltered = {};\n\t\t\t\t\t\t\t$.each(argument.split(/\\s/), function (index, method) {\n\t\t\t\t\t\t\t\tfiltered[method] = existingRules[method];\n\t\t\t\t\t\t\t\tdelete existingRules[method];\n\t\t\t\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\t\t\t\t$(element).removeAttr(\"aria-required\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn filtered;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tdata = $.validator.normalizeRules($.extend({}, $.validator.classRules(element), $.validator.attributeRules(element), $.validator.dataRules(element), $.validator.staticRules(element)), element);\n\t\n\t\t\t\t// Make sure required is at front\n\t\t\t\tif (data.required) {\n\t\t\t\t\tparam = data.required;\n\t\t\t\t\tdelete data.required;\n\t\t\t\t\tdata = $.extend({ required: param }, data);\n\t\t\t\t\t$(element).attr(\"aria-required\", \"true\");\n\t\t\t\t}\n\t\n\t\t\t\t// Make sure remote is at back\n\t\t\t\tif (data.remote) {\n\t\t\t\t\tparam = data.remote;\n\t\t\t\t\tdelete data.remote;\n\t\t\t\t\tdata = $.extend(data, { remote: param });\n\t\t\t\t}\n\t\n\t\t\t\treturn data;\n\t\t\t}\n\t\t});\n\t\n\t\t// Custom selectors\n\t\t$.extend($.expr[\":\"], {\n\t\n\t\t\t// http://jqueryvalidation.org/blank-selector/\n\t\t\tblank: function blank(a) {\n\t\t\t\treturn !$.trim(\"\" + $(a).val());\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/filled-selector/\n\t\t\tfilled: function filled(a) {\n\t\t\t\tvar val = $(a).val();\n\t\t\t\treturn val !== null && !!$.trim(\"\" + val);\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/unchecked-selector/\n\t\t\tunchecked: function unchecked(a) {\n\t\t\t\treturn !$(a).prop(\"checked\");\n\t\t\t}\n\t\t});\n\t\n\t\t// Constructor for validator\n\t\t$.validator = function (options, form) {\n\t\t\tthis.settings = $.extend(true, {}, $.validator.defaults, options);\n\t\t\tthis.currentForm = form;\n\t\t\tthis.init();\n\t\t};\n\t\n\t\t// http://jqueryvalidation.org/jQuery.validator.format/\n\t\t$.validator.format = function (source, params) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\targs.unshift(source);\n\t\t\t\t\treturn $.validator.format.apply(this, args);\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\treturn source;\n\t\t\t}\n\t\t\tif (arguments.length > 2 && params.constructor !== Array) {\n\t\t\t\tparams = $.makeArray(arguments).slice(1);\n\t\t\t}\n\t\t\tif (params.constructor !== Array) {\n\t\t\t\tparams = [params];\n\t\t\t}\n\t\t\t$.each(params, function (i, n) {\n\t\t\t\tsource = source.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), function () {\n\t\t\t\t\treturn n;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn source;\n\t\t};\n\t\n\t\t$.extend($.validator, {\n\t\n\t\t\tdefaults: {\n\t\t\t\tmessages: {},\n\t\t\t\tgroups: {},\n\t\t\t\trules: {},\n\t\t\t\terrorClass: \"error\",\n\t\t\t\tpendingClass: \"pending\",\n\t\t\t\tvalidClass: \"valid\",\n\t\t\t\terrorElement: \"label\",\n\t\t\t\tfocusCleanup: false,\n\t\t\t\tfocusInvalid: true,\n\t\t\t\terrorContainer: $([]),\n\t\t\t\terrorLabelContainer: $([]),\n\t\t\t\tonsubmit: true,\n\t\t\t\tignore: \":hidden\",\n\t\t\t\tignoreTitle: false,\n\t\t\t\tonfocusin: function onfocusin(element) {\n\t\t\t\t\tthis.lastActive = element;\n\t\n\t\t\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\t\t\tif (this.settings.focusCleanup) {\n\t\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hideThese(this.errorsFor(element));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonfocusout: function onfocusout(element) {\n\t\t\t\t\tif (!this.checkable(element) && (element.name in this.submitted || !this.optional(element))) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonkeyup: function onkeyup(element, event) {\n\t\n\t\t\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t\t\t// Shift       => 16\n\t\t\t\t\t// Ctrl        => 17\n\t\t\t\t\t// Alt         => 18\n\t\t\t\t\t// Caps lock   => 20\n\t\t\t\t\t// End         => 35\n\t\t\t\t\t// Home        => 36\n\t\t\t\t\t// Left arrow  => 37\n\t\t\t\t\t// Up arrow    => 38\n\t\t\t\t\t// Right arrow => 39\n\t\t\t\t\t// Down arrow  => 40\n\t\t\t\t\t// Insert      => 45\n\t\t\t\t\t// Num lock    => 144\n\t\t\t\t\t// AltGr key   => 225\n\t\t\t\t\tvar excludedKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n\t\n\t\t\t\t\tif (event.which === 9 && this.elementValue(element) === \"\" || $.inArray(event.keyCode, excludedKeys) !== -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (element.name in this.submitted || element.name in this.invalid) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonclick: function onclick(element) {\n\t\n\t\t\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\t\t\tif (element.name in this.submitted) {\n\t\t\t\t\t\tthis.element(element);\n\t\n\t\t\t\t\t\t// Or option elements, check parent select in that case\n\t\t\t\t\t} else if (element.parentNode.name in this.submitted) {\n\t\t\t\t\t\t\tthis.element(element.parentNode);\n\t\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thighlight: function highlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tunhighlight: function unhighlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\t\t\tsetDefaults: function setDefaults(settings) {\n\t\t\t\t$.extend($.validator.defaults, settings);\n\t\t\t},\n\t\n\t\t\tmessages: {\n\t\t\t\trequired: \"This field is required.\",\n\t\t\t\tremote: \"Please fix this field.\",\n\t\t\t\temail: \"Please enter a valid email address.\",\n\t\t\t\turl: \"Please enter a valid URL.\",\n\t\t\t\tdate: \"Please enter a valid date.\",\n\t\t\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\t\t\tnumber: \"Please enter a valid number.\",\n\t\t\t\tdigits: \"Please enter only digits.\",\n\t\t\t\tequalTo: \"Please enter the same value again.\",\n\t\t\t\tmaxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\n\t\t\t\tminlength: $.validator.format(\"Please enter at least {0} characters.\"),\n\t\t\t\trangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n\t\t\t\trange: $.validator.format(\"Please enter a value between {0} and {1}.\"),\n\t\t\t\tmax: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\n\t\t\t\tmin: $.validator.format(\"Please enter a value greater than or equal to {0}.\"),\n\t\t\t\tstep: $.validator.format(\"Please enter a multiple of {0}.\")\n\t\t\t},\n\t\n\t\t\tautoCreateRanges: false,\n\t\n\t\t\tprototype: {\n\t\n\t\t\t\tinit: function init() {\n\t\t\t\t\tthis.labelContainer = $(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\n\t\t\t\t\tthis.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.valueCache = {};\n\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\tthis.pending = {};\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.reset();\n\t\n\t\t\t\t\tvar groups = this.groups = {},\n\t\t\t\t\t    rules;\n\t\t\t\t\t$.each(this.settings.groups, function (key, value) {\n\t\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\t\tvalue = value.split(/\\s/);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(value, function (index, name) {\n\t\t\t\t\t\t\tgroups[name] = key;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\trules = this.settings.rules;\n\t\t\t\t\t$.each(rules, function (key, value) {\n\t\t\t\t\t\trules[key] = $.validator.normalizeRule(value);\n\t\t\t\t\t});\n\t\n\t\t\t\t\tfunction delegate(event) {\n\t\t\t\t\t\tvar validator = $.data(this.form, \"validator\"),\n\t\t\t\t\t\t    eventType = \"on\" + event.type.replace(/^validate/, \"\"),\n\t\t\t\t\t\t    settings = validator.settings;\n\t\t\t\t\t\tif (settings[eventType] && !$(this).is(settings.ignore)) {\n\t\t\t\t\t\t\tsettings[eventType].call(validator, this, event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$(this.currentForm).on(\"focusin.validate focusout.validate keyup.validate\", \":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" + \"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" + \"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" + \"[type='radio'], [type='checkbox'], [contenteditable]\", delegate)\n\t\n\t\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t\t.on(\"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate);\n\t\n\t\t\t\t\tif (this.settings.invalidHandler) {\n\t\t\t\t\t\t$(this.currentForm).on(\"invalid-form.validate\", this.settings.invalidHandler);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t\t\t$(this.currentForm).find(\"[required], [data-rule-required], .required\").attr(\"aria-required\", \"true\");\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.form/\n\t\t\t\tform: function form() {\n\t\t\t\t\tthis.checkForm();\n\t\t\t\t\t$.extend(this.submitted, this.errorMap);\n\t\t\t\t\tthis.invalid = $.extend({}, this.errorMap);\n\t\t\t\t\tif (!this.valid()) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.showErrors();\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\tcheckForm: function checkForm() {\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tfor (var i = 0, elements = this.currentElements = this.elements(); elements[i]; i++) {\n\t\t\t\t\t\tthis.check(elements[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.element/\n\t\t\t\telement: function element(_element) {\n\t\t\t\t\tvar cleanElement = this.clean(_element),\n\t\t\t\t\t    checkElement = this.validationTargetFor(cleanElement),\n\t\t\t\t\t    v = this,\n\t\t\t\t\t    result = true,\n\t\t\t\t\t    rs,\n\t\t\t\t\t    group;\n\t\n\t\t\t\t\tif (checkElement === undefined) {\n\t\t\t\t\t\tdelete this.invalid[cleanElement.name];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.prepareElement(checkElement);\n\t\t\t\t\t\tthis.currentElements = $(checkElement);\n\t\n\t\t\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t\t\t// containing a value\n\t\t\t\t\t\tgroup = this.groups[checkElement.name];\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t$.each(this.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\tif (testgroup === group && name !== checkElement.name) {\n\t\t\t\t\t\t\t\t\tcleanElement = v.validationTargetFor(v.clean(v.findByName(name)));\n\t\t\t\t\t\t\t\t\tif (cleanElement && cleanElement.name in v.invalid) {\n\t\t\t\t\t\t\t\t\t\tv.currentElements.push(cleanElement);\n\t\t\t\t\t\t\t\t\t\tresult = result && v.check(cleanElement);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trs = this.check(checkElement) !== false;\n\t\t\t\t\t\tresult = result && rs;\n\t\t\t\t\t\tif (rs) {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!this.numberOfInvalids()) {\n\t\n\t\t\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\t\t\tthis.toHide = this.toHide.add(this.containers);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showErrors();\n\t\n\t\t\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t\t\t$(_element).attr(\"aria-invalid\", !rs);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\t\t\tshowErrors: function showErrors(errors) {\n\t\t\t\t\tif (errors) {\n\t\t\t\t\t\tvar validator = this;\n\t\n\t\t\t\t\t\t// Add items to error list and map\n\t\t\t\t\t\t$.extend(this.errorMap, errors);\n\t\t\t\t\t\tthis.errorList = $.map(this.errorMap, function (message, name) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\t\t\telement: validator.findByName(name)[0]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t// Remove items from success list\n\t\t\t\t\t\tthis.successList = $.grep(this.successList, function (element) {\n\t\t\t\t\t\t\treturn !(element.name in errors);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.showErrors) {\n\t\t\t\t\t\tthis.settings.showErrors.call(this, this.errorMap, this.errorList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.defaultShowErrors();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\t\t\tresetForm: function resetForm() {\n\t\t\t\t\tif ($.fn.resetForm) {\n\t\t\t\t\t\t$(this.currentForm).resetForm();\n\t\t\t\t\t}\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tvar elements = this.elements().removeData(\"previousValue\").removeAttr(\"aria-invalid\");\n\t\n\t\t\t\t\tthis.resetElements(elements);\n\t\t\t\t},\n\t\n\t\t\t\tresetElements: function resetElements(elements) {\n\t\t\t\t\tvar i;\n\t\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0; elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, \"\");\n\t\t\t\t\t\t\tthis.findByName(elements[i].name).removeClass(this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\telements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tnumberOfInvalids: function numberOfInvalids() {\n\t\t\t\t\treturn this.objectLength(this.invalid);\n\t\t\t\t},\n\t\n\t\t\t\tobjectLength: function objectLength(obj) {\n\t\t\t\t\t/* jshint unused: false */\n\t\t\t\t\tvar count = 0,\n\t\t\t\t\t    i;\n\t\t\t\t\tfor (i in obj) {\n\t\t\t\t\t\tif (obj[i]) {\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn count;\n\t\t\t\t},\n\t\n\t\t\t\thideErrors: function hideErrors() {\n\t\t\t\t\tthis.hideThese(this.toHide);\n\t\t\t\t},\n\t\n\t\t\t\thideThese: function hideThese(errors) {\n\t\t\t\t\terrors.not(this.containers).text(\"\");\n\t\t\t\t\tthis.addWrapper(errors).hide();\n\t\t\t\t},\n\t\n\t\t\t\tvalid: function valid() {\n\t\t\t\t\treturn this.size() === 0;\n\t\t\t\t},\n\t\n\t\t\t\tsize: function size() {\n\t\t\t\t\treturn this.errorList.length;\n\t\t\t\t},\n\t\n\t\t\t\tfocusInvalid: function focusInvalid() {\n\t\t\t\t\tif (this.settings.focusInvalid) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(\":visible\").focus()\n\t\n\t\t\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t\t\t.trigger(\"focusin\");\n\t\t\t\t\t\t} catch (e) {\n\t\n\t\t\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tfindLastActive: function findLastActive() {\n\t\t\t\t\tvar lastActive = this.lastActive;\n\t\t\t\t\treturn lastActive && $.grep(this.errorList, function (n) {\n\t\t\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t\t\t}).length === 1 && lastActive;\n\t\t\t\t},\n\t\n\t\t\t\telements: function elements() {\n\t\t\t\t\tvar validator = this,\n\t\t\t\t\t    rulesCache = {};\n\t\n\t\t\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\t\t\treturn $(this.currentForm).find(\"input, select, textarea, [contenteditable]\").not(\":submit, :reset, :image, :disabled\").not(this.settings.ignore).filter(function () {\n\t\t\t\t\t\tvar name = this.name || $(this).attr(\"name\"); // For contenteditable\n\t\t\t\t\t\tif (!name && validator.settings.debug && window.console) {\n\t\t\t\t\t\t\tconsole.error(\"%o has no name assigned\", this);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Set form expando on contenteditable\n\t\t\t\t\t\tif (this.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\t\tthis.form = $(this).closest(\"form\")[0];\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\t\t\tif (name in rulesCache || !validator.objectLength($(this).rules())) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trulesCache[name] = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tclean: function clean(selector) {\n\t\t\t\t\treturn $(selector)[0];\n\t\t\t\t},\n\t\n\t\t\t\terrors: function errors() {\n\t\t\t\t\tvar errorClass = this.settings.errorClass.split(\" \").join(\".\");\n\t\t\t\t\treturn $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\n\t\t\t\t},\n\t\n\t\t\t\tresetInternals: function resetInternals() {\n\t\t\t\t\tthis.successList = [];\n\t\t\t\t\tthis.errorList = [];\n\t\t\t\t\tthis.errorMap = {};\n\t\t\t\t\tthis.toShow = $([]);\n\t\t\t\t\tthis.toHide = $([]);\n\t\t\t\t},\n\t\n\t\t\t\treset: function reset() {\n\t\t\t\t\tthis.resetInternals();\n\t\t\t\t\tthis.currentElements = $([]);\n\t\t\t\t},\n\t\n\t\t\t\tprepareForm: function prepareForm() {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errors().add(this.containers);\n\t\t\t\t},\n\t\n\t\t\t\tprepareElement: function prepareElement(element) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errorsFor(element);\n\t\t\t\t},\n\t\n\t\t\t\telementValue: function elementValue(element) {\n\t\t\t\t\tvar $element = $(element),\n\t\t\t\t\t    type = element.type,\n\t\t\t\t\t    val,\n\t\t\t\t\t    idx;\n\t\n\t\t\t\t\tif (type === \"radio\" || type === \"checkbox\") {\n\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").val();\n\t\t\t\t\t} else if (type === \"number\" && typeof element.validity !== \"undefined\") {\n\t\t\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (element.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\tval = $element.text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (type === \"file\") {\n\t\n\t\t\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\t\t\tif (val.substr(0, 12) === \"C:\\\\fakepath\\\\\") {\n\t\t\t\t\t\t\treturn val.substr(12);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Legacy browsers\n\t\t\t\t\t\t// Unix-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"/\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Windows-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"\\\\\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Just the file name\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (typeof val === \"string\") {\n\t\t\t\t\t\treturn val.replace(/\\r/g, \"\");\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\t\n\t\t\t\tcheck: function check(element) {\n\t\t\t\t\telement = this.validationTargetFor(this.clean(element));\n\t\n\t\t\t\t\tvar rules = $(element).rules(),\n\t\t\t\t\t    rulesCount = $.map(rules, function (n, i) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}).length,\n\t\t\t\t\t    dependencyMismatch = false,\n\t\t\t\t\t    val = this.elementValue(element),\n\t\t\t\t\t    result,\n\t\t\t\t\t    method,\n\t\t\t\t\t    rule;\n\t\n\t\t\t\t\t// If a normalizer is defined for this element, then\n\t\t\t\t\t// call it to retreive the changed value instead\n\t\t\t\t\t// of using the real one.\n\t\t\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\t\t\tif (typeof rules.normalizer === \"function\") {\n\t\t\t\t\t\tval = rules.normalizer.call(element, val);\n\t\n\t\t\t\t\t\tif (typeof val !== \"string\") {\n\t\t\t\t\t\t\tthrow new TypeError(\"The normalizer should return a string value.\");\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t\t\t// it as a pre-defined method.\n\t\t\t\t\t\tdelete rules.normalizer;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor (method in rules) {\n\t\t\t\t\t\trule = { method: method, parameters: rules[method] };\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresult = $.validator.methods[method].call(this, val, element, rule.parameters);\n\t\n\t\t\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\t\t\tif (result === \"dependency-mismatch\" && rulesCount === 1) {\n\t\t\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdependencyMismatch = false;\n\t\n\t\t\t\t\t\t\tif (result === \"pending\") {\n\t\t\t\t\t\t\t\tthis.toHide = this.toHide.not(this.errorsFor(element));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\t\tthis.formatAndAdd(element, rule);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif (this.settings.debug && window.console) {\n\t\t\t\t\t\t\t\tconsole.log(\"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e instanceof TypeError) {\n\t\t\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (dependencyMismatch) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.objectLength(rules)) {\n\t\t\t\t\t\tthis.successList.push(element);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element and validation method\n\t\t\t\t// specified in the element's HTML5 data attribute\n\t\t\t\t// return the generic message if present and no method specific message is present\n\t\t\t\tcustomDataMessage: function customDataMessage(element, method) {\n\t\t\t\t\treturn $(element).data(\"msg\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase()) || $(element).data(\"msg\");\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element name and validation method\n\t\t\t\tcustomMessage: function customMessage(name, method) {\n\t\t\t\t\tvar m = this.settings.messages[name];\n\t\t\t\t\treturn m && (m.constructor === String ? m : m[method]);\n\t\t\t\t},\n\t\n\t\t\t\t// Return the first defined argument, allowing empty strings\n\t\t\t\tfindDefined: function findDefined() {\n\t\t\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\t\t\tif (arguments[i] !== undefined) {\n\t\t\t\t\t\t\treturn arguments[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultMessage: function defaultMessage(element, rule) {\n\t\t\t\t\tvar message = this.findDefined(this.customMessage(element.name, rule.method), this.customDataMessage(element, rule.method),\n\t\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined, $.validator.messages[rule.method], \"<strong>Warning: No message defined for \" + element.name + \"</strong>\"),\n\t\t\t\t\t    theregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\t\t\tif (typeof message === \"function\") {\n\t\t\t\t\t\tmessage = message.call(this, rule.parameters, element);\n\t\t\t\t\t} else if (theregex.test(message)) {\n\t\t\t\t\t\tmessage = $.validator.format(message.replace(theregex, \"{$1}\"), rule.parameters);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn message;\n\t\t\t\t},\n\t\n\t\t\t\tformatAndAdd: function formatAndAdd(element, rule) {\n\t\t\t\t\tvar message = this.defaultMessage(element, rule);\n\t\n\t\t\t\t\tthis.errorList.push({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: element,\n\t\t\t\t\t\tmethod: rule.method\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.errorMap[element.name] = message;\n\t\t\t\t\tthis.submitted[element.name] = message;\n\t\t\t\t},\n\t\n\t\t\t\taddWrapper: function addWrapper(toToggle) {\n\t\t\t\t\tif (this.settings.wrapper) {\n\t\t\t\t\t\ttoToggle = toToggle.add(toToggle.parent(this.settings.wrapper));\n\t\t\t\t\t}\n\t\t\t\t\treturn toToggle;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultShowErrors: function defaultShowErrors() {\n\t\t\t\t\tvar i, elements, error;\n\t\t\t\t\tfor (i = 0; this.errorList[i]; i++) {\n\t\t\t\t\t\terror = this.errorList[i];\n\t\t\t\t\t\tif (this.settings.highlight) {\n\t\t\t\t\t\t\tthis.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showLabel(error.element, error.message);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.errorList.length) {\n\t\t\t\t\t\tthis.toShow = this.toShow.add(this.containers);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.success) {\n\t\t\t\t\t\tfor (i = 0; this.successList[i]; i++) {\n\t\t\t\t\t\t\tthis.showLabel(this.successList[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0, elements = this.validElements(); elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toHide = this.toHide.not(this.toShow);\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tthis.addWrapper(this.toShow).show();\n\t\t\t\t},\n\t\n\t\t\t\tvalidElements: function validElements() {\n\t\t\t\t\treturn this.currentElements.not(this.invalidElements());\n\t\t\t\t},\n\t\n\t\t\t\tinvalidElements: function invalidElements() {\n\t\t\t\t\treturn $(this.errorList).map(function () {\n\t\t\t\t\t\treturn this.element;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tshowLabel: function showLabel(element, message) {\n\t\t\t\t\tvar place,\n\t\t\t\t\t    group,\n\t\t\t\t\t    errorID,\n\t\t\t\t\t    v,\n\t\t\t\t\t    error = this.errorsFor(element),\n\t\t\t\t\t    elementID = this.idOrName(element),\n\t\t\t\t\t    describedBy = $(element).attr(\"aria-describedby\");\n\t\n\t\t\t\t\tif (error.length) {\n\t\n\t\t\t\t\t\t// Refresh error/success class\n\t\t\t\t\t\terror.removeClass(this.settings.validClass).addClass(this.settings.errorClass);\n\t\n\t\t\t\t\t\t// Replace message on existing label\n\t\t\t\t\t\terror.html(message);\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t// Create error element\n\t\t\t\t\t\terror = $(\"<\" + this.settings.errorElement + \">\").attr(\"id\", elementID + \"-error\").addClass(this.settings.errorClass).html(message || \"\");\n\t\n\t\t\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\t\t\tplace = error;\n\t\t\t\t\t\tif (this.settings.wrapper) {\n\t\n\t\t\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\t\t\tplace = error.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.labelContainer.length) {\n\t\t\t\t\t\t\tthis.labelContainer.append(place);\n\t\t\t\t\t\t} else if (this.settings.errorPlacement) {\n\t\t\t\t\t\t\tthis.settings.errorPlacement(place, $(element));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplace.insertAfter(element);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Link error back to the element\n\t\t\t\t\t\tif (error.is(\"label\")) {\n\t\n\t\t\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\t\t\terror.attr(\"for\", elementID);\n\t\n\t\t\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t\t\t} else if (error.parents(\"label[for='\" + this.escapeCssMeta(elementID) + \"']\").length === 0) {\n\t\t\t\t\t\t\t\terrorID = error.attr(\"id\");\n\t\n\t\t\t\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\t\t\t\tif (!describedBy) {\n\t\t\t\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t\t\t\t} else if (!describedBy.match(new RegExp(\"\\\\b\" + this.escapeCssMeta(errorID) + \"\\\\b\"))) {\n\t\n\t\t\t\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$(element).attr(\"aria-describedby\", describedBy);\n\t\n\t\t\t\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\t\t\t\tgroup = this.groups[element.name];\n\t\t\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t\t\t\t$.each(v.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\t\t\tif (testgroup === group) {\n\t\t\t\t\t\t\t\t\t\t\t$(\"[name='\" + v.escapeCssMeta(name) + \"']\", v.currentForm).attr(\"aria-describedby\", error.attr(\"id\"));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!message && this.settings.success) {\n\t\t\t\t\t\terror.text(\"\");\n\t\t\t\t\t\tif (typeof this.settings.success === \"string\") {\n\t\t\t\t\t\t\terror.addClass(this.settings.success);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.settings.success(error, element);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toShow = this.toShow.add(error);\n\t\t\t\t},\n\t\n\t\t\t\terrorsFor: function errorsFor(element) {\n\t\t\t\t\tvar name = this.escapeCssMeta(this.idOrName(element)),\n\t\t\t\t\t    describer = $(element).attr(\"aria-describedby\"),\n\t\t\t\t\t    selector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\t\n\t\t\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\t\t\tif (describer) {\n\t\t\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta(describer).replace(/\\s+/g, \", #\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn this.errors().filter(selector);\n\t\t\t\t},\n\t\n\t\t\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t\t\t// as a literal part of a name/id or any selector.\n\t\t\t\tescapeCssMeta: function escapeCssMeta(string) {\n\t\t\t\t\treturn string.replace(/([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\");\n\t\t\t\t},\n\t\n\t\t\t\tidOrName: function idOrName(element) {\n\t\t\t\t\treturn this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\n\t\t\t\t},\n\t\n\t\t\t\tvalidationTargetFor: function validationTargetFor(element) {\n\t\n\t\t\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\telement = this.findByName(element.name);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Always apply ignore filter\n\t\t\t\t\treturn $(element).not(this.settings.ignore)[0];\n\t\t\t\t},\n\t\n\t\t\t\tcheckable: function checkable(element) {\n\t\t\t\t\treturn (/radio|checkbox/i.test(element.type)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\n\t\t\t\tfindByName: function findByName(name) {\n\t\t\t\t\treturn $(this.currentForm).find(\"[name='\" + this.escapeCssMeta(name) + \"']\");\n\t\t\t\t},\n\t\n\t\t\t\tgetLength: function getLength(value, element) {\n\t\t\t\t\tswitch (element.nodeName.toLowerCase()) {\n\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\treturn $(\"option:selected\", element).length;\n\t\t\t\t\t\tcase \"input\":\n\t\t\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length;\n\t\t\t\t},\n\t\n\t\t\t\tdepend: function depend(param, element) {\n\t\t\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\n\t\t\t\t},\n\t\n\t\t\t\tdependTypes: {\n\t\t\t\t\t\"boolean\": function boolean(param) {\n\t\t\t\t\t\treturn param;\n\t\t\t\t\t},\n\t\t\t\t\t\"string\": function string(param, element) {\n\t\t\t\t\t\treturn !!$(param, element.form).length;\n\t\t\t\t\t},\n\t\t\t\t\t\"function\": function _function(param, element) {\n\t\t\t\t\t\treturn param(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\toptional: function optional(element) {\n\t\t\t\t\tvar val = this.elementValue(element);\n\t\t\t\t\treturn !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\n\t\t\t\t},\n\t\n\t\t\t\tstartRequest: function startRequest(element) {\n\t\t\t\t\tif (!this.pending[element.name]) {\n\t\t\t\t\t\tthis.pendingRequest++;\n\t\t\t\t\t\t$(element).addClass(this.settings.pendingClass);\n\t\t\t\t\t\tthis.pending[element.name] = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tstopRequest: function stopRequest(element, valid) {\n\t\t\t\t\tthis.pendingRequest--;\n\t\n\t\t\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\t\t\tif (this.pendingRequest < 0) {\n\t\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\t}\n\t\t\t\t\tdelete this.pending[element.name];\n\t\t\t\t\t$(element).removeClass(this.settings.pendingClass);\n\t\t\t\t\tif (valid && this.pendingRequest === 0 && this.formSubmitted && this.form()) {\n\t\t\t\t\t\t$(this.currentForm).submit();\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t} else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tpreviousValue: function previousValue(element, method) {\n\t\t\t\t\treturn $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\n\t\t\t\t\t\told: null,\n\t\t\t\t\t\tvalid: true,\n\t\t\t\t\t\tmessage: this.defaultMessage(element, { method: method })\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\t\t\tdestroy: function destroy() {\n\t\t\t\t\tthis.resetForm();\n\t\n\t\t\t\t\t$(this.currentForm).off(\".validate\").removeData(\"validator\").find(\".validate-equalTo-blur\").off(\".validate-equalTo\").removeClass(\"validate-equalTo-blur\");\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tclassRuleSettings: {\n\t\t\t\trequired: { required: true },\n\t\t\t\temail: { email: true },\n\t\t\t\turl: { url: true },\n\t\t\t\tdate: { date: true },\n\t\t\t\tdateISO: { dateISO: true },\n\t\t\t\tnumber: { number: true },\n\t\t\t\tdigits: { digits: true },\n\t\t\t\tcreditcard: { creditcard: true }\n\t\t\t},\n\t\n\t\t\taddClassRules: function addClassRules(className, rules) {\n\t\t\t\tif (className.constructor === String) {\n\t\t\t\t\tthis.classRuleSettings[className] = rules;\n\t\t\t\t} else {\n\t\t\t\t\t$.extend(this.classRuleSettings, className);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tclassRules: function classRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    classes = $(element).attr(\"class\");\n\t\n\t\t\t\tif (classes) {\n\t\t\t\t\t$.each(classes.split(\" \"), function () {\n\t\t\t\t\t\tif (this in $.validator.classRuleSettings) {\n\t\t\t\t\t\t\t$.extend(rules, $.validator.classRuleSettings[this]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeAttributeRule: function normalizeAttributeRule(rules, type, method, value) {\n\t\n\t\t\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t\t\t// allows type=\"date\" and others to be compared as strings\n\t\t\t\tif (/min|max|step/.test(method) && (type === null || /number|range|text/.test(type))) {\n\t\t\t\t\tvalue = Number(value);\n\t\n\t\t\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\t\tvalue = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (value || value === 0) {\n\t\t\t\t\trules[method] = value;\n\t\t\t\t} else if (type === method && type !== \"range\") {\n\t\n\t\t\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t\t\t// does not test for the html5 'range' type\n\t\t\t\t\trules[method] = true;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tattributeRules: function attributeRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\n\t\t\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\tvalue = element.getAttribute(method);\n\t\n\t\t\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\t\t\tif (value === \"\") {\n\t\t\t\t\t\t\tvalue = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\t\t\tvalue = !!value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = $element.attr(method);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\n\t\t\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\t\t\tif (rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength)) {\n\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tdataRules: function dataRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\t\t\t\tvalue = $element.data(\"rule\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase());\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tstaticRules: function staticRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    validator = $.data(element.form, \"validator\");\n\t\n\t\t\t\tif (validator.settings.rules) {\n\t\t\t\t\trules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeRules: function normalizeRules(rules, element) {\n\t\n\t\t\t\t// Handle dependency check\n\t\t\t\t$.each(rules, function (prop, val) {\n\t\n\t\t\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (val.param || val.depends) {\n\t\t\t\t\t\tvar keepRule = true;\n\t\t\t\t\t\tswitch (typeof val.depends) {\n\t\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\t\tkeepRule = !!$(val.depends, element.form).length;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\t\tkeepRule = val.depends.call(element, element);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (keepRule) {\n\t\t\t\t\t\t\trules[prop] = val.param !== undefined ? val.param : true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.data(element.form, \"validator\").resetElements($(element));\n\t\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\t// Evaluate parameters\n\t\t\t\t$.each(rules, function (rule, parameter) {\n\t\t\t\t\trules[rule] = $.isFunction(parameter) && rule !== \"normalizer\" ? parameter(element) : parameter;\n\t\t\t\t});\n\t\n\t\t\t\t// Clean number parameters\n\t\t\t\t$.each([\"minlength\", \"maxlength\"], function () {\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\trules[this] = Number(rules[this]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$.each([\"rangelength\", \"range\"], function () {\n\t\t\t\t\tvar parts;\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\tif ($.isArray(rules[this])) {\n\t\t\t\t\t\t\trules[this] = [Number(rules[this][0]), Number(rules[this][1])];\n\t\t\t\t\t\t} else if (typeof rules[this] === \"string\") {\n\t\t\t\t\t\t\tparts = rules[this].replace(/[\\[\\]]/g, \"\").split(/[\\s,]+/);\n\t\t\t\t\t\t\trules[this] = [Number(parts[0]), Number(parts[1])];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif ($.validator.autoCreateRanges) {\n\t\n\t\t\t\t\t// Auto-create ranges\n\t\t\t\t\tif (rules.min != null && rules.max != null) {\n\t\t\t\t\t\trules.range = [rules.min, rules.max];\n\t\t\t\t\t\tdelete rules.min;\n\t\t\t\t\t\tdelete rules.max;\n\t\t\t\t\t}\n\t\t\t\t\tif (rules.minlength != null && rules.maxlength != null) {\n\t\t\t\t\t\trules.rangelength = [rules.minlength, rules.maxlength];\n\t\t\t\t\t\tdelete rules.minlength;\n\t\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\t\t\tnormalizeRule: function normalizeRule(data) {\n\t\t\t\tif (typeof data === \"string\") {\n\t\t\t\t\tvar transformed = {};\n\t\t\t\t\t$.each(data.split(/\\s/), function () {\n\t\t\t\t\t\ttransformed[this] = true;\n\t\t\t\t\t});\n\t\t\t\t\tdata = transformed;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\t\t\taddMethod: function addMethod(name, method, message) {\n\t\t\t\t$.validator.methods[name] = method;\n\t\t\t\t$.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n\t\t\t\tif (method.length < 3) {\n\t\t\t\t\t$.validator.addClassRules(name, $.validator.normalizeRule(name));\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\t\t\tmethods: {\n\t\n\t\t\t\t// http://jqueryvalidation.org/required-method/\n\t\t\t\trequired: function required(value, element, param) {\n\t\n\t\t\t\t\t// Check if dependency is met\n\t\t\t\t\tif (!this.depend(param, element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\t\t\t\tif (element.nodeName.toLowerCase() === \"select\") {\n\t\n\t\t\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\t\t\tvar val = $(element).val();\n\t\t\t\t\t\treturn val && val.length > 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\treturn this.getLength(value, element) > 0;\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length > 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/email-method/\n\t\t\t\temail: function email(value, element) {\n\t\n\t\t\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t\t\t// Retrieved 2014-01-14\n\t\t\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t\t\t// Or use custom methods to implement your own email validation\n\t\t\t\t\treturn this.optional(element) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/url-method/\n\t\t\t\turl: function url(value, element) {\n\t\n\t\t\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t\t\t// modified to allow protocol-relative URLs\n\t\t\t\t\treturn this.optional(element) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/date-method/\n\t\t\t\tdate: function date(value, element) {\n\t\t\t\t\treturn this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString());\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\t\t\tdateISO: function dateISO(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/number-method/\n\t\t\t\tnumber: function number(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/digits-method/\n\t\t\t\tdigits: function digits(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d+$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/minlength-method/\n\t\t\t\tminlength: function minlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\t\t\tmaxlength: function maxlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\t\t\trangelength: function rangelength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param[0] && length <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/min-method/\n\t\t\t\tmin: function min(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/max-method/\n\t\t\t\tmax: function max(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/range-method/\n\t\t\t\trange: function range(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param[0] && value <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/step-method/\n\t\t\t\tstep: function step(value, element, param) {\n\t\t\t\t\tvar type = $(element).attr(\"type\"),\n\t\t\t\t\t    errorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\t\t    supportedTypes = [\"text\", \"number\", \"range\"],\n\t\t\t\t\t    re = new RegExp(\"\\\\b\" + type + \"\\\\b\"),\n\t\t\t\t\t    notSupported = type && !re.test(supportedTypes.join());\n\t\n\t\t\t\t\t// Works only for text, number and range input types\n\t\t\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\t\t\tif (notSupported) {\n\t\t\t\t\t\tthrow new Error(errorMessage);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.optional(element) || value % param === 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\t\t\tequalTo: function equalTo(value, element, param) {\n\t\n\t\t\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\t\t\tvar target = $(param);\n\t\t\t\t\tif (this.settings.onfocusout && target.not(\".validate-equalTo-blur\").length) {\n\t\t\t\t\t\ttarget.addClass(\"validate-equalTo-blur\").on(\"blur.validate-equalTo\", function () {\n\t\t\t\t\t\t\t$(element).valid();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn value === target.val();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/remote-method/\n\t\t\t\tremote: function remote(value, element, param, method) {\n\t\t\t\t\tif (this.optional(element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\n\t\t\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\t\n\t\t\t\t\tvar previous = this.previousValue(element, method),\n\t\t\t\t\t    validator,\n\t\t\t\t\t    data,\n\t\t\t\t\t    optionDataString;\n\t\n\t\t\t\t\tif (!this.settings.messages[element.name]) {\n\t\t\t\t\t\tthis.settings.messages[element.name] = {};\n\t\t\t\t\t}\n\t\t\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[element.name][method];\n\t\t\t\t\tthis.settings.messages[element.name][method] = previous.message;\n\t\n\t\t\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\t\t\toptionDataString = $.param($.extend({ data: value }, param.data));\n\t\t\t\t\tif (previous.old === optionDataString) {\n\t\t\t\t\t\treturn previous.valid;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tprevious.old = optionDataString;\n\t\t\t\t\tvalidator = this;\n\t\t\t\t\tthis.startRequest(element);\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata[element.name] = value;\n\t\t\t\t\t$.ajax($.extend(true, {\n\t\t\t\t\t\tmode: \"abort\",\n\t\t\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tcontext: validator.currentForm,\n\t\t\t\t\t\tsuccess: function success(response) {\n\t\t\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\t\t    errors,\n\t\t\t\t\t\t\t    message,\n\t\t\t\t\t\t\t    submitted;\n\t\n\t\t\t\t\t\t\tvalidator.settings.messages[element.name][method] = previous.originalMessage;\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\t\t\tvalidator.toHide = validator.errorsFor(element);\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\t\t\tvalidator.successList.push(element);\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = false;\n\t\t\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\t\t\tmessage = response || validator.defaultMessage(element, { method: method, parameters: value });\n\t\t\t\t\t\t\t\terrors[element.name] = previous.message = message;\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = true;\n\t\t\t\t\t\t\t\tvalidator.showErrors(errors);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\t\t\tvalidator.stopRequest(element, valid);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, param));\n\t\t\t\t\treturn \"pending\";\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t});\n\t\n\t\t// Ajax mode: abort\n\t\t// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n\t\t// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\t\n\t\tvar pendingRequests = {},\n\t\t    ajax;\n\t\n\t\t// Use a prefilter if available (1.5+)\n\t\tif ($.ajaxPrefilter) {\n\t\t\t$.ajaxPrefilter(function (settings, _, xhr) {\n\t\t\t\tvar port = settings.port;\n\t\t\t\tif (settings.mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = xhr;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\n\t\t\t// Proxy ajax\n\t\t\tajax = $.ajax;\n\t\t\t$.ajax = function (settings) {\n\t\t\t\tvar mode = (\"mode\" in settings ? settings : $.ajaxSettings).mode,\n\t\t\t\t    port = (\"port\" in settings ? settings : $.ajaxSettings).port;\n\t\t\t\tif (mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = ajax.apply(this, arguments);\n\t\t\t\t\treturn pendingRequests[port];\n\t\t\t\t}\n\t\t\t\treturn ajax.apply(this, arguments);\n\t\t\t};\n\t\t}\n\t});\n\n/***/ }),\n/* 24 */,\n/* 25 */,\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t// import $ from 'jquery';\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t__webpack_require__(11);\n\t\n\tvar taxonomy,\n\t    elementData,\n\t    $element,\n\t    TemplateEngine = __webpack_require__(9);\n\t\n\tvar defaultSettings = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'url',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    render: {\n\t        item: renderItem,\n\t        option: renderOption\n\t    },\n\t    load: loadItems\n\t};\n\t\n\tvar defaultTemplates = {\n\t    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n\t    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n\t};\n\t\n\tfunction renderItem(item) {\n\t\n\t    var $element = $(this.$input);\n\t    var renderTemplate = defaultTemplates.item;\n\t    var elementData = $element.data();\n\t    if ('templateItem' in elementData && $(elementData.templateItem).length) {\n\t        renderTemplate = $(elementData.templateItem).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction renderOption(item, escape) {\n\t\n\t    var $element = $(this.$input);\n\t    var renderTemplate = defaultTemplates.option;\n\t    var elementData = $element.data();\n\t    if ('templateOption' in elementData && $(elementData.templateOption).length) {\n\t        renderTemplate = $(elementData.templateOption).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction loadItems(query, callback) {\n\t\n\t    var options = $(this.$input).data();\n\t\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    $.ajax({\n\t        url: options.url,\n\t        data: _data,\n\t        type: options.method || 'GET',\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            console.log(res);\n\t            callback(res);\n\t        }\n\t    });\n\t}\n\t\n\ttaxonomy = function (element) {\n\t    $element = $(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = $.extend({}, defaultSettings, elementData);\n\t    $(element).selectize(selectizeSettings);\n\t};\n\t\n\texports['default'] = taxonomy;\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./comments\": 64,\n\t\t\"./comments.js\": 64,\n\t\t\"./comments/jquery.render-list\": 66,\n\t\t\"./comments/jquery.render-list.js\": 66,\n\t\t\"./commit-box\": 67,\n\t\t\"./commit-box.js\": 67,\n\t\t\"./courses\": 68,\n\t\t\"./courses.js\": 68,\n\t\t\"./customform\": 70,\n\t\t\"./customform.js\": 70,\n\t\t\"./customform/input\": 6,\n\t\t\"./customform/input.js\": 6,\n\t\t\"./customform/toggle-check\": 21,\n\t\t\"./customform/toggle-check.js\": 21,\n\t\t\"./customform/toggle-select\": 20,\n\t\t\"./customform/toggle-select.js\": 20,\n\t\t\"./geography\": 19,\n\t\t\"./geography.js\": 19,\n\t\t\"./index\": 62,\n\t\t\"./index.js\": 62,\n\t\t\"./organization\": 71,\n\t\t\"./organization.js\": 71,\n\t\t\"./professions\": 72,\n\t\t\"./professions.js\": 72,\n\t\t\"./publication-carousel\": 73,\n\t\t\"./publication-carousel.js\": 73,\n\t\t\"./register\": 75,\n\t\t\"./register.js\": 75,\n\t\t\"./videos\": 76,\n\t\t\"./videos.js\": 76\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 63;\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {// import $ from 'jquery'\n\t'use strict';\n\t\n\t__webpack_require__(65);\n\t\n\t__webpack_require__(66);\n\t\n\tvar form_submit = function form_submit(event, data) {\n\t    var $form = $(this);\n\t    var $divToUpdate = $($form.data(\"update\"));\n\t    $divToUpdate = setData($form, data, $divToUpdate);\n\t\n\t    var $subforms = $divToUpdate.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t    $.each($subforms, function (i, value) {\n\t        var $subform = $(value);\n\t        if (!$subform.data(\"plugin\")) {\n\t            $subform.data(\"plugin\", \"true\");\n\t            $subform.IdeiaAjaxForm();\n\t            $subform.on(\"ajaxform.success\", form_submit);\n\t        }\n\t    });\n\t    var $dataList = $divToUpdate.find(\"div[data-xhr]\");\n\t    $dataList.renderList();\n\t    refreshAsyncLike();\n\t};\n\t\n\tvar functionOpenModalToDelete = function functionOpenModalToDelete(e) {\n\t    e.preventDefault();\n\t\n\t    var $btn = $(e.currentTarget),\n\t        $modal = $($btn.data(\"modal\"));\n\t\n\t    $modal.find(\"form\").attr(\"action\", $btn.data(\"url\"));\n\t    $modal.find(\"#item-id\").val($btn.data(\"item\"));\n\t    $modal.find(\"#item-type\").val($btn.data(\"type\"));\n\t    $modal.find(\"#title-item-to-remove\").html($btn.data(\"title\"));\n\t    $modal.find(\".loading-container\").html(\"\");\n\t    $modal.find(\".alert-container\").html(\"\");\n\t    $modal.modal(\"show\");\n\t};\n\t\n\tvar functionAjaxSuccessDeleteItem = function functionAjaxSuccessDeleteItem(e, data) {\n\t    var $this = $(this),\n\t        $modal = $($this.closest(\".modal.fade\")),\n\t        itemId = $modal.find(\"#item-id\").val(),\n\t        itemType = $modal.find(\"#item-type\").val();\n\t\n\t    $modal.modal(\"hide\");\n\t    $modal.find(\"form\").attr(\"action\", \"\");\n\t    $modal.find(\"#item-id\").val(\"\");\n\t    $modal.find(\"#item-type\").val(\"\");\n\t    $modal.find(\"#title-item-to-remove\").html(\"\");\n\t    $modal.find(\".loading-container\").html(\"\");\n\t    $modal.find(\".alert-container\").html(\"\");\n\t\n\t    $(\"#\" + itemType + \"-\" + itemId).fadeOut(\"slow\", function () {\n\t        $('#list-' + itemType + '-' + itemId).remove();\n\t        $(this).remove();\n\t    });\n\t};\n\t\n\tfunction setData($form, data, $divToUpdate) {\n\t\n\t    var action = $form.data(\"toggle\");\n\t    var $form_to_hide = $form.parent(\".dropdown-content\");\n\t\n\t    if (action == \"append\" || action == \"prepend\") {\n\t\n\t        if (action == \"append\") {\n\t            $divToUpdate.append(data.template);\n\t        } else {\n\t            $divToUpdate.prepend(data.template);\n\t        }\n\t\n\t        if ($form_to_hide) {\n\t            $form_to_hide.removeClass(\"open\");\n\t        }\n\t        $form[0].reset();\n\t    } else if (action == \"replace\") {\n\t        var $element = $(data.template);\n\t        $divToUpdate.replaceWith($element);\n\t        var $newForm = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t        $divToUpdate = $element;\n\t    }\n\t    $form.find('[data-toggle=\"editor\"]').summernote('reset');\n\t    $divToUpdate.refreshEditors();\n\t    var $preInComment = $('.comment-text').find('code');\n\t    $.each($preInComment, function (index, element) {\n\t        Prism.highlightElement(element);\n\t    });\n\t\n\t    return $divToUpdate;\n\t}\n\t\n\tvar commentDropDown = function commentDropDown(event) {\n\t    event.stopPropagation();\n\t};\n\t\n\tvar xhr_contents = $(\"div[data-xhr]\");\n\txhr_contents.renderList();\n\tvar $comment_form = $(\"form[data-ajaxform=\\\"true\\\"]\");\n\t\n\t$comment_form.refreshEditors();\n\t$comment_form.on(\"ajaxform.success\", form_submit);\n\t\n\t$(\"#confirmation-form\").on(\"ajaxform.success\", functionAjaxSuccessDeleteItem);\n\t$(document).on(\"click\", \"[data-delete-item=true]\", functionOpenModalToDelete);\n\t$(document).on('click', '.comment-dropdown', commentDropDown);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/*!\n\t * jScroll - jQuery Plugin for Infinite Scrolling / Auto-Paging\n\t * @see @link{http://jscroll.com}\n\t *\n\t * @copyright 2011-2017, Philip Klauzinski\n\t * @license Dual licensed under the MIT and GPL Version 2 licenses.\n\t * @author Philip Klauzinski (http://webtopian.com)\n\t * @version 2.3.9\n\t * @requires jQuery v1.4.3+\n\t * @preserve\n\t */\n\t(function($) {\n\t\n\t    'use strict';\n\t\n\t    // Define the jscroll namespace and default settings\n\t    $.jscroll = {\n\t        defaults: {\n\t            debug: false,\n\t            autoTrigger: true,\n\t            autoTriggerUntil: false,\n\t            loadingHtml: '<small>Loading...</small>',\n\t            loadingFunction: false,\n\t            padding: 0,\n\t            nextSelector: 'a:last',\n\t            contentSelector: '',\n\t            pagingSelector: '',\n\t            callback: false\n\t        }\n\t    };\n\t\n\t    // Constructor\n\t    var jScroll = function($e, options) {\n\t\n\t        // Private vars and methods\n\t        var _data = $e.data('jscroll'),\n\t            _userOptions = (typeof options === 'function') ? { callback: options } : options,\n\t            _options = $.extend({}, $.jscroll.defaults, _userOptions, _data || {}),\n\t            _isWindow = ($e.css('overflow-y') === 'visible'),\n\t            _$next = $e.find(_options.nextSelector).first(),\n\t            _$window = $(window),\n\t            _$body = $('body'),\n\t            _$scroll = _isWindow ? _$window : $e,\n\t            _nextHref = $.trim(_$next.attr('href') + ' ' + _options.contentSelector),\n\t\n\t            // Check if a loading image is defined and preload\n\t            _preloadImage = function() {\n\t                var src = $(_options.loadingHtml).filter('img').attr('src');\n\t                if (src) {\n\t                    var image = new Image();\n\t                    image.src = src;\n\t                }\n\t            },\n\t\n\t            // Wrap inner content, if it isn't already\n\t            _wrapInnerContent = function() {\n\t                if (!$e.find('.jscroll-inner').length) {\n\t                    $e.contents().wrapAll('<div class=\"jscroll-inner\" />');\n\t                }\n\t            },\n\t\n\t            // Find the next link's parent, or add one, and hide it\n\t            _nextWrap = function($next) {\n\t                var $parent;\n\t                if (_options.pagingSelector) {\n\t                    $next.closest(_options.pagingSelector).hide();\n\t                } else {\n\t                    $parent = $next.parent().not('.jscroll-inner,.jscroll-added').addClass('jscroll-next-parent').hide();\n\t                    if (!$parent.length) {\n\t                        $next.wrap('<div class=\"jscroll-next-parent\" />').parent().hide();\n\t                    }\n\t                }\n\t            },\n\t\n\t            // Remove the jscroll behavior and data from an element\n\t            _destroy = function() {\n\t                return _$scroll.unbind('.jscroll')\n\t                    .removeData('jscroll')\n\t                    .find('.jscroll-inner').children().unwrap()\n\t                    .filter('.jscroll-added').children().unwrap();\n\t            },\n\t\n\t            // Observe the scroll event for when to trigger the next load\n\t            _observe = function() {\n\t                if ($e.is(':visible')) {\n\t                    _wrapInnerContent();\n\t                    var $inner = $e.find('div.jscroll-inner').first(),\n\t                        data = $e.data('jscroll'),\n\t                        borderTopWidth = parseInt($e.css('borderTopWidth'), 10),\n\t                        borderTopWidthInt = isNaN(borderTopWidth) ? 0 : borderTopWidth,\n\t                        iContainerTop = parseInt($e.css('paddingTop'), 10) + borderTopWidthInt,\n\t                        iTopHeight = _isWindow ? _$scroll.scrollTop() : $e.offset().top,\n\t                        innerTop = $inner.length ? $inner.offset().top : 0,\n\t                        iTotalHeight = Math.ceil(iTopHeight - innerTop + _$scroll.height() + iContainerTop);\n\t\n\t                    if (!data.waiting && iTotalHeight + _options.padding >= $inner.outerHeight()) {\n\t                        //data.nextHref = $.trim(data.nextHref + ' ' + _options.contentSelector);\n\t                        _debug('info', 'jScroll:', $inner.outerHeight() - iTotalHeight, 'from bottom. Loading next request...');\n\t                        return _load();\n\t                    }\n\t                }\n\t            },\n\t\n\t            // Check if the href for the next set of content has been set\n\t            _checkNextHref = function(data) {\n\t                data = data || $e.data('jscroll');\n\t                if (!data || !data.nextHref) {\n\t                    _debug('warn', 'jScroll: nextSelector not found - destroying');\n\t                    _destroy();\n\t                    return false;\n\t                } else {\n\t                    _setBindings();\n\t                    return true;\n\t                }\n\t            },\n\t\n\t            _setBindings = function() {\n\t                var $next = $e.find(_options.nextSelector).first();\n\t                if (!$next.length) {\n\t                    return;\n\t                }\n\t                if (_options.autoTrigger && (_options.autoTriggerUntil === false || _options.autoTriggerUntil > 0)) {\n\t                    _nextWrap($next);\n\t                    var scrollingBodyHeight = _$body.height() - $e.offset().top,\n\t                        scrollingHeight = ($e.height() < scrollingBodyHeight) ? $e.height() : scrollingBodyHeight,\n\t                        windowHeight = ($e.offset().top - _$window.scrollTop() > 0) ? _$window.height() - ($e.offset().top - $(window).scrollTop()) : _$window.height();\n\t                    if (scrollingHeight <= windowHeight) {\n\t                        _observe();\n\t                    }\n\t                    _$scroll.unbind('.jscroll').bind('scroll.jscroll', function() {\n\t                        return _observe();\n\t                    });\n\t                    if (_options.autoTriggerUntil > 0) {\n\t                        _options.autoTriggerUntil--;\n\t                    }\n\t                } else {\n\t                    _$scroll.unbind('.jscroll');\n\t                    $next.bind('click.jscroll', function() {\n\t                        _nextWrap($next);\n\t                        _load();\n\t                        return false;\n\t                    });\n\t                }\n\t            },\n\t\n\t            // Load the next set of content, if available\n\t            _load = function() {\n\t                var $inner = $e.find('div.jscroll-inner').first(),\n\t                    data = $e.data('jscroll');\n\t\n\t                data.waiting = true;\n\t                $inner.append('<div class=\"jscroll-added\" />')\n\t                    .children('.jscroll-added').last()\n\t                    .html('<div class=\"jscroll-loading\" id=\"jscroll-loading\">' + _options.loadingHtml + '</div>')\n\t                    .promise()\n\t                    .done(function() {\n\t                        if (_options.loadingFunction) {\n\t                            _options.loadingFunction();\n\t                        }\n\t                    });\n\t\n\t                return $e.animate({scrollTop: $inner.outerHeight()}, 0, function() {\n\t                    var nextHref = data.nextHref;\n\t                    $inner.find('div.jscroll-added').last().load(nextHref, function(r, status) {\n\t                        if (status === 'error') {\n\t                            return _destroy();\n\t                        }\n\t                        var $next = $(this).find(_options.nextSelector).first();\n\t                        data.waiting = false;\n\t                        data.nextHref = $next.attr('href') ? $.trim($next.attr('href') + ' ' + _options.contentSelector) : false;\n\t                        $('.jscroll-next-parent', $e).remove(); // Remove the previous next link now that we have a new one\n\t                        _checkNextHref();\n\t                        if (_options.callback) {\n\t                            _options.callback.call(this, nextHref);\n\t                        }\n\t                        _debug('dir', data);\n\t                    });\n\t                });\n\t            },\n\t\n\t            // Safe console debug - http://klauzinski.com/javascript/safe-firebug-console-in-javascript\n\t            _debug = function(m) {\n\t                if (_options.debug && typeof console === 'object' && (typeof m === 'object' || typeof console[m] === 'function')) {\n\t                    if (typeof m === 'object') {\n\t                        var args = [];\n\t                        for (var sMethod in m) {\n\t                            if (typeof console[sMethod] === 'function') {\n\t                                args = (m[sMethod].length) ? m[sMethod] : [m[sMethod]];\n\t                                console[sMethod].apply(console, args);\n\t                            } else {\n\t                                console.log.apply(console, args);\n\t                            }\n\t                        }\n\t                    } else {\n\t                        console[m].apply(console, Array.prototype.slice.call(arguments, 1));\n\t                    }\n\t                }\n\t            };\n\t\n\t        // Initialization\n\t        $e.data('jscroll', $.extend({}, _data, {initialized: true, waiting: false, nextHref: _nextHref}));\n\t        _wrapInnerContent();\n\t        _preloadImage();\n\t        _setBindings();\n\t\n\t        // Expose API methods via the jQuery.jscroll namespace, e.g. $('sel').jscroll.method()\n\t        $.extend($e.jscroll, {\n\t            destroy: _destroy\n\t        });\n\t        return $e;\n\t    };\n\t\n\t    // Define the jscroll plugin method and loop\n\t    $.fn.jscroll = function(m) {\n\t        return this.each(function() {\n\t            var $this = $(this),\n\t                data = $this.data('jscroll');\n\t\n\t            // Instantiate jScroll on this element if it hasn't been already\n\t            if (data && data.initialized) {\n\t                return;\n\t            }\n\t            jScroll($this, m);\n\t        });\n\t    };\n\t\n\t})(jQuery);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {// import $ from 'jquery'\n\t\n\t// $.fn.renderList = function () {\n\t\n\t// return $.each(this, function(){\n\t//       var $self = $(this);\n\t//       if(!$self.data(\"rendered\")){\n\t//           $self.data(\"rendered\", \"rendered\");\n\t//           var url = $self.data('xhr-url');\n\t//           var $childs;\n\t//\n\t//           var request = $.ajax({\n\t//               url: url,\n\t//               success: function(data){\n\t//\n\t//                   if(data.template){\n\t//                       var $element = $(data.template);\n\t//\n\t//                       $self.append($element);\n\t//                       var regex = /^data-list-([0-9]+)$/;\n\t//                       if (regex.test($self.attr('id'))) {\n\t//                           var $parentSelf = $self.parent('.comments-children');\n\t//                           if ($self.children().length > 0) {\n\t//                               $parentSelf.removeClass('no-children');\n\t//                           } else {\n\t//                               $parentSelf.addClass('no-children');\n\t//                           }\n\t//                       }\n\t//\n\t//                       $childs = $element.next('div[data-xhr-url]');\n\t//                       $self.jscroll({\n\t//                           loadingHtml: '<div class=\"load-async-preload\"></div>',\n\t//                           contentSelect: \"#\" + $self.attr(\"id\"),\n\t//                           nextSelector: \"a[data-jscroll-next]\",\n\t//                           autoTrigger: false,\n\t//                           callback: function(data){\n\t//                               var $div_jscroll = $(\".jscroll-added\");\n\t//                               var $jscroll_subforms = $div_jscroll.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t//                               $jscroll_subforms.IdeiaAjaxForm();\n\t//                               $jscroll_subforms.on(\"ajaxform.success\", form_submit);\n\t//                               $jscroll_subforms.refreshEditors();\n\t//                               $div_jscroll.removeClass(\"jscroll-added\");\n\t//                           }\n\t//                       });\n\t//\n\t//                       var $subforms = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t//                       $subforms.on(\"ajaxform.success\", form_submit);\n\t//                       $subforms.IdeiaAjaxForm();\n\t//                       $subforms.refreshEditors();\n\t//\n\t//                       var async_like = $self.find('[data-async-like]');\n\t//                       async_like.IdeiaAsyncLike();\n\t//                       async_like.removeData(\"async-like\");\n\t//                   }\n\t//\n\t//               },\n\t//               complete: function(){\n\t//                   if($childs && $childs.length){\n\t//                       $childs.renderList();\n\t//                   }\n\t//\n\t//                   var $preInComment = $('.comment-text').find('code');\n\t//                   $.each($preInComment, function (index, element) {\n\t//                     Prism.highlightElement(element);\n\t//                   });\n\t//               }\n\t//           });\n\t//\n\t//           refreshAsyncLike();\n\t//       }\n\t//\n\t//   });\n\t\"use strict\";\n\t\n\tvar pluginName = \"renderList\",\n\t    defaults = {\n\t  propertyName: \"value\"\n\t};\n\t\n\t// The actual plugin constructor\n\tfunction Plugin(element, options) {\n\t  this.element = element;\n\t  this.settings = $.extend({}, defaults, options);\n\t  this._defaults = defaults;\n\t  this._name = pluginName;\n\t  this.init();\n\t}\n\t\n\t// Avoid Plugin.prototype conflicts\n\t$.extend(Plugin.prototype, {\n\t  init: function init() {\n\t\n\t    // Place initialization logic here\n\t    // You already have access to the DOM element and\n\t    // the options via the instance, e.g. this.element\n\t    // and this.settings\n\t    // you can add more functions like the one below and\n\t    // call them like the example below\n\t    console.log($(this.element).data('xhrUrl'));\n\t    this.attachList($(this.element).data('xhrUrl'));\n\t  },\n\t  attachList: function attachList(url) {\n\t    $.get(url).done(function (data) {\n\t      if (data.template) {\n\t        console.log(data.template);\n\t      }\n\t    }).fail(function (data) {}).always(function (data) {});\n\t  }\n\t});\n\t\n\t$.fn[pluginName] = function (options) {\n\t  return this.each(function () {\n\t    if (!$.data(this, \"plugin_\" + pluginName)) {\n\t      $.data(this, \"plugin_\" + pluginName, new Plugin(this, options));\n\t    }\n\t  });\n\t};\n\t// };\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 67 */,\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t__webpack_require__(69);\n\t\n\tmodule.exports = function (name) {\n\t  var $showMore = $('[data-toggle=\"showmore\"]');\n\t  var $rating = $('[data-toggle=\"rating\"]');\n\t  var formRating = $('[data-toggle=\"rating-value\"]');\n\t\n\t  var defaultSettings = {\n\t    halfStar: true,\n\t    normalFill: '#a09e9e',\n\t    ratedFill: '#d68004',\n\t    spacing: '2px',\n\t    starWidth: '20px',\n\t    onSet: function onSet(rating, rateYoInstance) {\n\t      console.log(rating);\n\t      formRating.val(rating);\n\t    },\n\t    onChange: function onChange(rating, rateYoInstance) {\n\t      var reactions = $(rateYoInstance.node).data('reactions');\n\t      $(this).next().text(reactions[Math.floor(rating)]);\n\t    }\n\t  };\n\t\n\t  $rating.each(function (index, item) {\n\t    var $this = $(item);\n\t    var dataConfig = $this.data('config');\n\t    var settings = $.extend({}, defaultSettings, dataConfig);\n\t    $this.rateYo(settings);\n\t  });\n\t\n\t  $('[data-form-send]').on('change', function onChangeSelectSendVideoForm() {\n\t    var $self = $(this);\n\t    var $form = $self.closest('form[data-form-send-enables]');\n\t    if ($form.length) {\n\t      $form.trigger('submit');\n\t    }\n\t  });\n\t\n\t  $showMore.on('click tap', function (event) {\n\t    toggleHeight($(event.currentTarget).attr('href'));\n\t    event.preventDefault();\n\t  });\n\t};\n\t\n\tvar toggleHeight = function toggleHeight(seletor) {\n\t  var $this = $(seletor);\n\t  var ANIMATION_TIME = $this.data('animationSpeed') || 200;\n\t\n\t  if ($this.hasClass('open')) {\n\t    $this.animate({\n\t      height: $this.data('height')\n\t    }, ANIMATION_TIME, function () {\n\t      return $this.removeClass('open');\n\t    });\n\t\n\t    return false;\n\t  }\n\t\n\t  var currentHeight = $this.outerHeight();\n\t  var autoHeight = $this.css('height', 'auto').outerHeight();\n\t  $this.data('height', currentHeight).height(currentHeight).animate({\n\t    height: autoHeight\n\t  }, ANIMATION_TIME, function () {\n\t    return $this.addClass('open');\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports) {\n\n\t/*****\n\t* rateYo - v2.2.0\n\t* http://prrashi.github.io/rateyo/\n\t* Copyright (c) 2014 Prashanth Pamidi; Licensed MIT\n\t*****/\n\t\n\t\"use strict\";\n\t\n\t;(function ($) {\n\t  \"use strict\";\n\t\n\t  // The basic svg string required to generate stars\n\t  var BASICSTAR = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\" + \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 26 28\\\" fill=z\\\"#f00\\\">\" + \"<path d=\\\"M26 10.109c0 0.281-0.203 0.547-0.406 0.75l-5.672 5.531 1.344 \" + \"7.812c0.016 0.109 0.016 0.203 0.016 0.313 0 0.406-0.187 0.781-0.641 \" + \"0.781-0.219 0-0.438-0.078-0.625-0.187l-7.016-3.687-7.016 3.687c-0.203 \" + \"0.109-0.406 0.187-0.625 0.187-0.453 0-0.656-0.375-0.656-0.781 0-0.109 \" + \"0.016-0.203 0.031-0.313l1.344-7.812-5.688-5.531c-0.187-0.203-0.391-0.469-0.391-0.75 \" + \"0-0.469 0.484-0.656 0.875-0.719l7.844-1.141 3.516-7.109c0.141-0.297 0.406-0.641 \" + \"0.766-0.641s0.625 0.344 0.766 0.641l3.516 7.109 7.844 1.141c0.375 0.063 0.875 \" + \"0.25 0.875 0.719z\\\"></path>\" + \"</svg>\";\n\t\n\t  // The Default values of different options available in the Plugin\n\t  var DEFAULTS = {\n\t\n\t    starWidth: \"32px\",\n\t    normalFill: \"gray\",\n\t    ratedFill: \"#f39c12\",\n\t    numStars: 5,\n\t    maxValue: 5,\n\t    precision: 1,\n\t    rating: 0,\n\t    fullStar: false,\n\t    halfStar: false,\n\t    readOnly: false,\n\t    spacing: \"0px\",\n\t    rtl: false,\n\t    multiColor: null,\n\t    onInit: null,\n\t    onChange: null,\n\t    onSet: null,\n\t    starSvg: null\n\t  };\n\t\n\t  //Default colors for multi-color rating\n\t  var MULTICOLOR_OPTIONS = {\n\t\n\t    startColor: \"#c0392b\", //red\n\t    endColor: \"#f1c40f\" //yellow\n\t  };\n\t\n\t  // http://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n\t  function isMobileBrowser() {\n\t    var check = false;\n\t    /* jshint ignore:start */\n\t    (function (a) {\n\t      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n\t    })(navigator.userAgent || navigator.vendor || window.opera);\n\t    /* jshint ignore:end */\n\t    return check;\n\t  }\n\t\n\t  function checkPrecision(value, minValue, maxValue) {\n\t\n\t    /*\n\t     * This function removes the unnecessary precision, at Min and Max Values\n\t     */\n\t\n\t    // Its like comparing 0.0 with 0, which is true\n\t    if (value === minValue) {\n\t\n\t      value = minValue;\n\t    } else if (value === maxValue) {\n\t\n\t      value = maxValue;\n\t    }\n\t\n\t    return value;\n\t  }\n\t\n\t  function checkBounds(value, minValue, maxValue) {\n\t\n\t    /*\n\t     * Check if the value is between min and max values, if not, throw an error\n\t     */\n\t\n\t    var isValid = value >= minValue && value <= maxValue;\n\t\n\t    if (!isValid) {\n\t\n\t      throw Error(\"Invalid Rating, expected value between \" + minValue + \" and \" + maxValue);\n\t    }\n\t\n\t    return value;\n\t  }\n\t\n\t  function isDefined(value) {\n\t\n\t    // Better way to check if a variable is defined or not\n\t    return typeof value !== \"undefined\";\n\t  }\n\t\n\t  // Regex to match Colors in Hex Format like #FF00FF\n\t  var hexRegex = /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i;\n\t\n\t  var hexToRGB = function hexToRGB(hex) {\n\t\n\t    /*\n\t     * Extracts and returns the Red, Blue, Green Channel values,\n\t     * in the form of decimals\n\t     */\n\t\n\t    if (!hexRegex.test(hex)) {\n\t\n\t      return null;\n\t    }\n\t\n\t    var hexValues = hexRegex.exec(hex),\n\t        r = parseInt(hexValues[1], 16),\n\t        g = parseInt(hexValues[2], 16),\n\t        b = parseInt(hexValues[3], 16);\n\t\n\t    return { r: r, g: g, b: b };\n\t  };\n\t\n\t  function getChannelValue(startVal, endVal, percent) {\n\t\n\t    /*\n\t     * Returns a value between `startVal` and `endVal` based on the percent\n\t     */\n\t\n\t    var newVal = (endVal - startVal) * (percent / 100);\n\t\n\t    newVal = Math.round(startVal + newVal).toString(16);\n\t\n\t    if (newVal.length === 1) {\n\t\n\t      newVal = \"0\" + newVal;\n\t    }\n\t\n\t    return newVal;\n\t  }\n\t\n\t  function getColor(startColor, endColor, percent) {\n\t\n\t    /*\n\t     * Given the percentage( `percent` ) of `endColor` to be mixed\n\t     * with the `startColor`, returns the mixed color.\n\t     * Colors should be only in Hex Format\n\t     */\n\t\n\t    if (!startColor || !endColor) {\n\t\n\t      return null;\n\t    }\n\t\n\t    percent = isDefined(percent) ? percent : 0;\n\t\n\t    startColor = hexToRGB(startColor);\n\t    endColor = hexToRGB(endColor);\n\t\n\t    var r = getChannelValue(startColor.r, endColor.r, percent),\n\t        b = getChannelValue(startColor.b, endColor.b, percent),\n\t        g = getChannelValue(startColor.g, endColor.g, percent);\n\t\n\t    return \"#\" + r + g + b;\n\t  }\n\t\n\t  function RateYo($node, options) {\n\t\n\t    /*\n\t     * The Contructor, whose instances are used by plugin itself\n\t     */\n\t\n\t    // Storing the HTML element as a property, for future access\n\t    this.node = $node.get(0);\n\t\n\t    var that = this;\n\t\n\t    // Remove any stuff that is present inside the container, and add the plugin class\n\t    $node.empty().addClass(\"jq-ry-container\");\n\t\n\t    /*\n\t     * Basically the plugin displays the rating using two rows of stars lying one above\n\t     * the other, the row that is on the top represents the actual rating, and the one\n\t     * behind acts just like a background.\n\t     *\n\t     * `$groupWrapper`: is an element that wraps both the rows\n\t     * `$normalGroup`: is the container for row of stars thats behind and\n\t     *                 acts as background\n\t     * `$ratedGroup`: is the container for row of stars that display the actual rating.\n\t     *\n\t     * The rating is displayed by adjusting the width of `$ratedGroup`\n\t     */\n\t    var $groupWrapper = $(\"<div/>\").addClass(\"jq-ry-group-wrapper\").appendTo($node);\n\t\n\t    var $normalGroup = $(\"<div/>\").addClass(\"jq-ry-normal-group\").addClass(\"jq-ry-group\").appendTo($groupWrapper);\n\t\n\t    var $ratedGroup = $(\"<div/>\").addClass(\"jq-ry-rated-group\").addClass(\"jq-ry-group\").appendTo($groupWrapper);\n\t\n\t    /*\n\t     * Variable `step`: store the value of the rating for each star\n\t     *                  eg: if `maxValue` is 5 and `numStars` is 5, value of each star\n\t     *                      is 1.\n\t     * Variable `starWidth`: stores the decimal value of width of star in units of px\n\t     * Variable `percentOfStar`: stores the percentage of width each star takes w.r.t\n\t     *                           the container\n\t     * Variable `spacing`: stores the decimal value of the spacing between stars\n\t     *                     in the units of px\n\t     * Variable `percentOfSpacing`: stores the percentage of width of the spacing\n\t     *                              between stars w.r.t the container\n\t     */\n\t    var step,\n\t        starWidth,\n\t        percentOfStar,\n\t        spacing,\n\t        percentOfSpacing,\n\t        containerWidth,\n\t        minValue = 0;\n\t\n\t    /*\n\t     * `currentRating` contains rating that is being displayed at the latest point of\n\t     * time.\n\t     *\n\t     * When ever you hover over the plugin UI, the rating value changes\n\t     * according to the place where you point the cursor, currentRating contains\n\t     * the current value of rating that is being shown in the UI\n\t     */\n\t    var currentRating = options.rating;\n\t\n\t    // A flag to store if the plugin is already being displayed in the UI\n\t    var isInitialized = false;\n\t\n\t    function showRating(ratingVal) {\n\t\n\t      /*\n\t       * The function is responsible for displaying the rating by changing\n\t       * the width of `$ratedGroup`\n\t       */\n\t\n\t      if (!isDefined(ratingVal)) {\n\t\n\t        ratingVal = options.rating;\n\t      }\n\t\n\t      // Storing the value that is being shown in `currentRating`.\n\t      currentRating = ratingVal;\n\t\n\t      var numStarsToShow = ratingVal / step;\n\t\n\t      // calculating the percentage of width of $ratedGroup with respect to its parent\n\t      var percent = numStarsToShow * percentOfStar;\n\t\n\t      if (numStarsToShow > 1) {\n\t\n\t        // adding the percentage of space that is taken by the gap the stars\n\t        percent += (Math.ceil(numStarsToShow) - 1) * percentOfSpacing;\n\t      }\n\t\n\t      setRatedFill(options.ratedFill);\n\t\n\t      percent = options.rtl ? 100 - percent : percent;\n\t\n\t      $ratedGroup.css(\"width\", percent + \"%\");\n\t    }\n\t\n\t    function setContainerWidth() {\n\t\n\t      /*\n\t       * Set the width of the `this.node` based on the width of each star and\n\t       * the space between them\n\t       */\n\t\n\t      containerWidth = starWidth * options.numStars + spacing * (options.numStars - 1);\n\t\n\t      percentOfStar = starWidth / containerWidth * 100;\n\t\n\t      percentOfSpacing = spacing / containerWidth * 100;\n\t\n\t      $node.width(containerWidth);\n\t\n\t      showRating();\n\t    }\n\t\n\t    function setStarWidth(newWidth) {\n\t\n\t      /*\n\t       * Set the width and height of each SVG star, called whenever one changes the\n\t       * `starWidth` option\n\t       */\n\t\n\t      // The width and height of the star should be the same\n\t      var starHeight = options.starWidth = newWidth;\n\t\n\t      starWidth = window.parseFloat(options.starWidth.replace(\"px\", \"\"));\n\t\n\t      $normalGroup.find(\"svg\").attr({ width: options.starWidth,\n\t        height: starHeight });\n\t\n\t      $ratedGroup.find(\"svg\").attr({ width: options.starWidth,\n\t        height: starHeight });\n\t\n\t      setContainerWidth();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setSpacing(newSpacing) {\n\t\n\t      /*\n\t       * Set spacing between the SVG stars, called whenever one changes\n\t       * the `spacing` option\n\t       */\n\t\n\t      options.spacing = newSpacing;\n\t\n\t      spacing = parseFloat(options.spacing.replace(\"px\", \"\"));\n\t\n\t      $normalGroup.find(\"svg:not(:first-child)\").css({ \"margin-left\": newSpacing });\n\t\n\t      $ratedGroup.find(\"svg:not(:first-child)\").css({ \"margin-left\": newSpacing });\n\t\n\t      setContainerWidth();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setNormalFill(newFill) {\n\t\n\t      /*\n\t       * Set the background fill of the Stars, called whenever one changes the\n\t       * `normalFill` option\n\t       */\n\t\n\t      options.normalFill = newFill;\n\t\n\t      var $svgs = (options.rtl ? $ratedGroup : $normalGroup).find(\"svg\");\n\t\n\t      $svgs.attr({ fill: options.normalFill });\n\t\n\t      return $node;\n\t    }\n\t\n\t    /*\n\t     * Store the recent `ratedFill` option in a variable\n\t     * so that if multiColor is unset, we can use the perviously set `ratedFill`\n\t     * from this variable\n\t     */\n\t    var ratedFill = options.ratedFill;\n\t\n\t    function setRatedFill(newFill) {\n\t\n\t      /*\n\t       * Set ratedFill of the stars, called when one changes the `ratedFill` option\n\t       */\n\t\n\t      /*\n\t       * If `multiColor` option is set, `newFill` variable is dynamically set\n\t       * based on the rating, what ever set as parameter will be discarded\n\t       */\n\t      if (options.multiColor) {\n\t\n\t        var ratingDiff = currentRating - minValue,\n\t            percentCovered = ratingDiff / options.maxValue * 100;\n\t\n\t        var colorOpts = options.multiColor || {},\n\t            startColor = colorOpts.startColor || MULTICOLOR_OPTIONS.startColor,\n\t            endColor = colorOpts.endColor || MULTICOLOR_OPTIONS.endColor;\n\t\n\t        newFill = getColor(startColor, endColor, percentCovered);\n\t      } else {\n\t\n\t        ratedFill = newFill;\n\t      }\n\t\n\t      options.ratedFill = newFill;\n\t\n\t      var $svgs = (options.rtl ? $normalGroup : $ratedGroup).find(\"svg\");\n\t\n\t      $svgs.attr({ fill: options.ratedFill });\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setRtl(newValue) {\n\t\n\t      newValue = !!newValue;\n\t\n\t      options.rtl = newValue;\n\t\n\t      setNormalFill(options.normalFill);\n\t      showRating();\n\t    }\n\t\n\t    function setMultiColor(colorOptions) {\n\t\n\t      /*\n\t       * called whenever one changes the `multiColor` option\n\t       */\n\t\n\t      options.multiColor = colorOptions;\n\t\n\t      // set the recently set `ratedFill` option, if multiColor Options are unset\n\t      setRatedFill(colorOptions ? colorOptions : ratedFill);\n\t    }\n\t\n\t    function setNumStars(newValue) {\n\t\n\t      /*\n\t       * Set the number of stars to use to display the rating, called whenever one\n\t       * changes the `numStars` option\n\t       */\n\t\n\t      options.numStars = newValue;\n\t\n\t      step = options.maxValue / options.numStars;\n\t\n\t      $normalGroup.empty();\n\t      $ratedGroup.empty();\n\t\n\t      for (var i = 0; i < options.numStars; i++) {\n\t\n\t        $normalGroup.append($(options.starSvg || BASICSTAR));\n\t        $ratedGroup.append($(options.starSvg || BASICSTAR));\n\t      }\n\t\n\t      setStarWidth(options.starWidth);\n\t      setNormalFill(options.normalFill);\n\t      setSpacing(options.spacing);\n\t\n\t      showRating();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setMaxValue(newValue) {\n\t\n\t      /*\n\t       * set the Maximum Value of rating to be allowed, called whenever\n\t       * one changes the `maxValue` option\n\t       */\n\t\n\t      options.maxValue = newValue;\n\t\n\t      step = options.maxValue / options.numStars;\n\t\n\t      if (options.rating > newValue) {\n\t\n\t        setRating(newValue);\n\t      }\n\t\n\t      showRating();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setPrecision(newValue) {\n\t\n\t      /*\n\t       * Set the precision of the rating value, called if one changes the\n\t       * `precision` option\n\t       */\n\t\n\t      options.precision = newValue;\n\t\n\t      setRating(options.rating);\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setHalfStar(newValue) {\n\t\n\t      /*\n\t       * This function will be called if one changes the `halfStar` option\n\t       */\n\t\n\t      options.halfStar = newValue;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setFullStar(newValue) {\n\t\n\t      /*\n\t       * This function will be called if one changes the `fullStar` option\n\t       */\n\t\n\t      options.fullStar = newValue;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function round(value) {\n\t\n\t      /*\n\t       * Rounds the value of rating if `halfStar` or `fullStar` options are chosen\n\t       */\n\t\n\t      var remainder = value % step,\n\t          halfStep = step / 2,\n\t          isHalfStar = options.halfStar,\n\t          isFullStar = options.fullStar;\n\t\n\t      if (!isFullStar && !isHalfStar) {\n\t\n\t        return value;\n\t      }\n\t\n\t      if (isFullStar || isHalfStar && remainder > halfStep) {\n\t\n\t        value += step - remainder;\n\t      } else {\n\t\n\t        value = value - remainder;\n\t\n\t        if (remainder > 0) {\n\t\n\t          value += halfStep;\n\t        }\n\t      }\n\t\n\t      return value;\n\t    }\n\t\n\t    function calculateRating(e) {\n\t\n\t      /*\n\t       * Calculates and returns the rating based on the position of cursor w.r.t the\n\t       * plugin container\n\t       */\n\t\n\t      var position = $normalGroup.offset(),\n\t          nodeStartX = position.left,\n\t          nodeEndX = nodeStartX + $normalGroup.width();\n\t\n\t      var maxValue = options.maxValue;\n\t\n\t      // The x-coordinate(position) of the mouse pointer w.r.t page\n\t      var pageX = e.pageX;\n\t\n\t      var calculatedRating = 0;\n\t\n\t      // If the mouse pointer is to the left of the container\n\t      if (pageX < nodeStartX) {\n\t\n\t        calculatedRating = minValue;\n\t      } else if (pageX > nodeEndX) {\n\t        // If the mouse pointer is right of the container\n\t\n\t        calculatedRating = maxValue;\n\t      } else {\n\t        // If the mouse pointer is inside the continer\n\t\n\t        /*\n\t         * The fraction of width covered by the pointer w.r.t to the total width\n\t         * of the container.\n\t         */\n\t        var calcPrcnt = (pageX - nodeStartX) / (nodeEndX - nodeStartX);\n\t\n\t        if (spacing > 0) {\n\t\n\t          /*\n\t                  * If there is spacing between stars, take the percentage of width covered\n\t                  * and subtract the percentage of width covered by stars and spacing, to find\n\t                  * how many stars are covered, the number of stars covered is the rating\n\t                  *\n\t                  * TODO: I strongly feel that this logic can be improved!, Please help!\n\t                  */\n\t          calcPrcnt *= 100;\n\t\n\t          var remPrcnt = calcPrcnt;\n\t\n\t          while (remPrcnt > 0) {\n\t\n\t            if (remPrcnt > percentOfStar) {\n\t\n\t              calculatedRating += step;\n\t              remPrcnt -= percentOfStar + percentOfSpacing;\n\t            } else {\n\t\n\t              calculatedRating += remPrcnt / percentOfStar * step;\n\t              remPrcnt = 0;\n\t            }\n\t          }\n\t        } else {\n\t\n\t          /*\n\t           * If there is not spacing between stars, the fraction of width covered per\n\t           * `maxValue` is the rating\n\t           */\n\t          calculatedRating = calcPrcnt * options.maxValue;\n\t        }\n\t\n\t        // Round the rating if `halfStar` or `fullStar` options are chosen\n\t        calculatedRating = round(calculatedRating);\n\t      }\n\t\n\t      if (options.rtl) {\n\t\n\t        calculatedRating = maxValue - calculatedRating;\n\t      }\n\t\n\t      return calculatedRating;\n\t    }\n\t\n\t    function setReadOnly(newValue) {\n\t\n\t      /*\n\t       * UnBinds mouse event handlers, called when whenever one changes the\n\t       * `readOnly` option\n\t       */\n\t\n\t      options.readOnly = newValue;\n\t\n\t      $node.attr(\"readonly\", true);\n\t\n\t      unbindEvents();\n\t\n\t      if (!newValue) {\n\t\n\t        $node.removeAttr(\"readonly\");\n\t\n\t        bindEvents();\n\t      }\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setRating(newValue) {\n\t\n\t      /*\n\t       * Sets the rating of the Plugin, Called when option `rating` is changed\n\t       * or, when `rating` method is called\n\t       */\n\t\n\t      var rating = newValue;\n\t\n\t      var maxValue = options.maxValue;\n\t\n\t      if (typeof rating === \"string\") {\n\t\n\t        // If rating is given in percentage, maxValue should be 100\n\t        if (rating[rating.length - 1] === \"%\") {\n\t\n\t          rating = rating.substr(0, rating.length - 1);\n\t          maxValue = 100;\n\t\n\t          setMaxValue(maxValue);\n\t        }\n\t\n\t        rating = parseFloat(rating);\n\t      }\n\t\n\t      checkBounds(rating, minValue, maxValue);\n\t\n\t      rating = parseFloat(rating.toFixed(options.precision));\n\t\n\t      checkPrecision(parseFloat(rating), minValue, maxValue);\n\t\n\t      options.rating = rating;\n\t\n\t      showRating();\n\t\n\t      if (isInitialized) {\n\t\n\t        $node.trigger(\"rateyo.set\", { rating: rating });\n\t      }\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setOnInit(method) {\n\t\n\t      /*\n\t       * set what method to be called on Initialization\n\t       */\n\t\n\t      options.onInit = method;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setOnSet(method) {\n\t\n\t      /*\n\t       * set what method to be called when rating is set\n\t       */\n\t\n\t      options.onSet = method;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setOnChange(method) {\n\t\n\t      /*\n\t       * set what method to be called rating in the UI is changed\n\t       */\n\t\n\t      options.onChange = method;\n\t\n\t      return $node;\n\t    }\n\t\n\t    this.rating = function (newValue) {\n\t\n\t      /*\n\t       * rating getter/setter\n\t       */\n\t\n\t      if (!isDefined(newValue)) {\n\t\n\t        return options.rating;\n\t      }\n\t\n\t      setRating(newValue);\n\t\n\t      return $node;\n\t    };\n\t\n\t    this.destroy = function () {\n\t\n\t      /*\n\t       * Removes the Rating UI by clearing the content, and removing the custom classes\n\t       */\n\t\n\t      if (!options.readOnly) {\n\t\n\t        unbindEvents();\n\t      }\n\t\n\t      RateYo.prototype.collection = deleteInstance($node.get(0), this.collection);\n\t\n\t      $node.removeClass(\"jq-ry-container\").children().remove();\n\t\n\t      return $node;\n\t    };\n\t\n\t    this.method = function (methodName) {\n\t\n\t      /*\n\t       * Method to call the methods of RateYo Instance\n\t       */\n\t\n\t      if (!methodName) {\n\t\n\t        throw Error(\"Method name not specified!\");\n\t      }\n\t\n\t      if (!isDefined(this[methodName])) {\n\t\n\t        throw Error(\"Method \" + methodName + \" doesn't exist!\");\n\t      }\n\t\n\t      var args = Array.prototype.slice.apply(arguments, []),\n\t          params = args.slice(1),\n\t          method = this[methodName];\n\t\n\t      return method.apply(this, params);\n\t    };\n\t\n\t    this.option = function (optionName, param) {\n\t\n\t      /*\n\t       * Method to get/set Options\n\t       */\n\t\n\t      if (!isDefined(optionName)) {\n\t\n\t        return options;\n\t      }\n\t\n\t      var method;\n\t\n\t      switch (optionName) {\n\t\n\t        case \"starWidth\":\n\t\n\t          method = setStarWidth;\n\t          break;\n\t        case \"numStars\":\n\t\n\t          method = setNumStars;\n\t          break;\n\t        case \"normalFill\":\n\t\n\t          method = setNormalFill;\n\t          break;\n\t        case \"ratedFill\":\n\t\n\t          method = setRatedFill;\n\t          break;\n\t        case \"multiColor\":\n\t\n\t          method = setMultiColor;\n\t          break;\n\t        case \"maxValue\":\n\t\n\t          method = setMaxValue;\n\t          break;\n\t        case \"precision\":\n\t\n\t          method = setPrecision;\n\t          break;\n\t        case \"rating\":\n\t\n\t          method = setRating;\n\t          break;\n\t        case \"halfStar\":\n\t\n\t          method = setHalfStar;\n\t          break;\n\t        case \"fullStar\":\n\t\n\t          method = setFullStar;\n\t          break;\n\t        case \"readOnly\":\n\t\n\t          method = setReadOnly;\n\t          break;\n\t        case \"spacing\":\n\t\n\t          method = setSpacing;\n\t          break;\n\t        case \"rtl\":\n\t\n\t          method = setRtl;\n\t          break;\n\t        case \"onInit\":\n\t\n\t          method = setOnInit;\n\t          break;\n\t        case \"onSet\":\n\t\n\t          method = setOnSet;\n\t          break;\n\t        case \"onChange\":\n\t\n\t          method = setOnChange;\n\t          break;\n\t        default:\n\t\n\t          throw Error(\"No such option as \" + optionName);\n\t      }\n\t\n\t      return isDefined(param) ? method(param) : options[optionName];\n\t    };\n\t\n\t    function onMouseEnter(e) {\n\t\n\t      /*\n\t       * If the Mouse Pointer is inside the container, calculate and show the rating\n\t       * in UI\n\t       */\n\t\n\t      var rating = calculateRating(e).toFixed(options.precision);\n\t\n\t      var maxValue = options.maxValue;\n\t\n\t      rating = checkPrecision(parseFloat(rating), minValue, maxValue);\n\t\n\t      showRating(rating);\n\t\n\t      $node.trigger(\"rateyo.change\", { rating: rating });\n\t    }\n\t\n\t    function onMouseLeave() {\n\t      if (isMobileBrowser()) {\n\t        return;\n\t      }\n\t\n\t      /*\n\t       * If mouse leaves, revert the rating in UI to previously set rating,\n\t       * when empty value is passed to showRating, it will take the previously set\n\t       * rating\n\t       */\n\t\n\t      showRating();\n\t\n\t      $node.trigger(\"rateyo.change\", { rating: options.rating });\n\t    }\n\t\n\t    function onMouseClick(e) {\n\t\n\t      /*\n\t       * On clicking the mouse inside the container, calculate and set the rating\n\t       */\n\t\n\t      var resultantRating = calculateRating(e).toFixed(options.precision);\n\t      resultantRating = parseFloat(resultantRating);\n\t\n\t      that.rating(resultantRating);\n\t    }\n\t\n\t    function onInit(e, data) {\n\t\n\t      if (options.onInit && typeof options.onInit === \"function\") {\n\t\n\t        /* jshint validthis:true */\n\t        options.onInit.apply(this, [data.rating, that]);\n\t      }\n\t    }\n\t\n\t    function onChange(e, data) {\n\t\n\t      if (options.onChange && typeof options.onChange === \"function\") {\n\t\n\t        /* jshint validthis:true */\n\t        options.onChange.apply(this, [data.rating, that]);\n\t      }\n\t    }\n\t\n\t    function onSet(e, data) {\n\t\n\t      if (options.onSet && typeof options.onSet === \"function\") {\n\t\n\t        /* jshint validthis:true */\n\t        options.onSet.apply(this, [data.rating, that]);\n\t      }\n\t    }\n\t\n\t    function bindEvents() {\n\t\n\t      $node.on(\"mousemove\", onMouseEnter).on(\"mouseenter\", onMouseEnter).on(\"mouseleave\", onMouseLeave).on(\"click\", onMouseClick).on(\"rateyo.init\", onInit).on(\"rateyo.change\", onChange).on(\"rateyo.set\", onSet);\n\t    }\n\t\n\t    function unbindEvents() {\n\t\n\t      $node.off(\"mousemove\", onMouseEnter).off(\"mouseenter\", onMouseEnter).off(\"mouseleave\", onMouseLeave).off(\"click\", onMouseClick).off(\"rateyo.init\", onInit).off(\"rateyo.change\", onChange).off(\"rateyo.set\", onSet);\n\t    }\n\t\n\t    setNumStars(options.numStars);\n\t    setReadOnly(options.readOnly);\n\t\n\t    if (options.rtl) {\n\t\n\t      setRtl(options.rtl);\n\t    }\n\t\n\t    this.collection.push(this);\n\t    this.rating(options.rating, true);\n\t\n\t    isInitialized = true;\n\t    $node.trigger(\"rateyo.init\", { rating: options.rating });\n\t  }\n\t\n\t  RateYo.prototype.collection = [];\n\t\n\t  function getInstance(node, collection) {\n\t\n\t    /*\n\t     * Given a HTML element (node) and a collection of RateYo instances,\n\t     * this function will search through the collection and return the matched\n\t     * instance having the node\n\t     */\n\t\n\t    var instance;\n\t\n\t    $.each(collection, function () {\n\t\n\t      if (node === this.node) {\n\t\n\t        instance = this;\n\t        return false;\n\t      }\n\t    });\n\t\n\t    return instance;\n\t  }\n\t\n\t  function deleteInstance(node, collection) {\n\t\n\t    /*\n\t     * Given a HTML element (node) and a collection of RateYo instances,\n\t     * this function will search through the collection and delete the\n\t     * instance having the node, and return the modified collection\n\t     */\n\t\n\t    $.each(collection, function (index) {\n\t\n\t      if (node === this.node) {\n\t\n\t        var firstPart = collection.slice(0, index),\n\t            secondPart = collection.slice(index + 1, collection.length);\n\t\n\t        collection = firstPart.concat(secondPart);\n\t\n\t        return false;\n\t      }\n\t    });\n\t\n\t    return collection;\n\t  }\n\t\n\t  function _rateYo(options) {\n\t\n\t    var rateYoInstances = RateYo.prototype.collection;\n\t\n\t    /* jshint validthis:true */\n\t    var $nodes = $(this);\n\t\n\t    if ($nodes.length === 0) {\n\t\n\t      return $nodes;\n\t    }\n\t\n\t    var args = Array.prototype.slice.apply(arguments, []);\n\t\n\t    if (args.length === 0) {\n\t\n\t      //If args length is 0, Initialize the UI with default settings\n\t      options = args[0] = {};\n\t    } else if (args.length === 1 && typeof args[0] === \"object\") {\n\t\n\t      //If an Object is specified as first argument, it is considered as options\n\t      options = args[0];\n\t    } else if (args.length >= 1 && typeof args[0] === \"string\") {\n\t\n\t      /*\n\t       * if there is only one argument, and if its a string, it is supposed to be a\n\t       * method name, if more than one argument is specified, the remaining arguments\n\t       * except the first argument, will be passed as a params to the specified method\n\t       */\n\t\n\t      var methodName = args[0],\n\t          params = args.slice(1);\n\t\n\t      var result = [];\n\t\n\t      $.each($nodes, function (i, node) {\n\t\n\t        var existingInstance = getInstance(node, rateYoInstances);\n\t\n\t        if (!existingInstance) {\n\t\n\t          throw Error(\"Trying to set options before even initialization\");\n\t        }\n\t\n\t        var method = existingInstance[methodName];\n\t\n\t        if (!method) {\n\t\n\t          throw Error(\"Method \" + methodName + \" does not exist!\");\n\t        }\n\t\n\t        var returnVal = method.apply(existingInstance, params);\n\t\n\t        result.push(returnVal);\n\t      });\n\t\n\t      /*\n\t       * If the plugin in being called on only one jQuery Element, return only the\n\t       * first value, to support chaining.\n\t       */\n\t      result = result.length === 1 ? result[0] : result;\n\t\n\t      return result;\n\t    } else {\n\t\n\t      throw Error(\"Invalid Arguments\");\n\t    }\n\t\n\t    /*\n\t     * if only options are passed, extend default options, and if the plugin is not\n\t     * initialized on a particular jQuery element, initalize RateYo on it\n\t     */\n\t    options = $.extend({}, DEFAULTS, options);\n\t\n\t    return $.each($nodes, function () {\n\t\n\t      var existingInstance = getInstance(this, rateYoInstances);\n\t\n\t      if (!existingInstance) {\n\t\n\t        return new RateYo($(this), $.extend({}, options));\n\t      }\n\t    });\n\t  }\n\t\n\t  function rateYo() {\n\t\n\t    /* jshint validthis:true */\n\t    return _rateYo.apply(this, Array.prototype.slice.apply(arguments, []));\n\t  }\n\t\n\t  window.RateYo = RateYo;\n\t  $.fn.rateYo = rateYo;\n\t})(window.jQuery);\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (name) {};\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _customformInput = __webpack_require__(6);\n\t\n\tvar _customformInput2 = _interopRequireDefault(_customformInput);\n\t\n\tvar _asyncModulesAjaxselect = __webpack_require__(10);\n\t\n\tvar _asyncModulesAjaxselect2 = _interopRequireDefault(_asyncModulesAjaxselect);\n\t\n\tvar _asyncModulesTaxonomy = __webpack_require__(26);\n\t\n\tvar _asyncModulesTaxonomy2 = _interopRequireDefault(_asyncModulesTaxonomy);\n\t\n\tvar _asyncModulesDropzoneUploader = __webpack_require__(14);\n\t\n\tvar _asyncModulesDropzoneUploader2 = _interopRequireDefault(_asyncModulesDropzoneUploader);\n\t\n\t__webpack_require__(22);\n\t\n\t__webpack_require__(23);\n\t\n\t__webpack_require__(11);\n\t\n\tmodule.exports = function (name) {\n\t  var $root = $(name);\n\t  var $steps = $root.find('[data-toggle=\"steps\"]');\n\t  var $form = $root.find('[data-toggle=\"form\"]');\n\t  var $templateOrganizationUser = $('#template-organization-user');\n\t  var childElementSelector = 'input,select,textarea,label,div';\n\t  var usersId = [];\n\t  $form.validate({\n\t    errorPlacement: function errorPlacement(error, element) {\n\t      if (element[0].id == 'id_communities-selectized') {\n\t        element.parent().after(error);\n\t      } else {\n\t        element.after(error);\n\t      }\n\t    },\n\t    highlight: function highlight(element, errorClass, validClass) {\n\t      $(element).parents('.customform').addClass('customform-error');\n\t    },\n\t    unhighlight: function unhighlight(element, errorClass, validClass) {\n\t      $(element).parents('.customform').removeClass('customform-error');\n\t    }\n\t  });\n\t  $steps.children('[role=\"tablist\"]').steps({\n\t    headerTag: '.organization__register__tab',\n\t    bodyTag: '[role=\"tabpanel\"]',\n\t    enableAllSteps: true,\n\t    transitionEffect: 'slideLeft',\n\t    titleTemplate: '#title#',\n\t    labels: {\n\t      cancel: \"Cancelar\",\n\t      current: \"passo atual:\",\n\t      pagination: \"Paginao\",\n\t      finish: \"Salvar\",\n\t      next: \"Avanar\",\n\t      previous: \"Voltar\",\n\t      loading: \"Carregando ...\"\n\t    },\n\t    onInit: function onInit(event, currentIndex) {\n\t      var $user = $('[name=\"user\"]');\n\t      var $role = $('[name=\"permission\"]');\n\t      var $formset = $root.find('[data-toggle=\"formset\"]');\n\t      var totalForms = $('#id_' + $formset.data('name') + '-TOTAL_FORMS');\n\t      var maxForms = $('#id_' + $formset.data('name') + '-MAX_NUM_FORMS');\n\t      var minForms = $('#id_' + $formset.data('name') + '-MIN_NUM_FORMS');\n\t      (0, _customformInput2['default'])($root.find('[data-toggle=\"input\"]'));\n\t      (0, _asyncModulesAjaxselect2['default'])($('[data-select=\"ajaxselect\"]'));\n\t      (0, _asyncModulesTaxonomy2['default'])($('[data-select=\"taxonomy\"]'));\n\t      (0, _asyncModulesDropzoneUploader2['default'])($('[data-toggle=\"dropzoneUploader\"]'));\n\t      var usersList = $user[0].selectize;\n\t      var communitiesList = $('[data-select=\"taxonomy\"]')[0].selectize;\n\t      var communitiesErrorMsg = communitiesList.$input.data('msg');\n\t      communitiesList.$control_input.data('msg', communitiesErrorMsg);\n\t      $formset.find('[data-id]').each(function (index, element) {\n\t        usersId.push($(element).data('id'));\n\t      });\n\t\n\t      $root.find('[data-toggle=\"add-member\"]').on('click', function (event) {\n\t        var $this = $(event.currentTarget);\n\t        var formPrefix = $formset.data('name');\n\t        var formCount = parseInt(totalForms.val());\n\t        var userTemplate = $templateOrganizationUser.clone(true);\n\t        if ($user.val() && $role.val()) {\n\t          userTemplate.find('[name $=' + $user.attr('name') + ']').val($user.val());\n\t          userTemplate.find('[name $=' + $role.attr('name') + ']').val($role.val());\n\t          userTemplate.removeAttr('id');\n\t          userTemplate.removeProp('id');\n\t          var userValue = parseInt($user.val(), 10);\n\t          if (!(usersId.indexOf(userValue) > -1)) {\n\t            userTemplate.find(childElementSelector).each(function (index, element) {\n\t              updateElementIndex($(element), formPrefix, formCount);\n\t            });\n\t            totalForms.val(formCount + 1);\n\t            $(userTemplate).find('[data-target=\"name\"]').text($user.text());\n\t            $(userTemplate).find('[data-target=\"role\"]').text($role.find('option:selected').text());\n\t            $(userTemplate).find('img').attr('src', location.origin + '/perfil/dinamic-profile-image/' + $user.val() + '/70/');\n\t            userTemplate.removeClass('hidden');\n\t            userTemplate.data('id', $user.val());\n\t            $formset.append(userTemplate);\n\t            usersId.push(userValue);\n\t          }\n\t        }\n\t\n\t        usersList.clear();\n\t      });\n\t\n\t      $formset.on('click', '.gsticon.gsticon-close', function (event) {\n\t        var $this = $(event.currentTarget);\n\t        var _user = $this.parent().parent();\n\t        usersId.some(function (user) {\n\t          if (user == _user.data('id')) {\n\t            usersId.splice(usersId.indexOf(user), 1);\n\t            _user.hide();\n\t          }\n\t        });\n\t      });\n\t      $('.actions > ul > li:first-child').attr('style', 'display:none');\n\t    },\n\t    onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t      if (newIndex > 0) {\n\t        $('.actions > ul > li:first-child').attr('style', '');\n\t      } else {\n\t        $('.actions > ul > li:first-child').attr('style', 'display:none');\n\t      }\n\t      $form.validate().settings.ignore = ':disabled,:hidden';\n\t      return $form.valid();\n\t    },\n\t    onFinishing: function onFinishing(event, currentIndex) {\n\t      $form.validate().settings.ignore = ':disabled,:hidden';\n\t      return $form.valid();\n\t    },\n\t    onFinished: function onFinished(event, currentIndex) {\n\t      $form.submit();\n\t    }\n\t  });\n\t};\n\t\n\tfunction updateElementIndex(elem, prefix, ndx) {\n\t  var idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n\t      replacement = prefix + '-' + ndx + '-';\n\t  if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n\t  if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n\t  if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t$(document).on('input', '[data-filter=\"textbox\"]', function (event) {\n\t  var $this = $(event.currentTarget);\n\t  var timeout;\n\t\n\t  if (event.type == 'keyup' && event.keyCode != 8) return;\n\t\n\t  if (!timeout) {\n\t    timeout = setTimeout(function () {\n\t      $this.closest('form').submit();\n\t    }, 500);\n\t  } else {\n\t    clearTimeout(timeout);\n\t  }\n\t\n\t  console.log($this);\n\t});\n\t\n\t$(document).on('change', '[data-filter=\"select\"]', function (event) {\n\t  var $this = $(event.currentTarget);\n\t  $this.closest('form').submit();\n\t});\n\t\n\t$('[data-toggle=\"filter\"]').on(\"ajaxform.success\", function (event, data) {});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t__webpack_require__(74);\n\t\n\t__webpack_require__(69);\n\t\n\tvar defaultRate = {\n\t  halfStar: true,\n\t  normalFill: '#a09e9e',\n\t  ratedFill: '#d68004',\n\t  spacing: '2px',\n\t  starWidth: '20px'\n\t};\n\t\n\tmodule.exports = function (mod) {\n\t  var $module = $(mod);\n\t  var $rating = $module.find('[data-toggle=\"rating\"]');\n\t\n\t  $module.on('jcarousel:reload jcarousel:create', function () {\n\t    var carousel = $(this),\n\t        width = carousel.innerWidth();\n\t\n\t    if (width > 768) {\n\t      width = width / 4;\n\t    } else if (width < 768 && width > 480) {\n\t      width = width / 2;\n\t    } else if (width <= 480) {\n\t      width = width;\n\t    }\n\t\n\t    carousel.jcarousel('items').css('width', Math.ceil(width) + 'px');\n\t  }).jcarousel({\n\t    wrap: 'circular'\n\t  });\n\t\n\t  $('.jcarousel-control-prev').jcarouselControl({\n\t    target: '-=1'\n\t  });\n\t\n\t  $('.jcarousel-control-next').jcarouselControl({\n\t    target: '+=1'\n\t  });\n\t\n\t  $rating.each(function (index, item) {\n\t    var $this = $(item);\n\t    var dataConfig = $this.data('config');\n\t    var settings = $.extend({}, defaultRate, dataConfig);\n\t    $this.rateYo(settings);\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/*! jCarousel - v0.3.4 - 2015-09-23\n\t* http://sorgalla.com/jcarousel/\n\t* Copyright (c) 2006-2015 Jan Sorgalla; Licensed MIT */\n\t'use strict';\n\t\n\t(function ($) {\n\t    'use strict';\n\t\n\t    var jCarousel = $.jCarousel = {};\n\t\n\t    jCarousel.version = '0.3.4';\n\t\n\t    var rRelativeTarget = /^([+\\-]=)?(.+)$/;\n\t\n\t    jCarousel.parseTarget = function (target) {\n\t        var relative = false,\n\t            parts = typeof target !== 'object' ? rRelativeTarget.exec(target) : null;\n\t\n\t        if (parts) {\n\t            target = parseInt(parts[2], 10) || 0;\n\t\n\t            if (parts[1]) {\n\t                relative = true;\n\t                if (parts[1] === '-=') {\n\t                    target *= -1;\n\t                }\n\t            }\n\t        } else if (typeof target !== 'object') {\n\t            target = parseInt(target, 10) || 0;\n\t        }\n\t\n\t        return {\n\t            target: target,\n\t            relative: relative\n\t        };\n\t    };\n\t\n\t    jCarousel.detectCarousel = function (element) {\n\t        var carousel;\n\t\n\t        while (element.length > 0) {\n\t            carousel = element.filter('[data-jcarousel]');\n\t\n\t            if (carousel.length > 0) {\n\t                return carousel;\n\t            }\n\t\n\t            carousel = element.find('[data-jcarousel]');\n\t\n\t            if (carousel.length > 0) {\n\t                return carousel;\n\t            }\n\t\n\t            element = element.parent();\n\t        }\n\t\n\t        return null;\n\t    };\n\t\n\t    jCarousel.base = function (pluginName) {\n\t        return {\n\t            version: jCarousel.version,\n\t            _options: {},\n\t            _element: null,\n\t            _carousel: null,\n\t            _init: $.noop,\n\t            _create: $.noop,\n\t            _destroy: $.noop,\n\t            _reload: $.noop,\n\t            create: function create() {\n\t                this._element.attr('data-' + pluginName.toLowerCase(), true).data(pluginName, this);\n\t\n\t                if (false === this._trigger('create')) {\n\t                    return this;\n\t                }\n\t\n\t                this._create();\n\t\n\t                this._trigger('createend');\n\t\n\t                return this;\n\t            },\n\t            destroy: function destroy() {\n\t                if (false === this._trigger('destroy')) {\n\t                    return this;\n\t                }\n\t\n\t                this._destroy();\n\t\n\t                this._trigger('destroyend');\n\t\n\t                this._element.removeData(pluginName).removeAttr('data-' + pluginName.toLowerCase());\n\t\n\t                return this;\n\t            },\n\t            reload: function reload(options) {\n\t                if (false === this._trigger('reload')) {\n\t                    return this;\n\t                }\n\t\n\t                if (options) {\n\t                    this.options(options);\n\t                }\n\t\n\t                this._reload();\n\t\n\t                this._trigger('reloadend');\n\t\n\t                return this;\n\t            },\n\t            element: function element() {\n\t                return this._element;\n\t            },\n\t            options: function options(key, value) {\n\t                if (arguments.length === 0) {\n\t                    return $.extend({}, this._options);\n\t                }\n\t\n\t                if (typeof key === 'string') {\n\t                    if (typeof value === 'undefined') {\n\t                        return typeof this._options[key] === 'undefined' ? null : this._options[key];\n\t                    }\n\t\n\t                    this._options[key] = value;\n\t                } else {\n\t                    this._options = $.extend({}, this._options, key);\n\t                }\n\t\n\t                return this;\n\t            },\n\t            carousel: function carousel() {\n\t                if (!this._carousel) {\n\t                    this._carousel = jCarousel.detectCarousel(this.options('carousel') || this._element);\n\t\n\t                    if (!this._carousel) {\n\t                        $.error('Could not detect carousel for plugin \"' + pluginName + '\"');\n\t                    }\n\t                }\n\t\n\t                return this._carousel;\n\t            },\n\t            _trigger: function _trigger(type, element, data) {\n\t                var event,\n\t                    defaultPrevented = false;\n\t\n\t                data = [this].concat(data || []);\n\t\n\t                (element || this._element).each(function () {\n\t                    event = $.Event((pluginName + ':' + type).toLowerCase());\n\t\n\t                    $(this).trigger(event, data);\n\t\n\t                    if (event.isDefaultPrevented()) {\n\t                        defaultPrevented = true;\n\t                    }\n\t                });\n\t\n\t                return !defaultPrevented;\n\t            }\n\t        };\n\t    };\n\t\n\t    jCarousel.plugin = function (pluginName, pluginPrototype) {\n\t        var Plugin = $[pluginName] = function (element, options) {\n\t            this._element = $(element);\n\t            this.options(options);\n\t\n\t            this._init();\n\t            this.create();\n\t        };\n\t\n\t        Plugin.fn = Plugin.prototype = $.extend({}, jCarousel.base(pluginName), pluginPrototype);\n\t\n\t        $.fn[pluginName] = function (options) {\n\t            var args = Array.prototype.slice.call(arguments, 1),\n\t                returnValue = this;\n\t\n\t            if (typeof options === 'string') {\n\t                this.each(function () {\n\t                    var instance = $(this).data(pluginName);\n\t\n\t                    if (!instance) {\n\t                        return $.error('Cannot call methods on ' + pluginName + ' prior to initialization; ' + 'attempted to call method \"' + options + '\"');\n\t                    }\n\t\n\t                    if (!$.isFunction(instance[options]) || options.charAt(0) === '_') {\n\t                        return $.error('No such method \"' + options + '\" for ' + pluginName + ' instance');\n\t                    }\n\t\n\t                    var methodValue = instance[options].apply(instance, args);\n\t\n\t                    if (methodValue !== instance && typeof methodValue !== 'undefined') {\n\t                        returnValue = methodValue;\n\t                        return false;\n\t                    }\n\t                });\n\t            } else {\n\t                this.each(function () {\n\t                    var instance = $(this).data(pluginName);\n\t\n\t                    if (instance instanceof Plugin) {\n\t                        instance.reload(options);\n\t                    } else {\n\t                        new Plugin(this, options);\n\t                    }\n\t                });\n\t            }\n\t\n\t            return returnValue;\n\t        };\n\t\n\t        return Plugin;\n\t    };\n\t})(jQuery);\n\t\n\t(function ($, window) {\n\t    'use strict';\n\t\n\t    var toFloat = function toFloat(val) {\n\t        return parseFloat(val) || 0;\n\t    };\n\t\n\t    $.jCarousel.plugin('jcarousel', {\n\t        animating: false,\n\t        tail: 0,\n\t        inTail: false,\n\t        resizeTimer: null,\n\t        lt: null,\n\t        vertical: false,\n\t        rtl: false,\n\t        circular: false,\n\t        underflow: false,\n\t        relative: false,\n\t\n\t        _options: {\n\t            list: function list() {\n\t                return this.element().children().eq(0);\n\t            },\n\t            items: function items() {\n\t                return this.list().children();\n\t            },\n\t            animation: 400,\n\t            transitions: false,\n\t            wrap: null,\n\t            vertical: null,\n\t            rtl: null,\n\t            center: false\n\t        },\n\t\n\t        // Protected, don't access directly\n\t        _list: null,\n\t        _items: null,\n\t        _target: $(),\n\t        _first: $(),\n\t        _last: $(),\n\t        _visible: $(),\n\t        _fullyvisible: $(),\n\t        _init: function _init() {\n\t            var self = this;\n\t\n\t            this.onWindowResize = function () {\n\t                if (self.resizeTimer) {\n\t                    clearTimeout(self.resizeTimer);\n\t                }\n\t\n\t                self.resizeTimer = setTimeout(function () {\n\t                    self.reload();\n\t                }, 100);\n\t            };\n\t\n\t            return this;\n\t        },\n\t        _create: function _create() {\n\t            this._reload();\n\t\n\t            $(window).on('resize.jcarousel', this.onWindowResize);\n\t        },\n\t        _destroy: function _destroy() {\n\t            $(window).off('resize.jcarousel', this.onWindowResize);\n\t        },\n\t        _reload: function _reload() {\n\t            this.vertical = this.options('vertical');\n\t\n\t            if (this.vertical == null) {\n\t                this.vertical = this.list().height() > this.list().width();\n\t            }\n\t\n\t            this.rtl = this.options('rtl');\n\t\n\t            if (this.rtl == null) {\n\t                this.rtl = (function (element) {\n\t                    if (('' + element.attr('dir')).toLowerCase() === 'rtl') {\n\t                        return true;\n\t                    }\n\t\n\t                    var found = false;\n\t\n\t                    element.parents('[dir]').each(function () {\n\t                        if (/rtl/i.test($(this).attr('dir'))) {\n\t                            found = true;\n\t                            return false;\n\t                        }\n\t                    });\n\t\n\t                    return found;\n\t                })(this._element);\n\t            }\n\t\n\t            this.lt = this.vertical ? 'top' : 'left';\n\t\n\t            // Ensure before closest() call\n\t            this.relative = this.list().css('position') === 'relative';\n\t\n\t            // Force list and items reload\n\t            this._list = null;\n\t            this._items = null;\n\t\n\t            var item = this.index(this._target) >= 0 ? this._target : this.closest();\n\t\n\t            // _prepare() needs this here\n\t            this.circular = this.options('wrap') === 'circular';\n\t            this.underflow = false;\n\t\n\t            var props = { 'left': 0, 'top': 0 };\n\t\n\t            if (item.length > 0) {\n\t                this._prepare(item);\n\t                this.list().find('[data-jcarousel-clone]').remove();\n\t\n\t                // Force items reload\n\t                this._items = null;\n\t\n\t                this.underflow = this._fullyvisible.length >= this.items().length;\n\t                this.circular = this.circular && !this.underflow;\n\t\n\t                props[this.lt] = this._position(item) + 'px';\n\t            }\n\t\n\t            this.move(props);\n\t\n\t            return this;\n\t        },\n\t        list: function list() {\n\t            if (this._list === null) {\n\t                var option = this.options('list');\n\t                this._list = $.isFunction(option) ? option.call(this) : this._element.find(option);\n\t            }\n\t\n\t            return this._list;\n\t        },\n\t        items: function items() {\n\t            if (this._items === null) {\n\t                var option = this.options('items');\n\t                this._items = ($.isFunction(option) ? option.call(this) : this.list().find(option)).not('[data-jcarousel-clone]');\n\t            }\n\t\n\t            return this._items;\n\t        },\n\t        index: function index(item) {\n\t            return this.items().index(item);\n\t        },\n\t        closest: function closest() {\n\t            var self = this,\n\t                pos = this.list().position()[this.lt],\n\t                closest = $(),\n\t                // Ensure we're returning a jQuery instance\n\t            stop = false,\n\t                lrb = this.vertical ? 'bottom' : this.rtl && !this.relative ? 'left' : 'right',\n\t                width;\n\t\n\t            if (this.rtl && this.relative && !this.vertical) {\n\t                pos += this.list().width() - this.clipping();\n\t            }\n\t\n\t            this.items().each(function () {\n\t                closest = $(this);\n\t\n\t                if (stop) {\n\t                    return false;\n\t                }\n\t\n\t                var dim = self.dimension(closest);\n\t\n\t                pos += dim;\n\t\n\t                if (pos >= 0) {\n\t                    width = dim - toFloat(closest.css('margin-' + lrb));\n\t\n\t                    if (Math.abs(pos) - dim + width / 2 <= 0) {\n\t                        stop = true;\n\t                    } else {\n\t                        return false;\n\t                    }\n\t                }\n\t            });\n\t\n\t            return closest;\n\t        },\n\t        target: function target() {\n\t            return this._target;\n\t        },\n\t        first: function first() {\n\t            return this._first;\n\t        },\n\t        last: function last() {\n\t            return this._last;\n\t        },\n\t        visible: function visible() {\n\t            return this._visible;\n\t        },\n\t        fullyvisible: function fullyvisible() {\n\t            return this._fullyvisible;\n\t        },\n\t        hasNext: function hasNext() {\n\t            if (false === this._trigger('hasnext')) {\n\t                return true;\n\t            }\n\t\n\t            var wrap = this.options('wrap'),\n\t                end = this.items().length - 1,\n\t                check = this.options('center') ? this._target : this._last;\n\t\n\t            return end >= 0 && !this.underflow && (wrap && wrap !== 'first' || this.index(check) < end || this.tail && !this.inTail) ? true : false;\n\t        },\n\t        hasPrev: function hasPrev() {\n\t            if (false === this._trigger('hasprev')) {\n\t                return true;\n\t            }\n\t\n\t            var wrap = this.options('wrap');\n\t\n\t            return this.items().length > 0 && !this.underflow && (wrap && wrap !== 'last' || this.index(this._first) > 0 || this.tail && this.inTail) ? true : false;\n\t        },\n\t        clipping: function clipping() {\n\t            return this._element['inner' + (this.vertical ? 'Height' : 'Width')]();\n\t        },\n\t        dimension: function dimension(element) {\n\t            return element['outer' + (this.vertical ? 'Height' : 'Width')](true);\n\t        },\n\t        scroll: function scroll(target, animate, callback) {\n\t            if (this.animating) {\n\t                return this;\n\t            }\n\t\n\t            if (false === this._trigger('scroll', null, [target, animate])) {\n\t                return this;\n\t            }\n\t\n\t            if ($.isFunction(animate)) {\n\t                callback = animate;\n\t                animate = true;\n\t            }\n\t\n\t            var parsed = $.jCarousel.parseTarget(target);\n\t\n\t            if (parsed.relative) {\n\t                var end = this.items().length - 1,\n\t                    scroll = Math.abs(parsed.target),\n\t                    wrap = this.options('wrap'),\n\t                    current,\n\t                    first,\n\t                    index,\n\t                    start,\n\t                    curr,\n\t                    isVisible,\n\t                    props,\n\t                    i;\n\t\n\t                if (parsed.target > 0) {\n\t                    var last = this.index(this._last);\n\t\n\t                    if (last >= end && this.tail) {\n\t                        if (!this.inTail) {\n\t                            this._scrollTail(animate, callback);\n\t                        } else {\n\t                            if (wrap === 'both' || wrap === 'last') {\n\t                                this._scroll(0, animate, callback);\n\t                            } else {\n\t                                if ($.isFunction(callback)) {\n\t                                    callback.call(this, false);\n\t                                }\n\t                            }\n\t                        }\n\t                    } else {\n\t                        current = this.index(this._target);\n\t\n\t                        if (this.underflow && current === end && (wrap === 'circular' || wrap === 'both' || wrap === 'last') || !this.underflow && last === end && (wrap === 'both' || wrap === 'last')) {\n\t                            this._scroll(0, animate, callback);\n\t                        } else {\n\t                            index = current + scroll;\n\t\n\t                            if (this.circular && index > end) {\n\t                                i = end;\n\t                                curr = this.items().get(-1);\n\t\n\t                                while (i++ < index) {\n\t                                    curr = this.items().eq(0);\n\t                                    isVisible = this._visible.index(curr) >= 0;\n\t\n\t                                    if (isVisible) {\n\t                                        curr.after(curr.clone(true).attr('data-jcarousel-clone', true));\n\t                                    }\n\t\n\t                                    this.list().append(curr);\n\t\n\t                                    if (!isVisible) {\n\t                                        props = {};\n\t                                        props[this.lt] = this.dimension(curr);\n\t                                        this.moveBy(props);\n\t                                    }\n\t\n\t                                    // Force items reload\n\t                                    this._items = null;\n\t                                }\n\t\n\t                                this._scroll(curr, animate, callback);\n\t                            } else {\n\t                                this._scroll(Math.min(index, end), animate, callback);\n\t                            }\n\t                        }\n\t                    }\n\t                } else {\n\t                    if (this.inTail) {\n\t                        this._scroll(Math.max(this.index(this._first) - scroll + 1, 0), animate, callback);\n\t                    } else {\n\t                        first = this.index(this._first);\n\t                        current = this.index(this._target);\n\t                        start = this.underflow ? current : first;\n\t                        index = start - scroll;\n\t\n\t                        if (start <= 0 && (this.underflow && wrap === 'circular' || wrap === 'both' || wrap === 'first')) {\n\t                            this._scroll(end, animate, callback);\n\t                        } else {\n\t                            if (this.circular && index < 0) {\n\t                                i = index;\n\t                                curr = this.items().get(0);\n\t\n\t                                while (i++ < 0) {\n\t                                    curr = this.items().eq(-1);\n\t                                    isVisible = this._visible.index(curr) >= 0;\n\t\n\t                                    if (isVisible) {\n\t                                        curr.after(curr.clone(true).attr('data-jcarousel-clone', true));\n\t                                    }\n\t\n\t                                    this.list().prepend(curr);\n\t\n\t                                    // Force items reload\n\t                                    this._items = null;\n\t\n\t                                    var dim = this.dimension(curr);\n\t\n\t                                    props = {};\n\t                                    props[this.lt] = -dim;\n\t                                    this.moveBy(props);\n\t                                }\n\t\n\t                                this._scroll(curr, animate, callback);\n\t                            } else {\n\t                                this._scroll(Math.max(index, 0), animate, callback);\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            } else {\n\t                this._scroll(parsed.target, animate, callback);\n\t            }\n\t\n\t            this._trigger('scrollend');\n\t\n\t            return this;\n\t        },\n\t        moveBy: function moveBy(properties, opts) {\n\t            var position = this.list().position(),\n\t                multiplier = 1,\n\t                correction = 0;\n\t\n\t            if (this.rtl && !this.vertical) {\n\t                multiplier = -1;\n\t\n\t                if (this.relative) {\n\t                    correction = this.list().width() - this.clipping();\n\t                }\n\t            }\n\t\n\t            if (properties.left) {\n\t                properties.left = position.left + correction + toFloat(properties.left) * multiplier + 'px';\n\t            }\n\t\n\t            if (properties.top) {\n\t                properties.top = position.top + correction + toFloat(properties.top) * multiplier + 'px';\n\t            }\n\t\n\t            return this.move(properties, opts);\n\t        },\n\t        move: function move(properties, opts) {\n\t            opts = opts || {};\n\t\n\t            var option = this.options('transitions'),\n\t                transitions = !!option,\n\t                transforms = !!option.transforms,\n\t                transforms3d = !!option.transforms3d,\n\t                duration = opts.duration || 0,\n\t                list = this.list();\n\t\n\t            if (!transitions && duration > 0) {\n\t                list.animate(properties, opts);\n\t                return;\n\t            }\n\t\n\t            var complete = opts.complete || $.noop,\n\t                css = {};\n\t\n\t            if (transitions) {\n\t                var backup = {\n\t                    transitionDuration: list.css('transitionDuration'),\n\t                    transitionTimingFunction: list.css('transitionTimingFunction'),\n\t                    transitionProperty: list.css('transitionProperty')\n\t                },\n\t                    oldComplete = complete;\n\t\n\t                complete = function () {\n\t                    $(this).css(backup);\n\t                    oldComplete.call(this);\n\t                };\n\t                css = {\n\t                    transitionDuration: (duration > 0 ? duration / 1000 : 0) + 's',\n\t                    transitionTimingFunction: option.easing || opts.easing,\n\t                    transitionProperty: duration > 0 ? (function () {\n\t                        if (transforms || transforms3d) {\n\t                            // We have to use 'all' because jQuery doesn't prefix\n\t                            // css values, like transition-property: transform;\n\t                            return 'all';\n\t                        }\n\t\n\t                        return properties.left ? 'left' : 'top';\n\t                    })() : 'none',\n\t                    transform: 'none'\n\t                };\n\t            }\n\t\n\t            if (transforms3d) {\n\t                css.transform = 'translate3d(' + (properties.left || 0) + ',' + (properties.top || 0) + ',0)';\n\t            } else if (transforms) {\n\t                css.transform = 'translate(' + (properties.left || 0) + ',' + (properties.top || 0) + ')';\n\t            } else {\n\t                $.extend(css, properties);\n\t            }\n\t\n\t            if (transitions && duration > 0) {\n\t                list.one('transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd', complete);\n\t            }\n\t\n\t            list.css(css);\n\t\n\t            if (duration <= 0) {\n\t                list.each(function () {\n\t                    complete.call(this);\n\t                });\n\t            }\n\t        },\n\t        _scroll: function _scroll(item, animate, callback) {\n\t            if (this.animating) {\n\t                if ($.isFunction(callback)) {\n\t                    callback.call(this, false);\n\t                }\n\t\n\t                return this;\n\t            }\n\t\n\t            if (typeof item !== 'object') {\n\t                item = this.items().eq(item);\n\t            } else if (typeof item.jquery === 'undefined') {\n\t                item = $(item);\n\t            }\n\t\n\t            if (item.length === 0) {\n\t                if ($.isFunction(callback)) {\n\t                    callback.call(this, false);\n\t                }\n\t\n\t                return this;\n\t            }\n\t\n\t            this.inTail = false;\n\t\n\t            this._prepare(item);\n\t\n\t            var pos = this._position(item),\n\t                currPos = this.list().position()[this.lt];\n\t\n\t            if (pos === currPos) {\n\t                if ($.isFunction(callback)) {\n\t                    callback.call(this, false);\n\t                }\n\t\n\t                return this;\n\t            }\n\t\n\t            var properties = {};\n\t            properties[this.lt] = pos + 'px';\n\t\n\t            this._animate(properties, animate, callback);\n\t\n\t            return this;\n\t        },\n\t        _scrollTail: function _scrollTail(animate, callback) {\n\t            if (this.animating || !this.tail) {\n\t                if ($.isFunction(callback)) {\n\t                    callback.call(this, false);\n\t                }\n\t\n\t                return this;\n\t            }\n\t\n\t            var pos = this.list().position()[this.lt];\n\t\n\t            if (this.rtl && this.relative && !this.vertical) {\n\t                pos += this.list().width() - this.clipping();\n\t            }\n\t\n\t            if (this.rtl && !this.vertical) {\n\t                pos += this.tail;\n\t            } else {\n\t                pos -= this.tail;\n\t            }\n\t\n\t            this.inTail = true;\n\t\n\t            var properties = {};\n\t            properties[this.lt] = pos + 'px';\n\t\n\t            this._update({\n\t                target: this._target.next(),\n\t                fullyvisible: this._fullyvisible.slice(1).add(this._visible.last())\n\t            });\n\t\n\t            this._animate(properties, animate, callback);\n\t\n\t            return this;\n\t        },\n\t        _animate: function _animate(properties, animate, callback) {\n\t            callback = callback || $.noop;\n\t\n\t            if (false === this._trigger('animate')) {\n\t                callback.call(this, false);\n\t                return this;\n\t            }\n\t\n\t            this.animating = true;\n\t\n\t            var animation = this.options('animation'),\n\t                complete = $.proxy(function () {\n\t                this.animating = false;\n\t\n\t                var c = this.list().find('[data-jcarousel-clone]');\n\t\n\t                if (c.length > 0) {\n\t                    c.remove();\n\t                    this._reload();\n\t                }\n\t\n\t                this._trigger('animateend');\n\t\n\t                callback.call(this, true);\n\t            }, this);\n\t\n\t            var opts = typeof animation === 'object' ? $.extend({}, animation) : { duration: animation },\n\t                oldComplete = opts.complete || $.noop;\n\t\n\t            if (animate === false) {\n\t                opts.duration = 0;\n\t            } else if (typeof $.fx.speeds[opts.duration] !== 'undefined') {\n\t                opts.duration = $.fx.speeds[opts.duration];\n\t            }\n\t\n\t            opts.complete = function () {\n\t                complete();\n\t                oldComplete.call(this);\n\t            };\n\t\n\t            this.move(properties, opts);\n\t\n\t            return this;\n\t        },\n\t        _prepare: function _prepare(item) {\n\t            var index = this.index(item),\n\t                idx = index,\n\t                wh = this.dimension(item),\n\t                clip = this.clipping(),\n\t                lrb = this.vertical ? 'bottom' : this.rtl ? 'left' : 'right',\n\t                center = this.options('center'),\n\t                update = {\n\t                target: item,\n\t                first: item,\n\t                last: item,\n\t                visible: item,\n\t                fullyvisible: wh <= clip ? item : $()\n\t            },\n\t                curr,\n\t                isVisible,\n\t                margin,\n\t                dim;\n\t\n\t            if (center) {\n\t                wh /= 2;\n\t                clip /= 2;\n\t            }\n\t\n\t            if (wh < clip) {\n\t                while (true) {\n\t                    curr = this.items().eq(++idx);\n\t\n\t                    if (curr.length === 0) {\n\t                        if (!this.circular) {\n\t                            break;\n\t                        }\n\t\n\t                        curr = this.items().eq(0);\n\t\n\t                        if (item.get(0) === curr.get(0)) {\n\t                            break;\n\t                        }\n\t\n\t                        isVisible = this._visible.index(curr) >= 0;\n\t\n\t                        if (isVisible) {\n\t                            curr.after(curr.clone(true).attr('data-jcarousel-clone', true));\n\t                        }\n\t\n\t                        this.list().append(curr);\n\t\n\t                        if (!isVisible) {\n\t                            var props = {};\n\t                            props[this.lt] = this.dimension(curr);\n\t                            this.moveBy(props);\n\t                        }\n\t\n\t                        // Force items reload\n\t                        this._items = null;\n\t                    }\n\t\n\t                    dim = this.dimension(curr);\n\t\n\t                    if (dim === 0) {\n\t                        break;\n\t                    }\n\t\n\t                    wh += dim;\n\t\n\t                    update.last = curr;\n\t                    update.visible = update.visible.add(curr);\n\t\n\t                    // Remove right/bottom margin from total width\n\t                    margin = toFloat(curr.css('margin-' + lrb));\n\t\n\t                    if (wh - margin <= clip) {\n\t                        update.fullyvisible = update.fullyvisible.add(curr);\n\t                    }\n\t\n\t                    if (wh >= clip) {\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t\n\t            if (!this.circular && !center && wh < clip) {\n\t                idx = index;\n\t\n\t                while (true) {\n\t                    if (--idx < 0) {\n\t                        break;\n\t                    }\n\t\n\t                    curr = this.items().eq(idx);\n\t\n\t                    if (curr.length === 0) {\n\t                        break;\n\t                    }\n\t\n\t                    dim = this.dimension(curr);\n\t\n\t                    if (dim === 0) {\n\t                        break;\n\t                    }\n\t\n\t                    wh += dim;\n\t\n\t                    update.first = curr;\n\t                    update.visible = update.visible.add(curr);\n\t\n\t                    // Remove right/bottom margin from total width\n\t                    margin = toFloat(curr.css('margin-' + lrb));\n\t\n\t                    if (wh - margin <= clip) {\n\t                        update.fullyvisible = update.fullyvisible.add(curr);\n\t                    }\n\t\n\t                    if (wh >= clip) {\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t\n\t            this._update(update);\n\t\n\t            this.tail = 0;\n\t\n\t            if (!center && this.options('wrap') !== 'circular' && this.options('wrap') !== 'custom' && this.index(update.last) === this.items().length - 1) {\n\t\n\t                // Remove right/bottom margin from total width\n\t                wh -= toFloat(update.last.css('margin-' + lrb));\n\t\n\t                if (wh > clip) {\n\t                    this.tail = wh - clip;\n\t                }\n\t            }\n\t\n\t            return this;\n\t        },\n\t        _position: function _position(item) {\n\t            var first = this._first,\n\t                pos = first.position()[this.lt],\n\t                center = this.options('center'),\n\t                centerOffset = center ? this.clipping() / 2 - this.dimension(first) / 2 : 0;\n\t\n\t            if (this.rtl && !this.vertical) {\n\t                if (this.relative) {\n\t                    pos -= this.list().width() - this.dimension(first);\n\t                } else {\n\t                    pos -= this.clipping() - this.dimension(first);\n\t                }\n\t\n\t                pos += centerOffset;\n\t            } else {\n\t                pos -= centerOffset;\n\t            }\n\t\n\t            if (!center && (this.index(item) > this.index(first) || this.inTail) && this.tail) {\n\t                pos = this.rtl && !this.vertical ? pos - this.tail : pos + this.tail;\n\t                this.inTail = true;\n\t            } else {\n\t                this.inTail = false;\n\t            }\n\t\n\t            return -pos;\n\t        },\n\t        _update: function _update(update) {\n\t            var self = this,\n\t                current = {\n\t                target: this._target,\n\t                first: this._first,\n\t                last: this._last,\n\t                visible: this._visible,\n\t                fullyvisible: this._fullyvisible\n\t            },\n\t                back = this.index(update.first || current.first) < this.index(current.first),\n\t                key,\n\t                doUpdate = function doUpdate(key) {\n\t                var elIn = [],\n\t                    elOut = [];\n\t\n\t                update[key].each(function () {\n\t                    if (current[key].index(this) < 0) {\n\t                        elIn.push(this);\n\t                    }\n\t                });\n\t\n\t                current[key].each(function () {\n\t                    if (update[key].index(this) < 0) {\n\t                        elOut.push(this);\n\t                    }\n\t                });\n\t\n\t                if (back) {\n\t                    elIn = elIn.reverse();\n\t                } else {\n\t                    elOut = elOut.reverse();\n\t                }\n\t\n\t                self._trigger(key + 'in', $(elIn));\n\t                self._trigger(key + 'out', $(elOut));\n\t\n\t                self['_' + key] = update[key];\n\t            };\n\t\n\t            for (key in update) {\n\t                doUpdate(key);\n\t            }\n\t\n\t            return this;\n\t        }\n\t    });\n\t})(jQuery, window);\n\t\n\t(function ($) {\n\t    'use strict';\n\t\n\t    $.jcarousel.fn.scrollIntoView = function (target, animate, callback) {\n\t        var parsed = $.jCarousel.parseTarget(target),\n\t            first = this.index(this._fullyvisible.first()),\n\t            last = this.index(this._fullyvisible.last()),\n\t            index;\n\t\n\t        if (parsed.relative) {\n\t            index = parsed.target < 0 ? Math.max(0, first + parsed.target) : last + parsed.target;\n\t        } else {\n\t            index = typeof parsed.target !== 'object' ? parsed.target : this.index(parsed.target);\n\t        }\n\t\n\t        if (index < first) {\n\t            return this.scroll(index, animate, callback);\n\t        }\n\t\n\t        if (index >= first && index <= last) {\n\t            if ($.isFunction(callback)) {\n\t                callback.call(this, false);\n\t            }\n\t\n\t            return this;\n\t        }\n\t\n\t        var items = this.items(),\n\t            clip = this.clipping(),\n\t            lrb = this.vertical ? 'bottom' : this.rtl ? 'left' : 'right',\n\t            wh = 0,\n\t            curr;\n\t\n\t        while (true) {\n\t            curr = items.eq(index);\n\t\n\t            if (curr.length === 0) {\n\t                break;\n\t            }\n\t\n\t            wh += this.dimension(curr);\n\t\n\t            if (wh >= clip) {\n\t                var margin = parseFloat(curr.css('margin-' + lrb)) || 0;\n\t                if (wh - margin !== clip) {\n\t                    index++;\n\t                }\n\t                break;\n\t            }\n\t\n\t            if (index <= 0) {\n\t                break;\n\t            }\n\t\n\t            index--;\n\t        }\n\t\n\t        return this.scroll(index, animate, callback);\n\t    };\n\t})(jQuery);\n\t\n\t(function ($) {\n\t    'use strict';\n\t\n\t    $.jCarousel.plugin('jcarouselControl', {\n\t        _options: {\n\t            target: '+=1',\n\t            event: 'click',\n\t            method: 'scroll'\n\t        },\n\t        _active: null,\n\t        _init: function _init() {\n\t            this.onDestroy = $.proxy(function () {\n\t                this._destroy();\n\t                this.carousel().one('jcarousel:createend', $.proxy(this._create, this));\n\t            }, this);\n\t            this.onReload = $.proxy(this._reload, this);\n\t            this.onEvent = $.proxy(function (e) {\n\t                e.preventDefault();\n\t\n\t                var method = this.options('method');\n\t\n\t                if ($.isFunction(method)) {\n\t                    method.call(this);\n\t                } else {\n\t                    this.carousel().jcarousel(this.options('method'), this.options('target'));\n\t                }\n\t            }, this);\n\t        },\n\t        _create: function _create() {\n\t            this.carousel().one('jcarousel:destroy', this.onDestroy).on('jcarousel:reloadend jcarousel:scrollend', this.onReload);\n\t\n\t            this._element.on(this.options('event') + '.jcarouselcontrol', this.onEvent);\n\t\n\t            this._reload();\n\t        },\n\t        _destroy: function _destroy() {\n\t            this._element.off('.jcarouselcontrol', this.onEvent);\n\t\n\t            this.carousel().off('jcarousel:destroy', this.onDestroy).off('jcarousel:reloadend jcarousel:scrollend', this.onReload);\n\t        },\n\t        _reload: function _reload() {\n\t            var parsed = $.jCarousel.parseTarget(this.options('target')),\n\t                carousel = this.carousel(),\n\t                active;\n\t\n\t            if (parsed.relative) {\n\t                active = carousel.jcarousel(parsed.target > 0 ? 'hasNext' : 'hasPrev');\n\t            } else {\n\t                var target = typeof parsed.target !== 'object' ? carousel.jcarousel('items').eq(parsed.target) : parsed.target;\n\t\n\t                active = carousel.jcarousel('target').index(target) >= 0;\n\t            }\n\t\n\t            if (this._active !== active) {\n\t                this._trigger(active ? 'active' : 'inactive');\n\t                this._active = active;\n\t            }\n\t\n\t            return this;\n\t        }\n\t    });\n\t})(jQuery);\n\t\n\t(function ($) {\n\t    'use strict';\n\t\n\t    $.jCarousel.plugin('jcarouselPagination', {\n\t        _options: {\n\t            perPage: null,\n\t            item: function item(page) {\n\t                return '<a href=\"#' + page + '\">' + page + '</a>';\n\t            },\n\t            event: 'click',\n\t            method: 'scroll'\n\t        },\n\t        _carouselItems: null,\n\t        _pages: {},\n\t        _items: {},\n\t        _currentPage: null,\n\t        _init: function _init() {\n\t            this.onDestroy = $.proxy(function () {\n\t                this._destroy();\n\t                this.carousel().one('jcarousel:createend', $.proxy(this._create, this));\n\t            }, this);\n\t            this.onReload = $.proxy(this._reload, this);\n\t            this.onScroll = $.proxy(this._update, this);\n\t        },\n\t        _create: function _create() {\n\t            this.carousel().one('jcarousel:destroy', this.onDestroy).on('jcarousel:reloadend', this.onReload).on('jcarousel:scrollend', this.onScroll);\n\t\n\t            this._reload();\n\t        },\n\t        _destroy: function _destroy() {\n\t            this._clear();\n\t\n\t            this.carousel().off('jcarousel:destroy', this.onDestroy).off('jcarousel:reloadend', this.onReload).off('jcarousel:scrollend', this.onScroll);\n\t\n\t            this._carouselItems = null;\n\t        },\n\t        _reload: function _reload() {\n\t            var perPage = this.options('perPage');\n\t\n\t            this._pages = {};\n\t            this._items = {};\n\t\n\t            // Calculate pages\n\t            if ($.isFunction(perPage)) {\n\t                perPage = perPage.call(this);\n\t            }\n\t\n\t            if (perPage == null) {\n\t                this._pages = this._calculatePages();\n\t            } else {\n\t                var pp = parseInt(perPage, 10) || 0,\n\t                    items = this._getCarouselItems(),\n\t                    page = 1,\n\t                    i = 0,\n\t                    curr;\n\t\n\t                while (true) {\n\t                    curr = items.eq(i++);\n\t\n\t                    if (curr.length === 0) {\n\t                        break;\n\t                    }\n\t\n\t                    if (!this._pages[page]) {\n\t                        this._pages[page] = curr;\n\t                    } else {\n\t                        this._pages[page] = this._pages[page].add(curr);\n\t                    }\n\t\n\t                    if (i % pp === 0) {\n\t                        page++;\n\t                    }\n\t                }\n\t            }\n\t\n\t            this._clear();\n\t\n\t            var self = this,\n\t                carousel = this.carousel().data('jcarousel'),\n\t                element = this._element,\n\t                item = this.options('item'),\n\t                numCarouselItems = this._getCarouselItems().length;\n\t\n\t            $.each(this._pages, function (page, carouselItems) {\n\t                var currItem = self._items[page] = $(item.call(self, page, carouselItems));\n\t\n\t                currItem.on(self.options('event') + '.jcarouselpagination', $.proxy(function () {\n\t                    var target = carouselItems.eq(0);\n\t\n\t                    // If circular wrapping enabled, ensure correct scrolling direction\n\t                    if (carousel.circular) {\n\t                        var currentIndex = carousel.index(carousel.target()),\n\t                            newIndex = carousel.index(target);\n\t\n\t                        if (parseFloat(page) > parseFloat(self._currentPage)) {\n\t                            if (newIndex < currentIndex) {\n\t                                target = '+=' + (numCarouselItems - currentIndex + newIndex);\n\t                            }\n\t                        } else {\n\t                            if (newIndex > currentIndex) {\n\t                                target = '-=' + (currentIndex + (numCarouselItems - newIndex));\n\t                            }\n\t                        }\n\t                    }\n\t\n\t                    carousel[this.options('method')](target);\n\t                }, self));\n\t\n\t                element.append(currItem);\n\t            });\n\t\n\t            this._update();\n\t        },\n\t        _update: function _update() {\n\t            var target = this.carousel().jcarousel('target'),\n\t                currentPage;\n\t\n\t            $.each(this._pages, function (page, carouselItems) {\n\t                carouselItems.each(function () {\n\t                    if (target.is(this)) {\n\t                        currentPage = page;\n\t                        return false;\n\t                    }\n\t                });\n\t\n\t                if (currentPage) {\n\t                    return false;\n\t                }\n\t            });\n\t\n\t            if (this._currentPage !== currentPage) {\n\t                this._trigger('inactive', this._items[this._currentPage]);\n\t                this._trigger('active', this._items[currentPage]);\n\t            }\n\t\n\t            this._currentPage = currentPage;\n\t        },\n\t        items: function items() {\n\t            return this._items;\n\t        },\n\t        reloadCarouselItems: function reloadCarouselItems() {\n\t            this._carouselItems = null;\n\t            return this;\n\t        },\n\t        _clear: function _clear() {\n\t            this._element.empty();\n\t            this._currentPage = null;\n\t        },\n\t        _calculatePages: function _calculatePages() {\n\t            var carousel = this.carousel().data('jcarousel'),\n\t                items = this._getCarouselItems(),\n\t                clip = carousel.clipping(),\n\t                wh = 0,\n\t                idx = 0,\n\t                page = 1,\n\t                pages = {},\n\t                curr,\n\t                dim;\n\t\n\t            while (true) {\n\t                curr = items.eq(idx++);\n\t\n\t                if (curr.length === 0) {\n\t                    break;\n\t                }\n\t\n\t                dim = carousel.dimension(curr);\n\t\n\t                if (wh + dim > clip) {\n\t                    page++;\n\t                    wh = 0;\n\t                }\n\t\n\t                wh += dim;\n\t\n\t                if (!pages[page]) {\n\t                    pages[page] = curr;\n\t                } else {\n\t                    pages[page] = pages[page].add(curr);\n\t                }\n\t            }\n\t\n\t            return pages;\n\t        },\n\t        _getCarouselItems: function _getCarouselItems() {\n\t            if (!this._carouselItems) {\n\t                this._carouselItems = this.carousel().jcarousel('items');\n\t            }\n\t\n\t            return this._carouselItems;\n\t        }\n\t    });\n\t})(jQuery);\n\t\n\t(function ($, document) {\n\t    'use strict';\n\t\n\t    var hiddenProp,\n\t        visibilityChangeEvent,\n\t        visibilityChangeEventNames = {\n\t        hidden: 'visibilitychange',\n\t        mozHidden: 'mozvisibilitychange',\n\t        msHidden: 'msvisibilitychange',\n\t        webkitHidden: 'webkitvisibilitychange'\n\t    };\n\t\n\t    $.each(visibilityChangeEventNames, function (key, val) {\n\t        if (typeof document[key] !== 'undefined') {\n\t            hiddenProp = key;\n\t            visibilityChangeEvent = val;\n\t            return false;\n\t        }\n\t    });\n\t\n\t    $.jCarousel.plugin('jcarouselAutoscroll', {\n\t        _options: {\n\t            target: '+=1',\n\t            interval: 3000,\n\t            autostart: true\n\t        },\n\t        _timer: null,\n\t        _started: false,\n\t        _init: function _init() {\n\t            this.onDestroy = $.proxy(function () {\n\t                this._destroy();\n\t                this.carousel().one('jcarousel:createend', $.proxy(this._create, this));\n\t            }, this);\n\t\n\t            this.onAnimateEnd = $.proxy(this._start, this);\n\t\n\t            this.onVisibilityChange = $.proxy(function () {\n\t                if (document[hiddenProp]) {\n\t                    this._stop();\n\t                } else {\n\t                    this._start();\n\t                }\n\t            }, this);\n\t        },\n\t        _create: function _create() {\n\t            this.carousel().one('jcarousel:destroy', this.onDestroy);\n\t\n\t            $(document).on(visibilityChangeEvent, this.onVisibilityChange);\n\t\n\t            if (this.options('autostart')) {\n\t                this.start();\n\t            }\n\t        },\n\t        _destroy: function _destroy() {\n\t            this._stop();\n\t\n\t            this.carousel().off('jcarousel:destroy', this.onDestroy);\n\t\n\t            $(document).off(visibilityChangeEvent, this.onVisibilityChange);\n\t        },\n\t        _start: function _start() {\n\t            this._stop();\n\t\n\t            if (!this._started) {\n\t                return;\n\t            }\n\t\n\t            this.carousel().one('jcarousel:animateend', this.onAnimateEnd);\n\t\n\t            this._timer = setTimeout($.proxy(function () {\n\t                this.carousel().jcarousel('scroll', this.options('target'));\n\t            }, this), this.options('interval'));\n\t\n\t            return this;\n\t        },\n\t        _stop: function _stop() {\n\t            if (this._timer) {\n\t                this._timer = clearTimeout(this._timer);\n\t            }\n\t\n\t            this.carousel().off('jcarousel:animateend', this.onAnimateEnd);\n\t\n\t            return this;\n\t        },\n\t        start: function start() {\n\t            this._started = true;\n\t            this._start();\n\t\n\t            return this;\n\t        },\n\t        stop: function stop() {\n\t            this._started = false;\n\t            this._stop();\n\t\n\t            return this;\n\t        }\n\t    });\n\t})(jQuery, document);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {\"use strict\";\n\t\n\tmodule.exports = function (name) {\n\t  var $root = $(name);\n\t\n\t  // console.log( $root );\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t// import $ from 'jquery';\n\t\n\t__webpack_require__(65);\n\t\n\tmodule.exports = function (name) {\n\t  $('.j-scroll').jscroll({\n\t    autoTrigger: false,\n\t    loadingHtml: '<div class=\"col-xs-12\"><div class=\"load-async-preload\"></div></div>',\n\t    contentSelect: '.j-scroll-container',\n\t    nextSelector: 'a[data-jscroll-next]'\n\t  });\n\t\n\t  $('[data-form-send]').on('change', function onChangeSelectSendVideoForm() {\n\t    var $self = $(this);\n\t    var $form = $self.closest('form[data-form-send-enables]');\n\t    if ($form.length) {\n\t      $form.trigger('submit');\n\t    }\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// 2.2.js","module.exports = function(html, options) {\n\tvar re = /<%(.+?)%>/g, \n\t\treExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g, \n\t\tcode = 'with(obj) { var r=[];\\n', \n\t\tcursor = 0, \n\t\tresult;\n\tvar add = function(line, js) {\n\t\tjs? (code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n') :\n\t\t\t(code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '');\n\t\treturn add;\n\t}\n\tvar match = re.exec(html);\n\twhile(match) {\n\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\tcursor = match.index + match[0].length;\n\t\tmatch = re.exec(html);\n\t}\n\tadd(html.substr(cursor, html.length - cursor));\n\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\ttry { result = new Function('obj', code).apply(options, [options]); }\n\tcatch(err) { console.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\"); }\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/TemplateEngine.js","'use strict'\n\n// import $ from 'jquery'\nrequire('selectize')\n\nvar elementData,\n    $element;\n\nconst [suggest] = [{\n    valueField: 'id'\n    , labelField: 'name'\n    , searchField: 'name'\n    , create: false\n    , highlight: false\n    , render: {\n        item: templateItem\n        , option: templateOption\n    }\n    , load: loadUsers\n}]\n\nvar ajaxselect = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, suggest, elementData);\n    $(element).selectize(selectizeSettings);\n}\n\nfunction templateItem (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    return `<div>${name}</div>`\n}\nfunction templateOption (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    let template = `<div class=\"item-float-notification\">\n      <span><img src=\"${item.img}\" alt=\"${name}\"></span>\n      ${name}\n    </div>`\n    return template\n}\n\nfunction loadUsers ( query, callback ) {\n    const options = this.$wrapper.prev().data();\n    const _data = {};\n\n    if (!query.length) {\n      return callback()\n    }\n\n    _data[this.settings.searchField] = query;\n    console.log(_data);\n\n    $.ajax({\n        url: options.url,\n        type: 'GET',\n        data: _data,\n        error: function () {\n          callback()\n        },\n        success: function (res) {\n          callback(res.items);\n        }\n    })\n}\n\n\nexport default ajaxselect\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/ajaxselect.js","/**\n * selectize.js (v0.12.4)\n * Copyright (c) 20132015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery','sifter','microplugin'], factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t} else {\n\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t}\n}(this, function($, Sifter, MicroPlugin) {\n\t'use strict';\n\n\tvar highlight = function($element, pattern) {\n\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\n\t\tvar highlight = function(node) {\n\t\t\tvar skip = 0;\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\tskip = 1;\n\t\t\t\t}\n\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn skip;\n\t\t};\n\t\n\t\treturn $element.each(function() {\n\t\t\thighlight(this);\n\t\t});\n\t};\n\t\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with() and pass js strict mode\n\t */\n\t$.fn.removeHighlight = function() {\n\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\tvar parent = this.parentNode;\n\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\tparent.normalize();\n\t\t}).end();\n\t};\n\t\n\t\n\tvar MicroEvent = function() {};\n\tMicroEvent.prototype = {\n\t\ton: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\tthis._events[event].push(fct);\n\t\t},\n\t\toff: function(event, fct){\n\t\t\tvar n = arguments.length;\n\t\t\tif (n === 0) return delete this._events;\n\t\t\tif (n === 1) return delete this._events[event];\n\t\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t},\n\t\ttrigger: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t *\n\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t *\n\t * @param {object} the object which will support MicroEvent\n\t */\n\tMicroEvent.mixin = function(destObject){\n\t\tvar props = ['on', 'off', 'trigger'];\n\t\tfor (var i = 0; i < props.length; i++){\n\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t}\n\t};\n\t\n\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\n\tvar KEY_A         = 65;\n\tvar KEY_COMMA     = 188;\n\tvar KEY_RETURN    = 13;\n\tvar KEY_ESC       = 27;\n\tvar KEY_LEFT      = 37;\n\tvar KEY_UP        = 38;\n\tvar KEY_P         = 80;\n\tvar KEY_RIGHT     = 39;\n\tvar KEY_DOWN      = 40;\n\tvar KEY_N         = 78;\n\tvar KEY_BACKSPACE = 8;\n\tvar KEY_DELETE    = 46;\n\tvar KEY_SHIFT     = 16;\n\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\tvar KEY_TAB       = 9;\n\t\n\tvar TAG_SELECT    = 1;\n\tvar TAG_INPUT     = 2;\n\t\n\t// for now, android support in general is too spotty to support validity\n\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\n\t\n\tvar isset = function(object) {\n\t\treturn typeof object !== 'undefined';\n\t};\n\t\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t * @param {string} value\n\t * @returns {string|null}\n\t */\n\tvar hash_key = function(value) {\n\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\treturn value + '';\n\t};\n\t\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_html = function(str) {\n\t\treturn (str + '')\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t};\n\t\n\t/**\n\t * Escapes \"$\" characters in replacement strings.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_replace = function(str) {\n\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t};\n\t\n\tvar hook = {};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked before the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.before = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn original.apply(self, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked after the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.after = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tvar result = original.apply(self, arguments);\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn result;\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be invoked once.\n\t *\n\t * @param {function} fn\n\t * @returns {function}\n\t */\n\tvar once = function(fn) {\n\t\tvar called = false;\n\t\treturn function() {\n\t\t\tif (called) return;\n\t\t\tcalled = true;\n\t\t\tfn.apply(this, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be called once\n\t * every `delay` milliseconds (invoked on the falling edge).\n\t *\n\t * @param {function} fn\n\t * @param {int} delay\n\t * @returns {function}\n\t */\n\tvar debounce = function(fn, delay) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar self = this;\n\t\t\tvar args = arguments;\n\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\tfn.apply(self, args);\n\t\t\t}, delay);\n\t\t};\n\t};\n\t\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t * @param {object} self\n\t * @param {array} types\n\t * @param {function} fn\n\t */\n\tvar debounce_events = function(self, types, fn) {\n\t\tvar type;\n\t\tvar trigger = self.trigger;\n\t\tvar event_args = {};\n\t\n\t\t// override trigger method\n\t\tself.trigger = function() {\n\t\t\tvar type = arguments[0];\n\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\tevent_args[type] = arguments;\n\t\t\t} else {\n\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t}\n\t\t};\n\t\n\t\t// invoke provided function\n\t\tfn.apply(self, []);\n\t\tself.trigger = trigger;\n\t\n\t\t// trigger queued events\n\t\tfor (type in event_args) {\n\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t *\n\t * @param {object} $parent - Parent element to listen on.\n\t * @param {string} event - Event name.\n\t * @param {string} selector - Descendant selector to filter by.\n\t * @param {function} fn - Event handler.\n\t */\n\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t$parent.on(event, selector, function(e) {\n\t\t\tvar child = e.target;\n\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\tchild = child.parentNode;\n\t\t\t}\n\t\t\te.currentTarget = child;\n\t\t\treturn fn.apply(this, [e]);\n\t\t});\n\t};\n\t\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t * @param {object} input\n\t * @returns {object}\n\t */\n\tvar getSelection = function(input) {\n\t\tvar result = {};\n\t\tif ('selectionStart' in input) {\n\t\t\tresult.start = input.selectionStart;\n\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t} else if (document.selection) {\n\t\t\tinput.focus();\n\t\t\tvar sel = document.selection.createRange();\n\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\tresult.start = sel.text.length - selLen;\n\t\t\tresult.length = selLen;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t/**\n\t * Copies CSS properties from one element to another.\n\t *\n\t * @param {object} $from\n\t * @param {object} $to\n\t * @param {array} properties\n\t */\n\tvar transferStyles = function($from, $to, properties) {\n\t\tvar i, n, styles = {};\n\t\tif (properties) {\n\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tstyles = $from.css();\n\t\t}\n\t\t$to.css(styles);\n\t};\n\t\n\t/**\n\t * Measures the width of a string within a\n\t * parent element (in pixels).\n\t *\n\t * @param {string} str\n\t * @param {object} $parent\n\t * @returns {int}\n\t */\n\tvar measureString = function(str, $parent) {\n\t\tif (!str) {\n\t\t\treturn 0;\n\t\t}\n\t\n\t\tvar $test = $('<test>').css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -99999,\n\t\t\tleft: -99999,\n\t\t\twidth: 'auto',\n\t\t\tpadding: 0,\n\t\t\twhiteSpace: 'pre'\n\t\t}).text(str).appendTo('body');\n\t\n\t\ttransferStyles($parent, $test, [\n\t\t\t'letterSpacing',\n\t\t\t'fontSize',\n\t\t\t'fontFamily',\n\t\t\t'fontWeight',\n\t\t\t'textTransform'\n\t\t]);\n\t\n\t\tvar width = $test.width();\n\t\t$test.remove();\n\t\n\t\treturn width;\n\t};\n\t\n\t/**\n\t * Sets up an input to grow horizontally as the user\n\t * types. If the value is changed manually, you can\n\t * trigger the \"update\" handler to resize:\n\t *\n\t * $input.trigger('update');\n\t *\n\t * @param {object} $input\n\t */\n\tvar autoGrow = function($input) {\n\t\tvar currentWidth = null;\n\t\n\t\tvar update = function(e, options) {\n\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\tvar shift, character, selection;\n\t\t\te = e || window.event || {};\n\t\t\toptions = options || {};\n\t\n\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\n\t\t\tvalue = $input.val();\n\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\tprintable = (\n\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t);\n\t\n\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (printable) {\n\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\tvalue += character;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\tif (!value && placeholder) {\n\t\t\t\tvalue = placeholder;\n\t\t\t}\n\t\n\t\t\twidth = measureString(value, $input) + 4;\n\t\t\tif (width !== currentWidth) {\n\t\t\t\tcurrentWidth = width;\n\t\t\t\t$input.width(width);\n\t\t\t\t$input.triggerHandler('resize');\n\t\t\t}\n\t\t};\n\t\n\t\t$input.on('keydown keyup update blur', update);\n\t\tupdate();\n\t};\n\t\n\tvar domToString = function(d) {\n\t\tvar tmp = document.createElement('div');\n\t\n\t\ttmp.appendChild(d.cloneNode(true));\n\t\n\t\treturn tmp.innerHTML;\n\t};\n\t\n\tvar logError = function(message, options){\n\t\tif(!options) options = {};\n\t\tvar component = \"Selectize\";\n\t\n\t\tconsole.error(component + \": \" + message)\n\t\n\t\tif(options.explanation){\n\t\t\t// console.group is undefined in <IE11\n\t\t\tif(console.group) console.group();\n\t\t\tconsole.error(options.explanation);\n\t\t\tif(console.group) console.groupEnd();\n\t\t}\n\t}\n\t\n\t\n\tvar Selectize = function($input, settings) {\n\t\tvar key, i, n, dir, input, self = this;\n\t\tinput = $input[0];\n\t\tinput.selectize = self;\n\t\n\t\t// detect rtl environment\n\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\n\t\t// setup default state\n\t\t$.extend(self, {\n\t\t\torder            : 0,\n\t\t\tsettings         : settings,\n\t\t\t$input           : $input,\n\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\trtl              : /rtl/i.test(dir),\n\t\n\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\thighlightedValue : null,\n\t\t\tisOpen           : false,\n\t\t\tisDisabled       : false,\n\t\t\tisRequired       : $input.is('[required]'),\n\t\t\tisInvalid        : false,\n\t\t\tisLocked         : false,\n\t\t\tisFocused        : false,\n\t\t\tisInputHidden    : false,\n\t\t\tisSetup          : false,\n\t\t\tisShiftDown      : false,\n\t\t\tisCmdDown        : false,\n\t\t\tisCtrlDown       : false,\n\t\t\tignoreFocus      : false,\n\t\t\tignoreBlur       : false,\n\t\t\tignoreHover      : false,\n\t\t\thasOptions       : false,\n\t\t\tcurrentResults   : null,\n\t\t\tlastValue        : '',\n\t\t\tcaretPos         : 0,\n\t\t\tloading          : 0,\n\t\t\tloadedSearches   : {},\n\t\n\t\t\t$activeOption    : null,\n\t\t\t$activeItems     : [],\n\t\n\t\t\toptgroups        : {},\n\t\t\toptions          : {},\n\t\t\tuserOptions      : {},\n\t\t\titems            : [],\n\t\t\trenderCache      : {},\n\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t});\n\t\n\t\t// search system\n\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\n\t\t// build options table\n\t\tif (self.settings.options) {\n\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t}\n\t\t\tdelete self.settings.options;\n\t\t}\n\t\n\t\t// build optgroup table\n\t\tif (self.settings.optgroups) {\n\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t}\n\t\t\tdelete self.settings.optgroups;\n\t\t}\n\t\n\t\t// option-dependent defaults\n\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t}\n\t\n\t\tself.initializePlugins(self.settings.plugins);\n\t\tself.setupCallbacks();\n\t\tself.setupTemplates();\n\t\tself.setup();\n\t};\n\t\n\t// mixins\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\tMicroEvent.mixin(Selectize);\n\t\n\tif(typeof MicroPlugin !== \"undefined\"){\n\t\tMicroPlugin.mixin(Selectize);\n\t}else{\n\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t{explanation:\n\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\"load Selectize.\"}\n\t\t);\n\t}\n\t\n\t\n\t// methods\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t$.extend(Selectize.prototype, {\n\t\n\t\t/**\n\t\t * Creates all elements and sets up event bindings.\n\t\t */\n\t\tsetup: function() {\n\t\t\tvar self      = this;\n\t\t\tvar settings  = self.settings;\n\t\t\tvar eventNS   = self.eventNS;\n\t\t\tvar $window   = $(window);\n\t\t\tvar $document = $(document);\n\t\t\tvar $input    = self.$input;\n\t\n\t\t\tvar $wrapper;\n\t\t\tvar $control;\n\t\t\tvar $control_input;\n\t\t\tvar $dropdown;\n\t\t\tvar $dropdown_content;\n\t\t\tvar $dropdown_parent;\n\t\t\tvar inputMode;\n\t\t\tvar timeout_blur;\n\t\t\tvar timeout_focus;\n\t\t\tvar classes;\n\t\t\tvar classes_plugins;\n\t\t\tvar inputId;\n\t\n\t\t\tinputMode         = self.settings.mode;\n\t\t\tclasses           = $input.attr('class') || '';\n\t\n\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\n\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t}\n\t\n\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t$dropdown.addClass(classes);\n\t\t\t}\n\t\n\t\t\t$wrapper.css({\n\t\t\t\twidth: $input[0].style.width\n\t\t\t});\n\t\n\t\t\tif (self.plugins.names.length) {\n\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t}\n\t\n\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t}\n\t\n\t\t\tif (self.settings.placeholder) {\n\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t}\n\t\n\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t}\n\t\n\t\t\tself.$wrapper          = $wrapper;\n\t\t\tself.$control          = $control;\n\t\t\tself.$control_input    = $control_input;\n\t\t\tself.$dropdown         = $dropdown;\n\t\t\tself.$dropdown_content = $dropdown_content;\n\t\n\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\tautoGrow($control_input);\n\t\n\t\t\t$control.on({\n\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$control_input.on({\n\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t});\n\t\n\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t});\n\t\n\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// blur on click outside\n\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\tself.ignoreHover = false;\n\t\t\t});\n\t\n\t\t\t// store original children and tab index so that they can be\n\t\t\t// restored when the destroy() method is called.\n\t\t\tthis.revertSettings = {\n\t\t\t\t$children : $input.children().detach(),\n\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t};\n\t\n\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\n\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\tself.setValue(settings.items);\n\t\t\t\tdelete settings.items;\n\t\t\t}\n\t\n\t\t\t// feature detect for the validation API\n\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\tself.refreshState();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tself.updateOriginalInput();\n\t\t\tself.refreshItems();\n\t\t\tself.refreshState();\n\t\t\tself.updatePlaceholder();\n\t\t\tself.isSetup = true;\n\t\n\t\t\tif ($input.is(':disabled')) {\n\t\t\t\tself.disable();\n\t\t\t}\n\t\n\t\t\tself.on('change', this.onChange);\n\t\n\t\t\t$input.data('selectize', self);\n\t\t\t$input.addClass('selectized');\n\t\t\tself.trigger('initialize');\n\t\n\t\t\t// preload options\n\t\t\tif (settings.preload === true) {\n\t\t\t\tself.onSearchChange('');\n\t\t\t}\n\t\n\t\t},\n\t\n\t\t/**\n\t\t * Sets up default rendering functions.\n\t\t */\n\t\tsetupTemplates: function() {\n\t\t\tvar self = this;\n\t\t\tvar field_label = self.settings.labelField;\n\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\n\t\t\tvar templates = {\n\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t},\n\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t},\n\t\n\t\t/**\n\t\t * Maps fired events to callbacks provided\n\t\t * in the settings used when creating the control.\n\t\t */\n\t\tsetupCallbacks: function() {\n\t\t\tvar key, fn, callbacks = {\n\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t'change'          : 'onChange',\n\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t'type'            : 'onType',\n\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t'blur'            : 'onBlur'\n\t\t\t};\n\t\n\t\t\tfor (key in callbacks) {\n\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a click event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonClick: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t// is ignored unless invoked within a click event)\n\t\t\tif (!self.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a mouse down event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonMouseDown: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\tvar $target = $(e.target);\n\t\n\t\t\tif (self.isFocused) {\n\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// give control focus\n\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the value of the control has been changed.\n\t\t * This should propagate the event to the original DOM\n\t\t * input / select element.\n\t\t */\n\t\tonChange: function() {\n\t\t\tthis.$input.trigger('change');\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> paste.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonPaste: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t// input and create Items for each separate value\n\t\t\tif (self.settings.splitOn) {\n\t\n\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\n\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keypress.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyPress: function(e) {\n\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\tthis.createItem();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keydown.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyDown: function(e) {\n\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) {\n\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase KEY_A:\n\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase KEY_ESC:\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_N:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\tself.open();\n\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_P:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_UP:\n\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_TAB:\n\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\n\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keyup.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyUp: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\tvar value = self.$control_input.val() || '';\n\t\t\tif (self.lastValue !== value) {\n\t\t\t\tself.lastValue = value;\n\t\t\t\tself.onSearchChange(value);\n\t\t\t\tself.refreshOptions();\n\t\t\t\tself.trigger('type', value);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the user-provide option provider / loader.\n\t\t *\n\t\t * Note: this function is debounced in the Selectize\n\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tonSearchChange: function(value) {\n\t\t\tvar self = this;\n\t\t\tvar fn = self.settings.load;\n\t\t\tif (!fn) return;\n\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\tself.loadedSearches[value] = true;\n\t\t\tself.load(function(callback) {\n\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> focus.\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tonFocus: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar wasFocused = self.isFocused;\n\t\n\t\t\tif (self.isDisabled) {\n\t\t\t\tself.blur();\n\t\t\t\te && e.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tif (self.ignoreFocus) return;\n\t\t\tself.isFocused = true;\n\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\n\t\t\tif (!wasFocused) self.trigger('focus');\n\t\n\t\t\tif (!self.$activeItems.length) {\n\t\t\t\tself.showInput();\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t}\n\t\n\t\t\tself.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> blur.\n\t\t *\n\t\t * @param {object} e\n\t\t * @param {Element} dest\n\t\t */\n\t\tonBlur: function(e, dest) {\n\t\t\tvar self = this;\n\t\t\tif (!self.isFocused) return;\n\t\t\tself.isFocused = false;\n\t\n\t\t\tif (self.ignoreFocus) {\n\t\t\t\treturn;\n\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\tself.ignoreBlur = true;\n\t\t\t\tself.onFocus(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar deactivate = function() {\n\t\t\t\tself.close();\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\tself.refreshState();\n\t\n\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\tdest && dest.focus && dest.focus();\n\t\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.trigger('blur');\n\t\t\t};\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t} else {\n\t\t\t\tdeactivate();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user rolls over\n\t\t * an option in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionHover: function(e) {\n\t\t\tif (this.ignoreHover) return;\n\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an option\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionSelect: function(e) {\n\t\t\tvar value, $target, $option, self = this;\n\t\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\n\t\t\t$target = $(e.currentTarget);\n\t\t\tif ($target.hasClass('create')) {\n\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an item\n\t\t * that has been selected.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonItemSelect: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return;\n\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the provided method that provides\n\t\t * results to a callback---which are then added\n\t\t * as options to the control.\n\t\t *\n\t\t * @param {function} fn\n\t\t */\n\t\tload: function(fn) {\n\t\t\tvar self = this;\n\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\n\t\t\tself.loading++;\n\t\t\tfn.apply(self, [function(results) {\n\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\tif (results && results.length) {\n\t\t\t\t\tself.addOption(results);\n\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t}\n\t\t\t\tif (!self.loading) {\n\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t}\n\t\t\t\tself.trigger('load', results);\n\t\t\t}]);\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the input field of the control to the specified value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tsetTextboxValue: function(value) {\n\t\t\tvar $input = this.$control_input;\n\t\t\tvar changed = $input.val() !== value;\n\t\t\tif (changed) {\n\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\tthis.lastValue = value;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the value of the control. If multiple items\n\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t * an array. If only one item can be selected, this\n\t\t * returns a string.\n\t\t *\n\t\t * @returns {mixed}\n\t\t */\n\t\tgetValue: function() {\n\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\treturn this.items;\n\t\t\t} else {\n\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Resets the selected items to the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t */\n\t\tsetValue: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tthis.clear(silent);\n\t\t\t\tthis.addItems(value, silent);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item.\n\t\t *\n\t\t * @param {object} $item\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tsetActiveItem: function($item, e) {\n\t\t\tvar self = this;\n\t\t\tvar eventName;\n\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\tvar $last;\n\t\n\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t$item = $($item);\n\t\n\t\t\t// clear the active selection\n\t\t\tif (!$item.length) {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [];\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// modify selection\n\t\t\teventName = e && e.type.toLowerCase();\n\t\n\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\tif (begin > end) {\n\t\t\t\t\tswap  = begin;\n\t\t\t\t\tbegin = end;\n\t\t\t\t\tend   = swap;\n\t\t\t\t}\n\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t}\n\t\n\t\t\t// ensure control has focus\n\t\t\tself.hideInput();\n\t\t\tif (!this.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item in the dropdown menu\n\t\t * of available options.\n\t\t *\n\t\t * @param {object} $object\n\t\t * @param {boolean} scroll\n\t\t * @param {boolean} animate\n\t\t */\n\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\tvar height_menu, height_item, y;\n\t\t\tvar scroll_top, scroll_bottom;\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\tself.$activeOption = null;\n\t\n\t\t\t$option = $($option);\n\t\t\tif (!$option.length) return;\n\t\n\t\t\tself.$activeOption = $option.addClass('active');\n\t\n\t\t\tif (scroll || !isset(scroll)) {\n\t\n\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\tscroll_top    = y;\n\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\n\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Selects all items (CTRL + A).\n\t\t */\n\t\tselectAll: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.settings.mode === 'single') return;\n\t\n\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.close();\n\t\t\t}\n\t\t\tself.focus();\n\t\t},\n\t\n\t\t/**\n\t\t * Hides the input element out of view, while\n\t\t * retaining its focus.\n\t\t */\n\t\thideInput: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.setTextboxValue('');\n\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\tself.isInputHidden = true;\n\t\t},\n\t\n\t\t/**\n\t\t * Restores input visibility.\n\t\t */\n\t\tshowInput: function() {\n\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\tthis.isInputHidden = false;\n\t\t},\n\t\n\t\t/**\n\t\t * Gives the control focus.\n\t\t */\n\t\tfocus: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.isDisabled) return;\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tself.$control_input[0].focus();\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.onFocus();\n\t\t\t}, 0);\n\t\t},\n\t\n\t\t/**\n\t\t * Forces the control out of focus.\n\t\t *\n\t\t * @param {Element} dest\n\t\t */\n\t\tblur: function(dest) {\n\t\t\tthis.$control_input[0].blur();\n\t\t\tthis.onBlur(null, dest);\n\t\t},\n\t\n\t\t/**\n\t\t * Returns a function that scores an object\n\t\t * to show how good of a match it is to the\n\t\t * provided query.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @return {function}\n\t\t */\n\t\tgetScoreFunction: function(query) {\n\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t},\n\t\n\t\t/**\n\t\t * Returns search options for sifter (the system\n\t\t * for scoring and sorting results).\n\t\t *\n\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t * @return {object}\n\t\t */\n\t\tgetSearchOptions: function() {\n\t\t\tvar settings = this.settings;\n\t\t\tvar sort = settings.sortField;\n\t\t\tif (typeof sort === 'string') {\n\t\t\t\tsort = [{field: sort}];\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tfields      : settings.searchField,\n\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\tsort        : sort\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Searches through available options and returns\n\t\t * a sorted array of matches.\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {object}\n\t\t */\n\t\tsearch: function(query) {\n\t\t\tvar i, value, score, result, calculateScore;\n\t\t\tvar self     = this;\n\t\t\tvar settings = self.settings;\n\t\t\tvar options  = this.getSearchOptions();\n\t\n\t\t\t// validate user-provided result scoring function\n\t\t\tif (settings.score) {\n\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// perform search\n\t\t\tif (query !== self.lastQuery) {\n\t\t\t\tself.lastQuery = query;\n\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\tself.currentResults = result;\n\t\t\t} else {\n\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t}\n\t\n\t\t\t// filter out selected items\n\t\t\tif (settings.hideSelected) {\n\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the list of available options shown\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {boolean} triggerDropdown\n\t\t */\n\t\trefreshOptions: function(triggerDropdown) {\n\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\tvar $active, $active_before, $create;\n\t\n\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tvar self              = this;\n\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\tvar results           = self.search(query);\n\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\n\t\t\t// build markup\n\t\t\tn = results.items.length;\n\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t}\n\t\n\t\t\t// render and group available options individually\n\t\t\tgroups = {};\n\t\t\tgroups_order = [];\n\t\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\toption_html = self.render('option', option);\n\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\n\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t}\n\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// sort optgroups\n\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// render optgroup headers & join groups\n\t\t\thtml = document.createDocumentFragment();\n\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\toptgroup = groups_order[i];\n\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\n\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t$dropdown_content.html(html);\n\t\n\t\t\t// highlight matching terms inline\n\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add \"selected\" class to selected options\n\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add create option\n\t\t\thas_create_option = self.canCreate(query);\n\t\t\tif (has_create_option) {\n\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t}\n\t\n\t\t\t// activate\n\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\tif (self.hasOptions) {\n\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t}\n\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$active = $create;\n\t\t\t\t}\n\t\t\t\tself.setActiveOption($active);\n\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t} else {\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Adds an available option. If it already exists,\n\t\t * nothing will happen. Note: this does not refresh\n\t\t * the options list dropdown (use `refreshOptions`\n\t\t * for that).\n\t\t *\n\t\t * Usage:\n\t\t *\n\t\t *   this.addOption(data)\n\t\t *\n\t\t * @param {object|array} data\n\t\t */\n\t\taddOption: function(data) {\n\t\t\tvar i, n, value, self = this;\n\t\n\t\t\tif ($.isArray(data)) {\n\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\tself.userOptions[value] = true;\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option to the pool of options.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOption: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.options[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option group to the pool of option groups.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOptionGroup: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\tif (!key) return false;\n\t\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.optgroups[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers a new optgroup for options\n\t\t * to be bucketed into.\n\t\t *\n\t\t * @param {string} id\n\t\t * @param {object} data\n\t\t */\n\t\taddOptionGroup: function(id, data) {\n\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes an existing option group.\n\t\t *\n\t\t * @param {string} id\n\t\t */\n\t\tremoveOptionGroup: function(id) {\n\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\tdelete this.optgroups[id];\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all existing option groups.\n\t\t */\n\t\tclearOptionGroups: function() {\n\t\t\tthis.optgroups = {};\n\t\t\tthis.renderCache = {};\n\t\t\tthis.trigger('optgroup_clear');\n\t\t},\n\t\n\t\t/**\n\t\t * Updates an option available for selection. If\n\t\t * it is visible in the selected items or options\n\t\t * dropdown, it will be re-rendered automatically.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {object} data\n\t\t */\n\t\tupdateOption: function(value, data) {\n\t\t\tvar self = this;\n\t\t\tvar $item, $item_new;\n\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\n\t\t\tvalue     = hash_key(value);\n\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\n\t\t\t// sanity checks\n\t\t\tif (value === null) return;\n\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\n\t\t\torder_old = self.options[value].$order;\n\t\n\t\t\t// update references\n\t\t\tif (value_new !== value) {\n\t\t\t\tdelete self.options[value];\n\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.$order = data.$order || order_old;\n\t\t\tself.options[value_new] = data;\n\t\n\t\t\t// invalidate render cache\n\t\t\tcache_items = self.renderCache['item'];\n\t\t\tcache_options = self.renderCache['option'];\n\t\n\t\t\tif (cache_items) {\n\t\t\t\tdelete cache_items[value];\n\t\t\t\tdelete cache_items[value_new];\n\t\t\t}\n\t\t\tif (cache_options) {\n\t\t\t\tdelete cache_options[value];\n\t\t\t\tdelete cache_options[value_new];\n\t\t\t}\n\t\n\t\t\t// update the item if it's selected\n\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t$item = self.getItem(value);\n\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t$item.replaceWith($item_new);\n\t\t\t}\n\t\n\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\tself.lastQuery = null;\n\t\n\t\t\t// update dropdown contents\n\t\t\tif (self.isOpen) {\n\t\t\t\tself.refreshOptions(false);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes a single option.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\tremoveOption: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\tif (cache_items) delete cache_items[value];\n\t\t\tif (cache_options) delete cache_options[value];\n\t\n\t\t\tdelete self.userOptions[value];\n\t\t\tdelete self.options[value];\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_remove', value);\n\t\t\tself.removeItem(value, silent);\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all options.\n\t\t */\n\t\tclearOptions: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.loadedSearches = {};\n\t\t\tself.userOptions = {};\n\t\t\tself.renderCache = {};\n\t\t\tself.options = self.sifter.items = {};\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_clear');\n\t\t\tself.clear();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the option\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetOption: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the next or\n\t\t * previous selectable option.\n\t\t *\n\t\t * @param {object} $option\n\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t * @return {object}\n\t\t */\n\t\tgetAdjacentOption: function($option, direction) {\n\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t},\n\t\n\t\t/**\n\t\t * Finds the first element with a \"data-value\" attribute\n\t\t * that matches the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} $els\n\t\t * @return {object}\n\t\t */\n\t\tgetElementWithValue: function(value, $els) {\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn $();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the item\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetItem: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItems: function(values, silent) {\n\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" an item. Adds it to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItem: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tvar $item, $option, $options;\n\t\t\t\tvar self = this;\n\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\tvalue = hash_key(value);\n\t\n\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\n\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\twasFull = self.isFull();\n\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\tself.insertAtCaret($item);\n\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\tself.refreshState();\n\t\t\t\t}\n\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\n\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the selected item matching\n\t\t * the provided value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tremoveItem: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvar $item, i, idx;\n\t\n\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\ti = self.items.indexOf(value);\n\t\n\t\t\tif (i !== -1) {\n\t\t\t\t$item.remove();\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.items.splice(i, 1);\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t}\n\t\n\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the `create` method provided in the\n\t\t * selectize options that should provide the data\n\t\t * for the new item, given the user input.\n\t\t *\n\t\t * Once this completes, it will be added\n\t\t * to the item list.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} [triggerDropdown]\n\t\t * @param {function} [callback]\n\t\t * @return {boolean}\n\t\t */\n\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\tvar self  = this;\n\t\t\tvar caret = self.caretPos;\n\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\n\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\n\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tif (!self.canCreate(input)) {\n\t\t\t\tcallback();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tself.lock();\n\t\n\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\tvar data = {};\n\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\treturn data;\n\t\t\t};\n\t\n\t\t\tvar create = once(function(data) {\n\t\t\t\tself.unlock();\n\t\n\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\tif (typeof value !== 'string') return callback();\n\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.addOption(data);\n\t\t\t\tself.setCaret(caret);\n\t\t\t\tself.addItem(value);\n\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\n\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\tcreate(output);\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Re-renders the selected item lists.\n\t\t */\n\t\trefreshItems: function() {\n\t\t\tthis.lastQuery = null;\n\t\n\t\t\tif (this.isSetup) {\n\t\t\t\tthis.addItem(this.items);\n\t\t\t}\n\t\n\t\t\tthis.refreshState();\n\t\t\tthis.updateOriginalInput();\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent attributes\n\t\t * and CSS classes.\n\t\t */\n\t\trefreshState: function() {\n\t\t\tthis.refreshValidityState();\n\t\t\tthis.refreshClasses();\n\t\t},\n\t\n\t\t/**\n\t\t * Update the `required` attribute of both input and control input.\n\t\t *\n\t\t * The `required` property needs to be activated on the control input\n\t\t * for the error to be displayed at the right place. `required` also\n\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t * hidden and can't show errors.\n\t\t */\n\t\trefreshValidityState: function() {\n\t\t\tif (!this.isRequired) return false;\n\t\n\t\t\tvar invalid = !this.items.length;\n\t\n\t\t\tthis.isInvalid = invalid;\n\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\tthis.$input.prop('required', !invalid);\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent CSS classes.\n\t\t */\n\t\trefreshClasses: function() {\n\t\t\tvar self     = this;\n\t\t\tvar isFull   = self.isFull();\n\t\t\tvar isLocked = self.isLocked;\n\t\n\t\t\tself.$wrapper\n\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\n\t\t\tself.$control\n\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\n\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not more items can be added\n\t\t * to the control without exceeding the user-defined maximum.\n\t\t *\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFull: function() {\n\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the original <select> or <input>\n\t\t * element to reflect the current state.\n\t\t */\n\t\tupdateOriginalInput: function(opts) {\n\t\t\tvar i, n, options, label, self = this;\n\t\t\topts = opts || {};\n\t\n\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\toptions = [];\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t}\n\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t}\n\t\t\t\tself.$input.html(options.join(''));\n\t\t\t} else {\n\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t}\n\t\n\t\t\tif (self.isSetup) {\n\t\t\t\tif (!opts.silent) {\n\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Shows/hide the input placeholder depending\n\t\t * on if there items in the list already.\n\t\t */\n\t\tupdatePlaceholder: function() {\n\t\t\tif (!this.settings.placeholder) return;\n\t\t\tvar $input = this.$control_input;\n\t\n\t\t\tif (this.items.length) {\n\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t} else {\n\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t}\n\t\t\t$input.triggerHandler('update', {force: true});\n\t\t},\n\t\n\t\t/**\n\t\t * Shows the autocomplete dropdown containing\n\t\t * the available options.\n\t\t */\n\t\topen: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\tself.focus();\n\t\t\tself.isOpen = true;\n\t\t\tself.refreshState();\n\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\tself.positionDropdown();\n\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Closes the autocomplete dropdown menu.\n\t\t */\n\t\tclose: function() {\n\t\t\tvar self = this;\n\t\t\tvar trigger = self.isOpen;\n\t\n\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t}\n\t\n\t\t\tself.isOpen = false;\n\t\t\tself.$dropdown.hide();\n\t\t\tself.setActiveOption(null);\n\t\t\tself.refreshState();\n\t\n\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Calculates and applies the appropriate\n\t\t * position of the dropdown.\n\t\t */\n\t\tpositionDropdown: function() {\n\t\t\tvar $control = this.$control;\n\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\toffset.top += $control.outerHeight(true);\n\t\n\t\t\tthis.$dropdown.css({\n\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\ttop   : offset.top,\n\t\t\t\tleft  : offset.left\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Resets / clears all selected items\n\t\t * from the control.\n\t\t *\n\t\t * @param {boolean} silent\n\t\t */\n\t\tclear: function(silent) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (!self.items.length) return;\n\t\t\tself.$control.children(':not(input)').remove();\n\t\t\tself.items = [];\n\t\t\tself.lastQuery = null;\n\t\t\tself.setCaret(0);\n\t\t\tself.setActiveItem(null);\n\t\t\tself.updatePlaceholder();\n\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\tself.refreshState();\n\t\t\tself.showInput();\n\t\t\tself.trigger('clear');\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for inserting an element\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {object} $el\n\t\t */\n\t\tinsertAtCaret: function($el) {\n\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\tif (caret === 0) {\n\t\t\t\tthis.$control.prepend($el);\n\t\t\t} else {\n\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t}\n\t\t\tthis.setCaret(caret + 1);\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the current selected item(s).\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tdeleteSelection: function(e) {\n\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t}\n\t\n\t\t\t// determine items that will be removed\n\t\t\tvalues = [];\n\t\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\tif (direction > 0) { caret++; }\n\t\n\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t}\n\t\t\t\tif (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// allow the callback to abort\n\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// perform removal\n\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\tself.setCaret(caret);\n\t\t\t}\n\t\t\twhile (values.length) {\n\t\t\t\tself.removeItem(values.pop());\n\t\t\t}\n\t\n\t\t\tself.showInput();\n\t\t\tself.positionDropdown();\n\t\t\tself.refreshOptions(true);\n\t\n\t\t\t// select previous option\n\t\t\tif (option_select) {\n\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\tif ($option_select.length) {\n\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Selects the previous / next item (depending\n\t\t * on the `direction` argument).\n\t\t *\n\t\t * > 0 - right\n\t\t * < 0 - left\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceSelection: function(direction, e) {\n\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tif (direction === 0) return;\n\t\t\tif (self.rtl) direction *= -1;\n\t\n\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t: selection.start === valueLength;\n\t\n\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\tif ($tail.length) {\n\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret left / right.\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceCaret: function(direction, e) {\n\t\t\tvar self = this, fn, $adj;\n\t\n\t\t\tif (direction === 0) return;\n\t\n\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\tif (self.isShiftDown) {\n\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\tif ($adj.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret to the specified index.\n\t\t *\n\t\t * @param {int} i\n\t\t */\n\t\tsetCaret: function(i) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\ti = self.items.length;\n\t\t\t} else {\n\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t}\n\t\n\t\t\tif(!self.isPending) {\n\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t// on mobile webkit devices\n\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tself.caretPos = i;\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control. Used while\n\t\t * items are being asynchronously created.\n\t\t */\n\t\tlock: function() {\n\t\t\tthis.close();\n\t\t\tthis.isLocked = true;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Re-enables user input on the control.\n\t\t */\n\t\tunlock: function() {\n\t\t\tthis.isLocked = false;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control completely.\n\t\t * While disabled, it cannot receive focus.\n\t\t */\n\t\tdisable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', true);\n\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\tself.isDisabled = true;\n\t\t\tself.lock();\n\t\t},\n\t\n\t\t/**\n\t\t * Enables the control so that it can respond\n\t\t * to focus and user input.\n\t\t */\n\t\tenable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', false);\n\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\tself.isDisabled = false;\n\t\t\tself.unlock();\n\t\t},\n\t\n\t\t/**\n\t\t * Completely destroys the control and\n\t\t * unbinds all event listeners so that it can\n\t\t * be garbage collected.\n\t\t */\n\t\tdestroy: function() {\n\t\t\tvar self = this;\n\t\t\tvar eventNS = self.eventNS;\n\t\t\tvar revertSettings = self.revertSettings;\n\t\n\t\t\tself.trigger('destroy');\n\t\t\tself.off();\n\t\t\tself.$wrapper.remove();\n\t\t\tself.$dropdown.remove();\n\t\n\t\t\tself.$input\n\t\t\t\t.html('')\n\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t.removeClass('selectized')\n\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t.show();\n\t\n\t\t\tself.$control_input.removeData('grow');\n\t\t\tself.$input.removeData('selectize');\n\t\n\t\t\t$(window).off(eventNS);\n\t\t\t$(document).off(eventNS);\n\t\t\t$(document.body).off(eventNS);\n\t\n\t\t\tdelete self.$input[0].selectize;\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for rendering \"item\" and\n\t\t * \"option\" templates, given the data.\n\t\t *\n\t\t * @param {string} templateName\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(templateName, data) {\n\t\t\tvar value, id, label;\n\t\t\tvar html = '';\n\t\t\tvar cache = false;\n\t\t\tvar self = this;\n\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\tcache = !!value;\n\t\t\t}\n\t\n\t\t\t// pull markup from cache if it exists\n\t\t\tif (cache) {\n\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t}\n\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// render markup\n\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\n\t\t\t// add mandatory attributes\n\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t}\n\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\thtml.attr('data-group', id);\n\t\t\t}\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t}\n\t\n\t\t\t// update cache\n\t\t\tif (cache) {\n\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t}\n\t\n\t\t\treturn html[0];\n\t\t},\n\t\n\t\t/**\n\t\t * Clears the render cache for a template. If\n\t\t * no template is given, clears all render\n\t\t * caches.\n\t\t *\n\t\t * @param {string} templateName\n\t\t */\n\t\tclearCache: function(templateName) {\n\t\t\tvar self = this;\n\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\tself.renderCache = {};\n\t\t\t} else {\n\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not to display the\n\t\t * create item prompt, given a user input.\n\t\t *\n\t\t * @param {string} input\n\t\t * @return {boolean}\n\t\t */\n\t\tcanCreate: function(input) {\n\t\t\tvar self = this;\n\t\t\tif (!self.settings.create) return false;\n\t\t\tvar filter = self.settings.createFilter;\n\t\t\treturn input.length\n\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t}\n\t\n\t});\n\t\n\t\n\tSelectize.count = 0;\n\tSelectize.defaults = {\n\t\toptions: [],\n\t\toptgroups: [],\n\t\n\t\tplugins: [],\n\t\tdelimiter: ',',\n\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\tpersist: true,\n\t\tdiacritics: true,\n\t\tcreate: false,\n\t\tcreateOnBlur: false,\n\t\tcreateFilter: null,\n\t\thighlight: true,\n\t\topenOnFocus: true,\n\t\tmaxOptions: 1000,\n\t\tmaxItems: null,\n\t\thideSelected: null,\n\t\taddPrecedence: false,\n\t\tselectOnTab: false,\n\t\tpreload: false,\n\t\tallowEmptyOption: false,\n\t\tcloseAfterSelect: false,\n\t\n\t\tscrollDuration: 60,\n\t\tloadThrottle: 300,\n\t\tloadingClass: 'loading',\n\t\n\t\tdataAttr: 'data-data',\n\t\toptgroupField: 'optgroup',\n\t\tvalueField: 'value',\n\t\tlabelField: 'text',\n\t\toptgroupLabelField: 'label',\n\t\toptgroupValueField: 'value',\n\t\tlockOptgroupOrder: false,\n\t\n\t\tsortField: '$order',\n\t\tsearchField: ['text'],\n\t\tsearchConjunction: 'and',\n\t\n\t\tmode: null,\n\t\twrapperClass: 'selectize-control',\n\t\tinputClass: 'selectize-input',\n\t\tdropdownClass: 'selectize-dropdown',\n\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\n\t\tdropdownParent: null,\n\t\n\t\tcopyClassesToDropdown: true,\n\t\n\t\t/*\n\t\tload                 : null, // function(query, callback) { ... }\n\t\tscore                : null, // function(search) { ... }\n\t\tonInitialize         : null, // function() { ... }\n\t\tonChange             : null, // function(value) { ... }\n\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\tonItemRemove         : null, // function(value) { ... }\n\t\tonClear              : null, // function() { ... }\n\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\tonOptionRemove       : null, // function(value) { ... }\n\t\tonOptionClear        : null, // function() { ... }\n\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\tonOptionGroupClear   : null, // function() { ... }\n\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\tonType               : null, // function(str) { ... }\n\t\tonDelete             : null, // function(values) { ... }\n\t\t*/\n\t\n\t\trender: {\n\t\t\t/*\n\t\t\titem: null,\n\t\t\toptgroup: null,\n\t\t\toptgroup_header: null,\n\t\t\toption: null,\n\t\t\toption_create: null\n\t\t\t*/\n\t\t}\n\t};\n\t\n\t\n\t$.fn.selectize = function(settings_user) {\n\t\tvar defaults             = $.fn.selectize.defaults;\n\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\tvar attr_data            = settings.dataAttr;\n\t\tvar field_label          = settings.labelField;\n\t\tvar field_value          = settings.valueField;\n\t\tvar field_optgroup       = settings.optgroupField;\n\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\n\t\t/**\n\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_textbox = function($input, settings_element) {\n\t\t\tvar i, n, values, option;\n\t\n\t\t\tvar data_raw = $input.attr(attr_data);\n\t\n\t\t\tif (!data_raw) {\n\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\toption = {};\n\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t}\n\t\t\t\tsettings_element.items = values;\n\t\t\t} else {\n\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Initializes selectize from a <select> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_select = function($input, settings_element) {\n\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\tvar options = settings_element.options;\n\t\t\tvar optionsMap = {};\n\t\n\t\t\tvar readData = function($el) {\n\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\t\n\t\t\tvar addOption = function($option, group) {\n\t\t\t\t$option = $($option);\n\t\n\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\n\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\n\t\t\t\toptionsMap[value] = option;\n\t\t\t\toptions.push(option);\n\t\n\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\tvar i, n, id, optgroup, $options;\n\t\n\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\tid = $optgroup.attr('label');\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t}\n\t\n\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\n\t\t\t$children = $input.children();\n\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\taddOption($children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\treturn this.each(function() {\n\t\t\tif (this.selectize) return;\n\t\n\t\t\tvar instance;\n\t\t\tvar $input = $(this);\n\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t}\n\t\n\t\t\tvar settings_element = {\n\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t'options'     : [],\n\t\t\t\t'optgroups'   : [],\n\t\t\t\t'items'       : []\n\t\t\t};\n\t\n\t\t\tif (tag_name === 'select') {\n\t\t\t\tinit_select($input, settings_element);\n\t\t\t} else {\n\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t}\n\t\n\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t});\n\t};\n\t\n\t$.fn.selectize.defaults = Selectize.defaults;\n\t$.fn.selectize.support = {\n\t\tvalidity: SUPPORTS_VALIDITY_API\n\t};\n\t\n\t\n\tSelectize.define('drag_drop', function(options) {\n\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\tif (this.settings.mode !== 'multi') return;\n\t\tvar self = this;\n\t\n\t\tself.lock = (function() {\n\t\t\tvar original = self.lock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.unlock = (function() {\n\t\t\tvar original = self.unlock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(this, arguments);\n\t\n\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t},\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('dropdown_header', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\ttitle         : 'Untitled',\n\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\n\t\t\thtml: function(data) {\n\t\t\t\treturn (\n\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</div>'\n\t\t\t\t);\n\t\t\t}\n\t\t}, options);\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('optgroup_columns', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\tequalizeWidth  : true,\n\t\t\tequalizeHeight : true\n\t\t}, options);\n\t\n\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, $option, $options, $optgroup;\n\t\n\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\n\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tvar getScrollbarWidth = function() {\n\t\t\tvar div;\n\t\t\tvar width = getScrollbarWidth.width;\n\t\t\tvar doc = document;\n\t\n\t\t\tif (typeof width === 'undefined') {\n\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\tdiv = div.firstChild;\n\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\tdoc.body.removeChild(div);\n\t\t\t}\n\t\t\treturn width;\n\t\t};\n\t\n\t\tvar equalizeSizes = function() {\n\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\n\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\tn = $optgroups.length;\n\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\n\t\t\tif (options.equalizeHeight) {\n\t\t\t\theight_max = 0;\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t}\n\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t}\n\t\n\t\t\tif (options.equalizeWidth) {\n\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t$optgroups.css({width: width});\n\t\t\t\tif (n > 1) {\n\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t}\n\t\n\t\n\t});\n\t\n\tSelectize.define('remove_button', function(options) {\n\t\toptions = $.extend({\n\t\t\t\tlabel     : '&times;',\n\t\t\t\ttitle     : 'Remove',\n\t\t\t\tclassName : 'remove',\n\t\t\t\tappend    : true\n\t\t\t}, options);\n\t\n\t\t\tvar singleClose = function(thisRef, options) {\n\t\n\t\t\t\toptions.className = 'remove-single';\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tvar multiClose = function(thisRef, options) {\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\tsingleClose(this, options);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tmultiClose(this, options);\n\t\t\t}\n\t});\n\t\n\t\n\tSelectize.define('restore_on_backspace', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions.text = options.text || function(option) {\n\t\t\treturn option[this.settings.labelField];\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, option;\n\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t});\n\t\n\n\treturn Selectize;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/dist/js/selectize.js\n// module id = 11\n// module chunks = 1 2","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.Sifter = factory();\n\t}\n}(this, function() {\n\n\t/**\n\t * Textually searches arrays and hashes of objects\n\t * by property (or multiple properties). Designed\n\t * specifically for autocomplete.\n\t *\n\t * @constructor\n\t * @param {array|object} items\n\t * @param {object} items\n\t */\n\tvar Sifter = function(items, settings) {\n\t\tthis.items = items;\n\t\tthis.settings = settings || {diacritics: true};\n\t};\n\n\t/**\n\t * Splits a search string into an array of individual\n\t * regexps to be used to match results.\n\t *\n\t * @param {string} query\n\t * @returns {array}\n\t */\n\tSifter.prototype.tokenize = function(query) {\n\t\tquery = trim(String(query || '').toLowerCase());\n\t\tif (!query || !query.length) return [];\n\n\t\tvar i, n, regex, letter;\n\t\tvar tokens = [];\n\t\tvar words = query.split(/ +/);\n\n\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\tregex = escape_regex(words[i]);\n\t\t\tif (this.settings.diacritics) {\n\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttokens.push({\n\t\t\t\tstring : words[i],\n\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t});\n\t\t}\n\n\t\treturn tokens;\n\t};\n\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * this.iterator(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t * @param {array|object} object\n\t */\n\tSifter.prototype.iterator = function(object, callback) {\n\t\tvar iterator;\n\t\tif (is_array(object)) {\n\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\titerator = function(callback) {\n\t\t\t\tfor (var key in this) {\n\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\titerator.apply(object, [callback]);\n\t};\n\n\t/**\n\t * Returns a function to be used to score individual results.\n\t *\n\t * Good matches will have a higher score than poor matches.\n\t * If an item is not a match, 0 will be returned by the function.\n\t *\n\t * @param {object|string} search\n\t * @param {object} options (optional)\n\t * @returns {function}\n\t */\n\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\tvar self, fields, tokens, token_count, nesting;\n\n\t\tself        = this;\n\t\tsearch      = self.prepareSearch(search, options);\n\t\ttokens      = search.tokens;\n\t\tfields      = search.options.fields;\n\t\ttoken_count = tokens.length;\n\t\tnesting     = search.options.nesting;\n\n\t\t/**\n\t\t * Calculates how close of a match the\n\t\t * given value is against a search token.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} token\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreValue = function(value, token) {\n\t\t\tvar score, pos;\n\n\t\t\tif (!value) return 0;\n\t\t\tvalue = String(value || '');\n\t\t\tpos = value.search(token.regex);\n\t\t\tif (pos === -1) return 0;\n\t\t\tscore = token.string.length / value.length;\n\t\t\tif (pos === 0) score += 0.5;\n\t\t\treturn score;\n\t\t};\n\n\t\t/**\n\t\t * Calculates the score of an object\n\t\t * against the search query.\n\t\t *\n\t\t * @param {object} token\n\t\t * @param {object} data\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreObject = (function() {\n\t\t\tvar field_count = fields.length;\n\t\t\tif (!field_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (field_count === 1) {\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn function(token, data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t}\n\t\t\t\treturn sum / field_count;\n\t\t\t};\n\t\t})();\n\n\t\tif (!token_count) {\n\t\t\treturn function() { return 0; };\n\t\t}\n\t\tif (token_count === 1) {\n\t\t\treturn function(data) {\n\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t};\n\t\t}\n\n\t\tif (search.options.conjunction === 'and') {\n\t\t\treturn function(data) {\n\t\t\t\tvar score;\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\tsum += score;\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Returns a function that can be used to compare two\n\t * results, for sorting purposes. If no sorting should\n\t * be performed, `null` will be returned.\n\t *\n\t * @param {string|object} search\n\t * @param {object} options\n\t * @return function(a,b)\n\t */\n\tSifter.prototype.getSortFunction = function(search, options) {\n\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n\t\tself   = this;\n\t\tsearch = self.prepareSearch(search, options);\n\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\n\t\t/**\n\t\t * Fetches the specified sort field value\n\t\t * from a search result item.\n\t\t *\n\t\t * @param  {string} name\n\t\t * @param  {object} result\n\t\t * @return {mixed}\n\t\t */\n\t\tget_field = function(name, result) {\n\t\t\tif (name === '$score') return result.score;\n\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t};\n\n\t\t// parse options\n\t\tfields = [];\n\t\tif (sort) {\n\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// the \"$score\" field is implied to be the primary\n\t\t// sort field, unless it's manually specified\n\t\tif (search.query) {\n\t\t\timplicit_score = true;\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\timplicit_score = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (implicit_score) {\n\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmultipliers = [];\n\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t}\n\n\t\t// build function\n\t\tfields_count = fields.length;\n\t\tif (!fields_count) {\n\t\t\treturn null;\n\t\t} else if (fields_count === 1) {\n\t\t\tfield = fields[0].field;\n\t\t\tmultiplier = multipliers[0];\n\t\t\treturn function(a, b) {\n\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\tget_field(field, a),\n\t\t\t\t\tget_field(field, b)\n\t\t\t\t);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(a, b) {\n\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t\tif (result) return result;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Parses a search query and returns an object\n\t * with tokens and fields ready to be populated\n\t * with results.\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.prepareSearch = function(query, options) {\n\t\tif (typeof query === 'object') return query;\n\n\t\toptions = extend({}, options);\n\n\t\tvar option_fields     = options.fields;\n\t\tvar option_sort       = options.sort;\n\t\tvar option_sort_empty = options.sort_empty;\n\n\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n\t\treturn {\n\t\t\toptions : options,\n\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\ttokens  : this.tokenize(query),\n\t\t\ttotal   : 0,\n\t\t\titems   : []\n\t\t};\n\t};\n\n\t/**\n\t * Searches through all items and returns a sorted array of matches.\n\t *\n\t * The `options` parameter can contain:\n\t *\n\t *   - fields {string|array}\n\t *   - sort {array}\n\t *   - score {function}\n\t *   - filter {bool}\n\t *   - limit {integer}\n\t *\n\t * Returns an object containing:\n\t *\n\t *   - options {object}\n\t *   - query {string}\n\t *   - tokens {array}\n\t *   - total {int}\n\t *   - items {array}\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.search = function(query, options) {\n\t\tvar self = this, value, score, search, calculateScore;\n\t\tvar fn_sort;\n\t\tvar fn_score;\n\n\t\tsearch  = this.prepareSearch(query, options);\n\t\toptions = search.options;\n\t\tquery   = search.query;\n\n\t\t// generate result scoring function\n\t\tfn_score = options.score || self.getScoreFunction(search);\n\n\t\t// perform search and sort\n\t\tif (query.length) {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tscore = fn_score(item);\n\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t});\n\t\t}\n\n\t\tfn_sort = self.getSortFunction(search, options);\n\t\tif (fn_sort) search.items.sort(fn_sort);\n\n\t\t// apply limits\n\t\tsearch.total = search.items.length;\n\t\tif (typeof options.limit === 'number') {\n\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t}\n\n\t\treturn search;\n\t};\n\n\t// utilities\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\tvar cmp = function(a, b) {\n\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t}\n\t\ta = asciifold(String(a || ''));\n\t\tb = asciifold(String(b || ''));\n\t\tif (a > b) return 1;\n\t\tif (b > a) return -1;\n\t\treturn 0;\n\t};\n\n\tvar extend = function(a, b) {\n\t\tvar i, n, k, object;\n\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\tobject = arguments[i];\n\t\t\tif (!object) continue;\n\t\t\tfor (k in object) {\n\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\ta[k] = object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t};\n\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @param  {Boolean} nesting Handle nesting or not\n\t * @return {Object}          The resolved property value\n\t */\n\tvar getattr = function(obj, name, nesting) {\n\t    if (!obj || !name) return;\n\t    if (!nesting) return obj[name];\n\t    var names = name.split(\".\");\n\t    while(names.length && (obj = obj[names.shift()]));\n\t    return obj;\n\t};\n\n\tvar trim = function(str) {\n\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t};\n\n\tvar escape_regex = function(str) {\n\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t};\n\n\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t};\n\n\tvar DIACRITICS = {\n\t\t'a': '[a]',\n\t\t'b': '[bB]',\n\t\t'c': '[cCc]',\n\t\t'd': '[dDd]',\n\t\t'e': '[e]',\n\t\t'f': '[f]',\n\t\t'g': '[g]',\n\t\t'h': '[h]',\n\t\t'i': '[iiI]',\n\t\t'j': '[j]',\n\t\t'k': '[k]',\n\t\t'l': '[l]',\n\t\t'n': '[nNn]',\n\t\t'o': '[o]',\n\t\t'p': '[p]',\n\t\t'q': '[qq]',\n\t\t'r': '[r]',\n\t\t's': '[sSs]',\n\t\t't': '[t]',\n\t\t'u': '[u]',\n\t\t'v': '[v]',\n\t\t'w': '[w]',\n\t\t'x': '[x]',\n\t\t'y': '[y]',\n\t\t'z': '[z]'\n\t};\n\n\tvar asciifold = (function() {\n\t\tvar i, n, k, chunk;\n\t\tvar foreignletters = '';\n\t\tvar lookup = {};\n\t\tfor (k in DIACRITICS) {\n\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\tforeignletters += chunk;\n\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\treturn function(str) {\n\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\treturn lookup[foreignletter];\n\t\t\t}).toLowerCase();\n\t\t};\n\t})();\n\n\n\t// export\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\treturn Sifter;\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/sifter/sifter.js\n// module id = 12\n// module chunks = 1 2","/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MicroPlugin = factory();\n\t}\n}(this, function() {\n\tvar MicroPlugin = {};\n\n\tMicroPlugin.mixin = function(Interface) {\n\t\tInterface.plugins = {};\n\n\t\t/**\n\t\t * Initializes the listed plugins (with options).\n\t\t * Acceptable formats:\n\t\t *\n\t\t * List (without options):\n\t\t *   ['a', 'b', 'c']\n\t\t *\n\t\t * List (with options):\n\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t *\n\t\t * Hash (with options):\n\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t *\n\t\t * @param {mixed} plugins\n\t\t */\n\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\tvar i, n, key;\n\t\t\tvar self  = this;\n\t\t\tvar queue = [];\n\n\t\t\tself.plugins = {\n\t\t\t\tnames     : [],\n\t\t\t\tsettings  : {},\n\t\t\t\trequested : {},\n\t\t\t\tloaded    : {}\n\t\t\t};\n\n\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (plugins) {\n\t\t\t\tfor (key in plugins) {\n\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (queue.length) {\n\t\t\t\tself.require(queue.shift());\n\t\t\t}\n\t\t};\n\n\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\tvar self    = this;\n\t\t\tvar plugins = self.plugins;\n\t\t\tvar plugin  = Interface.plugins[name];\n\n\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t}\n\n\t\t\tplugins.requested[name] = true;\n\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\tplugins.names.push(name);\n\t\t};\n\n\t\t/**\n\t\t * Initializes a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t */\n\t\tInterface.prototype.require = function(name) {\n\t\t\tvar self = this;\n\t\t\tvar plugins = self.plugins;\n\n\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t}\n\t\t\t\tself.loadPlugin(name);\n\t\t\t}\n\n\t\t\treturn plugins.loaded[name];\n\t\t};\n\n\t\t/**\n\t\t * Registers a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\tInterface.define = function(name, fn) {\n\t\t\tInterface.plugins[name] = {\n\t\t\t\t'name' : name,\n\t\t\t\t'fn'   : fn\n\t\t\t};\n\t\t};\n\t};\n\n\tvar utils = {\n\t\tisArray: Array.isArray || function(vArg) {\n\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t}\n\t};\n\n\treturn MicroPlugin;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/microplugin/src/microplugin.js\n// module id = 13\n// module chunks = 1 2","'use strict'\n\n// Dependecies\nconst $ =  require('jquery')\n\nvar module = (element) => {\n  const dropZone = $(element)\n  let $input = dropZone.find('input') // TODO: Change this selector name\n  let $altInput = dropZone.find('[data-trigger=\"file\"]')\n  let defaultImage = dropZone.data('original-image')\n\n  if(defaultImage){\n      fakeLoad('Imagem Padro', defaultImage)\n  }\n\n  dropZone.on({\n    dragover: cbDragOver,\n    dragleave: cbDragLeave,\n    drop: cbDrop\n  })\n\n  $input.on({\n    change: cbChangeFile\n  })\n\n  $altInput.on({\n    click: cbTriggerFile\n  })\n\n  function cbDragOver (event) {\n    dropZone.addClass('hover')\n    return false\n  }\n\n  function cbDragLeave (event) {\n    dropZone.removeClass('hover')\n    return false\n  }\n\n  function cbDrop (event) {\n    let file = event.originalEvent.dataTransfer.files[0]\n\n    event.stopPropagation()\n    event.preventDefault()\n    dropZone.removeClass('hover')\n\n    readFile(file)\n    $input.files = file\n    $input.val('')\n    return false\n  }\n\n  function cbChangeFile (event) {\n    readFile(this.files[0])\n    return false\n  }\n\n  function cbTriggerFile (event) {\n    $input.trigger('click')\n  }\n\n}\n\nvar fakeLoad = function(name, src){\n  var $image = $('<img/>')\n      .load(function() {\n          createPreview(name, getCanvasImage(this))\n      })\n      .attr('src', src);\n}\n\nvar readFile = function (file) {\n  var reader = new FileReader();\n\n  reader.onload = function(e) {\n      fakeLoad(file.name, e.target.result)\n  }\n  reader.readAsDataURL(file);\n}\n\nvar getCanvasImage = function(image) {\n\n  let imgWidth = image.width,\n      imgHeight = image.height;\n\n  let canvas = document.createElement('canvas');\n  canvas.width = imgWidth;\n  canvas.height = imgHeight;\n\n  let ctx = canvas.getContext('2d');\n  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\n  return canvas.toDataURL('image/jpeg');\n}\n\nvar createPreview = function(filename, newURL) {\n  let fileName = filename.substr(0, filename.lastIndexOf('.')) //subtract file extension\n  let filePath = newURL\n  let image = `<img src=\"${filePath}\" class=\"img-responsive\" alt=\"${fileName}\"/>`\n  //append new image through jQuery Template\n  $('[data-content=\"file\"]').html(image).show()\n  $('.custom-file-content').hide()\n}\n\nexport default module\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/dropzoneUploader.js","'use strict';\n\n// import $ from 'jquery';\nrequire('selectize');\n\n\nlet defaultSettings = {\n  plugins: ['remove_button'],\n  maxItems: null,\n  valueField: 'id',\n  labelField: 'name',\n  searchField: 'name',\n  options: [],\n  create: false,\n  render: {\n    item: function (item) {\n      return `<div>${item.name}</div>`;\n    },\n    option: function (option, escape) {\n      return `<div>${escape(option.name)}</div>`;\n    }\n  },\n  load: function ( query, callback ) {\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        dataType: 'json',\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function ( res ) {\n            callback( res )\n        }\n    });\n  }\n};\n\nconst geography = ( element ) => {\n  const $element = $( element )\n  const elementData = $element.data()\n  const selectizeSettings = $.extend( {}, defaultSettings, elementData )\n  $element.selectize( defaultSettings )\n};\n\nexport default geography;\n\n\n\n// WEBPACK FOOTER //\n// ./components/geography.js","module.exports = ( select, dataTarget ) => {\n  const $select = $( select )\n  const $target = $( `[${dataTarget}]` )\n  $target.hide()\n  $target.find(':input').attr('disabled', true)\n  $( `[${dataTarget}=${$select.val()}]` ).show().find(':input' ).attr('disabled', false)\n\n  $select.on({\n    change: function ( event ) {\n      const $this = $( event.currentTarget )\n      $target.hide()\n      $target.find(':input').attr('disabled', true)\n      $( `[${dataTarget}=${$this.val()}]` ).show().find(':input' ).attr('disabled', false)\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/toggle-select.js","module.exports = ( check, dataTarget ) => {\n  const $check = $( check )\n  const $target = $( `[${dataTarget}]` )\n\n  if ($check.is(':checked')) {\n    console.log($check.val())\n  }\n\n  $check.on({\n    change: function ( event ) {\n      const $this = $( event.currentTarget )\n      $target.hide()\n      $target.find(':input').attr('disabled', true)\n\n      if ($this.is(':not(:checked)')) {\n        $( `[${dataTarget}]` ).show().find(':input' ).attr('disabled', false)\n      }\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/toggle-check.js","/*!\n * jQuery Steps v1.1.0 - 09/04/2014\n * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n * Licensed under MIT http://www.opensource.org/licenses/MIT\n */\n;(function ($, undefined)\n{\n$.fn.extend({\n    _aria: function (name, value)\n    {\n        return this.attr(\"aria-\" + name, value);\n    },\n\n    _removeAria: function (name)\n    {\n        return this.removeAttr(\"aria-\" + name);\n    },\n\n    _enableAria: function (enable)\n    {\n        return (enable == null || enable) ?\n            this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") :\n            this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n    },\n\n    _showAria: function (show)\n    {\n        return (show == null || show) ?\n            this.show()._aria(\"hidden\", \"false\") :\n            this.hide()._aria(\"hidden\", \"true\");\n    },\n\n    _selectAria: function (select)\n    {\n        return (select == null || select) ?\n            this.addClass(\"current\")._aria(\"selected\", \"true\") :\n            this.removeClass(\"current\")._aria(\"selected\", \"false\");\n    },\n\n    _id: function (id)\n    {\n        return (id) ? this.attr(\"id\", id) : this.attr(\"id\");\n    }\n});\n\nif (!String.prototype.format)\n{\n    String.prototype.format = function()\n    {\n        var args = (arguments.length === 1 && $.isArray(arguments[0])) ? arguments[0] : arguments;\n        var formattedString = this;\n        for (var i = 0; i < args.length; i++)\n        {\n            var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n            formattedString = formattedString.replace(pattern, args[i]);\n        }\n        return formattedString;\n    };\n}\n\n/**\n * A global unique id count.\n *\n * @static\n * @private\n * @property _uniqueId\n * @type Integer\n **/\nvar _uniqueId = 0;\n\n/**\n * The plugin prefix for cookies.\n *\n * @final\n * @private\n * @property _cookiePrefix\n * @type String\n **/\nvar _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\n/**\n * Suffix for the unique tab id.\n *\n * @final\n * @private\n * @property _tabSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabSuffix = \"-t-\";\n\n/**\n * Suffix for the unique tabpanel id.\n *\n * @final\n * @private\n * @property _tabpanelSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabpanelSuffix = \"-p-\";\n\n/**\n * Suffix for the unique title id.\n *\n * @final\n * @private\n * @property _titleSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _titleSuffix = \"-h-\";\n\n/**\n * An error message for an \"index out of range\" error.\n *\n * @final\n * @private\n * @property _indexOutOfRangeErrorMessage\n * @type String\n **/\nvar _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\n/**\n * An error message for an \"missing corresponding element\" error.\n *\n * @final\n * @private\n * @property _missingCorrespondingElementErrorMessage\n * @type String\n **/\nvar _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\n/**\n * Adds a step to the cache.\n *\n * @static\n * @private\n * @method addStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param step {Object} The step object to add\n **/\nfunction addStepToCache(wizard, step)\n{\n    getSteps(wizard).push(step);\n}\n\nfunction analyzeData(wizard, options, state)\n{\n    var stepTitles = wizard.children(options.headerTag),\n        stepContents = wizard.children(options.bodyTag);\n\n    // Validate content\n    if (stepTitles.length > stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n    }\n    else if (stepTitles.length < stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n    }\n\n    var startIndex = options.startIndex;\n\n    state.stepCount = stepTitles.length;\n\n    // Tries to load the saved state (step position)\n    if (options.saveState && $.cookie)\n    {\n        var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n        // Sets the saved position to the start index if not undefined or out of range\n        var savedIndex = parseInt(savedState, 0);\n        if (!isNaN(savedIndex) && savedIndex < state.stepCount)\n        {\n            startIndex = savedIndex;\n        }\n    }\n\n    state.currentIndex = startIndex;\n\n    stepTitles.each(function (index)\n    {\n        var item = $(this), // item == header\n            content = stepContents.eq(index),\n            modeData = content.data(\"mode\"),\n            mode = (modeData == null) ? contentMode.html : getValidEnumValue(contentMode,\n                (/^\\s*$/.test(modeData) || isNaN(modeData)) ? modeData : parseInt(modeData, 0)),\n            contentUrl = (mode === contentMode.html || content.data(\"url\") === undefined) ?\n                \"\" : content.data(\"url\"),\n            contentLoaded = (mode !== contentMode.html && content.data(\"loaded\") === \"1\"),\n            step = $.extend({}, stepModel, {\n                title: item.html(),\n                content: (mode === contentMode.html) ? content.html() : \"\",\n                contentUrl: contentUrl,\n                contentMode: mode,\n                contentLoaded: contentLoaded\n            });\n\n        addStepToCache(wizard, step);\n    });\n}\n\n/**\n * Triggers the onCanceled event.\n *\n * @static\n * @private\n * @method cancel\n * @param wizard {Object} The jQuery wizard object\n **/\nfunction cancel(wizard)\n{\n    wizard.triggerHandler(\"canceled\");\n}\n\nfunction decreaseCurrentIndexBy(state, decreaseBy)\n{\n    return state.currentIndex - decreaseBy;\n}\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @static\n * @private\n * @method destroy\n * @param wizard {Object} A jQuery wizard object\n **/\nfunction destroy(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    // Remove virtual data objects from the wizard\n    wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\")\n        .removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\")\n        .find(\".actions a\").unbind(eventNamespace);\n\n    // Remove attributes and CSS classes from the wizard\n    wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\n    var contents = wizard.find(\".content > *\");\n\n    // Remove virtual data objects from panels and their titles\n    contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\n    // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n    contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\")\n        .removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")\n        ._removeAria(\"hidden\");\n\n    // Empty panels if the mode is set to 'async' or 'iframe'\n    wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\n    var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\n    var wizardId = wizard._id();\n    if (wizardId != null && wizardId !== \"\")\n    {\n        wizardSubstitute._id(wizardId);\n    }\n\n    wizardSubstitute.html(wizard.find(\".content\").html());\n    wizard.after(wizardSubstitute);\n    wizard.remove();\n\n    return wizardSubstitute;\n}\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @static\n * @private\n * @method finishStep\n * @param wizard {Object} The jQuery wizard object\n * @param state {Object} The state container of the current wizard\n **/\nfunction finishStep(wizard, state)\n{\n    var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\n    if (wizard.triggerHandler(\"finishing\", [state.currentIndex]))\n    {\n        currentStep.addClass(\"done\").removeClass(\"error\");\n        wizard.triggerHandler(\"finished\", [state.currentIndex]);\n    }\n    else\n    {\n        currentStep.addClass(\"error\");\n    }\n}\n\n/**\n * Gets or creates if not exist an unique event namespace for the given wizard instance.\n *\n * @static\n * @private\n * @method getEventNamespace\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique event namespace for the given wizard\n */\nfunction getEventNamespace(wizard)\n{\n    var eventNamespace = wizard.data(\"eventNamespace\");\n\n    if (eventNamespace == null)\n    {\n        eventNamespace = \".\" + getUniqueId(wizard);\n        wizard.data(\"eventNamespace\", eventNamespace);\n    }\n\n    return eventNamespace;\n}\n\nfunction getStepAnchor(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n}\n\nfunction getStepPanel(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n}\n\nfunction getStepTitle(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n}\n\nfunction getOptions(wizard)\n{\n    return wizard.data(\"options\");\n}\n\nfunction getState(wizard)\n{\n    return wizard.data(\"state\");\n}\n\nfunction getSteps(wizard)\n{\n    return wizard.data(\"steps\");\n}\n\n/**\n * Gets a specific step object by index.\n *\n * @static\n * @private\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\nfunction getStep(wizard, index)\n{\n    var steps = getSteps(wizard);\n\n    if (index < 0 || index >= steps.length)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    return steps[index];\n}\n\n/**\n * Gets or creates if not exist an unique id from the given wizard instance.\n *\n * @static\n * @private\n * @method getUniqueId\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique id for the given wizard\n */\nfunction getUniqueId(wizard)\n{\n    var uniqueId = wizard.data(\"uid\");\n\n    if (uniqueId == null)\n    {\n        uniqueId = wizard._id();\n        if (uniqueId == null)\n        {\n            uniqueId = \"steps-uid-\".concat(_uniqueId);\n            wizard._id(uniqueId);\n        }\n\n        _uniqueId++;\n        wizard.data(\"uid\", uniqueId);\n    }\n\n    return uniqueId;\n}\n\n/**\n * Gets a valid enum value by checking a specific enum key or value.\n *\n * @static\n * @private\n * @method getValidEnumValue\n * @param enumType {Object} Type of enum\n * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n */\nfunction getValidEnumValue(enumType, keyOrValue)\n{\n    validateArgument(\"enumType\", enumType);\n    validateArgument(\"keyOrValue\", keyOrValue);\n\n    // Is key\n    if (typeof keyOrValue === \"string\")\n    {\n        var value = enumType[keyOrValue];\n        if (value === undefined)\n        {\n            throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n        }\n\n        return value;\n    }\n    // Is value\n    else if (typeof keyOrValue === \"number\")\n    {\n        for (var key in enumType)\n        {\n            if (enumType[key] === keyOrValue)\n            {\n                return keyOrValue;\n            }\n        }\n\n        throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n    }\n    // Type is not supported\n    else\n    {\n        throwError(\"Invalid key or value type.\");\n    }\n}\n\n/**\n * Routes to the next step.\n *\n * @static\n * @private\n * @method goToNextStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToNextStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to the previous step.\n *\n * @static\n * @private\n * @method goToPreviousStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToPreviousStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to a specific step by a given index.\n *\n * @static\n * @private\n * @method goToStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the action succeeded or failed\n **/\nfunction goToStep(wizard, options, state, index)\n{\n    if (index < 0 || index >= state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    if (options.forceMoveForward && index < state.currentIndex)\n    {\n        return;\n    }\n\n    var oldIndex = state.currentIndex;\n    if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index]))\n    {\n        // Save new state\n        state.currentIndex = index;\n        saveCurrentStateToCookie(wizard, options, state);\n\n        // Change visualisation\n        refreshStepNavigation(wizard, options, state, oldIndex);\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n        startTransitionEffect(wizard, options, state, index, oldIndex, function()\n        {\n            wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n        });\n    }\n    else\n    {\n        wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n    }\n\n    return true;\n}\n\nfunction increaseCurrentIndexBy(state, increaseBy)\n{\n    return state.currentIndex + increaseBy;\n}\n\n/**\n * Initializes the component.\n *\n * @static\n * @private\n * @method initialize\n * @param options {Object} The component settings\n **/\nfunction initialize(options)\n{\n    /*jshint -W040 */\n    var opts = $.extend(true, {}, defaults, options);\n\n    return this.each(function ()\n    {\n        var wizard = $(this);\n        var state = {\n            currentIndex: opts.startIndex,\n            currentStep: null,\n            stepCount: 0,\n            transitionElement: null\n        };\n\n        // Create data container\n        wizard.data(\"options\", opts);\n        wizard.data(\"state\", state);\n        wizard.data(\"steps\", []);\n\n        analyzeData(wizard, opts, state);\n        render(wizard, opts, state);\n        registerEvents(wizard, opts);\n\n        // Trigger focus\n        if (opts.autoFocus && _uniqueId === 0)\n        {\n            getStepAnchor(wizard, opts.startIndex).focus();\n        }\n\n        wizard.triggerHandler(\"init\", [opts.startIndex]);\n    });\n}\n\n/**\n * Inserts a new step to a specific position.\n *\n * @static\n * @private\n * @method insertStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\nfunction insertStep(wizard, options, state, index, step)\n{\n    if (index < 0 || index > state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    // TODO: Validate step object\n\n    // Change data\n    step = $.extend({}, stepModel, step);\n    insertStepToCache(wizard, index, step);\n    if (state.currentIndex !== state.stepCount && state.currentIndex >= index)\n    {\n        state.currentIndex++;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount++;\n\n    var contentContainer = wizard.find(\".content\"),\n        header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n        body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\n    if (step.contentMode == null || step.contentMode === contentMode.html)\n    {\n        body.html(step.content);\n    }\n\n    if (index === 0)\n    {\n        contentContainer.prepend(body).prepend(header);\n    }\n    else\n    {\n        getStepPanel(wizard, (index - 1)).after(body).after(header);\n    }\n\n    renderBody(wizard, state, body, index);\n    renderTitle(wizard, options, state, header, index);\n    refreshSteps(wizard, options, state, index);\n    if (index === state.currentIndex)\n    {\n        refreshStepNavigation(wizard, options, state);\n    }\n    refreshPagination(wizard, options, state);\n\n    return wizard;\n}\n\n/**\n * Inserts a step object to the cache at a specific position.\n *\n * @static\n * @private\n * @method insertStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n **/\nfunction insertStepToCache(wizard, index, step)\n{\n    getSteps(wizard).splice(index, 0, step);\n}\n\n/**\n * Handles the keyup DOM event for pagination.\n *\n * @static\n * @private\n * @event keyup\n * @param event {Object} An event object\n */\nfunction keyUpHandler(event)\n{\n    var wizard = $(this),\n        options = getOptions(wizard),\n        state = getState(wizard);\n\n    if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\"))\n    {\n        event.preventDefault();\n        return false;\n    }\n\n    var keyCodes = { left: 37, right: 39 };\n    if (event.keyCode === keyCodes.left)\n    {\n        event.preventDefault();\n        goToPreviousStep(wizard, options, state);\n    }\n    else if (event.keyCode === keyCodes.right)\n    {\n        event.preventDefault();\n        goToNextStep(wizard, options, state);\n    }\n}\n\n/**\n * Loads and includes async content.\n *\n * @static\n * @private\n * @method loadAsyncContent\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction loadAsyncContent(wizard, options, state)\n{\n    if (state.stepCount > 0)\n    {\n        var currentIndex = state.currentIndex,\n            currentStep = getStep(wizard, currentIndex);\n\n        if (!options.enableContentCache || !currentStep.contentLoaded)\n        {\n            switch (getValidEnumValue(contentMode, currentStep.contentMode))\n            {\n                case contentMode.iframe:\n                    wizard.find(\".content > .body\").eq(state.currentIndex).empty()\n                        .html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\")\n                        .data(\"loaded\", \"1\");\n                    break;\n\n                case contentMode.async:\n                    var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\")\n                        .empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\n                    $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data)\n                    {\n                        currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n                        wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n                    });\n                    break;\n            }\n        }\n    }\n}\n\n/**\n * Fires the action next or previous click event.\n *\n * @static\n * @private\n * @method paginationClick\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the event fired successfully or not\n **/\nfunction paginationClick(wizard, options, state, index)\n{\n    var oldIndex = state.currentIndex;\n\n    if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex))\n    {\n        var anchor = getStepAnchor(wizard, index),\n            parent = anchor.parent(),\n            isDisabled = parent.hasClass(\"disabled\");\n\n        // Enable the step to make the anchor clickable!\n        parent._enableAria();\n        anchor.click();\n\n        // An error occured\n        if (oldIndex === state.currentIndex && isDisabled)\n        {\n            // Disable the step again if current index has not changed; prevents click action.\n            parent._enableAria(false);\n            return false;\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Fires when a pagination click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction paginationClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        href = anchor.attr(\"href\");\n\n    switch (href.substring(href.lastIndexOf(\"#\") + 1))\n    {\n        case \"cancel\":\n            cancel(wizard);\n            break;\n\n        case \"finish\":\n            finishStep(wizard, state);\n            break;\n\n        case \"next\":\n            goToNextStep(wizard, options, state);\n            break;\n\n        case \"previous\":\n            goToPreviousStep(wizard, options, state);\n            break;\n    }\n}\n\n/**\n * Refreshs the visualization state for the entire pagination.\n *\n * @static\n * @private\n * @method refreshPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction refreshPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n            next = wizard.find(\".actions a[href$='#next']\").parent();\n\n        if (!options.forceMoveForward)\n        {\n            var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n            previous._enableAria(state.currentIndex > 0);\n        }\n\n        if (options.enableFinishButton && options.showFinishButtonAlways)\n        {\n            finish._enableAria(state.stepCount > 0);\n            next._enableAria(state.stepCount > 1 && state.stepCount > (state.currentIndex + 1));\n        }\n        else\n        {\n            finish._showAria(options.enableFinishButton && state.stepCount === (state.currentIndex + 1));\n            next._showAria(state.stepCount === 0 || state.stepCount > (state.currentIndex + 1)).\n                _enableAria(state.stepCount > (state.currentIndex + 1) || !options.enableFinishButton);\n        }\n    }\n}\n\n/**\n * Refreshs the visualization state for the step navigation (tabs).\n *\n * @static\n * @private\n * @method refreshStepNavigation\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param [oldIndex] {Integer} The index of the prior step\n */\nfunction refreshStepNavigation(wizard, options, state, oldIndex)\n{\n    var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n        currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n        stepTitles = wizard.find(\".content > .title\");\n\n    if (oldIndex != null)\n    {\n        var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n        oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n        stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n        currentInfo = oldStepAnchor.find(\".current-info\");\n        currentOrNewStepAnchor.focus();\n    }\n\n    currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n    stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n}\n\n/**\n * Refreshes step buttons and their related titles beyond a certain position.\n *\n * @static\n * @private\n * @method refreshSteps\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The start point for refreshing ids\n */\nfunction refreshSteps(wizard, options, state, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    for (var i = index; i < state.stepCount; i++)\n    {\n        var uniqueStepId = uniqueId + _tabSuffix + i,\n            uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n            uniqueHeaderId = uniqueId + _titleSuffix + i,\n            title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\n        wizard.find(\".steps a\").eq(i)._id(uniqueStepId)\n            ._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId)\n            .html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n        wizard.find(\".body\").eq(i)._id(uniqueBodyId)\n            ._aria(\"labelledby\", uniqueHeaderId);\n    }\n}\n\nfunction registerEvents(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n    wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n    wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n    wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n    wizard.bind(\"init\" + eventNamespace, options.onInit);\n    wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n    wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\n    if (options.enableKeyNavigation)\n    {\n        wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n    }\n\n    wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n}\n\n/**\n * Removes a specific step by an given index.\n *\n * @static\n * @private\n * @method removeStep\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\nfunction removeStep(wizard, options, state, index)\n{\n    // Index out of range and try deleting current item will return false.\n    if (index < 0 || index >= state.stepCount || state.currentIndex === index)\n    {\n        return false;\n    }\n\n    // Change data\n    removeStepFromCache(wizard, index);\n    if (state.currentIndex > index)\n    {\n        state.currentIndex--;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount--;\n\n    getStepTitle(wizard, index).remove();\n    getStepPanel(wizard, index).remove();\n    getStepAnchor(wizard, index).parent().remove();\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        wizard.find(\".steps li\").first().addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === state.stepCount)\n    {\n        wizard.find(\".steps li\").eq(index).addClass(\"last\");\n    }\n\n    refreshSteps(wizard, options, state, index);\n    refreshPagination(wizard, options, state);\n\n    return true;\n}\n\nfunction removeStepFromCache(wizard, index)\n{\n    getSteps(wizard).splice(index, 1);\n}\n\n/**\n * Transforms the base html structure to a more sensible html structure.\n *\n * @static\n * @private\n * @method render\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n **/\nfunction render(wizard, options, state)\n{\n    // Create a content wrapper and copy HTML from the intial wizard structure\n    var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n        orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n        verticalCssClass = (orientation === stepsOrientation.vertical) ? \" vertical\" : \"\",\n        contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n        stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n        stepTitles = contentWrapper.children(options.headerTag),\n        stepContents = contentWrapper.children(options.bodyTag);\n\n    // Transform the wizard wrapper and remove the inner HTML\n    wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper)\n        .addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\n    // Add WIA-ARIA support\n    stepContents.each(function (index)\n    {\n        renderBody(wizard, state, $(this), index);\n    });\n\n    stepTitles.each(function (index)\n    {\n        renderTitle(wizard, options, state, $(this), index);\n    });\n\n    refreshStepNavigation(wizard, options, state);\n    renderPagination(wizard, options, state);\n}\n\n/**\n * Transforms the body to a proper tabpanel.\n *\n * @static\n * @private\n * @method renderBody\n * @param wizard {Object} A jQuery wizard object\n * @param body {Object} A jQuery body object\n * @param index {Integer} The position of the body\n */\nfunction renderBody(wizard, state, body, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index;\n\n    body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId)\n        .addClass(\"body\")._showAria(state.currentIndex === index);\n}\n\n/**\n * Renders a pagination if enabled.\n *\n * @static\n * @private\n * @method renderPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction renderPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n            buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n            buttons = \"\";\n\n        if (!options.forceMoveForward)\n        {\n            buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n        }\n\n        buttons += buttonTemplate.format(\"next\", options.labels.next);\n\n        if (options.enableFinishButton)\n        {\n            buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n        }\n\n        if (options.enableCancelButton)\n        {\n            buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n        }\n\n        wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass,\n            options.labels.pagination, buttons));\n\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n    }\n}\n\n/**\n * Renders a template and replaces all placeholder.\n *\n * @static\n * @private\n * @method renderTemplate\n * @param template {String} A template\n * @param substitutes {Object} A list of substitute\n * @return {String} The rendered template\n */\nfunction renderTemplate(template, substitutes)\n{\n    var matches = template.match(/#([a-z]*)#/gi);\n\n    for (var i = 0; i < matches.length; i++)\n    {\n        var match = matches[i],\n            key = match.substring(1, match.length - 1);\n\n        if (substitutes[key] === undefined)\n        {\n            throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n        }\n\n        template = template.replace(match, substitutes[key]);\n    }\n\n    return template;\n}\n\n/**\n * Transforms the title to a step item button.\n *\n * @static\n * @private\n * @method renderTitle\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param header {Object} A jQuery header object\n * @param index {Integer} The position of the header\n */\nfunction renderTitle(wizard, options, state, header, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueStepId = uniqueId + _tabSuffix + index,\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index,\n        stepCollection = wizard.find(\".steps > ul\"),\n        title = renderTemplate(options.titleTemplate, {\n            index: index + 1,\n            title: header.html()\n        }),\n        stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId +\n            \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\n    stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\n    if (state.currentIndex > index)\n    {\n        stepItem.addClass(\"done\");\n    }\n\n    header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\n    if (index === 0)\n    {\n        stepCollection.prepend(stepItem);\n    }\n    else\n    {\n        stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n    }\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === (state.stepCount - 1))\n    {\n        stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n    }\n\n    // Register click event\n    stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n}\n\n/**\n * Saves the current state to a cookie.\n *\n * @static\n * @private\n * @method saveCurrentStateToCookie\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction saveCurrentStateToCookie(wizard, options, state)\n{\n    if (options.saveState && $.cookie)\n    {\n        $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n    }\n}\n\nfunction startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback)\n{\n    var stepContents = wizard.find(\".content > .body\"),\n        effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n        effectSpeed = options.transitionEffectSpeed,\n        newStep = stepContents.eq(index),\n        currentStep = stepContents.eq(oldIndex);\n\n    switch (effect)\n    {\n        case transitionEffect.fade:\n        case transitionEffect.slide:\n            var hide = (effect === transitionEffect.fade) ? \"fadeOut\" : \"slideUp\",\n                show = (effect === transitionEffect.fade) ? \"fadeIn\" : \"slideDown\";\n\n            state.transitionElement = newStep;\n            currentStep[hide](effectSpeed, function ()\n            {\n                var wizard = $(this)._showAria(false).parent().parent(),\n                    state = getState(wizard);\n\n                if (state.transitionElement)\n                {\n                    state.transitionElement[show](effectSpeed, function ()\n                    {\n                        $(this)._showAria();\n                    }).promise().done(doneCallback);\n                    state.transitionElement = null;\n                }\n            });\n            break;\n\n        case transitionEffect.slideLeft:\n            var outerWidth = currentStep.outerWidth(true),\n                posFadeOut = (index > oldIndex) ? -(outerWidth) : outerWidth,\n                posFadeIn = (index > oldIndex) ? outerWidth : -(outerWidth);\n\n            $.when(currentStep.animate({ left: posFadeOut }, effectSpeed,\n                    function () { $(this)._showAria(false); }),\n                newStep.css(\"left\", posFadeIn + \"px\")._showAria()\n                    .animate({ left: 0 }, effectSpeed)).done(doneCallback);\n            break;\n\n        default:\n            $.when(currentStep._showAria(false), newStep._showAria())\n                .done(doneCallback);\n            break;\n    }\n}\n\n/**\n * Fires when a step click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction stepClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        oldIndex = state.currentIndex;\n\n    if (anchor.parent().is(\":not(.disabled):not(.current)\"))\n    {\n        var href = anchor.attr(\"href\"),\n            position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\n        goToStep(wizard, options, state, position);\n    }\n\n    // If nothing has changed\n    if (oldIndex === state.currentIndex)\n    {\n        getStepAnchor(wizard, oldIndex).focus();\n        return false;\n    }\n}\n\nfunction throwError(message)\n{\n    if (arguments.length > 1)\n    {\n        message = message.format(Array.prototype.slice.call(arguments, 1));\n    }\n\n    throw new Error(message);\n}\n\n/**\n * Checks an argument for null or undefined and throws an error if one check applies.\n *\n * @static\n * @private\n * @method validateArgument\n * @param argumentName {String} The name of the given argument\n * @param argumentValue {Object} The argument itself\n */\nfunction validateArgument(argumentName, argumentValue)\n{\n    if (argumentValue == null)\n    {\n        throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n    }\n}\n\n/**\n * Represents a jQuery wizard plugin.\n *\n * @class steps\n * @constructor\n * @param [method={}] The name of the method as `String` or an JSON object for initialization\n * @param [params=]* {Array} Additional arguments for a method call\n * @chainable\n **/\n$.fn.steps = function (method)\n{\n    if ($.fn.steps[method])\n    {\n        return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n    else if (typeof method === \"object\" || !method)\n    {\n        return initialize.apply(this, arguments);\n    }\n    else\n    {\n        $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n    }\n};\n\n/**\n * Adds a new step.\n *\n * @method add\n * @param step {Object} The step object to add\n * @chainable\n **/\n$.fn.steps.add = function (step)\n{\n    var state = getState(this);\n    return insertStep(this, getOptions(this), state, state.stepCount, step);\n};\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @method destroy\n * @chainable\n **/\n$.fn.steps.destroy = function ()\n{\n    return destroy(this, getOptions(this));\n};\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @method finish\n **/\n$.fn.steps.finish = function ()\n{\n    finishStep(this, getState(this));\n};\n\n/**\n * Gets the current step index.\n *\n * @method getCurrentIndex\n * @return {Integer} The actual step index (zero-based)\n * @for steps\n **/\n$.fn.steps.getCurrentIndex = function ()\n{\n    return getState(this).currentIndex;\n};\n\n/**\n * Gets the current step object.\n *\n * @method getCurrentStep\n * @return {Object} The actual step object\n **/\n$.fn.steps.getCurrentStep = function ()\n{\n    return getStep(this, getState(this).currentIndex);\n};\n\n/**\n * Gets a specific step object by index.\n *\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\n$.fn.steps.getStep = function (index)\n{\n    return getStep(this, index);\n};\n\n/**\n * Inserts a new step to a specific position.\n *\n * @method insert\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\n$.fn.steps.insert = function (index, step)\n{\n    return insertStep(this, getOptions(this), getState(this), index, step);\n};\n\n/**\n * Routes to the next step.\n *\n * @method next\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.next = function ()\n{\n    return goToNextStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Routes to the previous step.\n *\n * @method previous\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.previous = function ()\n{\n    return goToPreviousStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Removes a specific step by an given index.\n *\n * @method remove\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\n$.fn.steps.remove = function (index)\n{\n    return removeStep(this, getOptions(this), getState(this), index);\n};\n\n/**\n * Sets a specific step object by index.\n *\n * @method setStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @param step {Object} The step object to change\n **/\n$.fn.steps.setStep = function (index, step)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * Skips an certain amount of steps.\n *\n * @method skip\n * @param count {Integer} The amount of steps that should be skipped\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.skip = function (count)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * An enum represents the different content types of a step and their loading mechanisms.\n *\n * @class contentMode\n * @for steps\n **/\nvar contentMode = $.fn.steps.contentMode = {\n    /**\n     * HTML embedded content\n     *\n     * @readOnly\n     * @property html\n     * @type Integer\n     * @for contentMode\n     **/\n    html: 0,\n\n    /**\n     * IFrame embedded content\n     *\n     * @readOnly\n     * @property iframe\n     * @type Integer\n     * @for contentMode\n     **/\n    iframe: 1,\n\n    /**\n     * Async embedded content\n     *\n     * @readOnly\n     * @property async\n     * @type Integer\n     * @for contentMode\n     **/\n    async: 2\n};\n\n/**\n * An enum represents the orientation of the steps navigation.\n *\n * @class stepsOrientation\n * @for steps\n **/\nvar stepsOrientation = $.fn.steps.stepsOrientation = {\n    /**\n     * Horizontal orientation\n     *\n     * @readOnly\n     * @property horizontal\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    horizontal: 0,\n\n    /**\n     * Vertical orientation\n     *\n     * @readOnly\n     * @property vertical\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    vertical: 1\n};\n\n/**\n * An enum that represents the various transition animations.\n *\n * @class transitionEffect\n * @for steps\n **/\nvar transitionEffect = $.fn.steps.transitionEffect = {\n    /**\n     * No transition animation\n     *\n     * @readOnly\n     * @property none\n     * @type Integer\n     * @for transitionEffect\n     **/\n    none: 0,\n\n    /**\n     * Fade in transition\n     *\n     * @readOnly\n     * @property fade\n     * @type Integer\n     * @for transitionEffect\n     **/\n    fade: 1,\n\n    /**\n     * Slide up transition\n     *\n     * @readOnly\n     * @property slide\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slide: 2,\n\n    /**\n     * Slide left transition\n     *\n     * @readOnly\n     * @property slideLeft\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slideLeft: 3\n};\n\nvar stepModel = $.fn.steps.stepModel = {\n    title: \"\",\n    content: \"\",\n    contentUrl: \"\",\n    contentMode: contentMode.html,\n    contentLoaded: false\n};\n\n/**\n * An object that represents the default settings.\n * There are two possibities to override the sub-properties.\n * Either by doing it generally (global) or on initialization.\n *\n * @static\n * @class defaults\n * @for steps\n * @example\n *   // Global approach\n *   $.steps.defaults.headerTag = \"h3\";\n * @example\n *   // Initialization approach\n *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n **/\nvar defaults = $.fn.steps.defaults = {\n    /**\n     * The header tag is used to find the step button text within the declared wizard area.\n     *\n     * @property headerTag\n     * @type String\n     * @default \"h1\"\n     * @for defaults\n     **/\n    headerTag: \"h1\",\n\n    /**\n     * The body tag is used to find the step content within the declared wizard area.\n     *\n     * @property bodyTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    bodyTag: \"div\",\n\n    /**\n     * The content container tag which will be used to wrap all step contents.\n     *\n     * @property contentContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    contentContainerTag: \"div\",\n\n    /**\n     * The action container tag which will be used to wrap the pagination navigation.\n     *\n     * @property actionContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    actionContainerTag: \"div\",\n\n    /**\n     * The steps container tag which will be used to wrap the steps navigation.\n     *\n     * @property stepsContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    stepsContainerTag: \"div\",\n\n    /**\n     * The css class which will be added to the outer component wrapper.\n     *\n     * @property cssClass\n     * @type String\n     * @default \"wizard\"\n     * @for defaults\n     * @example\n     *     <div class=\"wizard\">\n     *         ...\n     *     </div>\n     **/\n    cssClass: \"wizard\",\n\n    /**\n     * The css class which will be used for floating scenarios.\n     *\n     * @property clearFixCssClass\n     * @type String\n     * @default \"clearfix\"\n     * @for defaults\n     **/\n    clearFixCssClass: \"clearfix\",\n\n    /**\n     * Determines whether the steps are vertically or horizontally oriented.\n     *\n     * @property stepsOrientation\n     * @type stepsOrientation\n     * @default horizontal\n     * @for defaults\n     * @since 1.0.0\n     **/\n    stepsOrientation: stepsOrientation.horizontal,\n\n    /*\n     * Tempplates\n     */\n\n    /**\n     * The title template which will be used to create a step button.\n     *\n     * @property titleTemplate\n     * @type String\n     * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n     * @for defaults\n     **/\n    titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\n    /**\n     * The loading template which will be used to create the loading animation.\n     *\n     * @property loadingTemplate\n     * @type String\n     * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n     * @for defaults\n     **/\n    loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\n    /*\n     * Behaviour\n     */\n\n    /**\n     * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n     *\n     * @property autoFocus\n     * @type Boolean\n     * @default false\n     * @for defaults\n     * @since 0.9.4\n     **/\n    autoFocus: false,\n\n    /**\n     * Enables all steps from the begining if `true` (all steps are clickable).\n     *\n     * @property enableAllSteps\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableAllSteps: false,\n\n    /**\n     * Enables keyboard navigation if `true` (arrow left and arrow right).\n     *\n     * @property enableKeyNavigation\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableKeyNavigation: true,\n\n    /**\n     * Enables pagination if `true`.\n     *\n     * @property enablePagination\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enablePagination: true,\n\n    /**\n     * Suppresses pagination if a form field is focused.\n     *\n     * @property suppressPaginationOnFocus\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    suppressPaginationOnFocus: true,\n\n    /**\n     * Enables cache for async loaded or iframe embedded content.\n     *\n     * @property enableContentCache\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableContentCache: true,\n\n    /**\n     * Shows the cancel button if enabled.\n     *\n     * @property enableCancelButton\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableCancelButton: false,\n\n    /**\n     * Shows the finish button if enabled.\n     *\n     * @property enableFinishButton\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableFinishButton: true,\n\n    /**\n     * Not yet implemented.\n     *\n     * @property preloadContent\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    preloadContent: false,\n\n    /**\n     * Shows the finish button always (on each step; right beside the next button) if `true`.\n     * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n     *\n     * @property showFinishButtonAlways\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    showFinishButtonAlways: false,\n\n    /**\n     * Prevents jumping to a previous step.\n     *\n     * @property forceMoveForward\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    forceMoveForward: false,\n\n    /**\n     * Saves the current state (step position) to a cookie.\n     * By coming next time the last active step becomes activated.\n     *\n     * @property saveState\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    saveState: false,\n\n    /**\n     * The position to start on (zero-based).\n     *\n     * @property startIndex\n     * @type Integer\n     * @default 0\n     * @for defaults\n     **/\n    startIndex: 0,\n\n    /*\n     * Animation Effect Configuration\n     */\n\n    /**\n     * The animation effect which will be used for step transitions.\n     *\n     * @property transitionEffect\n     * @type transitionEffect\n     * @default none\n     * @for defaults\n     **/\n    transitionEffect: transitionEffect.none,\n\n    /**\n     * Animation speed for step transitions (in milliseconds).\n     *\n     * @property transitionEffectSpeed\n     * @type Integer\n     * @default 200\n     * @for defaults\n     **/\n    transitionEffectSpeed: 200,\n\n    /*\n     * Events\n     */\n\n    /**\n     * Fires before the step changes and can be used to prevent step changing by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onStepChanging\n     * @type Event\n     * @default function (event, currentIndex, newIndex) { return true; }\n     * @for defaults\n     **/\n    onStepChanging: function (event, currentIndex, newIndex) { return true; },\n\n    /**\n     * Fires after the step has change.\n     *\n     * @property onStepChanged\n     * @type Event\n     * @default function (event, currentIndex, priorIndex) { }\n     * @for defaults\n     **/\n    onStepChanged: function (event, currentIndex, priorIndex) { },\n\n    /**\n     * Fires after cancelation.\n     *\n     * @property onCanceled\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onCanceled: function (event) { },\n\n    /**\n     * Fires before finishing and can be used to prevent completion by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onFinishing\n     * @type Event\n     * @default function (event, currentIndex) { return true; }\n     * @for defaults\n     **/\n    onFinishing: function (event, currentIndex) { return true; },\n\n    /**\n     * Fires after completion.\n     *\n     * @property onFinished\n     * @type Event\n     * @default function (event, currentIndex) { }\n     * @for defaults\n     **/\n    onFinished: function (event, currentIndex) { },\n\n    /**\n     * Fires after async content is loaded.\n     *\n     * @property onContentLoaded\n     * @type Event\n     * @default function (event, index) { }\n     * @for defaults\n     **/\n    onContentLoaded: function (event, currentIndex) { },\n\n    /**\n     * Fires when the wizard is initialized.\n     *\n     * @property onInit\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onInit: function (event, currentIndex) { },\n\n    /**\n     * Contains all labels.\n     *\n     * @property labels\n     * @type Object\n     * @for defaults\n     **/\n    labels: {\n        /**\n         * Label for the cancel button.\n         *\n         * @property cancel\n         * @type String\n         * @default \"Cancel\"\n         * @for defaults\n         **/\n        cancel: \"Cancel\",\n\n        /**\n         * This label is important for accessability reasons.\n         * Indicates which step is activated.\n         *\n         * @property current\n         * @type String\n         * @default \"current step:\"\n         * @for defaults\n         **/\n        current: \"current step:\",\n\n        /**\n         * This label is important for accessability reasons and describes the kind of navigation.\n         *\n         * @property pagination\n         * @type String\n         * @default \"Pagination\"\n         * @for defaults\n         * @since 0.9.7\n         **/\n        pagination: \"Pagination\",\n\n        /**\n         * Label for the finish button.\n         *\n         * @property finish\n         * @type String\n         * @default \"Finish\"\n         * @for defaults\n         **/\n        finish: \"Finish\",\n\n        /**\n         * Label for the next button.\n         *\n         * @property next\n         * @type String\n         * @default \"Next\"\n         * @for defaults\n         **/\n        next: \"Next\",\n\n        /**\n         * Label for the previous button.\n         *\n         * @property previous\n         * @type String\n         * @default \"Previous\"\n         * @for defaults\n         **/\n        previous: \"Previous\",\n\n        /**\n         * Label for the loading animation.\n         *\n         * @property loading\n         * @type String\n         * @default \"Loading ...\"\n         * @for defaults\n         **/\n        loading: \"Loading ...\"\n    }\n};\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.steps.js","/*!\n * jQuery Validation Plugin v1.15.0\n *\n * http://jqueryvalidation.org/\n *\n * Copyright (c) 2016 Jrn Zaefferer\n * Released under the MIT license\n */\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n$.extend( $.fn, {\n\n\t// http://jqueryvalidation.org/validate/\n\tvalidate: function( options ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\tif ( options && options.debug && window.console ) {\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if a validator for this form was already created\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\n\t\tif ( validator ) {\n\t\t\treturn validator;\n\t\t}\n\n\t\t// Add novalidate tag if HTML5.\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\n\n\t\tvalidator = new $.validator( options, this[ 0 ] );\n\t\t$.data( this[ 0 ], \"validator\", validator );\n\n\t\tif ( validator.settings.onsubmit ) {\n\n\t\t\tthis.on( \"click.validate\", \":submit\", function( event ) {\n\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\tif ( $( this ).hasClass( \"cancel\" ) ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\tif ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Validate the form on submit\n\t\t\tthis.on( \"submit.validate\", function( event ) {\n\t\t\t\tif ( validator.settings.debug ) {\n\n\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tfunction handle() {\n\t\t\t\t\tvar hidden, result;\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\n\t\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\n\t\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\n\t\t\t\t\t\t\t\t.appendTo( validator.currentForm );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== undefined ) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\tif ( validator.cancelSubmit ) {\n\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\treturn handle();\n\t\t\t\t}\n\t\t\t\tif ( validator.form() ) {\n\t\t\t\t\tif ( validator.pendingRequest ) {\n\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn handle();\n\t\t\t\t} else {\n\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn validator;\n\t},\n\n\t// http://jqueryvalidation.org/valid/\n\tvalid: function() {\n\t\tvar valid, validator, errorList;\n\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\n\t\t\tvalid = this.validate().form();\n\t\t} else {\n\t\t\terrorList = [];\n\t\t\tvalid = true;\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\n\t\t\tthis.each( function() {\n\t\t\t\tvalid = validator.element( this ) && valid;\n\t\t\t\tif ( !valid ) {\n\t\t\t\t\terrorList = errorList.concat( validator.errorList );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tvalidator.errorList = errorList;\n\t\t}\n\t\treturn valid;\n\t},\n\n\t// http://jqueryvalidation.org/rules/\n\trules: function( command, argument ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element = this[ 0 ],\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\n\n\t\tif ( command ) {\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\n\t\t\tstaticRules = settings.rules;\n\t\t\texistingRules = $.validator.staticRules( element );\n\t\t\tswitch ( command ) {\n\t\t\tcase \"add\":\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\n\n\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\tdelete existingRules.messages;\n\t\t\t\tstaticRules[ element.name ] = existingRules;\n\t\t\t\tif ( argument.messages ) {\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"remove\":\n\t\t\t\tif ( !argument ) {\n\t\t\t\t\tdelete staticRules[ element.name ];\n\t\t\t\t\treturn existingRules;\n\t\t\t\t}\n\t\t\t\tfiltered = {};\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\n\t\t\t\t\tdelete existingRules[ method ];\n\t\t\t\t\tif ( method === \"required\" ) {\n\t\t\t\t\t\t$( element ).removeAttr( \"aria-required\" );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn filtered;\n\t\t\t}\n\t\t}\n\n\t\tdata = $.validator.normalizeRules(\n\t\t$.extend(\n\t\t\t{},\n\t\t\t$.validator.classRules( element ),\n\t\t\t$.validator.attributeRules( element ),\n\t\t\t$.validator.dataRules( element ),\n\t\t\t$.validator.staticRules( element )\n\t\t), element );\n\n\t\t// Make sure required is at front\n\t\tif ( data.required ) {\n\t\t\tparam = data.required;\n\t\t\tdelete data.required;\n\t\t\tdata = $.extend( { required: param }, data );\n\t\t\t$( element ).attr( \"aria-required\", \"true\" );\n\t\t}\n\n\t\t// Make sure remote is at back\n\t\tif ( data.remote ) {\n\t\t\tparam = data.remote;\n\t\t\tdelete data.remote;\n\t\t\tdata = $.extend( data, { remote: param } );\n\t\t}\n\n\t\treturn data;\n\t}\n} );\n\n// Custom selectors\n$.extend( $.expr[ \":\" ], {\n\n\t// http://jqueryvalidation.org/blank-selector/\n\tblank: function( a ) {\n\t\treturn !$.trim( \"\" + $( a ).val() );\n\t},\n\n\t// http://jqueryvalidation.org/filled-selector/\n\tfilled: function( a ) {\n\t\tvar val = $( a ).val();\n\t\treturn val !== null && !!$.trim( \"\" + val );\n\t},\n\n\t// http://jqueryvalidation.org/unchecked-selector/\n\tunchecked: function( a ) {\n\t\treturn !$( a ).prop( \"checked\" );\n\t}\n} );\n\n// Constructor for validator\n$.validator = function( options, form ) {\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\n\tthis.currentForm = form;\n\tthis.init();\n};\n\n// http://jqueryvalidation.org/jQuery.validator.format/\n$.validator.format = function( source, params ) {\n\tif ( arguments.length === 1 ) {\n\t\treturn function() {\n\t\t\tvar args = $.makeArray( arguments );\n\t\t\targs.unshift( source );\n\t\t\treturn $.validator.format.apply( this, args );\n\t\t};\n\t}\n\tif ( params === undefined ) {\n\t\treturn source;\n\t}\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\n\t\tparams = $.makeArray( arguments ).slice( 1 );\n\t}\n\tif ( params.constructor !== Array ) {\n\t\tparams = [ params ];\n\t}\n\t$.each( params, function( i, n ) {\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n\t\t\treturn n;\n\t\t} );\n\t} );\n\treturn source;\n};\n\n$.extend( $.validator, {\n\n\tdefaults: {\n\t\tmessages: {},\n\t\tgroups: {},\n\t\trules: {},\n\t\terrorClass: \"error\",\n\t\tpendingClass: \"pending\",\n\t\tvalidClass: \"valid\",\n\t\terrorElement: \"label\",\n\t\tfocusCleanup: false,\n\t\tfocusInvalid: true,\n\t\terrorContainer: $( [] ),\n\t\terrorLabelContainer: $( [] ),\n\t\tonsubmit: true,\n\t\tignore: \":hidden\",\n\t\tignoreTitle: false,\n\t\tonfocusin: function( element ) {\n\t\t\tthis.lastActive = element;\n\n\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\tif ( this.settings.focusCleanup ) {\n\t\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\n\t\t\t}\n\t\t},\n\t\tonfocusout: function( element ) {\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonkeyup: function( element, event ) {\n\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t// Shift       => 16\n\t\t\t// Ctrl        => 17\n\t\t\t// Alt         => 18\n\t\t\t// Caps lock   => 20\n\t\t\t// End         => 35\n\t\t\t// Home        => 36\n\t\t\t// Left arrow  => 37\n\t\t\t// Up arrow    => 38\n\t\t\t// Right arrow => 39\n\t\t\t// Down arrow  => 40\n\t\t\t// Insert      => 45\n\t\t\t// Num lock    => 144\n\t\t\t// AltGr key   => 225\n\t\t\tvar excludedKeys = [\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\n\t\t\t\t38, 39, 40, 45, 144, 225\n\t\t\t];\n\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t} else if ( element.name in this.submitted || element.name in this.invalid ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonclick: function( element ) {\n\n\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\tif ( element.name in this.submitted ) {\n\t\t\t\tthis.element( element );\n\n\t\t\t// Or option elements, check parent select in that case\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\n\t\t\t\tthis.element( element.parentNode );\n\t\t\t}\n\t\t},\n\t\thighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\n\t\t\t}\n\t\t},\n\t\tunhighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\n\t\t\t}\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\tsetDefaults: function( settings ) {\n\t\t$.extend( $.validator.defaults, settings );\n\t},\n\n\tmessages: {\n\t\trequired: \"This field is required.\",\n\t\tremote: \"Please fix this field.\",\n\t\temail: \"Please enter a valid email address.\",\n\t\turl: \"Please enter a valid URL.\",\n\t\tdate: \"Please enter a valid date.\",\n\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\tnumber: \"Please enter a valid number.\",\n\t\tdigits: \"Please enter only digits.\",\n\t\tequalTo: \"Please enter the same value again.\",\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\n\t\tstep: $.validator.format( \"Please enter a multiple of {0}.\" )\n\t},\n\n\tautoCreateRanges: false,\n\n\tprototype: {\n\n\t\tinit: function() {\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\n\t\t\tthis.submitted = {};\n\t\t\tthis.valueCache = {};\n\t\t\tthis.pendingRequest = 0;\n\t\t\tthis.pending = {};\n\t\t\tthis.invalid = {};\n\t\t\tthis.reset();\n\n\t\t\tvar groups = ( this.groups = {} ),\n\t\t\t\trules;\n\t\t\t$.each( this.settings.groups, function( key, value ) {\n\t\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\t\tvalue = value.split( /\\s/ );\n\t\t\t\t}\n\t\t\t\t$.each( value, function( index, name ) {\n\t\t\t\t\tgroups[ name ] = key;\n\t\t\t\t} );\n\t\t\t} );\n\t\t\trules = this.settings.rules;\n\t\t\t$.each( rules, function( key, value ) {\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\n\t\t\t} );\n\n\t\t\tfunction delegate( event ) {\n\t\t\t\tvar validator = $.data( this.form, \"validator\" ),\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n\t\t\t\t\tsettings = validator.settings;\n\t\t\t\tif ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\n\t\t\t\t\tsettings[ eventType ].call( validator, this, event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate\",\n\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable]\", delegate )\n\n\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t.on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\n\n\t\t\tif ( this.settings.invalidHandler ) {\n\t\t\t\t$( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\n\t\t\t}\n\n\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t$( this.currentForm ).find( \"[required], [data-rule-required], .required\" ).attr( \"aria-required\", \"true\" );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.form/\n\t\tform: function() {\n\t\t\tthis.checkForm();\n\t\t\t$.extend( this.submitted, this.errorMap );\n\t\t\tthis.invalid = $.extend( {}, this.errorMap );\n\t\t\tif ( !this.valid() ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t}\n\t\t\tthis.showErrors();\n\t\t\treturn this.valid();\n\t\t},\n\n\t\tcheckForm: function() {\n\t\t\tthis.prepareForm();\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\n\t\t\t\tthis.check( elements[ i ] );\n\t\t\t}\n\t\t\treturn this.valid();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.element/\n\t\telement: function( element ) {\n\t\t\tvar cleanElement = this.clean( element ),\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\n\t\t\t\tv = this,\n\t\t\t\tresult = true,\n\t\t\t\trs, group;\n\n\t\t\tif ( checkElement === undefined ) {\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\n\t\t\t} else {\n\t\t\t\tthis.prepareElement( checkElement );\n\t\t\t\tthis.currentElements = $( checkElement );\n\n\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t// containing a value\n\t\t\t\tgroup = this.groups[ checkElement.name ];\n\t\t\t\tif ( group ) {\n\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\n\t\t\t\t\t\tif ( testgroup === group && name !== checkElement.name ) {\n\t\t\t\t\t\t\tcleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\n\t\t\t\t\t\t\tif ( cleanElement && cleanElement.name in v.invalid ) {\n\t\t\t\t\t\t\t\tv.currentElements.push( cleanElement );\n\t\t\t\t\t\t\t\tresult = result && v.check( cleanElement );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\trs = this.check( checkElement ) !== false;\n\t\t\t\tresult = result && rs;\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\n\t\t\t\t}\n\n\t\t\t\tif ( !this.numberOfInvalids() ) {\n\n\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\tthis.toHide = this.toHide.add( this.containers );\n\t\t\t\t}\n\t\t\t\tthis.showErrors();\n\n\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t$( element ).attr( \"aria-invalid\", !rs );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\tshowErrors: function( errors ) {\n\t\t\tif ( errors ) {\n\t\t\t\tvar validator = this;\n\n\t\t\t\t// Add items to error list and map\n\t\t\t\t$.extend( this.errorMap, errors );\n\t\t\t\tthis.errorList = $.map( this.errorMap, function( message, name ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: validator.findByName( name )[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t\t// Remove items from success list\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\n\t\t\t\t\treturn !( element.name in errors );\n\t\t\t\t} );\n\t\t\t}\n\t\t\tif ( this.settings.showErrors ) {\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\n\t\t\t} else {\n\t\t\t\tthis.defaultShowErrors();\n\t\t\t}\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\tresetForm: function() {\n\t\t\tif ( $.fn.resetForm ) {\n\t\t\t\t$( this.currentForm ).resetForm();\n\t\t\t}\n\t\t\tthis.invalid = {};\n\t\t\tthis.submitted = {};\n\t\t\tthis.prepareForm();\n\t\t\tthis.hideErrors();\n\t\t\tvar elements = this.elements()\n\t\t\t\t.removeData( \"previousValue\" )\n\t\t\t\t.removeAttr( \"aria-invalid\" );\n\n\t\t\tthis.resetElements( elements );\n\t\t},\n\n\t\tresetElements: function( elements ) {\n\t\t\tvar i;\n\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\n\t\t\t\t\tthis.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telements\n\t\t\t\t\t.removeClass( this.settings.errorClass )\n\t\t\t\t\t.removeClass( this.settings.validClass );\n\t\t\t}\n\t\t},\n\n\t\tnumberOfInvalids: function() {\n\t\t\treturn this.objectLength( this.invalid );\n\t\t},\n\n\t\tobjectLength: function( obj ) {\n\t\t\t/* jshint unused: false */\n\t\t\tvar count = 0,\n\t\t\t\ti;\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( obj[ i ] ) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\thideErrors: function() {\n\t\t\tthis.hideThese( this.toHide );\n\t\t},\n\n\t\thideThese: function( errors ) {\n\t\t\terrors.not( this.containers ).text( \"\" );\n\t\t\tthis.addWrapper( errors ).hide();\n\t\t},\n\n\t\tvalid: function() {\n\t\t\treturn this.size() === 0;\n\t\t},\n\n\t\tsize: function() {\n\t\t\treturn this.errorList.length;\n\t\t},\n\n\t\tfocusInvalid: function() {\n\t\t\tif ( this.settings.focusInvalid ) {\n\t\t\t\ttry {\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\n\t\t\t\t\t.filter( \":visible\" )\n\t\t\t\t\t.focus()\n\n\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t.trigger( \"focusin\" );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindLastActive: function() {\n\t\t\tvar lastActive = this.lastActive;\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\n\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t} ).length === 1 && lastActive;\n\t\t},\n\n\t\telements: function() {\n\t\t\tvar validator = this,\n\t\t\t\trulesCache = {};\n\n\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\treturn $( this.currentForm )\n\t\t\t.find( \"input, select, textarea, [contenteditable]\" )\n\t\t\t.not( \":submit, :reset, :image, :disabled\" )\n\t\t\t.not( this.settings.ignore )\n\t\t\t.filter( function() {\n\t\t\t\tvar name = this.name || $( this ).attr( \"name\" ); // For contenteditable\n\t\t\t\tif ( !name && validator.settings.debug && window.console ) {\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\n\t\t\t\t}\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( this.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\tif ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\trulesCache[ name ] = true;\n\t\t\t\treturn true;\n\t\t\t} );\n\t\t},\n\n\t\tclean: function( selector ) {\n\t\t\treturn $( selector )[ 0 ];\n\t\t},\n\n\t\terrors: function() {\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\n\t\t},\n\n\t\tresetInternals: function() {\n\t\t\tthis.successList = [];\n\t\t\tthis.errorList = [];\n\t\t\tthis.errorMap = {};\n\t\t\tthis.toShow = $( [] );\n\t\t\tthis.toHide = $( [] );\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.resetInternals();\n\t\t\tthis.currentElements = $( [] );\n\t\t},\n\n\t\tprepareForm: function() {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errors().add( this.containers );\n\t\t},\n\n\t\tprepareElement: function( element ) {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errorsFor( element );\n\t\t},\n\n\t\telementValue: function( element ) {\n\t\t\tvar $element = $( element ),\n\t\t\t\ttype = element.type,\n\t\t\t\tval, idx;\n\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\n\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).val();\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t}\n\n\t\t\tif ( element.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\tval = $element.text();\n\t\t\t} else {\n\t\t\t\tval = $element.val();\n\t\t\t}\n\n\t\t\tif ( type === \"file\" ) {\n\n\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\tif ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\n\t\t\t\t\treturn val.substr( 12 );\n\t\t\t\t}\n\n\t\t\t\t// Legacy browsers\n\t\t\t\t// Unix-based path\n\t\t\t\tidx = val.lastIndexOf( \"/\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Windows-based path\n\t\t\t\tidx = val.lastIndexOf( \"\\\\\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Just the file name\n\t\t\t\treturn val;\n\t\t\t}\n\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\treturn val.replace( /\\r/g, \"\" );\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\tcheck: function( element ) {\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\n\n\t\t\tvar rules = $( element ).rules(),\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\n\t\t\t\t\treturn i;\n\t\t\t\t} ).length,\n\t\t\t\tdependencyMismatch = false,\n\t\t\t\tval = this.elementValue( element ),\n\t\t\t\tresult, method, rule;\n\n\t\t\t// If a normalizer is defined for this element, then\n\t\t\t// call it to retreive the changed value instead\n\t\t\t// of using the real one.\n\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\tif ( typeof rules.normalizer === \"function\" ) {\n\t\t\t\tval = rules.normalizer.call( element, val );\n\n\t\t\t\tif ( typeof val !== \"string\" ) {\n\t\t\t\t\tthrow new TypeError( \"The normalizer should return a string value.\" );\n\t\t\t\t}\n\n\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t// it as a pre-defined method.\n\t\t\t\tdelete rules.normalizer;\n\t\t\t}\n\n\t\t\tfor ( method in rules ) {\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\n\t\t\t\ttry {\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdependencyMismatch = false;\n\n\t\t\t\t\tif ( result === \"pending\" ) {\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n\t\t\t\t\t}\n\t\t\t\t\tif ( e instanceof TypeError ) {\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( dependencyMismatch ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( this.objectLength( rules ) ) {\n\t\t\t\tthis.successList.push( element );\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Return the custom message for the given element and validation method\n\t\t// specified in the element's HTML5 data attribute\n\t\t// return the generic message if present and no method specific message is present\n\t\tcustomDataMessage: function( element, method ) {\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\n\t\t},\n\n\t\t// Return the custom message for the given element name and validation method\n\t\tcustomMessage: function( name, method ) {\n\t\t\tvar m = this.settings.messages[ name ];\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ] );\n\t\t},\n\n\t\t// Return the first defined argument, allowing empty strings\n\t\tfindDefined: function() {\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\n\t\t\t\t\treturn arguments[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\n\t\tdefaultMessage: function( element, rule ) {\n\t\t\tvar message = this.findDefined(\n\t\t\t\t\tthis.customMessage( element.name, rule.method ),\n\t\t\t\t\tthis.customDataMessage( element, rule.method ),\n\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\n\t\t\t\t\t$.validator.messages[ rule.method ],\n\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n\t\t\t\t),\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\tif ( typeof message === \"function\" ) {\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\n\t\t\t} else if ( theregex.test( message ) ) {\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\n\t\t\t}\n\n\t\t\treturn message;\n\t\t},\n\n\t\tformatAndAdd: function( element, rule ) {\n\t\t\tvar message = this.defaultMessage( element, rule );\n\n\t\t\tthis.errorList.push( {\n\t\t\t\tmessage: message,\n\t\t\t\telement: element,\n\t\t\t\tmethod: rule.method\n\t\t\t} );\n\n\t\t\tthis.errorMap[ element.name ] = message;\n\t\t\tthis.submitted[ element.name ] = message;\n\t\t},\n\n\t\taddWrapper: function( toToggle ) {\n\t\t\tif ( this.settings.wrapper ) {\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n\t\t\t}\n\t\t\treturn toToggle;\n\t\t},\n\n\t\tdefaultShowErrors: function() {\n\t\t\tvar i, elements, error;\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\n\t\t\t\terror = this.errorList[ i ];\n\t\t\t\tif ( this.settings.highlight ) {\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.showLabel( error.element, error.message );\n\t\t\t}\n\t\t\tif ( this.errorList.length ) {\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\n\t\t\t}\n\t\t\tif ( this.settings.success ) {\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\n\t\t\tthis.hideErrors();\n\t\t\tthis.addWrapper( this.toShow ).show();\n\t\t},\n\n\t\tvalidElements: function() {\n\t\t\treturn this.currentElements.not( this.invalidElements() );\n\t\t},\n\n\t\tinvalidElements: function() {\n\t\t\treturn $( this.errorList ).map( function() {\n\t\t\t\treturn this.element;\n\t\t\t} );\n\t\t},\n\n\t\tshowLabel: function( element, message ) {\n\t\t\tvar place, group, errorID, v,\n\t\t\t\terror = this.errorsFor( element ),\n\t\t\t\telementID = this.idOrName( element ),\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\n\n\t\t\tif ( error.length ) {\n\n\t\t\t\t// Refresh error/success class\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n\n\t\t\t\t// Replace message on existing label\n\t\t\t\terror.html( message );\n\t\t\t} else {\n\n\t\t\t\t// Create error element\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\n\t\t\t\t\t.addClass( this.settings.errorClass )\n\t\t\t\t\t.html( message || \"\" );\n\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\tplace = error;\n\t\t\t\tif ( this.settings.wrapper ) {\n\n\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\n\t\t\t\t}\n\t\t\t\tif ( this.labelContainer.length ) {\n\t\t\t\t\tthis.labelContainer.append( place );\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\n\t\t\t\t\tthis.settings.errorPlacement( place, $( element ) );\n\t\t\t\t} else {\n\t\t\t\t\tplace.insertAfter( element );\n\t\t\t\t}\n\n\t\t\t\t// Link error back to the element\n\t\t\t\tif ( error.is( \"label\" ) ) {\n\n\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\terror.attr( \"for\", elementID );\n\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t} else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\n\t\t\t\t\terrorID = error.attr( \"id\" );\n\n\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\tif ( !describedBy ) {\n\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\n\n\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t}\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\n\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\tgroup = this.groups[ element.name ];\n\t\t\t\t\tif ( group ) {\n\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t$.each( v.groups, function( name, testgroup ) {\n\t\t\t\t\t\t\tif ( testgroup === group ) {\n\t\t\t\t\t\t\t\t$( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !message && this.settings.success ) {\n\t\t\t\terror.text( \"\" );\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\n\t\t\t\t\terror.addClass( this.settings.success );\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings.success( error, element );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toShow = this.toShow.add( error );\n\t\t},\n\n\t\terrorsFor: function( element ) {\n\t\t\tvar name = this.escapeCssMeta( this.idOrName( element ) ),\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\n\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\tif ( describer ) {\n\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta( describer )\n\t\t\t\t\t.replace( /\\s+/g, \", #\" );\n\t\t\t}\n\n\t\t\treturn this\n\t\t\t\t.errors()\n\t\t\t\t.filter( selector );\n\t\t},\n\n\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t// as a literal part of a name/id or any selector.\n\t\tescapeCssMeta: function( string ) {\n\t\t\treturn string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\n\t\t},\n\n\t\tidOrName: function( element ) {\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\n\t\t},\n\n\t\tvalidationTargetFor: function( element ) {\n\n\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\telement = this.findByName( element.name );\n\t\t\t}\n\n\t\t\t// Always apply ignore filter\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\n\t\t},\n\n\t\tcheckable: function( element ) {\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\n\t\t},\n\n\t\tfindByName: function( name ) {\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\n\t\t},\n\n\t\tgetLength: function( value, element ) {\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\n\t\t\tcase \"select\":\n\t\t\t\treturn $( \"option:selected\", element ).length;\n\t\t\tcase \"input\":\n\t\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value.length;\n\t\t},\n\n\t\tdepend: function( param, element ) {\n\t\t\treturn this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\n\t\t},\n\n\t\tdependTypes: {\n\t\t\t\"boolean\": function( param ) {\n\t\t\t\treturn param;\n\t\t\t},\n\t\t\t\"string\": function( param, element ) {\n\t\t\t\treturn !!$( param, element.form ).length;\n\t\t\t},\n\t\t\t\"function\": function( param, element ) {\n\t\t\t\treturn param( element );\n\t\t\t}\n\t\t},\n\n\t\toptional: function( element ) {\n\t\t\tvar val = this.elementValue( element );\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n\t\t},\n\n\t\tstartRequest: function( element ) {\n\t\t\tif ( !this.pending[ element.name ] ) {\n\t\t\t\tthis.pendingRequest++;\n\t\t\t\t$( element ).addClass( this.settings.pendingClass );\n\t\t\t\tthis.pending[ element.name ] = true;\n\t\t\t}\n\t\t},\n\n\t\tstopRequest: function( element, valid ) {\n\t\t\tthis.pendingRequest--;\n\n\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\tif ( this.pendingRequest < 0 ) {\n\t\t\t\tthis.pendingRequest = 0;\n\t\t\t}\n\t\t\tdelete this.pending[ element.name ];\n\t\t\t$( element ).removeClass( this.settings.pendingClass );\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\n\t\t\t\t$( this.currentForm ).submit();\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t}\n\t\t},\n\n\t\tpreviousValue: function( element, method ) {\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\n\t\t\t\told: null,\n\t\t\t\tvalid: true,\n\t\t\t\tmessage: this.defaultMessage( element, { method: method } )\n\t\t\t} );\n\t\t},\n\n\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\tdestroy: function() {\n\t\t\tthis.resetForm();\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.off( \".validate\" )\n\t\t\t\t.removeData( \"validator\" )\n\t\t\t\t.find( \".validate-equalTo-blur\" )\n\t\t\t\t\t.off( \".validate-equalTo\" )\n\t\t\t\t\t.removeClass( \"validate-equalTo-blur\" );\n\t\t}\n\n\t},\n\n\tclassRuleSettings: {\n\t\trequired: { required: true },\n\t\temail: { email: true },\n\t\turl: { url: true },\n\t\tdate: { date: true },\n\t\tdateISO: { dateISO: true },\n\t\tnumber: { number: true },\n\t\tdigits: { digits: true },\n\t\tcreditcard: { creditcard: true }\n\t},\n\n\taddClassRules: function( className, rules ) {\n\t\tif ( className.constructor === String ) {\n\t\t\tthis.classRuleSettings[ className ] = rules;\n\t\t} else {\n\t\t\t$.extend( this.classRuleSettings, className );\n\t\t}\n\t},\n\n\tclassRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tclasses = $( element ).attr( \"class\" );\n\n\t\tif ( classes ) {\n\t\t\t$.each( classes.split( \" \" ), function() {\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeAttributeRule: function( rules, type, method, value ) {\n\n\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t// allows type=\"date\" and others to be compared as strings\n\t\tif ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n\t\t\tvalue = Number( value );\n\n\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\tif ( isNaN( value ) ) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif ( value || value === 0 ) {\n\t\t\trules[ method ] = value;\n\t\t} else if ( type === method && type !== \"range\" ) {\n\n\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t// does not test for the html5 'range' type\n\t\t\trules[ method ] = true;\n\t\t}\n\t},\n\n\tattributeRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\n\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\tif ( method === \"required\" ) {\n\t\t\t\tvalue = element.getAttribute( method );\n\n\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t}\n\n\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\tvalue = !!value;\n\t\t\t} else {\n\t\t\t\tvalue = $element.attr( method );\n\t\t\t}\n\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\n\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n\t\t\tdelete rules.maxlength;\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\tdataRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tstaticRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tvalidator = $.data( element.form, \"validator\" );\n\n\t\tif ( validator.settings.rules ) {\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeRules: function( rules, element ) {\n\n\t\t// Handle dependency check\n\t\t$.each( rules, function( prop, val ) {\n\n\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\tif ( val === false ) {\n\t\t\t\tdelete rules[ prop ];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( val.param || val.depends ) {\n\t\t\t\tvar keepRule = true;\n\t\t\t\tswitch ( typeof val.depends ) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"function\":\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( keepRule ) {\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\n\t\t\t\t} else {\n\t\t\t\t\t$.data( element.form, \"validator\" ).resetElements( $( element ) );\n\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Evaluate parameters\n\t\t$.each( rules, function( rule, parameter ) {\n\t\t\trules[ rule ] = $.isFunction( parameter ) && rule !== \"normalizer\" ? parameter( element ) : parameter;\n\t\t} );\n\n\t\t// Clean number parameters\n\t\t$.each( [ \"minlength\", \"maxlength\" ], function() {\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\trules[ this ] = Number( rules[ this ] );\n\t\t\t}\n\t\t} );\n\t\t$.each( [ \"rangelength\", \"range\" ], function() {\n\t\t\tvar parts;\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\n\t\t\t\t\tparts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tif ( $.validator.autoCreateRanges ) {\n\n\t\t\t// Auto-create ranges\n\t\t\tif ( rules.min != null && rules.max != null ) {\n\t\t\t\trules.range = [ rules.min, rules.max ];\n\t\t\t\tdelete rules.min;\n\t\t\t\tdelete rules.max;\n\t\t\t}\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\n\t\t\t\tdelete rules.minlength;\n\t\t\t\tdelete rules.maxlength;\n\t\t\t}\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\tnormalizeRule: function( data ) {\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tvar transformed = {};\n\t\t\t$.each( data.split( /\\s/ ), function() {\n\t\t\t\ttransformed[ this ] = true;\n\t\t\t} );\n\t\t\tdata = transformed;\n\t\t}\n\t\treturn data;\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\taddMethod: function( name, method, message ) {\n\t\t$.validator.methods[ name ] = method;\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\n\t\tif ( method.length < 3 ) {\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\tmethods: {\n\n\t\t// http://jqueryvalidation.org/required-method/\n\t\trequired: function( value, element, param ) {\n\n\t\t\t// Check if dependency is met\n\t\t\tif ( !this.depend( param, element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\n\n\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\tvar val = $( element ).val();\n\t\t\t\treturn val && val.length > 0;\n\t\t\t}\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\treturn this.getLength( value, element ) > 0;\n\t\t\t}\n\t\t\treturn value.length > 0;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/email-method/\n\t\temail: function( value, element ) {\n\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t// Retrieved 2014-01-14\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t// Or use custom methods to implement your own email validation\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/url-method/\n\t\turl: function( value, element ) {\n\n\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t// modified to allow protocol-relative URLs\n\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/date-method/\n\t\tdate: function( value, element ) {\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\tdateISO: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/number-method/\n\t\tnumber: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/digits-method/\n\t\tdigits: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/minlength-method/\n\t\tminlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\tmaxlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\trangelength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/min-method/\n\t\tmin: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/max-method/\n\t\tmax: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/range-method/\n\t\trange: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/step-method/\n\t\tstep: function( value, element, param ) {\n\t\t\tvar type = $( element ).attr( \"type\" ),\n\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\tsupportedTypes = [ \"text\", \"number\", \"range\" ],\n\t\t\t\tre = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\n\t\t\t\tnotSupported = type && !re.test( supportedTypes.join() );\n\n\t\t\t// Works only for text, number and range input types\n\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\tif ( notSupported ) {\n\t\t\t\tthrow new Error( errorMessage );\n\t\t\t}\n\t\t\treturn this.optional( element ) || ( value % param === 0 );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\tequalTo: function( value, element, param ) {\n\n\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\tvar target = $( param );\n\t\t\tif ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\n\t\t\t\ttarget.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\n\t\t\t\t\t$( element ).valid();\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn value === target.val();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/remote-method/\n\t\tremote: function( value, element, param, method ) {\n\t\t\tif ( this.optional( element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\tvar previous = this.previousValue( element, method ),\n\t\t\t\tvalidator, data, optionDataString;\n\n\t\t\tif ( !this.settings.messages[ element.name ] ) {\n\t\t\t\tthis.settings.messages[ element.name ] = {};\n\t\t\t}\n\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\n\t\t\tthis.settings.messages[ element.name ][ method ] = previous.message;\n\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\toptionDataString = $.param( $.extend( { data: value }, param.data ) );\n\t\t\tif ( previous.old === optionDataString ) {\n\t\t\t\treturn previous.valid;\n\t\t\t}\n\n\t\t\tprevious.old = optionDataString;\n\t\t\tvalidator = this;\n\t\t\tthis.startRequest( element );\n\t\t\tdata = {};\n\t\t\tdata[ element.name ] = value;\n\t\t\t$.ajax( $.extend( true, {\n\t\t\t\tmode: \"abort\",\n\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: data,\n\t\t\t\tcontext: validator.currentForm,\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\terrors, message, submitted;\n\n\t\t\t\t\tvalidator.settings.messages[ element.name ][ method ] = previous.originalMessage;\n\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\tvalidator.toHide = validator.errorsFor( element );\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\tvalidator.successList.push( element );\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = false;\n\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, { method: method, parameters: value } );\n\t\t\t\t\t\terrors[ element.name ] = previous.message = message;\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\n\t\t\t\t\t\tvalidator.showErrors( errors );\n\t\t\t\t\t}\n\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\tvalidator.stopRequest( element, valid );\n\t\t\t\t}\n\t\t\t}, param ) );\n\t\t\treturn \"pending\";\n\t\t}\n\t}\n\n} );\n\n// Ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\nvar pendingRequests = {},\n\tajax;\n\n// Use a prefilter if available (1.5+)\nif ( $.ajaxPrefilter ) {\n\t$.ajaxPrefilter( function( settings, _, xhr ) {\n\t\tvar port = settings.port;\n\t\tif ( settings.mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = xhr;\n\t\t}\n\t} );\n} else {\n\n\t// Proxy ajax\n\tajax = $.ajax;\n\t$.ajax = function( settings ) {\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n\t\tif ( mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = ajax.apply( this, arguments );\n\t\t\treturn pendingRequests[ port ];\n\t\t}\n\t\treturn ajax.apply( this, arguments );\n\t};\n}\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.validate.js","'use strict';\n\n// import $ from 'jquery';\nrequire('selectize');\n\n\nvar taxonomy,\n    elementData,\n    $element,\n    TemplateEngine = require('./TemplateEngine');\n\nvar defaultSettings = {\n    plugins: ['remove_button'],\n    maxItems: 5,\n    valueField: 'url',\n    labelField: 'name',\n    searchField: 'name',\n    create: false,\n    render: {\n        item: renderItem,\n        option: renderOption\n    },\n    load: loadItems\n};\n\nvar defaultTemplates = {\n    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n};\n\nfunction renderItem(item){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.item;\n    var elementData = $element.data();\n    if('templateItem' in elementData && $(elementData.templateItem).length){\n        renderTemplate = $(elementData.templateItem).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n}\n\nfunction renderOption(item, escape){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.option;\n    var elementData = $element.data();\n    if('templateOption' in elementData && $(elementData.templateOption).length){\n        renderTemplate = $(elementData.templateOption).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n\n}\n\nfunction loadItems(query, callback) {\n\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function(res){\n          console.log(res);\n            callback(res);\n        }\n    });\n}\n\ntaxonomy = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, defaultSettings, elementData);\n    $(element).selectize(selectizeSettings);\n};\n\nexport default taxonomy\n\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/taxonomy.js","var map = {\n\t\"./comments\": 64,\n\t\"./comments.js\": 64,\n\t\"./comments/jquery.render-list\": 66,\n\t\"./comments/jquery.render-list.js\": 66,\n\t\"./commit-box\": 67,\n\t\"./commit-box.js\": 67,\n\t\"./courses\": 68,\n\t\"./courses.js\": 68,\n\t\"./customform\": 70,\n\t\"./customform.js\": 70,\n\t\"./customform/input\": 6,\n\t\"./customform/input.js\": 6,\n\t\"./customform/toggle-check\": 21,\n\t\"./customform/toggle-check.js\": 21,\n\t\"./customform/toggle-select\": 20,\n\t\"./customform/toggle-select.js\": 20,\n\t\"./geography\": 19,\n\t\"./geography.js\": 19,\n\t\"./index\": 62,\n\t\"./index.js\": 62,\n\t\"./organization\": 71,\n\t\"./organization.js\": 71,\n\t\"./professions\": 72,\n\t\"./professions.js\": 72,\n\t\"./publication-carousel\": 73,\n\t\"./publication-carousel.js\": 73,\n\t\"./register\": 75,\n\t\"./register.js\": 75,\n\t\"./videos\": 76,\n\t\"./videos.js\": 76\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 63;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components ^\\.\\/.*$\n// module id = 63\n// module chunks = 2","// import $ from 'jquery'\nimport 'jscroll'\nimport './comments/jquery.render-list'\n\nvar form_submit = function(event, data){\n    var $form = $(this);\n    var $divToUpdate = $($form.data(\"update\"));\n    $divToUpdate = setData($form, data, $divToUpdate);\n\n    var $subforms = $divToUpdate.find(\"form[data-ajaxform=\\\"true\\\"]\");\n    $.each($subforms, function(i, value){\n        var $subform = $(value);\n        if(!$subform.data(\"plugin\")){\n            $subform.data(\"plugin\", \"true\");\n            $subform.IdeiaAjaxForm();\n            $subform.on(\"ajaxform.success\", form_submit);\n        }\n\n\n    });\n    var $dataList = $divToUpdate.find(\"div[data-xhr]\");\n    $dataList.renderList();\n    refreshAsyncLike();\n\n};\n\nvar functionOpenModalToDelete = function(e) {\n    e.preventDefault();\n\n    var $btn = $(e.currentTarget),\n            $modal = $($btn.data(\"modal\"));\n\n    $modal.find(\"form\").attr(\"action\", $btn.data(\"url\"));\n    $modal.find(\"#item-id\").val($btn.data(\"item\"));\n    $modal.find(\"#item-type\").val($btn.data(\"type\"));\n    $modal.find(\"#title-item-to-remove\").html($btn.data(\"title\"));\n    $modal.find(\".loading-container\").html(\"\");\n    $modal.find(\".alert-container\").html(\"\");\n    $modal.modal(\"show\");\n};\n\nvar functionAjaxSuccessDeleteItem = function(e, data) {\n    var $this = $(this),\n            $modal = $($this.closest(\".modal.fade\")),\n            itemId = $modal.find(\"#item-id\").val(),\n            itemType = $modal.find(\"#item-type\").val();\n\n    $modal.modal(\"hide\");\n    $modal.find(\"form\").attr(\"action\", \"\");\n    $modal.find(\"#item-id\").val(\"\");\n    $modal.find(\"#item-type\").val(\"\");\n    $modal.find(\"#title-item-to-remove\").html(\"\");\n    $modal.find(\".loading-container\").html(\"\");\n    $modal.find(\".alert-container\").html(\"\");\n\n    $(\"#\" + itemType + \"-\" + itemId).fadeOut(\"slow\", function(){\n      $('#list-'+itemType+'-'+itemId).remove();\n      $(this).remove();\n    });\n};\n\nfunction setData($form, data, $divToUpdate){\n\n    var action = $form.data(\"toggle\");\n    var $form_to_hide = $form.parent(\".dropdown-content\");\n\n    if(action == \"append\" || action == \"prepend\") {\n\n        if (action == \"append\") {\n            $divToUpdate.append(data.template);\n        } else {\n            $divToUpdate.prepend(data.template);\n        }\n\n        if ($form_to_hide) {\n            $form_to_hide.removeClass(\"open\");\n        }\n        $form[0].reset();\n\n    }else if (action==\"replace\"){\n        var $element = $(data.template);\n        $divToUpdate.replaceWith($element);\n        var $newForm = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n        $divToUpdate = $element;\n    }\n    $form.find('[data-toggle=\"editor\"]').summernote('reset');\n    $divToUpdate.refreshEditors();\n    var $preInComment = $('.comment-text').find('code');\n    $.each($preInComment, function (index, element) {\n      Prism.highlightElement(element);\n    });\n\n    return $divToUpdate\n}\n\nvar commentDropDown = function(event) {\n  event.stopPropagation();\n};\n\nvar xhr_contents = $(\"div[data-xhr]\");\nxhr_contents.renderList();\nvar $comment_form = $(\"form[data-ajaxform=\\\"true\\\"]\");\n\n$comment_form.refreshEditors();\n$comment_form.on(\"ajaxform.success\", form_submit);\n\n$(\"#confirmation-form\").on(\"ajaxform.success\", functionAjaxSuccessDeleteItem);\n$(document).on(\"click\", \"[data-delete-item=true]\", functionOpenModalToDelete);\n$(document).on('click', '.comment-dropdown', commentDropDown);\n\n\n\n// WEBPACK FOOTER //\n// ./components/comments.js","/*!\n * jScroll - jQuery Plugin for Infinite Scrolling / Auto-Paging\n * @see @link{http://jscroll.com}\n *\n * @copyright 2011-2017, Philip Klauzinski\n * @license Dual licensed under the MIT and GPL Version 2 licenses.\n * @author Philip Klauzinski (http://webtopian.com)\n * @version 2.3.9\n * @requires jQuery v1.4.3+\n * @preserve\n */\n(function($) {\n\n    'use strict';\n\n    // Define the jscroll namespace and default settings\n    $.jscroll = {\n        defaults: {\n            debug: false,\n            autoTrigger: true,\n            autoTriggerUntil: false,\n            loadingHtml: '<small>Loading...</small>',\n            loadingFunction: false,\n            padding: 0,\n            nextSelector: 'a:last',\n            contentSelector: '',\n            pagingSelector: '',\n            callback: false\n        }\n    };\n\n    // Constructor\n    var jScroll = function($e, options) {\n\n        // Private vars and methods\n        var _data = $e.data('jscroll'),\n            _userOptions = (typeof options === 'function') ? { callback: options } : options,\n            _options = $.extend({}, $.jscroll.defaults, _userOptions, _data || {}),\n            _isWindow = ($e.css('overflow-y') === 'visible'),\n            _$next = $e.find(_options.nextSelector).first(),\n            _$window = $(window),\n            _$body = $('body'),\n            _$scroll = _isWindow ? _$window : $e,\n            _nextHref = $.trim(_$next.attr('href') + ' ' + _options.contentSelector),\n\n            // Check if a loading image is defined and preload\n            _preloadImage = function() {\n                var src = $(_options.loadingHtml).filter('img').attr('src');\n                if (src) {\n                    var image = new Image();\n                    image.src = src;\n                }\n            },\n\n            // Wrap inner content, if it isn't already\n            _wrapInnerContent = function() {\n                if (!$e.find('.jscroll-inner').length) {\n                    $e.contents().wrapAll('<div class=\"jscroll-inner\" />');\n                }\n            },\n\n            // Find the next link's parent, or add one, and hide it\n            _nextWrap = function($next) {\n                var $parent;\n                if (_options.pagingSelector) {\n                    $next.closest(_options.pagingSelector).hide();\n                } else {\n                    $parent = $next.parent().not('.jscroll-inner,.jscroll-added').addClass('jscroll-next-parent').hide();\n                    if (!$parent.length) {\n                        $next.wrap('<div class=\"jscroll-next-parent\" />').parent().hide();\n                    }\n                }\n            },\n\n            // Remove the jscroll behavior and data from an element\n            _destroy = function() {\n                return _$scroll.unbind('.jscroll')\n                    .removeData('jscroll')\n                    .find('.jscroll-inner').children().unwrap()\n                    .filter('.jscroll-added').children().unwrap();\n            },\n\n            // Observe the scroll event for when to trigger the next load\n            _observe = function() {\n                if ($e.is(':visible')) {\n                    _wrapInnerContent();\n                    var $inner = $e.find('div.jscroll-inner').first(),\n                        data = $e.data('jscroll'),\n                        borderTopWidth = parseInt($e.css('borderTopWidth'), 10),\n                        borderTopWidthInt = isNaN(borderTopWidth) ? 0 : borderTopWidth,\n                        iContainerTop = parseInt($e.css('paddingTop'), 10) + borderTopWidthInt,\n                        iTopHeight = _isWindow ? _$scroll.scrollTop() : $e.offset().top,\n                        innerTop = $inner.length ? $inner.offset().top : 0,\n                        iTotalHeight = Math.ceil(iTopHeight - innerTop + _$scroll.height() + iContainerTop);\n\n                    if (!data.waiting && iTotalHeight + _options.padding >= $inner.outerHeight()) {\n                        //data.nextHref = $.trim(data.nextHref + ' ' + _options.contentSelector);\n                        _debug('info', 'jScroll:', $inner.outerHeight() - iTotalHeight, 'from bottom. Loading next request...');\n                        return _load();\n                    }\n                }\n            },\n\n            // Check if the href for the next set of content has been set\n            _checkNextHref = function(data) {\n                data = data || $e.data('jscroll');\n                if (!data || !data.nextHref) {\n                    _debug('warn', 'jScroll: nextSelector not found - destroying');\n                    _destroy();\n                    return false;\n                } else {\n                    _setBindings();\n                    return true;\n                }\n            },\n\n            _setBindings = function() {\n                var $next = $e.find(_options.nextSelector).first();\n                if (!$next.length) {\n                    return;\n                }\n                if (_options.autoTrigger && (_options.autoTriggerUntil === false || _options.autoTriggerUntil > 0)) {\n                    _nextWrap($next);\n                    var scrollingBodyHeight = _$body.height() - $e.offset().top,\n                        scrollingHeight = ($e.height() < scrollingBodyHeight) ? $e.height() : scrollingBodyHeight,\n                        windowHeight = ($e.offset().top - _$window.scrollTop() > 0) ? _$window.height() - ($e.offset().top - $(window).scrollTop()) : _$window.height();\n                    if (scrollingHeight <= windowHeight) {\n                        _observe();\n                    }\n                    _$scroll.unbind('.jscroll').bind('scroll.jscroll', function() {\n                        return _observe();\n                    });\n                    if (_options.autoTriggerUntil > 0) {\n                        _options.autoTriggerUntil--;\n                    }\n                } else {\n                    _$scroll.unbind('.jscroll');\n                    $next.bind('click.jscroll', function() {\n                        _nextWrap($next);\n                        _load();\n                        return false;\n                    });\n                }\n            },\n\n            // Load the next set of content, if available\n            _load = function() {\n                var $inner = $e.find('div.jscroll-inner').first(),\n                    data = $e.data('jscroll');\n\n                data.waiting = true;\n                $inner.append('<div class=\"jscroll-added\" />')\n                    .children('.jscroll-added').last()\n                    .html('<div class=\"jscroll-loading\" id=\"jscroll-loading\">' + _options.loadingHtml + '</div>')\n                    .promise()\n                    .done(function() {\n                        if (_options.loadingFunction) {\n                            _options.loadingFunction();\n                        }\n                    });\n\n                return $e.animate({scrollTop: $inner.outerHeight()}, 0, function() {\n                    var nextHref = data.nextHref;\n                    $inner.find('div.jscroll-added').last().load(nextHref, function(r, status) {\n                        if (status === 'error') {\n                            return _destroy();\n                        }\n                        var $next = $(this).find(_options.nextSelector).first();\n                        data.waiting = false;\n                        data.nextHref = $next.attr('href') ? $.trim($next.attr('href') + ' ' + _options.contentSelector) : false;\n                        $('.jscroll-next-parent', $e).remove(); // Remove the previous next link now that we have a new one\n                        _checkNextHref();\n                        if (_options.callback) {\n                            _options.callback.call(this, nextHref);\n                        }\n                        _debug('dir', data);\n                    });\n                });\n            },\n\n            // Safe console debug - http://klauzinski.com/javascript/safe-firebug-console-in-javascript\n            _debug = function(m) {\n                if (_options.debug && typeof console === 'object' && (typeof m === 'object' || typeof console[m] === 'function')) {\n                    if (typeof m === 'object') {\n                        var args = [];\n                        for (var sMethod in m) {\n                            if (typeof console[sMethod] === 'function') {\n                                args = (m[sMethod].length) ? m[sMethod] : [m[sMethod]];\n                                console[sMethod].apply(console, args);\n                            } else {\n                                console.log.apply(console, args);\n                            }\n                        }\n                    } else {\n                        console[m].apply(console, Array.prototype.slice.call(arguments, 1));\n                    }\n                }\n            };\n\n        // Initialization\n        $e.data('jscroll', $.extend({}, _data, {initialized: true, waiting: false, nextHref: _nextHref}));\n        _wrapInnerContent();\n        _preloadImage();\n        _setBindings();\n\n        // Expose API methods via the jQuery.jscroll namespace, e.g. $('sel').jscroll.method()\n        $.extend($e.jscroll, {\n            destroy: _destroy\n        });\n        return $e;\n    };\n\n    // Define the jscroll plugin method and loop\n    $.fn.jscroll = function(m) {\n        return this.each(function() {\n            var $this = $(this),\n                data = $this.data('jscroll');\n\n            // Instantiate jScroll on this element if it hasn't been already\n            if (data && data.initialized) {\n                return;\n            }\n            jScroll($this, m);\n        });\n    };\n\n})(jQuery);\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/jscroll/jquery.jscroll.js\n// module id = 65\n// module chunks = 2 3","// import $ from 'jquery'\n\n// $.fn.renderList = function () {\n\n  // return $.each(this, function(){\n  //       var $self = $(this);\n  //       if(!$self.data(\"rendered\")){\n  //           $self.data(\"rendered\", \"rendered\");\n  //           var url = $self.data('xhr-url');\n  //           var $childs;\n  //\n  //           var request = $.ajax({\n  //               url: url,\n  //               success: function(data){\n  //\n  //                   if(data.template){\n  //                       var $element = $(data.template);\n  //\n  //                       $self.append($element);\n  //                       var regex = /^data-list-([0-9]+)$/;\n  //                       if (regex.test($self.attr('id'))) {\n  //                           var $parentSelf = $self.parent('.comments-children');\n  //                           if ($self.children().length > 0) {\n  //                               $parentSelf.removeClass('no-children');\n  //                           } else {\n  //                               $parentSelf.addClass('no-children');\n  //                           }\n  //                       }\n  //\n  //                       $childs = $element.next('div[data-xhr-url]');\n  //                       $self.jscroll({\n  //                           loadingHtml: '<div class=\"load-async-preload\"></div>',\n  //                           contentSelect: \"#\" + $self.attr(\"id\"),\n  //                           nextSelector: \"a[data-jscroll-next]\",\n  //                           autoTrigger: false,\n  //                           callback: function(data){\n  //                               var $div_jscroll = $(\".jscroll-added\");\n  //                               var $jscroll_subforms = $div_jscroll.find(\"form[data-ajaxform=\\\"true\\\"]\");\n  //                               $jscroll_subforms.IdeiaAjaxForm();\n  //                               $jscroll_subforms.on(\"ajaxform.success\", form_submit);\n  //                               $jscroll_subforms.refreshEditors();\n  //                               $div_jscroll.removeClass(\"jscroll-added\");\n  //                           }\n  //                       });\n  //\n  //                       var $subforms = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n  //                       $subforms.on(\"ajaxform.success\", form_submit);\n  //                       $subforms.IdeiaAjaxForm();\n  //                       $subforms.refreshEditors();\n  //\n  //                       var async_like = $self.find('[data-async-like]');\n  //                       async_like.IdeiaAsyncLike();\n  //                       async_like.removeData(\"async-like\");\n  //                   }\n  //\n  //               },\n  //               complete: function(){\n  //                   if($childs && $childs.length){\n  //                       $childs.renderList();\n  //                   }\n  //\n  //                   var $preInComment = $('.comment-text').find('code');\n  //                   $.each($preInComment, function (index, element) {\n  //                     Prism.highlightElement(element);\n  //                   });\n  //               }\n  //           });\n  //\n  //           refreshAsyncLike();\n  //       }\n  //\n  //   });\n  var pluginName = \"renderList\",\n\t\t\tdefaults = {\n\t\t\t\tpropertyName: \"value\"\n\t\t\t};\n\n\t\t// The actual plugin constructor\n\t\tfunction Plugin ( element, options ) {\n\t\t\tthis.element = element;\n\t\t\tthis.settings = $.extend( {}, defaults, options );\n\t\t\tthis._defaults = defaults;\n\t\t\tthis._name = pluginName;\n\t\t\tthis.init();\n\t\t}\n\n    // Avoid Plugin.prototype conflicts\n\t\t$.extend( Plugin.prototype, {\n\t\t\tinit: function() {\n\n\t\t\t\t// Place initialization logic here\n\t\t\t\t// You already have access to the DOM element and\n\t\t\t\t// the options via the instance, e.g. this.element\n\t\t\t\t// and this.settings\n\t\t\t\t// you can add more functions like the one below and\n\t\t\t\t// call them like the example below\n        console.log( $(this.element).data('xhrUrl') );\n        this.attachList( $(this.element).data('xhrUrl') );\n\t\t\t},\n      attachList: function (url) {\n        $.get(url)\n        .done(function (data) {\n          if( data.template ) {\n            console.log( data.template );\n          }\n        })\n        .fail( function (data) {\n\n        })\n        .always( function (data) {\n\n        });\n      }\n\t\t} );\n\n    $.fn[ pluginName ] = function( options ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tif ( !$.data( this, \"plugin_\" + pluginName ) ) {\n\t\t\t\t\t$.data( this, \"plugin_\" +\n\t\t\t\t\t\tpluginName, new Plugin( this, options ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n// };\n\n\n\n// WEBPACK FOOTER //\n// ./components/comments/jquery.render-list.js","import '../vendor/rateYo/jquery.rateyo';\n\nmodule.exports = ( name ) => {\n  const $showMore = $( '[data-toggle=\"showmore\"]' )\n  const $rating = $( '[data-toggle=\"rating\"]' )\n  const formRating = $( '[data-toggle=\"rating-value\"]' )\n\n  const defaultSettings = {\n    halfStar: true,\n    normalFill: '#a09e9e',\n    ratedFill: '#d68004',\n    spacing: '2px',\n    starWidth: '20px',\n    onSet: function (rating, rateYoInstance) {\n      console.log(rating);\n      formRating.val( rating )\n    },\n    onChange: function (rating, rateYoInstance) {\n      const reactions = $( rateYoInstance.node ).data( 'reactions' )\n      $( this ).next().text( reactions[ Math.floor( rating )])\n    }\n  }\n\n  $rating.each( ( index, item ) => {\n    const $this = $( item )\n    const dataConfig = $this.data( 'config' )\n    const settings = $.extend( {}, defaultSettings, dataConfig )\n    $this.rateYo( settings )\n  })\n\n  $( '[data-form-send]' ).on( 'change', function onChangeSelectSendVideoForm () {\n    var $self = $( this )\n    var $form = $self.closest( 'form[data-form-send-enables]' )\n    if ( $form.length ) {\n      $form.trigger( 'submit' )\n    }\n  })\n\n\n  $showMore.on( 'click tap', ( event ) => {\n    toggleHeight($( event.currentTarget ).attr( 'href' ))\n    event.preventDefault()\n  })\n}\n\nconst toggleHeight = ( seletor ) => {\n  const $this = $( seletor )\n  const ANIMATION_TIME = $this.data( 'animationSpeed' ) || 200\n\n  if ( $this.hasClass( 'open' )) {\n    $this.animate({\n      height: $this.data( 'height' )\n    }, ANIMATION_TIME, () => $this.removeClass( 'open' ))\n\n    return false\n  }\n\n  const currentHeight =  $this.outerHeight();\n  const autoHeight = $this.css('height', 'auto').outerHeight()\n  $this.data('height', currentHeight)\n  .height(currentHeight).animate({\n    height: autoHeight\n  }, ANIMATION_TIME, () => $this.addClass( 'open' ))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/courses.js","/*****\n* rateYo - v2.2.0\n* http://prrashi.github.io/rateyo/\n* Copyright (c) 2014 Prashanth Pamidi; Licensed MIT\n*****/\n\n;(function ($) {\n  \"use strict\";\n\n  // The basic svg string required to generate stars\n  var BASICSTAR = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\"+\n                  \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 26 28\\\" fill=z\\\"#f00\\\">\"+\n                  \"<path d=\\\"M26 10.109c0 0.281-0.203 0.547-0.406 0.75l-5.672 5.531 1.344 \"+\n                    \"7.812c0.016 0.109 0.016 0.203 0.016 0.313 0 0.406-0.187 0.781-0.641 \"+\n                    \"0.781-0.219 0-0.438-0.078-0.625-0.187l-7.016-3.687-7.016 3.687c-0.203 \"+\n                    \"0.109-0.406 0.187-0.625 0.187-0.453 0-0.656-0.375-0.656-0.781 0-0.109 \"+\n                    \"0.016-0.203 0.031-0.313l1.344-7.812-5.688-5.531c-0.187-0.203-0.391-0.469-0.391-0.75 \"+\n                    \"0-0.469 0.484-0.656 0.875-0.719l7.844-1.141 3.516-7.109c0.141-0.297 0.406-0.641 \"+\n                    \"0.766-0.641s0.625 0.344 0.766 0.641l3.516 7.109 7.844 1.141c0.375 0.063 0.875 \"+\n                    \"0.25 0.875 0.719z\\\"></path>\"+\n\"</svg>\";\n\n  // The Default values of different options available in the Plugin\n  var DEFAULTS = {\n\n    starWidth : \"32px\",\n    normalFill: \"gray\",\n    ratedFill : \"#f39c12\",\n    numStars  : 5,\n    maxValue  : 5,\n    precision : 1,\n    rating    : 0,\n    fullStar  : false,\n    halfStar  : false,\n    readOnly  : false,\n    spacing   : \"0px\",\n    rtl       : false,\n    multiColor: null,\n    onInit    : null,\n    onChange  : null,\n    onSet     : null,\n    starSvg   : null\n  };\n\n  //Default colors for multi-color rating\n  var MULTICOLOR_OPTIONS = {\n\n    startColor: \"#c0392b\", //red\n    endColor  : \"#f1c40f\"  //yellow\n  };\n\n  // http://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n  function isMobileBrowser () {\n    var check = false;\n    /* jshint ignore:start */\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);\n    /* jshint ignore:end */\n    return check;\n  }\n\n  function checkPrecision (value, minValue, maxValue) {\n\n    /*\n     * This function removes the unnecessary precision, at Min and Max Values\n     */\n\n    // Its like comparing 0.0 with 0, which is true\n    if (value === minValue) {\n\n      value = minValue;\n    }\n    else if(value === maxValue) {\n\n      value = maxValue;\n    }\n\n    return value;\n  }\n\n  function checkBounds (value, minValue, maxValue) {\n\n    /*\n     * Check if the value is between min and max values, if not, throw an error\n     */\n\n    var isValid = value >= minValue && value <= maxValue;\n\n    if(!isValid){\n\n        throw Error(\"Invalid Rating, expected value between \"+ minValue +\n                    \" and \" + maxValue);\n    }\n\n    return value;\n  }\n\n  function isDefined(value) {\n\n    // Better way to check if a variable is defined or not\n    return typeof value !== \"undefined\";\n  }\n\n  // Regex to match Colors in Hex Format like #FF00FF\n  var hexRegex = /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i;\n\n  var hexToRGB = function (hex) {\n\n    /*\n     * Extracts and returns the Red, Blue, Green Channel values,\n     * in the form of decimals\n     */\n\n    if (!hexRegex.test(hex)) {\n\n      return null;\n    }\n\n    var hexValues = hexRegex.exec(hex),\n\tr = parseInt(hexValues[1], 16),\n\tg = parseInt(hexValues[2], 16),\n\tb = parseInt(hexValues[3], 16);\n\n    return {r:r, g:g, b:b};\n  };\n\n  function getChannelValue(startVal, endVal, percent) {\n\n    /*\n     * Returns a value between `startVal` and `endVal` based on the percent\n     */\n\n    var newVal = (endVal - startVal)*(percent/100);\n\n    newVal = Math.round(startVal + newVal).toString(16);\n\n    if (newVal.length === 1) {\n\n\tnewVal = \"0\" + newVal;\n    }\n\n    return newVal;\n  }\n\n  function getColor (startColor, endColor, percent) {\n\n    /*\n     * Given the percentage( `percent` ) of `endColor` to be mixed\n     * with the `startColor`, returns the mixed color.\n     * Colors should be only in Hex Format\n     */\n\n    if (!startColor || !endColor) {\n\n      return null;\n    }\n\n    percent = isDefined(percent)? percent : 0;\n\n    startColor = hexToRGB(startColor);\n    endColor = hexToRGB(endColor);\n\n    var r = getChannelValue(startColor.r, endColor.r, percent),\n        b = getChannelValue(startColor.b, endColor.b, percent),\n        g = getChannelValue(startColor.g, endColor.g, percent);\n\n    return \"#\" + r + g + b;\n  }\n\n   function RateYo ($node, options) {\n\n   /*\n    * The Contructor, whose instances are used by plugin itself\n    */\n\n    // Storing the HTML element as a property, for future access\n    this.node = $node.get(0);\n\n    var that = this;\n\n    // Remove any stuff that is present inside the container, and add the plugin class\n    $node.empty().addClass(\"jq-ry-container\");\n\n    /*\n     * Basically the plugin displays the rating using two rows of stars lying one above\n     * the other, the row that is on the top represents the actual rating, and the one\n     * behind acts just like a background.\n     *\n     * `$groupWrapper`: is an element that wraps both the rows\n     * `$normalGroup`: is the container for row of stars thats behind and\n     *                 acts as background\n     * `$ratedGroup`: is the container for row of stars that display the actual rating.\n     *\n     * The rating is displayed by adjusting the width of `$ratedGroup`\n     */\n    var $groupWrapper = $(\"<div/>\").addClass(\"jq-ry-group-wrapper\")\n                                   .appendTo($node);\n\n    var $normalGroup = $(\"<div/>\").addClass(\"jq-ry-normal-group\")\n                                  .addClass(\"jq-ry-group\")\n                                  .appendTo($groupWrapper);\n\n    var $ratedGroup = $(\"<div/>\").addClass(\"jq-ry-rated-group\")\n                                 .addClass(\"jq-ry-group\")\n                                 .appendTo($groupWrapper);\n\n    /*\n     * Variable `step`: store the value of the rating for each star\n     *                  eg: if `maxValue` is 5 and `numStars` is 5, value of each star\n     *                      is 1.\n     * Variable `starWidth`: stores the decimal value of width of star in units of px\n     * Variable `percentOfStar`: stores the percentage of width each star takes w.r.t\n     *                           the container\n     * Variable `spacing`: stores the decimal value of the spacing between stars\n     *                     in the units of px\n     * Variable `percentOfSpacing`: stores the percentage of width of the spacing\n     *                              between stars w.r.t the container\n     */\n    var step, starWidth, percentOfStar, spacing,\n        percentOfSpacing, containerWidth, minValue = 0;\n\n    /*\n     * `currentRating` contains rating that is being displayed at the latest point of\n     * time.\n     *\n     * When ever you hover over the plugin UI, the rating value changes\n     * according to the place where you point the cursor, currentRating contains\n     * the current value of rating that is being shown in the UI\n     */\n    var currentRating = options.rating;\n\n    // A flag to store if the plugin is already being displayed in the UI\n    var isInitialized = false;\n\n    function showRating (ratingVal) {\n\n      /*\n       * The function is responsible for displaying the rating by changing\n       * the width of `$ratedGroup`\n       */\n\n      if (!isDefined(ratingVal)) {\n\n        ratingVal = options.rating;\n      }\n\n      // Storing the value that is being shown in `currentRating`.\n      currentRating = ratingVal;\n\n      var numStarsToShow = ratingVal/step;\n\n      // calculating the percentage of width of $ratedGroup with respect to its parent\n      var percent = numStarsToShow*percentOfStar;\n\n      if (numStarsToShow > 1) {\n\n        // adding the percentage of space that is taken by the gap the stars\n        percent += (Math.ceil(numStarsToShow) - 1)*percentOfSpacing;\n      }\n\n      setRatedFill(options.ratedFill);\n\n      percent = options.rtl ? 100 - percent : percent;\n\n      $ratedGroup.css(\"width\", percent + \"%\");\n    }\n\n    function setContainerWidth () {\n\n      /*\n       * Set the width of the `this.node` based on the width of each star and\n       * the space between them\n       */\n\n      containerWidth = starWidth*options.numStars + spacing*(options.numStars - 1);\n\n      percentOfStar = (starWidth/containerWidth)*100;\n\n      percentOfSpacing = (spacing/containerWidth)*100;\n\n      $node.width(containerWidth);\n\n      showRating();\n    }\n\n    function setStarWidth (newWidth) {\n\n      /*\n       * Set the width and height of each SVG star, called whenever one changes the\n       * `starWidth` option\n       */\n\n      // The width and height of the star should be the same\n      var starHeight = options.starWidth = newWidth;\n\n      starWidth = window.parseFloat(options.starWidth.replace(\"px\", \"\"));\n\n      $normalGroup.find(\"svg\")\n                  .attr({width : options.starWidth,\n                         height: starHeight});\n\n      $ratedGroup.find(\"svg\")\n                 .attr({width : options.starWidth,\n                        height: starHeight});\n\n      setContainerWidth();\n\n      return $node;\n    }\n\n    function setSpacing (newSpacing) {\n\n      /*\n       * Set spacing between the SVG stars, called whenever one changes\n       * the `spacing` option\n       */\n\n      options.spacing = newSpacing;\n\n      spacing = parseFloat(options.spacing.replace(\"px\", \"\"));\n\n      $normalGroup.find(\"svg:not(:first-child)\")\n                  .css({\"margin-left\": newSpacing});\n\n      $ratedGroup.find(\"svg:not(:first-child)\")\n                 .css({\"margin-left\": newSpacing});\n\n      setContainerWidth();\n\n      return $node;\n    }\n\n    function setNormalFill (newFill) {\n\n      /*\n       * Set the background fill of the Stars, called whenever one changes the\n       * `normalFill` option\n       */\n\n      options.normalFill = newFill;\n\n      var $svgs = (options.rtl ? $ratedGroup : $normalGroup).find(\"svg\");\n\n      $svgs.attr({fill: options.normalFill});\n\n      return $node;\n    }\n\n    /*\n     * Store the recent `ratedFill` option in a variable\n     * so that if multiColor is unset, we can use the perviously set `ratedFill`\n     * from this variable\n     */\n    var ratedFill = options.ratedFill;\n\n    function setRatedFill (newFill) {\n\n      /*\n       * Set ratedFill of the stars, called when one changes the `ratedFill` option\n       */\n\n      /*\n       * If `multiColor` option is set, `newFill` variable is dynamically set\n       * based on the rating, what ever set as parameter will be discarded\n       */\n      if (options.multiColor) {\n\n        var ratingDiff = currentRating - minValue,\n            percentCovered = (ratingDiff/options.maxValue)*100;\n\n        var colorOpts  = options.multiColor || {},\n            startColor = colorOpts.startColor || MULTICOLOR_OPTIONS.startColor,\n            endColor   = colorOpts.endColor || MULTICOLOR_OPTIONS.endColor;\n\n        newFill = getColor(startColor, endColor, percentCovered);\n      } else {\n\n        ratedFill = newFill;\n      }\n\n      options.ratedFill = newFill;\n\n      var $svgs = (options.rtl ? $normalGroup : $ratedGroup).find(\"svg\");\n\n      $svgs.attr({fill: options.ratedFill});\n\n      return $node;\n    }\n\n    function setRtl (newValue) {\n\n      newValue = !!newValue;\n\n      options.rtl = newValue;\n\n      setNormalFill(options.normalFill);\n      showRating();\n    }\n\n    function setMultiColor (colorOptions) {\n\n      /*\n       * called whenever one changes the `multiColor` option\n       */\n\n      options.multiColor = colorOptions;\n\n      // set the recently set `ratedFill` option, if multiColor Options are unset\n      setRatedFill(colorOptions ? colorOptions : ratedFill);\n    }\n\n    function setNumStars (newValue) {\n\n      /*\n       * Set the number of stars to use to display the rating, called whenever one\n       * changes the `numStars` option\n       */\n\n      options.numStars = newValue;\n\n      step = options.maxValue/options.numStars;\n\n      $normalGroup.empty();\n      $ratedGroup.empty();\n\n      for (var i=0; i<options.numStars; i++) {\n\n        $normalGroup.append($(options.starSvg || BASICSTAR));\n        $ratedGroup.append($(options.starSvg || BASICSTAR));\n      }\n\n      setStarWidth(options.starWidth);\n      setNormalFill(options.normalFill);\n      setSpacing(options.spacing);\n\n      showRating();\n\n      return $node;\n    }\n\n    function setMaxValue (newValue) {\n\n      /*\n       * set the Maximum Value of rating to be allowed, called whenever\n       * one changes the `maxValue` option\n       */\n\n      options.maxValue = newValue;\n\n      step = options.maxValue/options.numStars;\n\n      if (options.rating > newValue) {\n\n        setRating(newValue);\n      }\n\n      showRating();\n\n      return $node;\n    }\n\n    function setPrecision (newValue) {\n\n      /*\n       * Set the precision of the rating value, called if one changes the\n       * `precision` option\n       */\n\n      options.precision = newValue;\n\n      setRating(options.rating);\n\n      return $node;\n    }\n\n    function setHalfStar (newValue) {\n\n      /*\n       * This function will be called if one changes the `halfStar` option\n       */\n\n      options.halfStar = newValue;\n\n      return $node;\n    }\n\n    function setFullStar (newValue) {\n\n      /*\n       * This function will be called if one changes the `fullStar` option\n       */\n\n      options.fullStar = newValue;\n\n      return $node;\n    }\n\n    function round (value) {\n\n      /*\n       * Rounds the value of rating if `halfStar` or `fullStar` options are chosen\n       */\n\n      var remainder = value%step,\n          halfStep = step/2,\n          isHalfStar = options.halfStar,\n          isFullStar = options.fullStar;\n\n      if (!isFullStar && !isHalfStar) {\n\n        return value;\n      }\n\n      if (isFullStar || (isHalfStar && remainder > halfStep)) {\n\n        value += step - remainder;\n      } else {\n\n        value = value - remainder;\n\n        if (remainder > 0) {\n\n          value += halfStep;\n        }\n      }\n\n      return value;\n    }\n\n    function calculateRating (e) {\n\n      /*\n       * Calculates and returns the rating based on the position of cursor w.r.t the\n       * plugin container\n       */\n\n      var position = $normalGroup.offset(),\n          nodeStartX = position.left,\n          nodeEndX = nodeStartX + $normalGroup.width();\n\n      var maxValue = options.maxValue;\n\n      // The x-coordinate(position) of the mouse pointer w.r.t page\n      var pageX = e.pageX;\n\n      var calculatedRating = 0;\n\n      // If the mouse pointer is to the left of the container\n      if(pageX < nodeStartX) {\n\n        calculatedRating = minValue;\n      }else if (pageX > nodeEndX) { // If the mouse pointer is right of the container\n\n        calculatedRating = maxValue;\n      }else { // If the mouse pointer is inside the continer\n\n        /*\n         * The fraction of width covered by the pointer w.r.t to the total width\n         * of the container.\n         */\n        var calcPrcnt = ((pageX - nodeStartX)/(nodeEndX - nodeStartX));\n\n        if (spacing > 0) {\n\n\t  /*\n           * If there is spacing between stars, take the percentage of width covered\n           * and subtract the percentage of width covered by stars and spacing, to find\n           * how many stars are covered, the number of stars covered is the rating\n           *\n           * TODO: I strongly feel that this logic can be improved!, Please help!\n           */\n          calcPrcnt *= 100;\n\n          var remPrcnt = calcPrcnt;\n\n          while (remPrcnt > 0) {\n\n            if (remPrcnt > percentOfStar) {\n\n              calculatedRating += step;\n              remPrcnt -= (percentOfStar + percentOfSpacing);\n            } else {\n\n              calculatedRating += remPrcnt/percentOfStar*step;\n              remPrcnt = 0;\n            }\n          }\n        } else {\n\n          /*\n           * If there is not spacing between stars, the fraction of width covered per\n           * `maxValue` is the rating\n           */\n          calculatedRating = calcPrcnt * (options.maxValue);\n        }\n\n        // Round the rating if `halfStar` or `fullStar` options are chosen\n        calculatedRating = round(calculatedRating);\n      }\n\n      if (options.rtl) {\n\n        calculatedRating = maxValue - calculatedRating;\n      }\n\n      return calculatedRating;\n    }\n\n    function setReadOnly (newValue) {\n\n      /*\n       * UnBinds mouse event handlers, called when whenever one changes the\n       * `readOnly` option\n       */\n\n      options.readOnly = newValue;\n\n      $node.attr(\"readonly\", true);\n\n      unbindEvents();\n\n      if (!newValue) {\n\n        $node.removeAttr(\"readonly\");\n\n        bindEvents();\n      }\n\n      return $node;\n    }\n\n    function setRating (newValue) {\n\n      /*\n       * Sets the rating of the Plugin, Called when option `rating` is changed\n       * or, when `rating` method is called\n       */\n\n      var rating = newValue;\n\n      var maxValue = options.maxValue;\n\n      if (typeof rating === \"string\") {\n\n        // If rating is given in percentage, maxValue should be 100\n        if (rating[rating.length - 1] === \"%\") {\n\n          rating = rating.substr(0, rating.length - 1);\n          maxValue = 100;\n\n          setMaxValue(maxValue);\n        }\n\n        rating = parseFloat(rating);\n      }\n\n      checkBounds(rating, minValue, maxValue);\n\n      rating = parseFloat(rating.toFixed(options.precision));\n\n      checkPrecision(parseFloat(rating), minValue, maxValue);\n\n      options.rating = rating;\n\n      showRating();\n\n      if (isInitialized) {\n\n        $node.trigger(\"rateyo.set\", {rating: rating});\n      }\n\n      return $node;\n    }\n\n    function setOnInit (method) {\n\n      /*\n       * set what method to be called on Initialization\n       */\n\n      options.onInit = method;\n\n      return $node;\n    }\n\n    function setOnSet (method) {\n\n      /*\n       * set what method to be called when rating is set\n       */\n\n      options.onSet = method;\n\n      return $node;\n    }\n\n    function setOnChange (method) {\n\n      /*\n       * set what method to be called rating in the UI is changed\n       */\n\n      options.onChange = method;\n\n      return $node;\n    }\n\n    this.rating = function (newValue) {\n\n      /*\n       * rating getter/setter\n       */\n\n      if (!isDefined(newValue)) {\n\n        return options.rating;\n      }\n\n      setRating(newValue);\n\n      return $node;\n    };\n\n    this.destroy = function () {\n\n      /*\n       * Removes the Rating UI by clearing the content, and removing the custom classes\n       */\n\n      if (!options.readOnly) {\n\n        unbindEvents();\n      }\n\n      RateYo.prototype.collection = deleteInstance($node.get(0),\n                                                   this.collection);\n\n      $node.removeClass(\"jq-ry-container\").children().remove();\n\n      return $node;\n    };\n\n    this.method = function (methodName) {\n\n      /*\n       * Method to call the methods of RateYo Instance\n       */\n\n      if (!methodName) {\n\n        throw Error(\"Method name not specified!\");\n      }\n\n      if (!isDefined(this[methodName])) {\n\n        throw Error(\"Method \" + methodName + \" doesn't exist!\");\n      }\n\n      var args = Array.prototype.slice.apply(arguments, []),\n          params = args.slice(1),\n          method = this[methodName];\n\n      return method.apply(this, params);\n    };\n\n    this.option = function (optionName, param) {\n\n      /*\n       * Method to get/set Options\n       */\n\n      if (!isDefined(optionName)) {\n\n        return options;\n      }\n\n      var method;\n\n      switch (optionName) {\n\n        case \"starWidth\":\n\n          method = setStarWidth;\n          break;\n        case \"numStars\":\n\n          method = setNumStars;\n          break;\n        case \"normalFill\":\n\n          method = setNormalFill;\n          break;\n        case \"ratedFill\":\n\n          method = setRatedFill;\n          break;\n        case \"multiColor\":\n\n          method = setMultiColor;\n          break;\n        case \"maxValue\":\n\n          method = setMaxValue;\n          break;\n        case \"precision\":\n\n          method = setPrecision;\n          break;\n        case \"rating\":\n\n          method = setRating;\n          break;\n        case \"halfStar\":\n\n          method = setHalfStar;\n          break;\n        case \"fullStar\":\n\n          method = setFullStar;\n          break;\n        case \"readOnly\":\n\n          method = setReadOnly;\n          break;\n        case \"spacing\":\n\n          method = setSpacing;\n          break;\n\tcase \"rtl\":\n\n          method = setRtl;\n\t  break;\n        case \"onInit\":\n\n          method = setOnInit;\n          break;\n        case \"onSet\":\n\n          method = setOnSet;\n          break;\n        case \"onChange\":\n\n          method = setOnChange;\n          break;\n        default:\n\n          throw Error(\"No such option as \" + optionName);\n      }\n\n      return isDefined(param) ? method(param) : options[optionName];\n    };\n\n    function onMouseEnter (e) {\n\n      /*\n       * If the Mouse Pointer is inside the container, calculate and show the rating\n       * in UI\n       */\n\n      var rating = calculateRating(e).toFixed(options.precision);\n\n      var maxValue = options.maxValue;\n\n      rating = checkPrecision(parseFloat(rating), minValue, maxValue);\n\n      showRating(rating);\n\n      $node.trigger(\"rateyo.change\", {rating: rating});\n    }\n\n    function onMouseLeave () {\n      if (isMobileBrowser()) {\n        return;\n      }\n\n      /*\n       * If mouse leaves, revert the rating in UI to previously set rating,\n       * when empty value is passed to showRating, it will take the previously set\n       * rating\n       */\n\n      showRating();\n\n      $node.trigger(\"rateyo.change\", {rating: options.rating});\n    }\n\n    function onMouseClick (e) {\n\n      /*\n       * On clicking the mouse inside the container, calculate and set the rating\n       */\n\n      var resultantRating = calculateRating(e).toFixed(options.precision);\n      resultantRating = parseFloat(resultantRating);\n\n      that.rating(resultantRating);\n    }\n\n    function onInit(e, data) {\n\n      if(options.onInit && typeof options.onInit === \"function\") {\n\n        /* jshint validthis:true */\n        options.onInit.apply(this, [data.rating, that]);\n      }\n    }\n\n    function onChange (e, data) {\n\n      if(options.onChange && typeof options.onChange === \"function\") {\n\n        /* jshint validthis:true */\n        options.onChange.apply(this, [data.rating, that]);\n      }\n    }\n\n    function onSet (e, data) {\n\n      if(options.onSet && typeof options.onSet === \"function\") {\n\n        /* jshint validthis:true */\n        options.onSet.apply(this, [data.rating, that]);\n      }\n    }\n\n    function bindEvents () {\n\n      $node.on(\"mousemove\", onMouseEnter)\n           .on(\"mouseenter\", onMouseEnter)\n           .on(\"mouseleave\", onMouseLeave)\n           .on(\"click\", onMouseClick)\n           .on(\"rateyo.init\", onInit)\n           .on(\"rateyo.change\", onChange)\n           .on(\"rateyo.set\", onSet);\n    }\n\n    function unbindEvents () {\n\n      $node.off(\"mousemove\", onMouseEnter)\n           .off(\"mouseenter\", onMouseEnter)\n           .off(\"mouseleave\", onMouseLeave)\n           .off(\"click\", onMouseClick)\n           .off(\"rateyo.init\", onInit)\n           .off(\"rateyo.change\", onChange)\n           .off(\"rateyo.set\", onSet);\n    }\n\n    setNumStars(options.numStars);\n    setReadOnly(options.readOnly);\n\n    if (options.rtl) {\n\n      setRtl(options.rtl);\n    }\n\n    this.collection.push(this);\n    this.rating(options.rating, true);\n\n    isInitialized = true;\n    $node.trigger(\"rateyo.init\", {rating: options.rating});\n  }\n\n  RateYo.prototype.collection = [];\n\n  function getInstance (node, collection) {\n\n    /*\n     * Given a HTML element (node) and a collection of RateYo instances,\n     * this function will search through the collection and return the matched\n     * instance having the node\n     */\n\n    var instance;\n\n    $.each(collection, function () {\n\n      if(node === this.node){\n\n        instance = this;\n        return false;\n      }\n    });\n\n    return instance;\n  }\n\n  function deleteInstance (node, collection) {\n\n    /*\n     * Given a HTML element (node) and a collection of RateYo instances,\n     * this function will search through the collection and delete the\n     * instance having the node, and return the modified collection\n     */\n\n    $.each(collection, function (index) {\n\n      if (node === this.node) {\n\n        var firstPart = collection.slice(0, index),\n            secondPart = collection.slice(index+1, collection.length);\n\n        collection = firstPart.concat(secondPart);\n\n        return false;\n      }\n    });\n\n    return collection;\n  }\n\n  function _rateYo (options) {\n\n    var rateYoInstances = RateYo.prototype.collection;\n\n    /* jshint validthis:true */\n    var $nodes = $(this);\n\n    if($nodes.length === 0) {\n\n      return $nodes;\n    }\n\n    var args = Array.prototype.slice.apply(arguments, []);\n\n    if (args.length === 0) {\n\n      //If args length is 0, Initialize the UI with default settings\n      options = args[0] = {};\n    }else if (args.length === 1 && typeof args[0] === \"object\") {\n\n      //If an Object is specified as first argument, it is considered as options\n      options = args[0];\n    }else if (args.length >= 1 && typeof args[0] === \"string\") {\n\n      /*\n       * if there is only one argument, and if its a string, it is supposed to be a\n       * method name, if more than one argument is specified, the remaining arguments\n       * except the first argument, will be passed as a params to the specified method\n       */\n\n      var methodName = args[0],\n          params = args.slice(1);\n\n      var result = [];\n\n      $.each($nodes, function (i, node) {\n\n        var existingInstance = getInstance(node, rateYoInstances);\n\n        if(!existingInstance) {\n\n          throw Error(\"Trying to set options before even initialization\");\n        }\n\n        var method = existingInstance[methodName];\n\n        if (!method) {\n\n          throw Error(\"Method \" + methodName + \" does not exist!\");\n        }\n\n        var returnVal = method.apply(existingInstance, params);\n\n        result.push(returnVal);\n      });\n\n      /*\n       * If the plugin in being called on only one jQuery Element, return only the\n       * first value, to support chaining.\n       */\n      result = result.length === 1? result[0]: result;\n\n      return result;\n    }else {\n\n      throw Error(\"Invalid Arguments\");\n    }\n\n    /*\n     * if only options are passed, extend default options, and if the plugin is not\n     * initialized on a particular jQuery element, initalize RateYo on it\n     */\n    options = $.extend({}, DEFAULTS, options);\n\n    return $.each($nodes, function () {\n\n               var existingInstance = getInstance(this, rateYoInstances);\n\n               if (!existingInstance) {\n\n                 return new RateYo($(this), $.extend({}, options));\n               }\n           });\n  }\n\n  function rateYo () {\n\n    /* jshint validthis:true */\n    return _rateYo.apply(this, Array.prototype.slice.apply(arguments, []));\n  }\n\n  window.RateYo = RateYo;\n  $.fn.rateYo = rateYo;\n\n}(window.jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/rateYo/jquery.rateyo.js","module.exports = ( name ) => {\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform.js","require('selectize')\nimport input from './customform/input'\nimport ajaxselect from '../asyncModules/ajaxselect'\nimport taxonomy from '../asyncModules/taxonomy'\nimport dropzoneUploader from '../asyncModules/dropzoneUploader'\nimport '../vendor/jquery.steps'\nimport '../vendor/jquery.validate'\n\nmodule.exports = ( name ) => {\n  const $root = $( name )\n  const $steps = $root.find( '[data-toggle=\"steps\"]' )\n  const $form = $root.find( '[data-toggle=\"form\"]' )\n  const $templateOrganizationUser = $('#template-organization-user')\n  const childElementSelector = 'input,select,textarea,label,div'\n  let usersId = []\n  $form.validate({\n    errorPlacement: function errorPlacement( error, element ) {\n      if (element[0].id == 'id_communities-selectized') {\n        element.parent().after(error)\n      } else {\n        element.after(error)\n      }\n    },\n    highlight: function( element, errorClass, validClass ) {\n      $( element ).parents( '.customform' ).addClass( 'customform-error' )\n    },\n    unhighlight: function( element, errorClass, validClass ) {\n      $( element ).parents( '.customform' ).removeClass( 'customform-error' )\n    }\n  })\n  $steps.children( '[role=\"tablist\"]' ).steps({\n    headerTag: '.organization__register__tab',\n    bodyTag: '[role=\"tabpanel\"]',\n    enableAllSteps: true,\n    transitionEffect: 'slideLeft',\n    titleTemplate: '#title#',\n    labels: {\n        cancel: \"Cancelar\",\n        current: \"passo atual:\",\n        pagination: \"Paginao\",\n        finish: \"Salvar\",\n        next: \"Avanar\",\n        previous: \"Voltar\",\n        loading: \"Carregando ...\"\n    },\n    onInit: function ( event, currentIndex ) {\n      const $user = $( '[name=\"user\"]' )\n      const $role = $( '[name=\"permission\"]' )\n      const $formset = $root.find( '[data-toggle=\"formset\"]' )\n      const totalForms = $('#id_' + $formset.data( 'name' ) + '-TOTAL_FORMS')\n      const maxForms = $('#id_' + $formset.data( 'name' ) + '-MAX_NUM_FORMS')\n      const minForms = $('#id_' + $formset.data( 'name' ) + '-MIN_NUM_FORMS')\n      input( $root.find( '[data-toggle=\"input\"]' ))\n      ajaxselect( $('[data-select=\"ajaxselect\"]') )\n      taxonomy( $('[data-select=\"taxonomy\"]') )\n      dropzoneUploader( $('[data-toggle=\"dropzoneUploader\"]') )\n      const usersList = $user[0].selectize\n      const communitiesList = $('[data-select=\"taxonomy\"]')[0].selectize\n      const communitiesErrorMsg = communitiesList.$input.data('msg')\n      communitiesList.$control_input.data('msg', communitiesErrorMsg)\n      $formset.find('[data-id]').each(( index, element ) => {\n        usersId.push( $(element).data( 'id' ))\n      })\n\n      $root.find( '[data-toggle=\"add-member\"]' ).on( 'click', ( event ) => {\n        const $this = $( event.currentTarget )\n        const formPrefix = $formset.data( 'name' )\n        const formCount = parseInt(totalForms.val())\n        let userTemplate = $templateOrganizationUser.clone(true)\n        if ($user.val() && $role.val()) {\n          userTemplate.find( '[name $='+$user.attr('name')+']' ).val( $user.val() )\n          userTemplate.find( '[name $='+$role.attr('name')+']' ).val( $role.val() )\n          userTemplate.removeAttr('id')\n          userTemplate.removeProp('id')\n          let userValue = parseInt($user.val(), 10)\n          if ( !(usersId.indexOf(userValue) > -1)) {\n            userTemplate.find( childElementSelector ).each( (index, element) => {\n              updateElementIndex($(element), formPrefix, formCount)\n            })\n            totalForms.val( formCount + 1)\n            $( userTemplate ).find( '[data-target=\"name\"]').text( $user.text())\n            $( userTemplate ).find( '[data-target=\"role\"]').text( $role.find('option:selected').text())\n            $( userTemplate ).find( 'img').attr( 'src', `${location.origin}/perfil/dinamic-profile-image/${$user.val()}/70/`)\n            userTemplate.removeClass( 'hidden' )\n            userTemplate.data( 'id', $user.val())\n            $formset.append( userTemplate )\n            usersId.push(userValue)\n          }\n        }\n\n        usersList.clear()\n\n      })\n\n      $formset.on( 'click', '.gsticon.gsticon-close', ( event ) => {\n        const $this = $( event.currentTarget )\n        const _user = $this.parent().parent();\n        usersId.some( user => {\n          if ( user == _user.data( 'id' )) {\n            usersId.splice(usersId.indexOf(user), 1)\n            _user.hide()\n          }\n        })\n      })\n      $('.actions > ul > li:first-child').attr('style', 'display:none')\n    },\n    onStepChanging: function ( event, currentIndex, newIndex ) {\n      if ( newIndex > 0 ) {\n        $('.actions > ul > li:first-child').attr('style', '')\n      } else {\n        $('.actions > ul > li:first-child').attr('style', 'display:none')\n      }\n      $form.validate().settings.ignore = ':disabled,:hidden'\n      return $form.valid()\n    },\n    onFinishing: function ( event, currentIndex ) {\n      $form.validate().settings.ignore = ':disabled,:hidden'\n      return $form.valid()\n    },\n    onFinished: function ( event, currentIndex ) {\n      $form.submit()\n    }\n  })\n};\n\n\nfunction updateElementIndex(elem, prefix, ndx) {\n  const idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n      replacement = prefix + '-' + ndx + '-';\n  if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n  if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n  if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/organization.js","$(document).on('input', '[data-filter=\"textbox\"]', function ( event ) {\n    var $this = $( event.currentTarget );\n    var timeout;\n\n    if ( event.type=='keyup' && event.keyCode!=8 ) return;\n\n    if ( !timeout ) {\n      timeout = setTimeout( function () {\n        $this.closest('form').submit();\n      }, 500 );\n    } else {\n      clearTimeout( timeout );\n    }\n\n    console.log( $this );\n});\n\n$(document).on('change',  '[data-filter=\"select\"]', function( event ) {\n    var $this = $( event.currentTarget );\n        $this.closest('form').submit();\n});\n\n$('[data-toggle=\"filter\"]').on(\"ajaxform.success\", function ( event, data ) {\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./components/professions.js","import '../vendor/jquery.jcarousel'\nimport '../vendor/rateYo/jquery.rateyo'\n\nconst defaultRate = {\n  halfStar: true,\n  normalFill: '#a09e9e',\n  ratedFill: '#d68004',\n  spacing: '2px',\n  starWidth: '20px'\n}\n\nmodule.exports = ( mod ) => {\n  const $module = $( mod );\n  const $rating = $module.find( '[data-toggle=\"rating\"]' );\n\n  $module\n    .on('jcarousel:reload jcarousel:create', function () {\n      var carousel = $( this ),\n      width = carousel.innerWidth();\n\n      if (width > 768) {\n        width = width / 4;\n      } else if (width < 768 && width > 480 ) {\n        width = width / 2;\n      } else if (width <= 480) {\n        width = width;\n      }\n\n      carousel.jcarousel('items').css('width', Math.ceil(width) + 'px');\n    }).jcarousel({\n      wrap: 'circular'\n    });\n\n    $('.jcarousel-control-prev').jcarouselControl({\n      target: '-=1'\n    });\n\n    $('.jcarousel-control-next').jcarouselControl({\n      target: '+=1'\n    });\n\n  $rating.each( ( index, item ) => {\n    const $this = $( item )\n    const dataConfig = $this.data( 'config' )\n    const settings = $.extend({}, defaultRate, dataConfig)\n    $this.rateYo( settings )\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/publication-carousel.js","/*! jCarousel - v0.3.4 - 2015-09-23\n* http://sorgalla.com/jcarousel/\n* Copyright (c) 2006-2015 Jan Sorgalla; Licensed MIT */\n(function($) {\n    'use strict';\n\n    var jCarousel = $.jCarousel = {};\n\n    jCarousel.version = '0.3.4';\n\n    var rRelativeTarget = /^([+\\-]=)?(.+)$/;\n\n    jCarousel.parseTarget = function(target) {\n        var relative = false,\n            parts    = typeof target !== 'object' ?\n                           rRelativeTarget.exec(target) :\n                           null;\n\n        if (parts) {\n            target = parseInt(parts[2], 10) || 0;\n\n            if (parts[1]) {\n                relative = true;\n                if (parts[1] === '-=') {\n                    target *= -1;\n                }\n            }\n        } else if (typeof target !== 'object') {\n            target = parseInt(target, 10) || 0;\n        }\n\n        return {\n            target: target,\n            relative: relative\n        };\n    };\n\n    jCarousel.detectCarousel = function(element) {\n        var carousel;\n\n        while (element.length > 0) {\n            carousel = element.filter('[data-jcarousel]');\n\n            if (carousel.length > 0) {\n                return carousel;\n            }\n\n            carousel = element.find('[data-jcarousel]');\n\n            if (carousel.length > 0) {\n                return carousel;\n            }\n\n            element = element.parent();\n        }\n\n        return null;\n    };\n\n    jCarousel.base = function(pluginName) {\n        return {\n            version:  jCarousel.version,\n            _options:  {},\n            _element:  null,\n            _carousel: null,\n            _init:     $.noop,\n            _create:   $.noop,\n            _destroy:  $.noop,\n            _reload:   $.noop,\n            create: function() {\n                this._element\n                    .attr('data-' + pluginName.toLowerCase(), true)\n                    .data(pluginName, this);\n\n                if (false === this._trigger('create')) {\n                    return this;\n                }\n\n                this._create();\n\n                this._trigger('createend');\n\n                return this;\n            },\n            destroy: function() {\n                if (false === this._trigger('destroy')) {\n                    return this;\n                }\n\n                this._destroy();\n\n                this._trigger('destroyend');\n\n                this._element\n                    .removeData(pluginName)\n                    .removeAttr('data-' + pluginName.toLowerCase());\n\n                return this;\n            },\n            reload: function(options) {\n                if (false === this._trigger('reload')) {\n                    return this;\n                }\n\n                if (options) {\n                    this.options(options);\n                }\n\n                this._reload();\n\n                this._trigger('reloadend');\n\n                return this;\n            },\n            element: function() {\n                return this._element;\n            },\n            options: function(key, value) {\n                if (arguments.length === 0) {\n                    return $.extend({}, this._options);\n                }\n\n                if (typeof key === 'string') {\n                    if (typeof value === 'undefined') {\n                        return typeof this._options[key] === 'undefined' ?\n                                null :\n                                this._options[key];\n                    }\n\n                    this._options[key] = value;\n                } else {\n                    this._options = $.extend({}, this._options, key);\n                }\n\n                return this;\n            },\n            carousel: function() {\n                if (!this._carousel) {\n                    this._carousel = jCarousel.detectCarousel(this.options('carousel') || this._element);\n\n                    if (!this._carousel) {\n                        $.error('Could not detect carousel for plugin \"' + pluginName + '\"');\n                    }\n                }\n\n                return this._carousel;\n            },\n            _trigger: function(type, element, data) {\n                var event,\n                    defaultPrevented = false;\n\n                data = [this].concat(data || []);\n\n                (element || this._element).each(function() {\n                    event = $.Event((pluginName + ':' + type).toLowerCase());\n\n                    $(this).trigger(event, data);\n\n                    if (event.isDefaultPrevented()) {\n                        defaultPrevented = true;\n                    }\n                });\n\n                return !defaultPrevented;\n            }\n        };\n    };\n\n    jCarousel.plugin = function(pluginName, pluginPrototype) {\n        var Plugin = $[pluginName] = function(element, options) {\n            this._element = $(element);\n            this.options(options);\n\n            this._init();\n            this.create();\n        };\n\n        Plugin.fn = Plugin.prototype = $.extend(\n            {},\n            jCarousel.base(pluginName),\n            pluginPrototype\n        );\n\n        $.fn[pluginName] = function(options) {\n            var args        = Array.prototype.slice.call(arguments, 1),\n                returnValue = this;\n\n            if (typeof options === 'string') {\n                this.each(function() {\n                    var instance = $(this).data(pluginName);\n\n                    if (!instance) {\n                        return $.error(\n                            'Cannot call methods on ' + pluginName + ' prior to initialization; ' +\n                            'attempted to call method \"' + options + '\"'\n                        );\n                    }\n\n                    if (!$.isFunction(instance[options]) || options.charAt(0) === '_') {\n                        return $.error(\n                            'No such method \"' + options + '\" for ' + pluginName + ' instance'\n                        );\n                    }\n\n                    var methodValue = instance[options].apply(instance, args);\n\n                    if (methodValue !== instance && typeof methodValue !== 'undefined') {\n                        returnValue = methodValue;\n                        return false;\n                    }\n                });\n            } else {\n                this.each(function() {\n                    var instance = $(this).data(pluginName);\n\n                    if (instance instanceof Plugin) {\n                        instance.reload(options);\n                    } else {\n                        new Plugin(this, options);\n                    }\n                });\n            }\n\n            return returnValue;\n        };\n\n        return Plugin;\n    };\n}(jQuery));\n\n(function($, window) {\n    'use strict';\n\n    var toFloat = function(val) {\n        return parseFloat(val) || 0;\n    };\n\n    $.jCarousel.plugin('jcarousel', {\n        animating:   false,\n        tail:        0,\n        inTail:      false,\n        resizeTimer: null,\n        lt:          null,\n        vertical:    false,\n        rtl:         false,\n        circular:    false,\n        underflow:   false,\n        relative:    false,\n\n        _options: {\n            list: function() {\n                return this.element().children().eq(0);\n            },\n            items: function() {\n                return this.list().children();\n            },\n            animation:   400,\n            transitions: false,\n            wrap:        null,\n            vertical:    null,\n            rtl:         null,\n            center:      false\n        },\n\n        // Protected, don't access directly\n        _list:         null,\n        _items:        null,\n        _target:       $(),\n        _first:        $(),\n        _last:         $(),\n        _visible:      $(),\n        _fullyvisible: $(),\n        _init: function() {\n            var self = this;\n\n            this.onWindowResize = function() {\n                if (self.resizeTimer) {\n                    clearTimeout(self.resizeTimer);\n                }\n\n                self.resizeTimer = setTimeout(function() {\n                    self.reload();\n                }, 100);\n            };\n\n            return this;\n        },\n        _create: function() {\n            this._reload();\n\n            $(window).on('resize.jcarousel', this.onWindowResize);\n        },\n        _destroy: function() {\n            $(window).off('resize.jcarousel', this.onWindowResize);\n        },\n        _reload: function() {\n            this.vertical = this.options('vertical');\n\n            if (this.vertical == null) {\n                this.vertical = this.list().height() > this.list().width();\n            }\n\n            this.rtl = this.options('rtl');\n\n            if (this.rtl == null) {\n                this.rtl = (function(element) {\n                    if (('' + element.attr('dir')).toLowerCase() === 'rtl') {\n                        return true;\n                    }\n\n                    var found = false;\n\n                    element.parents('[dir]').each(function() {\n                        if ((/rtl/i).test($(this).attr('dir'))) {\n                            found = true;\n                            return false;\n                        }\n                    });\n\n                    return found;\n                }(this._element));\n            }\n\n            this.lt = this.vertical ? 'top' : 'left';\n\n            // Ensure before closest() call\n            this.relative = this.list().css('position') === 'relative';\n\n            // Force list and items reload\n            this._list  = null;\n            this._items = null;\n\n            var item = this.index(this._target) >= 0 ?\n                           this._target :\n                           this.closest();\n\n            // _prepare() needs this here\n            this.circular  = this.options('wrap') === 'circular';\n            this.underflow = false;\n\n            var props = {'left': 0, 'top': 0};\n\n            if (item.length > 0) {\n                this._prepare(item);\n                this.list().find('[data-jcarousel-clone]').remove();\n\n                // Force items reload\n                this._items = null;\n\n                this.underflow = this._fullyvisible.length >= this.items().length;\n                this.circular  = this.circular && !this.underflow;\n\n                props[this.lt] = this._position(item) + 'px';\n            }\n\n            this.move(props);\n\n            return this;\n        },\n        list: function() {\n            if (this._list === null) {\n                var option = this.options('list');\n                this._list = $.isFunction(option) ? option.call(this) : this._element.find(option);\n            }\n\n            return this._list;\n        },\n        items: function() {\n            if (this._items === null) {\n                var option = this.options('items');\n                this._items = ($.isFunction(option) ? option.call(this) : this.list().find(option)).not('[data-jcarousel-clone]');\n            }\n\n            return this._items;\n        },\n        index: function(item) {\n            return this.items().index(item);\n        },\n        closest: function() {\n            var self    = this,\n                pos     = this.list().position()[this.lt],\n                closest = $(), // Ensure we're returning a jQuery instance\n                stop    = false,\n                lrb     = this.vertical ? 'bottom' : (this.rtl && !this.relative ? 'left' : 'right'),\n                width;\n\n            if (this.rtl && this.relative && !this.vertical) {\n                pos += this.list().width() - this.clipping();\n            }\n\n            this.items().each(function() {\n                closest = $(this);\n\n                if (stop) {\n                    return false;\n                }\n\n                var dim = self.dimension(closest);\n\n                pos += dim;\n\n                if (pos >= 0) {\n                    width = dim - toFloat(closest.css('margin-' + lrb));\n\n                    if ((Math.abs(pos) - dim + (width / 2)) <= 0) {\n                        stop = true;\n                    } else {\n                        return false;\n                    }\n                }\n            });\n\n\n            return closest;\n        },\n        target: function() {\n            return this._target;\n        },\n        first: function() {\n            return this._first;\n        },\n        last: function() {\n            return this._last;\n        },\n        visible: function() {\n            return this._visible;\n        },\n        fullyvisible: function() {\n            return this._fullyvisible;\n        },\n        hasNext: function() {\n            if (false === this._trigger('hasnext')) {\n                return true;\n            }\n\n            var wrap = this.options('wrap'),\n                end = this.items().length - 1,\n                check = this.options('center') ? this._target : this._last;\n\n            return end >= 0 && !this.underflow &&\n                ((wrap && wrap !== 'first') ||\n                    (this.index(check) < end) ||\n                    (this.tail && !this.inTail)) ? true : false;\n        },\n        hasPrev: function() {\n            if (false === this._trigger('hasprev')) {\n                return true;\n            }\n\n            var wrap = this.options('wrap');\n\n            return this.items().length > 0 && !this.underflow &&\n                ((wrap && wrap !== 'last') ||\n                    (this.index(this._first) > 0) ||\n                    (this.tail && this.inTail)) ? true : false;\n        },\n        clipping: function() {\n            return this._element['inner' + (this.vertical ? 'Height' : 'Width')]();\n        },\n        dimension: function(element) {\n            return element['outer' + (this.vertical ? 'Height' : 'Width')](true);\n        },\n        scroll: function(target, animate, callback) {\n            if (this.animating) {\n                return this;\n            }\n\n            if (false === this._trigger('scroll', null, [target, animate])) {\n                return this;\n            }\n\n            if ($.isFunction(animate)) {\n                callback = animate;\n                animate  = true;\n            }\n\n            var parsed = $.jCarousel.parseTarget(target);\n\n            if (parsed.relative) {\n                var end    = this.items().length - 1,\n                    scroll = Math.abs(parsed.target),\n                    wrap   = this.options('wrap'),\n                    current,\n                    first,\n                    index,\n                    start,\n                    curr,\n                    isVisible,\n                    props,\n                    i;\n\n                if (parsed.target > 0) {\n                    var last = this.index(this._last);\n\n                    if (last >= end && this.tail) {\n                        if (!this.inTail) {\n                            this._scrollTail(animate, callback);\n                        } else {\n                            if (wrap === 'both' || wrap === 'last') {\n                                this._scroll(0, animate, callback);\n                            } else {\n                                if ($.isFunction(callback)) {\n                                    callback.call(this, false);\n                                }\n                            }\n                        }\n                    } else {\n                        current = this.index(this._target);\n\n                        if ((this.underflow && current === end && (wrap === 'circular' || wrap === 'both' || wrap === 'last')) ||\n                            (!this.underflow && last === end && (wrap === 'both' || wrap === 'last'))) {\n                            this._scroll(0, animate, callback);\n                        } else {\n                            index = current + scroll;\n\n                            if (this.circular && index > end) {\n                                i = end;\n                                curr = this.items().get(-1);\n\n                                while (i++ < index) {\n                                    curr = this.items().eq(0);\n                                    isVisible = this._visible.index(curr) >= 0;\n\n                                    if (isVisible) {\n                                        curr.after(curr.clone(true).attr('data-jcarousel-clone', true));\n                                    }\n\n                                    this.list().append(curr);\n\n                                    if (!isVisible) {\n                                        props = {};\n                                        props[this.lt] = this.dimension(curr);\n                                        this.moveBy(props);\n                                    }\n\n                                    // Force items reload\n                                    this._items = null;\n                                }\n\n                                this._scroll(curr, animate, callback);\n                            } else {\n                                this._scroll(Math.min(index, end), animate, callback);\n                            }\n                        }\n                    }\n                } else {\n                    if (this.inTail) {\n                        this._scroll(Math.max((this.index(this._first) - scroll) + 1, 0), animate, callback);\n                    } else {\n                        first  = this.index(this._first);\n                        current = this.index(this._target);\n                        start  = this.underflow ? current : first;\n                        index  = start - scroll;\n\n                        if (start <= 0 && ((this.underflow && wrap === 'circular') || wrap === 'both' || wrap === 'first')) {\n                            this._scroll(end, animate, callback);\n                        } else {\n                            if (this.circular && index < 0) {\n                                i    = index;\n                                curr = this.items().get(0);\n\n                                while (i++ < 0) {\n                                    curr = this.items().eq(-1);\n                                    isVisible = this._visible.index(curr) >= 0;\n\n                                    if (isVisible) {\n                                        curr.after(curr.clone(true).attr('data-jcarousel-clone', true));\n                                    }\n\n                                    this.list().prepend(curr);\n\n                                    // Force items reload\n                                    this._items = null;\n\n                                    var dim = this.dimension(curr);\n\n                                    props = {};\n                                    props[this.lt] = -dim;\n                                    this.moveBy(props);\n\n                                }\n\n                                this._scroll(curr, animate, callback);\n                            } else {\n                                this._scroll(Math.max(index, 0), animate, callback);\n                            }\n                        }\n                    }\n                }\n            } else {\n                this._scroll(parsed.target, animate, callback);\n            }\n\n            this._trigger('scrollend');\n\n            return this;\n        },\n        moveBy: function(properties, opts) {\n            var position = this.list().position(),\n                multiplier = 1,\n                correction = 0;\n\n            if (this.rtl && !this.vertical) {\n                multiplier = -1;\n\n                if (this.relative) {\n                    correction = this.list().width() - this.clipping();\n                }\n            }\n\n            if (properties.left) {\n                properties.left = (position.left + correction + toFloat(properties.left) * multiplier) + 'px';\n            }\n\n            if (properties.top) {\n                properties.top = (position.top + correction + toFloat(properties.top) * multiplier) + 'px';\n            }\n\n            return this.move(properties, opts);\n        },\n        move: function(properties, opts) {\n            opts = opts || {};\n\n            var option       = this.options('transitions'),\n                transitions  = !!option,\n                transforms   = !!option.transforms,\n                transforms3d = !!option.transforms3d,\n                duration     = opts.duration || 0,\n                list         = this.list();\n\n            if (!transitions && duration > 0) {\n                list.animate(properties, opts);\n                return;\n            }\n\n            var complete = opts.complete || $.noop,\n                css = {};\n\n            if (transitions) {\n                var backup = {\n                        transitionDuration: list.css('transitionDuration'),\n                        transitionTimingFunction: list.css('transitionTimingFunction'),\n                        transitionProperty: list.css('transitionProperty')\n                    },\n                    oldComplete = complete;\n\n                complete = function() {\n                    $(this).css(backup);\n                    oldComplete.call(this);\n                };\n                css = {\n                    transitionDuration: (duration > 0 ? duration / 1000 : 0) + 's',\n                    transitionTimingFunction: option.easing || opts.easing,\n                    transitionProperty: duration > 0 ? (function() {\n                        if (transforms || transforms3d) {\n                            // We have to use 'all' because jQuery doesn't prefix\n                            // css values, like transition-property: transform;\n                            return 'all';\n                        }\n\n                        return properties.left ? 'left' : 'top';\n                    })() : 'none',\n                    transform: 'none'\n                };\n            }\n\n            if (transforms3d) {\n                css.transform = 'translate3d(' + (properties.left || 0) + ',' + (properties.top || 0) + ',0)';\n            } else if (transforms) {\n                css.transform = 'translate(' + (properties.left || 0) + ',' + (properties.top || 0) + ')';\n            } else {\n                $.extend(css, properties);\n            }\n\n            if (transitions && duration > 0) {\n                list.one('transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd', complete);\n            }\n\n            list.css(css);\n\n            if (duration <= 0) {\n                list.each(function() {\n                    complete.call(this);\n                });\n            }\n        },\n        _scroll: function(item, animate, callback) {\n            if (this.animating) {\n                if ($.isFunction(callback)) {\n                    callback.call(this, false);\n                }\n\n                return this;\n            }\n\n            if (typeof item !== 'object') {\n                item = this.items().eq(item);\n            } else if (typeof item.jquery === 'undefined') {\n                item = $(item);\n            }\n\n            if (item.length === 0) {\n                if ($.isFunction(callback)) {\n                    callback.call(this, false);\n                }\n\n                return this;\n            }\n\n            this.inTail = false;\n\n            this._prepare(item);\n\n            var pos     = this._position(item),\n                currPos = this.list().position()[this.lt];\n\n            if (pos === currPos) {\n                if ($.isFunction(callback)) {\n                    callback.call(this, false);\n                }\n\n                return this;\n            }\n\n            var properties = {};\n            properties[this.lt] = pos + 'px';\n\n            this._animate(properties, animate, callback);\n\n            return this;\n        },\n        _scrollTail: function(animate, callback) {\n            if (this.animating || !this.tail) {\n                if ($.isFunction(callback)) {\n                    callback.call(this, false);\n                }\n\n                return this;\n            }\n\n            var pos = this.list().position()[this.lt];\n\n            if (this.rtl && this.relative && !this.vertical) {\n                pos += this.list().width() - this.clipping();\n            }\n\n            if (this.rtl && !this.vertical) {\n                pos += this.tail;\n            } else {\n                pos -= this.tail;\n            }\n\n            this.inTail = true;\n\n            var properties = {};\n            properties[this.lt] = pos + 'px';\n\n            this._update({\n                target:       this._target.next(),\n                fullyvisible: this._fullyvisible.slice(1).add(this._visible.last())\n            });\n\n            this._animate(properties, animate, callback);\n\n            return this;\n        },\n        _animate: function(properties, animate, callback) {\n            callback = callback || $.noop;\n\n            if (false === this._trigger('animate')) {\n                callback.call(this, false);\n                return this;\n            }\n\n            this.animating = true;\n\n            var animation = this.options('animation'),\n                complete  = $.proxy(function() {\n                    this.animating = false;\n\n                    var c = this.list().find('[data-jcarousel-clone]');\n\n                    if (c.length > 0) {\n                        c.remove();\n                        this._reload();\n                    }\n\n                    this._trigger('animateend');\n\n                    callback.call(this, true);\n                }, this);\n\n            var opts = typeof animation === 'object' ?\n                           $.extend({}, animation) :\n                           {duration: animation},\n                oldComplete = opts.complete || $.noop;\n\n            if (animate === false) {\n                opts.duration = 0;\n            } else if (typeof $.fx.speeds[opts.duration] !== 'undefined') {\n                opts.duration = $.fx.speeds[opts.duration];\n            }\n\n            opts.complete = function() {\n                complete();\n                oldComplete.call(this);\n            };\n\n            this.move(properties, opts);\n\n            return this;\n        },\n        _prepare: function(item) {\n            var index  = this.index(item),\n                idx    = index,\n                wh     = this.dimension(item),\n                clip   = this.clipping(),\n                lrb    = this.vertical ? 'bottom' : (this.rtl ? 'left'  : 'right'),\n                center = this.options('center'),\n                update = {\n                    target:       item,\n                    first:        item,\n                    last:         item,\n                    visible:      item,\n                    fullyvisible: wh <= clip ? item : $()\n                },\n                curr,\n                isVisible,\n                margin,\n                dim;\n\n            if (center) {\n                wh /= 2;\n                clip /= 2;\n            }\n\n            if (wh < clip) {\n                while (true) {\n                    curr = this.items().eq(++idx);\n\n                    if (curr.length === 0) {\n                        if (!this.circular) {\n                            break;\n                        }\n\n                        curr = this.items().eq(0);\n\n                        if (item.get(0) === curr.get(0)) {\n                            break;\n                        }\n\n                        isVisible = this._visible.index(curr) >= 0;\n\n                        if (isVisible) {\n                            curr.after(curr.clone(true).attr('data-jcarousel-clone', true));\n                        }\n\n                        this.list().append(curr);\n\n                        if (!isVisible) {\n                            var props = {};\n                            props[this.lt] = this.dimension(curr);\n                            this.moveBy(props);\n                        }\n\n                        // Force items reload\n                        this._items = null;\n                    }\n\n                    dim = this.dimension(curr);\n\n                    if (dim === 0) {\n                        break;\n                    }\n\n                    wh += dim;\n\n                    update.last    = curr;\n                    update.visible = update.visible.add(curr);\n\n                    // Remove right/bottom margin from total width\n                    margin = toFloat(curr.css('margin-' + lrb));\n\n                    if ((wh - margin) <= clip) {\n                        update.fullyvisible = update.fullyvisible.add(curr);\n                    }\n\n                    if (wh >= clip) {\n                        break;\n                    }\n                }\n            }\n\n            if (!this.circular && !center && wh < clip) {\n                idx = index;\n\n                while (true) {\n                    if (--idx < 0) {\n                        break;\n                    }\n\n                    curr = this.items().eq(idx);\n\n                    if (curr.length === 0) {\n                        break;\n                    }\n\n                    dim = this.dimension(curr);\n\n                    if (dim === 0) {\n                        break;\n                    }\n\n                    wh += dim;\n\n                    update.first   = curr;\n                    update.visible = update.visible.add(curr);\n\n                    // Remove right/bottom margin from total width\n                    margin = toFloat(curr.css('margin-' + lrb));\n\n                    if ((wh - margin) <= clip) {\n                        update.fullyvisible = update.fullyvisible.add(curr);\n                    }\n\n                    if (wh >= clip) {\n                        break;\n                    }\n                }\n            }\n\n            this._update(update);\n\n            this.tail = 0;\n\n            if (!center &&\n                this.options('wrap') !== 'circular' &&\n                this.options('wrap') !== 'custom' &&\n                this.index(update.last) === (this.items().length - 1)) {\n\n                // Remove right/bottom margin from total width\n                wh -= toFloat(update.last.css('margin-' + lrb));\n\n                if (wh > clip) {\n                    this.tail = wh - clip;\n                }\n            }\n\n            return this;\n        },\n        _position: function(item) {\n            var first  = this._first,\n                pos    = first.position()[this.lt],\n                center = this.options('center'),\n                centerOffset = center ? (this.clipping() / 2) - (this.dimension(first) / 2) : 0;\n\n            if (this.rtl && !this.vertical) {\n                if (this.relative) {\n                    pos -= this.list().width() - this.dimension(first);\n                } else {\n                    pos -= this.clipping() - this.dimension(first);\n                }\n\n                pos += centerOffset;\n            } else {\n                pos -= centerOffset;\n            }\n\n            if (!center &&\n                (this.index(item) > this.index(first) || this.inTail) &&\n                this.tail) {\n                pos = this.rtl && !this.vertical ? pos - this.tail : pos + this.tail;\n                this.inTail = true;\n            } else {\n                this.inTail = false;\n            }\n\n            return -pos;\n        },\n        _update: function(update) {\n            var self = this,\n                current = {\n                    target:       this._target,\n                    first:        this._first,\n                    last:         this._last,\n                    visible:      this._visible,\n                    fullyvisible: this._fullyvisible\n                },\n                back = this.index(update.first || current.first) < this.index(current.first),\n                key,\n                doUpdate = function(key) {\n                    var elIn  = [],\n                        elOut = [];\n\n                    update[key].each(function() {\n                        if (current[key].index(this) < 0) {\n                            elIn.push(this);\n                        }\n                    });\n\n                    current[key].each(function() {\n                        if (update[key].index(this) < 0) {\n                            elOut.push(this);\n                        }\n                    });\n\n                    if (back) {\n                        elIn = elIn.reverse();\n                    } else {\n                        elOut = elOut.reverse();\n                    }\n\n                    self._trigger(key + 'in', $(elIn));\n                    self._trigger(key + 'out', $(elOut));\n\n                    self['_' + key] = update[key];\n                };\n\n            for (key in update) {\n                doUpdate(key);\n            }\n\n            return this;\n        }\n    });\n}(jQuery, window));\n\n(function($) {\n    'use strict';\n\n    $.jcarousel.fn.scrollIntoView = function(target, animate, callback) {\n        var parsed = $.jCarousel.parseTarget(target),\n            first  = this.index(this._fullyvisible.first()),\n            last   = this.index(this._fullyvisible.last()),\n            index;\n\n        if (parsed.relative) {\n            index = parsed.target < 0 ? Math.max(0, first + parsed.target) : last + parsed.target;\n        } else {\n            index = typeof parsed.target !== 'object' ? parsed.target : this.index(parsed.target);\n        }\n\n        if (index < first) {\n            return this.scroll(index, animate, callback);\n        }\n\n        if (index >= first && index <= last) {\n            if ($.isFunction(callback)) {\n                callback.call(this, false);\n            }\n\n            return this;\n        }\n\n        var items = this.items(),\n            clip = this.clipping(),\n            lrb  = this.vertical ? 'bottom' : (this.rtl ? 'left'  : 'right'),\n            wh   = 0,\n            curr;\n\n        while (true) {\n            curr = items.eq(index);\n\n            if (curr.length === 0) {\n                break;\n            }\n\n            wh += this.dimension(curr);\n\n            if (wh >= clip) {\n                var margin = parseFloat(curr.css('margin-' + lrb)) || 0;\n                if ((wh - margin) !== clip) {\n                    index++;\n                }\n                break;\n            }\n\n            if (index <= 0) {\n                break;\n            }\n\n            index--;\n        }\n\n        return this.scroll(index, animate, callback);\n    };\n}(jQuery));\n\n(function($) {\n    'use strict';\n\n    $.jCarousel.plugin('jcarouselControl', {\n        _options: {\n            target: '+=1',\n            event:  'click',\n            method: 'scroll'\n        },\n        _active: null,\n        _init: function() {\n            this.onDestroy = $.proxy(function() {\n                this._destroy();\n                this.carousel()\n                    .one('jcarousel:createend', $.proxy(this._create, this));\n            }, this);\n            this.onReload = $.proxy(this._reload, this);\n            this.onEvent = $.proxy(function(e) {\n                e.preventDefault();\n\n                var method = this.options('method');\n\n                if ($.isFunction(method)) {\n                    method.call(this);\n                } else {\n                    this.carousel()\n                        .jcarousel(this.options('method'), this.options('target'));\n                }\n            }, this);\n        },\n        _create: function() {\n            this.carousel()\n                .one('jcarousel:destroy', this.onDestroy)\n                .on('jcarousel:reloadend jcarousel:scrollend', this.onReload);\n\n            this._element\n                .on(this.options('event') + '.jcarouselcontrol', this.onEvent);\n\n            this._reload();\n        },\n        _destroy: function() {\n            this._element\n                .off('.jcarouselcontrol', this.onEvent);\n\n            this.carousel()\n                .off('jcarousel:destroy', this.onDestroy)\n                .off('jcarousel:reloadend jcarousel:scrollend', this.onReload);\n        },\n        _reload: function() {\n            var parsed   = $.jCarousel.parseTarget(this.options('target')),\n                carousel = this.carousel(),\n                active;\n\n            if (parsed.relative) {\n                active = carousel\n                    .jcarousel(parsed.target > 0 ? 'hasNext' : 'hasPrev');\n            } else {\n                var target = typeof parsed.target !== 'object' ?\n                                carousel.jcarousel('items').eq(parsed.target) :\n                                parsed.target;\n\n                active = carousel.jcarousel('target').index(target) >= 0;\n            }\n\n            if (this._active !== active) {\n                this._trigger(active ? 'active' : 'inactive');\n                this._active = active;\n            }\n\n            return this;\n        }\n    });\n}(jQuery));\n\n(function($) {\n    'use strict';\n\n    $.jCarousel.plugin('jcarouselPagination', {\n        _options: {\n            perPage: null,\n            item: function(page) {\n                return '<a href=\"#' + page + '\">' + page + '</a>';\n            },\n            event:  'click',\n            method: 'scroll'\n        },\n        _carouselItems: null,\n        _pages: {},\n        _items: {},\n        _currentPage: null,\n        _init: function() {\n            this.onDestroy = $.proxy(function() {\n                this._destroy();\n                this.carousel()\n                    .one('jcarousel:createend', $.proxy(this._create, this));\n            }, this);\n            this.onReload = $.proxy(this._reload, this);\n            this.onScroll = $.proxy(this._update, this);\n        },\n        _create: function() {\n            this.carousel()\n                .one('jcarousel:destroy', this.onDestroy)\n                .on('jcarousel:reloadend', this.onReload)\n                .on('jcarousel:scrollend', this.onScroll);\n\n            this._reload();\n        },\n        _destroy: function() {\n            this._clear();\n\n            this.carousel()\n                .off('jcarousel:destroy', this.onDestroy)\n                .off('jcarousel:reloadend', this.onReload)\n                .off('jcarousel:scrollend', this.onScroll);\n\n            this._carouselItems = null;\n        },\n        _reload: function() {\n            var perPage = this.options('perPage');\n\n            this._pages = {};\n            this._items = {};\n\n            // Calculate pages\n            if ($.isFunction(perPage)) {\n                perPage = perPage.call(this);\n            }\n\n            if (perPage == null) {\n                this._pages = this._calculatePages();\n            } else {\n                var pp    = parseInt(perPage, 10) || 0,\n                    items = this._getCarouselItems(),\n                    page  = 1,\n                    i     = 0,\n                    curr;\n\n                while (true) {\n                    curr = items.eq(i++);\n\n                    if (curr.length === 0) {\n                        break;\n                    }\n\n                    if (!this._pages[page]) {\n                        this._pages[page] = curr;\n                    } else {\n                        this._pages[page] = this._pages[page].add(curr);\n                    }\n\n                    if (i % pp === 0) {\n                        page++;\n                    }\n                }\n            }\n\n            this._clear();\n\n            var self     = this,\n                carousel = this.carousel().data('jcarousel'),\n                element  = this._element,\n                item     = this.options('item'),\n                numCarouselItems = this._getCarouselItems().length;\n\n            $.each(this._pages, function(page, carouselItems) {\n                var currItem = self._items[page] = $(item.call(self, page, carouselItems));\n\n                currItem.on(self.options('event') + '.jcarouselpagination', $.proxy(function() {\n                    var target = carouselItems.eq(0);\n\n                    // If circular wrapping enabled, ensure correct scrolling direction\n                    if (carousel.circular) {\n                        var currentIndex = carousel.index(carousel.target()),\n                            newIndex     = carousel.index(target);\n\n                        if (parseFloat(page) > parseFloat(self._currentPage)) {\n                            if (newIndex < currentIndex) {\n                                target = '+=' + (numCarouselItems - currentIndex + newIndex);\n                            }\n                        } else {\n                            if (newIndex > currentIndex) {\n                                target = '-=' + (currentIndex + (numCarouselItems - newIndex));\n                            }\n                        }\n                    }\n\n                    carousel[this.options('method')](target);\n                }, self));\n\n                element.append(currItem);\n            });\n\n            this._update();\n        },\n        _update: function() {\n            var target = this.carousel().jcarousel('target'),\n                currentPage;\n\n            $.each(this._pages, function(page, carouselItems) {\n                carouselItems.each(function() {\n                    if (target.is(this)) {\n                        currentPage = page;\n                        return false;\n                    }\n                });\n\n                if (currentPage) {\n                    return false;\n                }\n            });\n\n            if (this._currentPage !== currentPage) {\n                this._trigger('inactive', this._items[this._currentPage]);\n                this._trigger('active', this._items[currentPage]);\n            }\n\n            this._currentPage = currentPage;\n        },\n        items: function() {\n            return this._items;\n        },\n        reloadCarouselItems: function() {\n            this._carouselItems = null;\n            return this;\n        },\n        _clear: function() {\n            this._element.empty();\n            this._currentPage = null;\n        },\n        _calculatePages: function() {\n            var carousel = this.carousel().data('jcarousel'),\n                items    = this._getCarouselItems(),\n                clip     = carousel.clipping(),\n                wh       = 0,\n                idx      = 0,\n                page     = 1,\n                pages    = {},\n                curr,\n                dim;\n\n            while (true) {\n                curr = items.eq(idx++);\n\n                if (curr.length === 0) {\n                    break;\n                }\n\n                dim = carousel.dimension(curr);\n\n                if ((wh + dim) > clip) {\n                    page++;\n                    wh = 0;\n                }\n\n                wh += dim;\n\n                if (!pages[page]) {\n                    pages[page] = curr;\n                } else {\n                    pages[page] = pages[page].add(curr);\n                }\n            }\n\n            return pages;\n        },\n        _getCarouselItems: function() {\n            if (!this._carouselItems) {\n                this._carouselItems = this.carousel().jcarousel('items');\n            }\n\n            return this._carouselItems;\n        }\n    });\n}(jQuery));\n\n(function($, document) {\n    'use strict';\n\n    var hiddenProp,\n        visibilityChangeEvent,\n        visibilityChangeEventNames = {\n            hidden: 'visibilitychange',\n            mozHidden: 'mozvisibilitychange',\n            msHidden: 'msvisibilitychange',\n            webkitHidden: 'webkitvisibilitychange'\n        }\n    ;\n\n    $.each(visibilityChangeEventNames, function(key, val) {\n        if (typeof document[key] !== 'undefined') {\n            hiddenProp = key;\n            visibilityChangeEvent = val;\n            return false;\n        }\n    });\n\n    $.jCarousel.plugin('jcarouselAutoscroll', {\n        _options: {\n            target:    '+=1',\n            interval:  3000,\n            autostart: true\n        },\n        _timer: null,\n        _started: false,\n        _init: function () {\n            this.onDestroy = $.proxy(function() {\n                this._destroy();\n                this.carousel()\n                    .one('jcarousel:createend', $.proxy(this._create, this));\n            }, this);\n\n            this.onAnimateEnd = $.proxy(this._start, this);\n\n            this.onVisibilityChange = $.proxy(function() {\n                if (document[hiddenProp]) {\n                    this._stop();\n                } else {\n                    this._start();\n                }\n            }, this);\n        },\n        _create: function() {\n            this.carousel()\n                .one('jcarousel:destroy', this.onDestroy);\n\n            $(document)\n                .on(visibilityChangeEvent, this.onVisibilityChange);\n\n            if (this.options('autostart')) {\n                this.start();\n            }\n        },\n        _destroy: function() {\n            this._stop();\n\n            this.carousel()\n                .off('jcarousel:destroy', this.onDestroy);\n\n            $(document)\n                .off(visibilityChangeEvent, this.onVisibilityChange);\n        },\n        _start: function() {\n            this._stop();\n\n            if (!this._started) {\n                return;\n            }\n\n            this.carousel()\n                .one('jcarousel:animateend', this.onAnimateEnd);\n\n            this._timer = setTimeout($.proxy(function() {\n                this.carousel().jcarousel('scroll', this.options('target'));\n            }, this), this.options('interval'));\n\n            return this;\n        },\n        _stop: function() {\n            if (this._timer) {\n                this._timer = clearTimeout(this._timer);\n            }\n\n            this.carousel()\n                .off('jcarousel:animateend', this.onAnimateEnd);\n\n            return this;\n        },\n        start: function() {\n            this._started = true;\n            this._start();\n\n            return this;\n        },\n        stop: function() {\n            this._started = false;\n            this._stop();\n\n            return this;\n        }\n    });\n}(jQuery, document));\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.jcarousel.js","\n\nmodule.exports = (name) => {\n  const $root = $( name )\n\n  // console.log( $root );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/register.js","'use strict';\n\n// import $ from 'jquery';\nimport 'jscroll';\n\nmodule.exports = (name) => {\n  $( '.j-scroll' ).jscroll({\n    autoTrigger: false,\n    loadingHtml: '<div class=\"col-xs-12\"><div class=\"load-async-preload\"></div></div>',\n    contentSelect: '.j-scroll-container',\n    nextSelector: 'a[data-jscroll-next]'\n  });\n\n  $( '[data-form-send]' ).on( 'change', function onChangeSelectSendVideoForm () {\n    var $self = $(this);\n    var $form = $self.closest( 'form[data-form-send-enables]' );\n    if ( $form.length ) {\n      $form.trigger('submit');\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/videos.js"],"sourceRoot":""}