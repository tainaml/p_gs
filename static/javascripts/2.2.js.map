{"version":3,"sources":["webpack:///2.2.js","webpack:///./asyncModules/TemplateEngine.js","webpack:///./asyncModules/ajaxselect.js","webpack:////projects/rede_gsti/resources/~/selectize/dist/js/selectize.js","webpack:////projects/rede_gsti/resources/~/selectize/~/sifter/sifter.js","webpack:////projects/rede_gsti/resources/~/selectize/~/microplugin/src/microplugin.js","webpack:///./asyncModules/dropzoneUploader.js","webpack:///./components/customform/input.js","webpack:///./vendor/jquery.steps.js","webpack:///./vendor/jquery.validate.js","webpack:///./asyncModules/taxonomy.js","webpack:///./components ^\\.\\/.*$","webpack:///./components/comments.js","webpack:////projects/rede_gsti/resources/~/jscroll/jquery.jscroll.js","webpack:///./components/comments/jquery.render-list.js","webpack:///./components/courses.js","webpack:///./vendor/rateYo/jquery.rateyo.js","webpack:///./components/customform.js","webpack:///./components/organization.js","webpack:///./components/professions.js","webpack:///./components/videos.js"],"names":["webpackJsonp","module","exports","html","options","result","re","reExp","code","cursor","add","line","js","match","replace","exec","slice","index","length","substr","Function","apply","err","console","error","message","__webpack_require__","_interopRequireDefault","obj","__esModule","default","templateItem","item","escape","name","templateOption","img","loadUsers","query","callback","this","$wrapper","prev","data","_data","settings","searchField","_jquery2","ajax","url","type","success","res","items","Object","defineProperty","value","_jquery","elementData","$element","suggest","valueField","labelField","create","render","option","load","ajaxselect","element","selectizeSettings","extend","selectize","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","$","Sifter","MicroPlugin","highlight","pattern","regex","RegExp","node","skip","nodeType","pos","search","spannode","document","createElement","className","middlebit","splitText","middleclone","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","tagName","i","each","fn","removeHighlight","find","firstChild","nodeName","parent","normalize","end","MicroEvent","prototype","on","event","fct","_events","push","off","n","arguments","splice","indexOf","trigger","Array","call","mixin","destObject","props","IS_MAC","navigator","userAgent","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_P","KEY_RIGHT","KEY_DOWN","KEY_N","KEY_BACKSPACE","KEY_DELETE","KEY_SHIFT","KEY_CMD","KEY_CTRL","KEY_TAB","TAG_SELECT","TAG_INPUT","SUPPORTS_VALIDITY_API","window","validity","isset","object","hash_key","escape_html","str","hook","before","self","method","original","after","once","called","debounce","delay","timeout","args","clearTimeout","setTimeout","debounce_events","types","event_args","hasOwnProperty","watchChildEvent","$parent","selector","e","child","target","currentTarget","getSelection","input","start","selectionStart","selectionEnd","selection","focus","sel","createRange","selLen","text","moveStart","transferStyles","$from","$to","properties","styles","css","measureString","$test","position","top","left","width","padding","whiteSpace","appendTo","remove","autoGrow","$input","currentWidth","update","keyCode","printable","placeholder","shift","character","metaKey","altKey","force","val","toLowerCase","substring","shiftKey","String","fromCharCode","toUpperCase","attr","triggerHandler","domToString","d","tmp","innerHTML","logError","component","explanation","group","groupEnd","Selectize","dir","computedStyle","getComputedStyle","getPropertyValue","currentStyle","direction","parents","order","tabIndex","tagType","rtl","eventNS","count","highlightedValue","isOpen","isDisabled","isRequired","is","isInvalid","isLocked","isFocused","isInputHidden","isSetup","isShiftDown","isCmdDown","isCtrlDown","ignoreFocus","ignoreBlur","ignoreHover","hasOptions","currentResults","lastValue","caretPos","loading","loadedSearches","$activeOption","$activeItems","optgroups","userOptions","renderCache","onSearchChange","loadThrottle","sifter","diacritics","registerOption","registerOptionGroup","mode","maxItems","hideSelected","initializePlugins","plugins","setupCallbacks","setupTemplates","setup","$control","$control_input","$dropdown","$dropdown_content","$dropdown_parent","inputMode","classes","classes_plugins","inputId","$window","$document","addClass","wrapperClass","inputClass","dropdownParent","dropdownClass","hide","dropdownContentClass","copyClassesToDropdown","style","names","join","splitOn","delimiter","delimiterEscaped","onOptionHover","onOptionSelect","onItemSelect","mousedown","onMouseDown","click","onClick","stopPropagation","keydown","onKeyDown","keyup","onKeyUp","keypress","onKeyPress","resize","positionDropdown","blur","onBlur","onFocus","paste","onPaste","has","revertSettings","$children","children","detach","tabindex","isArray","setValue","preventDefault","refreshState","updateOriginalInput","refreshItems","updatePlaceholder","disable","onChange","preload","field_label","field_optgroup","optgroupLabelField","templates","optgroup","optgroup_header","option_create","key","callbacks","initialize","change","item_add","item_remove","clear","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","defaultPrevented","isDefaultPrevented","close","open","setActiveItem","isFull","pastedText","splitInput","trim","split","createItem","which","selectAll","ctrlKey","$next","getAdjacentOption","setActiveOption","$prev","advanceSelection","selectOnTab","deleteSelection","refreshOptions","wasFocused","showInput","openOnFocus","dest","activeElement","deactivate","setTextboxValue","setCaret","createOnBlur","$target","hasClass","closeAfterSelect","lastQuery","addItem","getOption","loadingClass","results","Math","max","addOption","removeClass","changed","getValue","silent","events","addItems","$item","eventName","idx","begin","swap","$last","hideInput","$option","scroll","animate","height_menu","height_item","y","scroll_top","scroll_bottom","height","outerHeight","scrollTop","offset","stop","scrollDuration","opacity","getScoreFunction","getSearchOptions","sort","sortField","field","fields","conjunction","searchConjunction","calculateScore","score","Error","id","triggerDropdown","j","k","groups","groups_order","option_html","html_children","has_create_option","$active","$active_before","$create","active_before","maxOptions","min","optgroupField","createDocumentFragment","lockOptgroupOrder","a","b","a_order","$order","b_order","dom","tokens","canCreate","prepend","addPrecedence","optgroupValueField","addOptionGroup","removeOptionGroup","clearOptionGroups","updateOption","$item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","replaceWith","removeOption","removeItem","clearOptions","getElementWithValue","$options","eq","$els","getAttribute","values","isPending","value_next","wasFull","insertAtCaret","persist","caret","lock","unlock","output","refreshValidityState","refreshClasses","invalid","prop","toggleClass","isEmptyObject","opts","label","removeAttr","visibility","display","outerWidth","$el","option_select","$option_select","$tail","onDelete","pop","tail","valueLength","cursorAtEdge","advanceCaret","$adj","$child","append","enable","destroy","show","removeData","body","templateName","cache","clearCache","filter","createFilter","defaults","allowEmptyOption","dataAttr","settings_user","attr_data","field_value","field_optgroup_label","field_optgroup_value","init_textbox","settings_element","data_raw","JSON","parse","init_select","optionsMap","readData","arr","addGroup","$optgroup","instance","tag_name","support","define","sortable","forcePlaceholderSize","disabled","ui","helper","overflow","active","title","headerClass","titleRowClass","labelClass","closeClass","$dropdown_header","equalizeWidth","equalizeHeight","closest","next","getScrollbarWidth","div","doc","offsetWidth","clientWidth","removeChild","equalizeSizes","height_max","width_last","width_parent","$optgroups","innerWidth","round","singleClose","thisRef","html_container","html_element","context","render_item","multiClose","tokenize","letter","words","escape_regex","DIACRITICS","string","iterator","is_array","forEach","token_count","nesting","prepareSearch","scoreValue","token","scoreObject","field_count","getattr","sum","getSortFunction","fields_count","multiplier","multipliers","get_field","implicit_score","sort_empty","unshift","cmp","option_fields","option_sort","option_sort_empty","total","fn_sort","fn_score","limit","asciifold","toString","c","f","g","h","l","o","p","q","r","s","t","u","v","w","x","z","chunk","foreignletters","lookup","charAt","regexp","foreignletter","Interface","queue","requested","loaded","utils","require","loadPlugin","plugin","vArg","_module","cbDragOver","dropZone","cbDragLeave","cbDrop","file","originalEvent","dataTransfer","files","readFile","cbChangeFile","cbTriggerFile","$altInput","defaultImage","fakeLoad","dragover","dragleave","drop","src","createPreview","getCanvasImage","reader","FileReader","onload","readAsDataURL","image","imgWidth","imgHeight","canvas","ctx","getContext","drawImage","toDataURL","filename","newURL","fileName","lastIndexOf","filePath","$this","siblings","inputResize","scrollHeight","jQuery","addStepToCache","wizard","step","getSteps","analyzeData","state","stepTitles","headerTag","stepContents","bodyTag","throwError","_missingCorrespondingElementErrorMessage","startIndex","stepCount","saveState","cookie","savedState","_cookiePrefix","getUniqueId","savedIndex","parseInt","isNaN","currentIndex","content","modeData","contentMode","getValidEnumValue","contentUrl","contentLoaded","stepModel","cancel","decreaseCurrentIndexBy","decreaseBy","eventNamespace","getEventNamespace","unbind","clearFixCssClass","contents","_removeAria","empty","wizardSubstitute","format","get","wizardId","_id","finishStep","currentStep","getStepAnchor","uniqueId","_tabSuffix","getStepPanel","_tabpanelSuffix","getStepTitle","_titleSuffix","getOptions","getState","getStep","steps","_indexOutOfRangeErrorMessage","concat","_uniqueId","enumType","keyOrValue","validateArgument","goToNextStep","paginationClick","increaseCurrentIndexBy","goToPreviousStep","goToStep","forceMoveForward","oldIndex","saveCurrentStateToCookie","refreshStepNavigation","refreshPagination","loadAsyncContent","startTransitionEffect","increaseBy","transitionElement","registerEvents","autoFocus","insertStep","insertStepToCache","contentContainer","header","renderBody","renderTitle","refreshSteps","keyUpHandler","suppressPaginationOnFocus","keyCodes","right","enableContentCache","iframe","async","currentStepContent","_aria","renderTemplate","loadingTemplate","labels","done","anchor","_enableAria","paginationClickHandler","href","enablePagination","finish","previous","enableFinishButton","showFinishButtonAlways","_showAria","currentOrNewStepAnchor","currentInfo","current","oldStepAnchor","_selectAria","uniqueStepId","uniqueBodyId","uniqueHeaderId","titleTemplate","bind","onCanceled","onContentLoaded","onFinishing","onFinished","onInit","onStepChanging","onStepChanged","enableKeyNavigation","removeStep","removeStepFromCache","first","wrapperTemplate","orientation","stepsOrientation","verticalCssClass","vertical","contentWrapper","contentContainerTag","stepsWrapper","stepsContainerTag","cssClass","renderPagination","pagination","buttonTemplate","buttons","enableCancelButton","actionContainerTag","template","substitutes","matches","stepCollection","stepItem","enableAllSteps","stepClickHandler","doneCallback","effect","transitionEffect","effectSpeed","transitionEffectSpeed","newStep","fade","slide","promise","slideLeft","posFadeOut","posFadeIn","when","argumentName","argumentValue","select","formattedString","getCurrentIndex","getCurrentStep","insert","setStep","horizontal","none","preloadContent","newIndex","priorIndex","validate","debug","warn","validator","onsubmit","submitHandler","submitButton","cancelSubmit","handle","hidden","currentForm","form","pendingRequest","formSubmitted","focusInvalid","valid","errorList","rules","command","argument","staticRules","existingRules","param","filtered","normalizeRule","messages","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","blank","filled","unchecked","init","source","params","makeArray","constructor","errorClass","pendingClass","validClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignore","ignoreTitle","onfocusin","lastActive","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","excludedKeys","elementValue","inArray","onclick","findByName","setDefaults","email","date","dateISO","number","digits","equalTo","maxlength","minlength","rangelength","range","autoCreateRanges","delegate","eventType","labelContainer","errorContext","containers","valueCache","pending","reset","invalidHandler","checkForm","errorMap","showErrors","prepareForm","elements","currentElements","check","_element","rs","cleanElement","clean","checkElement","validationTargetFor","prepareElement","testgroup","numberOfInvalids","toHide","errors","map","successList","grep","defaultShowErrors","resetForm","hideErrors","resetElements","objectLength","not","addWrapper","size","findLastActive","rulesCache","hasAttribute","resetInternals","toShow","badInput","rule","rulesCount","dependencyMismatch","normalizer","TypeError","parameters","methods","formatAndAdd","log","customDataMessage","customMessage","m","findDefined","defaultMessage","theregex","toToggle","wrapper","showLabel","validElements","invalidElements","place","errorID","elementID","idOrName","describedBy","wrap","errorPlacement","insertAfter","escapeCssMeta","describer","getLength","depend","dependTypes","boolean","function","startRequest","stopRequest","submit","previousValue","old","classRuleSettings","creditcard","addClassRules","normalizeAttributeRule","Number","depends","keepRule","parameter","isFunction","parts","transformed","addMethod","Date","errorMessage","supportedTypes","notSupported","optionDataString","originalMessage","port","dataType","response","pendingRequests","ajaxPrefilter","_","xhr","abort","ajaxSettings","renderItem","defaultTemplates","TemplateEngine","renderOption","loadItems","taxonomy","defaultSettings","webpackContext","req","webpackContextResolve","./comments","./comments.js","./comments/jquery.render-list","./comments/jquery.render-list.js","./courses","./courses.js","./customform","./customform.js","./customform/input","./customform/input.js","./index","./index.js","./organization","./organization.js","./professions","./professions.js","./videos","./videos.js","keys","resolve","setData","$form","$divToUpdate","action","$form_to_hide","summernote","refreshEditors","$preInComment","Prism","highlightElement","form_submit","$subforms","$subform","IdeiaAjaxForm","$dataList","renderList","refreshAsyncLike","functionOpenModalToDelete","$btn","$modal","modal","functionAjaxSuccessDeleteItem","itemId","itemType","fadeOut","commentDropDown","xhr_contents","$comment_form","jscroll","autoTrigger","autoTriggerUntil","loadingHtml","loadingFunction","nextSelector","contentSelector","pagingSelector","jScroll","$e","_userOptions","_options","_isWindow","_$next","_$window","_$body","_$scroll","_nextHref","_preloadImage","Image","_wrapInnerContent","wrapAll","_nextWrap","_destroy","unwrap","_observe","$inner","borderTopWidth","borderTopWidthInt","iContainerTop","iTopHeight","innerTop","iTotalHeight","ceil","waiting","_debug","_load","_checkNextHref","nextHref","_setBindings","scrollingBodyHeight","scrollingHeight","windowHeight","last","status","sMethod","initialized","Plugin","_defaults","_name","pluginName","propertyName","attachList","fail","always","$showMore","$rating","formRating","halfStar","normalFill","ratedFill","spacing","starWidth","onSet","rating","rateYoInstance","reactions","floor","dataConfig","rateYo","$self","toggleHeight","seletor","ANIMATION_TIME","currentHeight","autoHeight","isMobileBrowser","vendor","opera","checkPrecision","minValue","maxValue","checkBounds","isValid","isDefined","getChannelValue","startVal","endVal","percent","newVal","getColor","startColor","endColor","hexToRGB","RateYo","$node","showRating","ratingVal","currentRating","numStarsToShow","percentOfStar","percentOfSpacing","setRatedFill","$ratedGroup","setContainerWidth","containerWidth","numStars","setStarWidth","newWidth","starHeight","parseFloat","$normalGroup","setSpacing","newSpacing","margin-left","setNormalFill","newFill","$svgs","fill","multiColor","ratingDiff","percentCovered","colorOpts","MULTICOLOR_OPTIONS","setRtl","newValue","setMultiColor","colorOptions","setNumStars","starSvg","BASICSTAR","setMaxValue","setRating","setPrecision","precision","setHalfStar","setFullStar","fullStar","remainder","halfStep","isHalfStar","isFullStar","calculateRating","nodeStartX","nodeEndX","pageX","calculatedRating","calcPrcnt","remPrcnt","setReadOnly","readOnly","unbindEvents","bindEvents","toFixed","isInitialized","setOnInit","setOnSet","setOnChange","onMouseEnter","onMouseLeave","onMouseClick","resultantRating","that","$groupWrapper","collection","deleteInstance","methodName","optionName","getInstance","firstPart","secondPart","_rateYo","rateYoInstances","$nodes","existingInstance","returnVal","DEFAULTS","hexRegex","hex","hexValues","updateElementIndex","elem","prefix","ndx","idRegex","replacement","_customformInput","_customformInput2","_asyncModulesAjaxselect","_asyncModulesAjaxselect2","_asyncModulesTaxonomy","_asyncModulesTaxonomy2","_asyncModulesDropzoneUploader","_asyncModulesDropzoneUploader2","$root","$steps","$templateOrganizationUser","childElementSelector","usersId","$user","$role","$formset","totalForms","formPrefix","formCount","userTemplate","clone","removeProp","userValue","location","origin","_user","some","user","contentSelect"],"mappings":"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","file":"2.2.js","sourcesContent":["webpackJsonp([2],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function (html, options) {\n\t\tvar re = /<%(.+?)%>/g,\n\t\t    reExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,\n\t\t    code = 'with(obj) { var r=[];\\n',\n\t\t    cursor = 0,\n\t\t    result;\n\t\tvar add = function add(line, js) {\n\t\t\tjs ? code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n' : code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '';\n\t\t\treturn add;\n\t\t};\n\t\tvar match = re.exec(html);\n\t\twhile (match) {\n\t\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\t\tcursor = match.index + match[0].length;\n\t\t\tmatch = re.exec(html);\n\t\t}\n\t\tadd(html.substr(cursor, html.length - cursor));\n\t\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\t\ttry {\n\t\t\tresult = new Function('obj', code).apply(options, [options]);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\");\n\t\t}\n\t\treturn result;\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(7);\n\t\n\tvar elementData, $element;\n\t\n\tvar suggest = {\n\t    valueField: 'id',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    render: {\n\t        item: templateItem,\n\t        option: templateOption\n\t    },\n\t    load: loadUsers\n\t};\n\t\n\tvar ajaxselect = function ajaxselect(element) {\n\t    $element = (0, _jquery2['default'])(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = _jquery2['default'].extend({}, suggest, elementData);\n\t    (0, _jquery2['default'])(element).selectize(selectizeSettings);\n\t};\n\t\n\tfunction templateItem(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div>' + name + '</div>';\n\t}\n\tfunction templateOption(item, escape) {\n\t    var name = item.name ? escape(item.name) : '';\n\t    return '<div class=\"item-float-notification\">\\n        <span><img src=\"' + item.img + '\" alt=\"' + name + '\"></span>\\n        <span>' + name + '</span>\\n        </div>';\n\t}\n\t\n\tfunction loadUsers(query, callback) {\n\t    var options = this.$wrapper.prev().data();\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        type: 'GET',\n\t        data: _data,\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res.items);\n\t        }\n\t    });\n\t}\n\t\n\texports['default'] = ajaxselect;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * selectize.js (v0.12.4)\n\t * Copyright (c) 2013–2015 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t/*jshint curly:false */\n\t/*jshint browser:true */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2),__webpack_require__(8),__webpack_require__(9)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t\t} else {\n\t\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t\t}\n\t}(this, function($, Sifter, MicroPlugin) {\n\t\t'use strict';\n\t\n\t\tvar highlight = function($element, pattern) {\n\t\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\t\n\t\t\tvar highlight = function(node) {\n\t\t\t\tvar skip = 0;\n\t\t\t\tif (node.nodeType === 3) {\n\t\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\t\tskip = 1;\n\t\t\t\t\t}\n\t\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn skip;\n\t\t\t};\n\t\t\n\t\t\treturn $element.each(function() {\n\t\t\t\thighlight(this);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * removeHighlight fn copied from highlight v5 and\n\t\t * edited to remove with() and pass js strict mode\n\t\t */\n\t\t$.fn.removeHighlight = function() {\n\t\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\t\tvar parent = this.parentNode;\n\t\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\t\tparent.normalize();\n\t\t\t}).end();\n\t\t};\n\t\t\n\t\t\n\t\tvar MicroEvent = function() {};\n\t\tMicroEvent.prototype = {\n\t\t\ton: function(event, fct){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\t\tthis._events[event].push(fct);\n\t\t\t},\n\t\t\toff: function(event, fct){\n\t\t\t\tvar n = arguments.length;\n\t\t\t\tif (n === 0) return delete this._events;\n\t\t\t\tif (n === 1) return delete this._events[event];\n\t\t\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t\t},\n\t\t\ttrigger: function(event /* , args... */){\n\t\t\t\tthis._events = this._events || {};\n\t\t\t\tif (event in this._events === false) return;\n\t\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t\t *\n\t\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t\t *\n\t\t * @param {object} the object which will support MicroEvent\n\t\t */\n\t\tMicroEvent.mixin = function(destObject){\n\t\t\tvar props = ['on', 'off', 'trigger'];\n\t\t\tfor (var i = 0; i < props.length; i++){\n\t\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\t\n\t\tvar KEY_A         = 65;\n\t\tvar KEY_COMMA     = 188;\n\t\tvar KEY_RETURN    = 13;\n\t\tvar KEY_ESC       = 27;\n\t\tvar KEY_LEFT      = 37;\n\t\tvar KEY_UP        = 38;\n\t\tvar KEY_P         = 80;\n\t\tvar KEY_RIGHT     = 39;\n\t\tvar KEY_DOWN      = 40;\n\t\tvar KEY_N         = 78;\n\t\tvar KEY_BACKSPACE = 8;\n\t\tvar KEY_DELETE    = 46;\n\t\tvar KEY_SHIFT     = 16;\n\t\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\t\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\t\tvar KEY_TAB       = 9;\n\t\t\n\t\tvar TAG_SELECT    = 1;\n\t\tvar TAG_INPUT     = 2;\n\t\t\n\t\t// for now, android support in general is too spotty to support validity\n\t\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\t\n\t\t\n\t\tvar isset = function(object) {\n\t\t\treturn typeof object !== 'undefined';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Converts a scalar to its best string representation\n\t\t * for hash keys and HTML attribute values.\n\t\t *\n\t\t * Transformations:\n\t\t *   'str'     -> 'str'\n\t\t *   null      -> ''\n\t\t *   undefined -> ''\n\t\t *   true      -> '1'\n\t\t *   false     -> '0'\n\t\t *   0         -> '0'\n\t\t *   1         -> '1'\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {string|null}\n\t\t */\n\t\tvar hash_key = function(value) {\n\t\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\t\treturn value + '';\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes a string for use within HTML.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_html = function(str) {\n\t\t\treturn (str + '')\n\t\t\t\t.replace(/&/g, '&amp;')\n\t\t\t\t.replace(/</g, '&lt;')\n\t\t\t\t.replace(/>/g, '&gt;')\n\t\t\t\t.replace(/\"/g, '&quot;');\n\t\t};\n\t\t\n\t\t/**\n\t\t * Escapes \"$\" characters in replacement strings.\n\t\t *\n\t\t * @param {string} str\n\t\t * @returns {string}\n\t\t */\n\t\tvar escape_replace = function(str) {\n\t\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t\t};\n\t\t\n\t\tvar hook = {};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked before the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.before = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `method` on `self` so that `fn`\n\t\t * is invoked after the original method.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {string} method\n\t\t * @param {function} fn\n\t\t */\n\t\thook.after = function(self, method, fn) {\n\t\t\tvar original = self[method];\n\t\t\tself[method] = function() {\n\t\t\t\tvar result = original.apply(self, arguments);\n\t\t\t\tfn.apply(self, arguments);\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be invoked once.\n\t\t *\n\t\t * @param {function} fn\n\t\t * @returns {function}\n\t\t */\n\t\tvar once = function(fn) {\n\t\t\tvar called = false;\n\t\t\treturn function() {\n\t\t\t\tif (called) return;\n\t\t\t\tcalled = true;\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Wraps `fn` so that it can only be called once\n\t\t * every `delay` milliseconds (invoked on the falling edge).\n\t\t *\n\t\t * @param {function} fn\n\t\t * @param {int} delay\n\t\t * @returns {function}\n\t\t */\n\t\tvar debounce = function(fn, delay) {\n\t\t\tvar timeout;\n\t\t\treturn function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\twindow.clearTimeout(timeout);\n\t\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\t\tfn.apply(self, args);\n\t\t\t\t}, delay);\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t * Debounce all fired events types listed in `types`\n\t\t * while executing the provided `fn`.\n\t\t *\n\t\t * @param {object} self\n\t\t * @param {array} types\n\t\t * @param {function} fn\n\t\t */\n\t\tvar debounce_events = function(self, types, fn) {\n\t\t\tvar type;\n\t\t\tvar trigger = self.trigger;\n\t\t\tvar event_args = {};\n\t\t\n\t\t\t// override trigger method\n\t\t\tself.trigger = function() {\n\t\t\t\tvar type = arguments[0];\n\t\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\t\tevent_args[type] = arguments;\n\t\t\t\t} else {\n\t\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t// invoke provided function\n\t\t\tfn.apply(self, []);\n\t\t\tself.trigger = trigger;\n\t\t\n\t\t\t// trigger queued events\n\t\t\tfor (type in event_args) {\n\t\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t/**\n\t\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t\t *\n\t\t * @param {object} $parent - Parent element to listen on.\n\t\t * @param {string} event - Event name.\n\t\t * @param {string} selector - Descendant selector to filter by.\n\t\t * @param {function} fn - Event handler.\n\t\t */\n\t\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t\t$parent.on(event, selector, function(e) {\n\t\t\t\tvar child = e.target;\n\t\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\t\tchild = child.parentNode;\n\t\t\t\t}\n\t\t\t\te.currentTarget = child;\n\t\t\t\treturn fn.apply(this, [e]);\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t * Determines the current selection within a text input control.\n\t\t * Returns an object containing:\n\t\t *   - start\n\t\t *   - length\n\t\t *\n\t\t * @param {object} input\n\t\t * @returns {object}\n\t\t */\n\t\tvar getSelection = function(input) {\n\t\t\tvar result = {};\n\t\t\tif ('selectionStart' in input) {\n\t\t\t\tresult.start = input.selectionStart;\n\t\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t\t} else if (document.selection) {\n\t\t\t\tinput.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\t\tresult.start = sel.text.length - selLen;\n\t\t\t\tresult.length = selLen;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Copies CSS properties from one element to another.\n\t\t *\n\t\t * @param {object} $from\n\t\t * @param {object} $to\n\t\t * @param {array} properties\n\t\t */\n\t\tvar transferStyles = function($from, $to, properties) {\n\t\t\tvar i, n, styles = {};\n\t\t\tif (properties) {\n\t\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstyles = $from.css();\n\t\t\t}\n\t\t\t$to.css(styles);\n\t\t};\n\t\t\n\t\t/**\n\t\t * Measures the width of a string within a\n\t\t * parent element (in pixels).\n\t\t *\n\t\t * @param {string} str\n\t\t * @param {object} $parent\n\t\t * @returns {int}\n\t\t */\n\t\tvar measureString = function(str, $parent) {\n\t\t\tif (!str) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\n\t\t\tvar $test = $('<test>').css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: -99999,\n\t\t\t\tleft: -99999,\n\t\t\t\twidth: 'auto',\n\t\t\t\tpadding: 0,\n\t\t\t\twhiteSpace: 'pre'\n\t\t\t}).text(str).appendTo('body');\n\t\t\n\t\t\ttransferStyles($parent, $test, [\n\t\t\t\t'letterSpacing',\n\t\t\t\t'fontSize',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontWeight',\n\t\t\t\t'textTransform'\n\t\t\t]);\n\t\t\n\t\t\tvar width = $test.width();\n\t\t\t$test.remove();\n\t\t\n\t\t\treturn width;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Sets up an input to grow horizontally as the user\n\t\t * types. If the value is changed manually, you can\n\t\t * trigger the \"update\" handler to resize:\n\t\t *\n\t\t * $input.trigger('update');\n\t\t *\n\t\t * @param {object} $input\n\t\t */\n\t\tvar autoGrow = function($input) {\n\t\t\tvar currentWidth = null;\n\t\t\n\t\t\tvar update = function(e, options) {\n\t\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\t\tvar shift, character, selection;\n\t\t\t\te = e || window.event || {};\n\t\t\t\toptions = options || {};\n\t\t\n\t\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\t\n\t\t\t\tvalue = $input.val();\n\t\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\t\tprintable = (\n\t\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t\t);\n\t\t\n\t\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (printable) {\n\t\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\t\tvalue += character;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\t\tif (!value && placeholder) {\n\t\t\t\t\tvalue = placeholder;\n\t\t\t\t}\n\t\t\n\t\t\t\twidth = measureString(value, $input) + 4;\n\t\t\t\tif (width !== currentWidth) {\n\t\t\t\t\tcurrentWidth = width;\n\t\t\t\t\t$input.width(width);\n\t\t\t\t\t$input.triggerHandler('resize');\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t$input.on('keydown keyup update blur', update);\n\t\t\tupdate();\n\t\t};\n\t\t\n\t\tvar domToString = function(d) {\n\t\t\tvar tmp = document.createElement('div');\n\t\t\n\t\t\ttmp.appendChild(d.cloneNode(true));\n\t\t\n\t\t\treturn tmp.innerHTML;\n\t\t};\n\t\t\n\t\tvar logError = function(message, options){\n\t\t\tif(!options) options = {};\n\t\t\tvar component = \"Selectize\";\n\t\t\n\t\t\tconsole.error(component + \": \" + message)\n\t\t\n\t\t\tif(options.explanation){\n\t\t\t\t// console.group is undefined in <IE11\n\t\t\t\tif(console.group) console.group();\n\t\t\t\tconsole.error(options.explanation);\n\t\t\t\tif(console.group) console.groupEnd();\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tvar Selectize = function($input, settings) {\n\t\t\tvar key, i, n, dir, input, self = this;\n\t\t\tinput = $input[0];\n\t\t\tinput.selectize = self;\n\t\t\n\t\t\t// detect rtl environment\n\t\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\t\n\t\t\t// setup default state\n\t\t\t$.extend(self, {\n\t\t\t\torder            : 0,\n\t\t\t\tsettings         : settings,\n\t\t\t\t$input           : $input,\n\t\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\t\trtl              : /rtl/i.test(dir),\n\t\t\n\t\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\t\thighlightedValue : null,\n\t\t\t\tisOpen           : false,\n\t\t\t\tisDisabled       : false,\n\t\t\t\tisRequired       : $input.is('[required]'),\n\t\t\t\tisInvalid        : false,\n\t\t\t\tisLocked         : false,\n\t\t\t\tisFocused        : false,\n\t\t\t\tisInputHidden    : false,\n\t\t\t\tisSetup          : false,\n\t\t\t\tisShiftDown      : false,\n\t\t\t\tisCmdDown        : false,\n\t\t\t\tisCtrlDown       : false,\n\t\t\t\tignoreFocus      : false,\n\t\t\t\tignoreBlur       : false,\n\t\t\t\tignoreHover      : false,\n\t\t\t\thasOptions       : false,\n\t\t\t\tcurrentResults   : null,\n\t\t\t\tlastValue        : '',\n\t\t\t\tcaretPos         : 0,\n\t\t\t\tloading          : 0,\n\t\t\t\tloadedSearches   : {},\n\t\t\n\t\t\t\t$activeOption    : null,\n\t\t\t\t$activeItems     : [],\n\t\t\n\t\t\t\toptgroups        : {},\n\t\t\t\toptions          : {},\n\t\t\t\tuserOptions      : {},\n\t\t\t\titems            : [],\n\t\t\t\trenderCache      : {},\n\t\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t\t});\n\t\t\n\t\t\t// search system\n\t\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\t\n\t\t\t// build options table\n\t\t\tif (self.settings.options) {\n\t\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.options;\n\t\t\t}\n\t\t\n\t\t\t// build optgroup table\n\t\t\tif (self.settings.optgroups) {\n\t\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t\t}\n\t\t\t\tdelete self.settings.optgroups;\n\t\t\t}\n\t\t\n\t\t\t// option-dependent defaults\n\t\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t\t}\n\t\t\n\t\t\tself.initializePlugins(self.settings.plugins);\n\t\t\tself.setupCallbacks();\n\t\t\tself.setupTemplates();\n\t\t\tself.setup();\n\t\t};\n\t\t\n\t\t// mixins\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\tMicroEvent.mixin(Selectize);\n\t\t\n\t\tif(typeof MicroPlugin !== \"undefined\"){\n\t\t\tMicroPlugin.mixin(Selectize);\n\t\t}else{\n\t\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t\t{explanation:\n\t\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\t\"load Selectize.\"}\n\t\t\t);\n\t\t}\n\t\t\n\t\t\n\t\t// methods\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\t\n\t\t$.extend(Selectize.prototype, {\n\t\t\n\t\t\t/**\n\t\t\t * Creates all elements and sets up event bindings.\n\t\t\t */\n\t\t\tsetup: function() {\n\t\t\t\tvar self      = this;\n\t\t\t\tvar settings  = self.settings;\n\t\t\t\tvar eventNS   = self.eventNS;\n\t\t\t\tvar $window   = $(window);\n\t\t\t\tvar $document = $(document);\n\t\t\t\tvar $input    = self.$input;\n\t\t\n\t\t\t\tvar $wrapper;\n\t\t\t\tvar $control;\n\t\t\t\tvar $control_input;\n\t\t\t\tvar $dropdown;\n\t\t\t\tvar $dropdown_content;\n\t\t\t\tvar $dropdown_parent;\n\t\t\t\tvar inputMode;\n\t\t\t\tvar timeout_blur;\n\t\t\t\tvar timeout_focus;\n\t\t\t\tvar classes;\n\t\t\t\tvar classes_plugins;\n\t\t\t\tvar inputId;\n\t\t\n\t\t\t\tinputMode         = self.settings.mode;\n\t\t\t\tclasses           = $input.attr('class') || '';\n\t\t\n\t\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\t\n\t\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t\t}\n\t\t\n\t\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t\t$dropdown.addClass(classes);\n\t\t\t\t}\n\t\t\n\t\t\t\t$wrapper.css({\n\t\t\t\t\twidth: $input[0].style.width\n\t\t\t\t});\n\t\t\n\t\t\t\tif (self.plugins.names.length) {\n\t\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.settings.placeholder) {\n\t\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t\t}\n\t\t\n\t\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t\t}\n\t\t\n\t\t\t\tself.$wrapper          = $wrapper;\n\t\t\t\tself.$control          = $control;\n\t\t\t\tself.$control_input    = $control_input;\n\t\t\t\tself.$dropdown         = $dropdown;\n\t\t\t\tself.$dropdown_content = $dropdown_content;\n\t\t\n\t\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\t\tautoGrow($control_input);\n\t\t\n\t\t\t\t$control.on({\n\t\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$control_input.on({\n\t\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// blur on click outside\n\t\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\t\tself.ignoreHover = false;\n\t\t\t\t});\n\t\t\n\t\t\t\t// store original children and tab index so that they can be\n\t\t\t\t// restored when the destroy() method is called.\n\t\t\t\tthis.revertSettings = {\n\t\t\t\t\t$children : $input.children().detach(),\n\t\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t\t};\n\t\t\n\t\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\t\n\t\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\t\tself.setValue(settings.items);\n\t\t\t\t\tdelete settings.items;\n\t\t\t\t}\n\t\t\n\t\t\t\t// feature detect for the validation API\n\t\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\tself.updateOriginalInput();\n\t\t\t\tself.refreshItems();\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.isSetup = true;\n\t\t\n\t\t\t\tif ($input.is(':disabled')) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\n\t\t\t\tself.on('change', this.onChange);\n\t\t\n\t\t\t\t$input.data('selectize', self);\n\t\t\t\t$input.addClass('selectized');\n\t\t\t\tself.trigger('initialize');\n\t\t\n\t\t\t\t// preload options\n\t\t\t\tif (settings.preload === true) {\n\t\t\t\t\tself.onSearchChange('');\n\t\t\t\t}\n\t\t\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets up default rendering functions.\n\t\t\t */\n\t\t\tsetupTemplates: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar field_label = self.settings.labelField;\n\t\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\t\n\t\t\t\tvar templates = {\n\t\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t\t},\n\t\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Maps fired events to callbacks provided\n\t\t\t * in the settings used when creating the control.\n\t\t\t */\n\t\t\tsetupCallbacks: function() {\n\t\t\t\tvar key, fn, callbacks = {\n\t\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t\t'change'          : 'onChange',\n\t\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t\t'type'            : 'onType',\n\t\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t\t'blur'            : 'onBlur'\n\t\t\t\t};\n\t\t\n\t\t\t\tfor (key in callbacks) {\n\t\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a click event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonClick: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t\t// is ignored unless invoked within a click event)\n\t\t\t\tif (!self.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the main control element\n\t\t\t * has a mouse down event.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tonMouseDown: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\t\tvar $target = $(e.target);\n\t\t\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// give control focus\n\t\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\tself.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the value of the control has been changed.\n\t\t\t * This should propagate the event to the original DOM\n\t\t\t * input / select element.\n\t\t\t */\n\t\t\tonChange: function() {\n\t\t\t\tthis.$input.trigger('change');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> paste.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonPaste: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t\t// input and create Items for each separate value\n\t\t\t\tif (self.settings.splitOn) {\n\t\t\n\t\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\t\n\t\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keypress.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyPress: function(e) {\n\t\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\t\tthis.createItem();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keydown.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyDown: function(e) {\n\t\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) {\n\t\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase KEY_A:\n\t\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase KEY_ESC:\n\t\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_N:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\t\tself.open();\n\t\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_P:\n\t\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\t\tcase KEY_UP:\n\t\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_TAB:\n\t\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\n\t\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> keyup.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonKeyUp: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\t\tvar value = self.$control_input.val() || '';\n\t\t\t\tif (self.lastValue !== value) {\n\t\t\t\t\tself.lastValue = value;\n\t\t\t\t\tself.onSearchChange(value);\n\t\t\t\t\tself.refreshOptions();\n\t\t\t\t\tself.trigger('type', value);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the user-provide option provider / loader.\n\t\t\t *\n\t\t\t * Note: this function is debounced in the Selectize\n\t\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tonSearchChange: function(value) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar fn = self.settings.load;\n\t\t\t\tif (!fn) return;\n\t\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\t\tself.loadedSearches[value] = true;\n\t\t\t\tself.load(function(callback) {\n\t\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> focus.\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonFocus: function(e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar wasFocused = self.isFocused;\n\t\t\n\t\t\t\tif (self.isDisabled) {\n\t\t\t\t\tself.blur();\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.ignoreFocus) return;\n\t\t\t\tself.isFocused = true;\n\t\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\t\n\t\t\t\tif (!wasFocused) self.trigger('focus');\n\t\t\n\t\t\t\tif (!self.$activeItems.length) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t\t}\n\t\t\n\t\t\t\tself.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered on <input> blur.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tonBlur: function(e, dest) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.isFocused) return;\n\t\t\t\tself.isFocused = false;\n\t\t\n\t\t\t\tif (self.ignoreFocus) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\t\tself.ignoreBlur = true;\n\t\t\t\t\tself.onFocus(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar deactivate = function() {\n\t\t\t\t\tself.close();\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\t\tdest && dest.focus && dest.focus();\n\t\t\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.trigger('blur');\n\t\t\t\t};\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t\t} else {\n\t\t\t\t\tdeactivate();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user rolls over\n\t\t\t * an option in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionHover: function(e) {\n\t\t\t\tif (this.ignoreHover) return;\n\t\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an option\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonOptionSelect: function(e) {\n\t\t\t\tvar value, $target, $option, self = this;\n\t\t\n\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\n\t\t\t\t$target = $(e.currentTarget);\n\t\t\t\tif ($target.hasClass('create')) {\n\t\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\t\tself.addItem(value);\n\t\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Triggered when the user clicks on an item\n\t\t\t * that has been selected.\n\t\t\t *\n\t\t\t * @param {object} e\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tonItemSelect: function(e) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked) return;\n\t\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the provided method that provides\n\t\t\t * results to a callback---which are then added\n\t\t\t * as options to the control.\n\t\t\t *\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tload: function(fn) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\t\n\t\t\t\tself.loading++;\n\t\t\t\tfn.apply(self, [function(results) {\n\t\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\t\tif (results && results.length) {\n\t\t\t\t\t\tself.addOption(results);\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t\t}\n\t\t\t\t\tif (!self.loading) {\n\t\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t\t}\n\t\t\t\t\tself.trigger('load', results);\n\t\t\t\t}]);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the input field of the control to the specified value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tsetTextboxValue: function(value) {\n\t\t\t\tvar $input = this.$control_input;\n\t\t\t\tvar changed = $input.val() !== value;\n\t\t\t\tif (changed) {\n\t\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\t\tthis.lastValue = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the value of the control. If multiple items\n\t\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t\t * an array. If only one item can be selected, this\n\t\t\t * returns a string.\n\t\t\t *\n\t\t\t * @returns {mixed}\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\t\treturn this.items;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets the selected items to the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t */\n\t\t\tsetValue: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tthis.clear(silent);\n\t\t\t\t\tthis.addItems(value, silent);\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item.\n\t\t\t *\n\t\t\t * @param {object} $item\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tsetActiveItem: function($item, e) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventName;\n\t\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\t\tvar $last;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t\t$item = $($item);\n\t\t\n\t\t\t\t// clear the active selection\n\t\t\t\tif (!$item.length) {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [];\n\t\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t\tself.showInput();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\t// modify selection\n\t\t\t\teventName = e && e.type.toLowerCase();\n\t\t\n\t\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\t\tif (begin > end) {\n\t\t\t\t\t\tswap  = begin;\n\t\t\t\t\t\tbegin = end;\n\t\t\t\t\t\tend   = swap;\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t\t}\n\t\t\n\t\t\t\t// ensure control has focus\n\t\t\t\tself.hideInput();\n\t\t\t\tif (!this.isFocused) {\n\t\t\t\t\tself.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Sets the selected item in the dropdown menu\n\t\t\t * of available options.\n\t\t\t *\n\t\t\t * @param {object} $object\n\t\t\t * @param {boolean} scroll\n\t\t\t * @param {boolean} animate\n\t\t\t */\n\t\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\t\tvar height_menu, height_item, y;\n\t\t\t\tvar scroll_top, scroll_bottom;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\t\tself.$activeOption = null;\n\t\t\n\t\t\t\t$option = $($option);\n\t\t\t\tif (!$option.length) return;\n\t\t\n\t\t\t\tself.$activeOption = $option.addClass('active');\n\t\t\n\t\t\t\tif (scroll || !isset(scroll)) {\n\t\t\n\t\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\t\tscroll_top    = y;\n\t\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\t\n\t\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects all items (CTRL + A).\n\t\t\t */\n\t\t\tselectAll: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.settings.mode === 'single') return;\n\t\t\n\t\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t\tself.focus();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Hides the input element out of view, while\n\t\t\t * retaining its focus.\n\t\t\t */\n\t\t\thideInput: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\t\tself.isInputHidden = true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Restores input visibility.\n\t\t\t */\n\t\t\tshowInput: function() {\n\t\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\t\tthis.isInputHidden = false;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Gives the control focus.\n\t\t\t */\n\t\t\tfocus: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.isDisabled) return;\n\t\t\n\t\t\t\tself.ignoreFocus = true;\n\t\t\t\tself.$control_input[0].focus();\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tself.ignoreFocus = false;\n\t\t\t\t\tself.onFocus();\n\t\t\t\t}, 0);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Forces the control out of focus.\n\t\t\t *\n\t\t\t * @param {Element} dest\n\t\t\t */\n\t\t\tblur: function(dest) {\n\t\t\t\tthis.$control_input[0].blur();\n\t\t\t\tthis.onBlur(null, dest);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns a function that scores an object\n\t\t\t * to show how good of a match it is to the\n\t\t\t * provided query.\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @param {object} options\n\t\t\t * @return {function}\n\t\t\t */\n\t\t\tgetScoreFunction: function(query) {\n\t\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns search options for sifter (the system\n\t\t\t * for scoring and sorting results).\n\t\t\t *\n\t\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetSearchOptions: function() {\n\t\t\t\tvar settings = this.settings;\n\t\t\t\tvar sort = settings.sortField;\n\t\t\t\tif (typeof sort === 'string') {\n\t\t\t\t\tsort = [{field: sort}];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\tfields      : settings.searchField,\n\t\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\t\tsort        : sort\n\t\t\t\t};\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Searches through available options and returns\n\t\t\t * a sorted array of matches.\n\t\t\t *\n\t\t\t * Returns an object containing:\n\t\t\t *\n\t\t\t *   - query {string}\n\t\t\t *   - tokens {array}\n\t\t\t *   - total {int}\n\t\t\t *   - items {array}\n\t\t\t *\n\t\t\t * @param {string} query\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tsearch: function(query) {\n\t\t\t\tvar i, value, score, result, calculateScore;\n\t\t\t\tvar self     = this;\n\t\t\t\tvar settings = self.settings;\n\t\t\t\tvar options  = this.getSearchOptions();\n\t\t\n\t\t\t\t// validate user-provided result scoring function\n\t\t\t\tif (settings.score) {\n\t\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform search\n\t\t\t\tif (query !== self.lastQuery) {\n\t\t\t\t\tself.lastQuery = query;\n\t\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\t\tself.currentResults = result;\n\t\t\t\t} else {\n\t\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t\t}\n\t\t\n\t\t\t\t// filter out selected items\n\t\t\t\tif (settings.hideSelected) {\n\t\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the list of available options shown\n\t\t\t * in the autocomplete dropdown menu.\n\t\t\t *\n\t\t\t * @param {boolean} triggerDropdown\n\t\t\t */\n\t\t\trefreshOptions: function(triggerDropdown) {\n\t\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\t\tvar $active, $active_before, $create;\n\t\t\n\t\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tvar self              = this;\n\t\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\t\tvar results           = self.search(query);\n\t\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\t\n\t\t\t\t// build markup\n\t\t\t\tn = results.items.length;\n\t\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t\t}\n\t\t\n\t\t\t\t// render and group available options individually\n\t\t\t\tgroups = {};\n\t\t\t\tgroups_order = [];\n\t\t\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\t\toption_html = self.render('option', option);\n\t\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\t\n\t\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// sort optgroups\n\t\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\n\t\t\t\t// render optgroup headers & join groups\n\t\t\t\thtml = document.createDocumentFragment();\n\t\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\t\toptgroup = groups_order[i];\n\t\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\t\n\t\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t\t})));\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t$dropdown_content.html(html);\n\t\t\n\t\t\t\t// highlight matching terms inline\n\t\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add \"selected\" class to selected options\n\t\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// add create option\n\t\t\t\thas_create_option = self.canCreate(query);\n\t\t\t\tif (has_create_option) {\n\t\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t\t}\n\t\t\n\t\t\t\t// activate\n\t\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\t\tif (self.hasOptions) {\n\t\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$active = $create;\n\t\t\t\t\t}\n\t\t\t\t\tself.setActiveOption($active);\n\t\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t\t} else {\n\t\t\t\t\tself.setActiveOption(null);\n\t\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Adds an available option. If it already exists,\n\t\t\t * nothing will happen. Note: this does not refresh\n\t\t\t * the options list dropdown (use `refreshOptions`\n\t\t\t * for that).\n\t\t\t *\n\t\t\t * Usage:\n\t\t\t *\n\t\t\t *   this.addOption(data)\n\t\t\t *\n\t\t\t * @param {object|array} data\n\t\t\t */\n\t\t\taddOption: function(data) {\n\t\t\t\tvar i, n, value, self = this;\n\t\t\n\t\t\t\tif ($.isArray(data)) {\n\t\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\t\tself.userOptions[value] = true;\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option to the pool of options.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOption: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.options[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers an option group to the pool of option groups.\n\t\t\t *\n\t\t\t * @param {object} data\n\t\t\t * @return {boolean|string}\n\t\t\t */\n\t\t\tregisterOptionGroup: function(data) {\n\t\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\t\tif (!key) return false;\n\t\t\n\t\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\t\tthis.optgroups[key] = data;\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Registers a new optgroup for options\n\t\t\t * to be bucketed into.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\taddOptionGroup: function(id, data) {\n\t\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes an existing option group.\n\t\t\t *\n\t\t\t * @param {string} id\n\t\t\t */\n\t\t\tremoveOptionGroup: function(id) {\n\t\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\t\tdelete this.optgroups[id];\n\t\t\t\t\tthis.renderCache = {};\n\t\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all existing option groups.\n\t\t\t */\n\t\t\tclearOptionGroups: function() {\n\t\t\t\tthis.optgroups = {};\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates an option available for selection. If\n\t\t\t * it is visible in the selected items or options\n\t\t\t * dropdown, it will be re-rendered automatically.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {object} data\n\t\t\t */\n\t\t\tupdateOption: function(value, data) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, $item_new;\n\t\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\t\n\t\t\t\tvalue     = hash_key(value);\n\t\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\t\n\t\t\t\t// sanity checks\n\t\t\t\tif (value === null) return;\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\t\n\t\t\t\torder_old = self.options[value].$order;\n\t\t\n\t\t\t\t// update references\n\t\t\t\tif (value_new !== value) {\n\t\t\t\t\tdelete self.options[value];\n\t\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.$order = data.$order || order_old;\n\t\t\t\tself.options[value_new] = data;\n\t\t\n\t\t\t\t// invalidate render cache\n\t\t\t\tcache_items = self.renderCache['item'];\n\t\t\t\tcache_options = self.renderCache['option'];\n\t\t\n\t\t\t\tif (cache_items) {\n\t\t\t\t\tdelete cache_items[value];\n\t\t\t\t\tdelete cache_items[value_new];\n\t\t\t\t}\n\t\t\t\tif (cache_options) {\n\t\t\t\t\tdelete cache_options[value];\n\t\t\t\t\tdelete cache_options[value_new];\n\t\t\t\t}\n\t\t\n\t\t\t\t// update the item if it's selected\n\t\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t\t$item = self.getItem(value);\n\t\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t\t$item.replaceWith($item_new);\n\t\t\t\t}\n\t\t\n\t\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\t\tself.lastQuery = null;\n\t\t\n\t\t\t\t// update dropdown contents\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.refreshOptions(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes a single option.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tremoveOption: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\t\tif (cache_items) delete cache_items[value];\n\t\t\t\tif (cache_options) delete cache_options[value];\n\t\t\n\t\t\t\tdelete self.userOptions[value];\n\t\t\t\tdelete self.options[value];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_remove', value);\n\t\t\t\tself.removeItem(value, silent);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears all options.\n\t\t\t */\n\t\t\tclearOptions: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.loadedSearches = {};\n\t\t\t\tself.userOptions = {};\n\t\t\t\tself.renderCache = {};\n\t\t\t\tself.options = self.sifter.items = {};\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_clear');\n\t\t\t\tself.clear();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the option\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetOption: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the next or\n\t\t\t * previous selectable option.\n\t\t\t *\n\t\t\t * @param {object} $option\n\t\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetAdjacentOption: function($option, direction) {\n\t\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Finds the first element with a \"data-value\" attribute\n\t\t\t * that matches the given value.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} $els\n\t\t\t * @return {object}\n\t\t\t */\n\t\t\tgetElementWithValue: function(value, $els) {\n\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn $();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Returns the jQuery element of the item\n\t\t\t * matching the given value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @returns {object}\n\t\t\t */\n\t\t\tgetItem: function(value) {\n\t\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItems: function(values, silent) {\n\t\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * \"Selects\" an item. Adds it to the list\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\taddItem: function(value, silent) {\n\t\t\t\tvar events = silent ? [] : ['change'];\n\t\t\n\t\t\t\tdebounce_events(this, events, function() {\n\t\t\t\t\tvar $item, $option, $options;\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\t\tvalue = hash_key(value);\n\t\t\n\t\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\t\n\t\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\t\twasFull = self.isFull();\n\t\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\t\tself.insertAtCaret($item);\n\t\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\t\tself.refreshState();\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\t\n\t\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the selected item matching\n\t\t\t * the provided value.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t */\n\t\t\tremoveItem: function(value, silent) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar $item, i, idx;\n\t\t\n\t\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\t\ti = self.items.indexOf(value);\n\t\t\n\t\t\t\tif (i !== -1) {\n\t\t\t\t\t$item.remove();\n\t\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.items.splice(i, 1);\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tself.refreshState();\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Invokes the `create` method provided in the\n\t\t\t * selectize options that should provide the data\n\t\t\t * for the new item, given the user input.\n\t\t\t *\n\t\t\t * Once this completes, it will be added\n\t\t\t * to the item list.\n\t\t\t *\n\t\t\t * @param {string} value\n\t\t\t * @param {boolean} [triggerDropdown]\n\t\t\t * @param {function} [callback]\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\t\tvar self  = this;\n\t\t\t\tvar caret = self.caretPos;\n\t\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\t\n\t\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\t\n\t\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\t\ttriggerDropdown = true;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!self.canCreate(input)) {\n\t\t\t\t\tcallback();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\tself.lock();\n\t\t\n\t\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar create = once(function(data) {\n\t\t\t\t\tself.unlock();\n\t\t\n\t\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tif (typeof value !== 'string') return callback();\n\t\t\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addOption(data);\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\t\tcallback(data);\n\t\t\t\t});\n\t\t\n\t\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\t\tcreate(output);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-renders the selected item lists.\n\t\t\t */\n\t\t\trefreshItems: function() {\n\t\t\t\tthis.lastQuery = null;\n\t\t\n\t\t\t\tif (this.isSetup) {\n\t\t\t\t\tthis.addItem(this.items);\n\t\t\t\t}\n\t\t\n\t\t\t\tthis.refreshState();\n\t\t\t\tthis.updateOriginalInput();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent attributes\n\t\t\t * and CSS classes.\n\t\t\t */\n\t\t\trefreshState: function() {\n\t\t\t\tthis.refreshValidityState();\n\t\t\t\tthis.refreshClasses();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Update the `required` attribute of both input and control input.\n\t\t\t *\n\t\t\t * The `required` property needs to be activated on the control input\n\t\t\t * for the error to be displayed at the right place. `required` also\n\t\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t\t * hidden and can't show errors.\n\t\t\t */\n\t\t\trefreshValidityState: function() {\n\t\t\t\tif (!this.isRequired) return false;\n\t\t\n\t\t\t\tvar invalid = !this.items.length;\n\t\t\n\t\t\t\tthis.isInvalid = invalid;\n\t\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\t\tthis.$input.prop('required', !invalid);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Updates all state-dependent CSS classes.\n\t\t\t */\n\t\t\trefreshClasses: function() {\n\t\t\t\tvar self     = this;\n\t\t\t\tvar isFull   = self.isFull();\n\t\t\t\tvar isLocked = self.isLocked;\n\t\t\n\t\t\t\tself.$wrapper\n\t\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\t\n\t\t\t\tself.$control\n\t\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\t\n\t\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not more items can be added\n\t\t\t * to the control without exceeding the user-defined maximum.\n\t\t\t *\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisFull: function() {\n\t\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Refreshes the original <select> or <input>\n\t\t\t * element to reflect the current state.\n\t\t\t */\n\t\t\tupdateOriginalInput: function(opts) {\n\t\t\t\tvar i, n, options, label, self = this;\n\t\t\t\topts = opts || {};\n\t\t\n\t\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\t\toptions = [];\n\t\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t\t}\n\t\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t\t}\n\t\t\t\t\tself.$input.html(options.join(''));\n\t\t\t\t} else {\n\t\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t\t}\n\t\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\tif (!opts.silent) {\n\t\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows/hide the input placeholder depending\n\t\t\t * on if there items in the list already.\n\t\t\t */\n\t\t\tupdatePlaceholder: function() {\n\t\t\t\tif (!this.settings.placeholder) return;\n\t\t\t\tvar $input = this.$control_input;\n\t\t\n\t\t\t\tif (this.items.length) {\n\t\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t\t} else {\n\t\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t\t}\n\t\t\t\t$input.triggerHandler('update', {force: true});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Shows the autocomplete dropdown containing\n\t\t\t * the available options.\n\t\t\t */\n\t\t\topen: function() {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\t\tself.focus();\n\t\t\t\tself.isOpen = true;\n\t\t\t\tself.refreshState();\n\t\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Closes the autocomplete dropdown menu.\n\t\t\t */\n\t\t\tclose: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar trigger = self.isOpen;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t\t}\n\t\t\n\t\t\t\tself.isOpen = false;\n\t\t\t\tself.$dropdown.hide();\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.refreshState();\n\t\t\n\t\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Calculates and applies the appropriate\n\t\t\t * position of the dropdown.\n\t\t\t */\n\t\t\tpositionDropdown: function() {\n\t\t\t\tvar $control = this.$control;\n\t\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\t\toffset.top += $control.outerHeight(true);\n\t\t\n\t\t\t\tthis.$dropdown.css({\n\t\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\t\ttop   : offset.top,\n\t\t\t\t\tleft  : offset.left\n\t\t\t\t});\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Resets / clears all selected items\n\t\t\t * from the control.\n\t\t\t *\n\t\t\t * @param {boolean} silent\n\t\t\t */\n\t\t\tclear: function(silent) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (!self.items.length) return;\n\t\t\t\tself.$control.children(':not(input)').remove();\n\t\t\t\tself.items = [];\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.setCaret(0);\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.refreshState();\n\t\t\t\tself.showInput();\n\t\t\t\tself.trigger('clear');\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for inserting an element\n\t\t\t * at the current caret position.\n\t\t\t *\n\t\t\t * @param {object} $el\n\t\t\t */\n\t\t\tinsertAtCaret: function($el) {\n\t\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\t\tif (caret === 0) {\n\t\t\t\t\tthis.$control.prepend($el);\n\t\t\t\t} else {\n\t\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t\t}\n\t\t\t\tthis.setCaret(caret + 1);\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Removes the current selected item(s).\n\t\t\t *\n\t\t\t * @param {object} e (optional)\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tdeleteSelection: function(e) {\n\t\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t\t}\n\t\t\n\t\t\t\t// determine items that will be removed\n\t\t\t\tvalues = [];\n\t\t\n\t\t\t\tif (self.$activeItems.length) {\n\t\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tif (direction > 0) { caret++; }\n\t\t\n\t\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t\t}\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// allow the callback to abort\n\t\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\n\t\t\t\t// perform removal\n\t\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\t\tself.setCaret(caret);\n\t\t\t\t}\n\t\t\t\twhile (values.length) {\n\t\t\t\t\tself.removeItem(values.pop());\n\t\t\t\t}\n\t\t\n\t\t\t\tself.showInput();\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.refreshOptions(true);\n\t\t\n\t\t\t\t// select previous option\n\t\t\t\tif (option_select) {\n\t\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\t\tif ($option_select.length) {\n\t\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Selects the previous / next item (depending\n\t\t\t * on the `direction` argument).\n\t\t\t *\n\t\t\t * > 0 - right\n\t\t\t * < 0 - left\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceSelection: function(direction, e) {\n\t\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\t\tif (self.rtl) direction *= -1;\n\t\t\n\t\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\t\tselection = getSelection(self.$control_input[0]);\n\t\t\n\t\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t\t: selection.start === valueLength;\n\t\t\n\t\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\t\tif ($tail.length) {\n\t\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret left / right.\n\t\t\t *\n\t\t\t * @param {int} direction\n\t\t\t * @param {object} e (optional)\n\t\t\t */\n\t\t\tadvanceCaret: function(direction, e) {\n\t\t\t\tvar self = this, fn, $adj;\n\t\t\n\t\t\t\tif (direction === 0) return;\n\t\t\n\t\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\t\tif (self.isShiftDown) {\n\t\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\t\tif ($adj.length) {\n\t\t\t\t\t\tself.hideInput();\n\t\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\t\te && e.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Moves the caret to the specified index.\n\t\t\t *\n\t\t\t * @param {int} i\n\t\t\t */\n\t\t\tsetCaret: function(i) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\ti = self.items.length;\n\t\t\t\t} else {\n\t\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t\t}\n\t\t\n\t\t\t\tif(!self.isPending) {\n\t\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t\t// on mobile webkit devices\n\t\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tself.caretPos = i;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control. Used while\n\t\t\t * items are being asynchronously created.\n\t\t\t */\n\t\t\tlock: function() {\n\t\t\t\tthis.close();\n\t\t\t\tthis.isLocked = true;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Re-enables user input on the control.\n\t\t\t */\n\t\t\tunlock: function() {\n\t\t\t\tthis.isLocked = false;\n\t\t\t\tthis.refreshState();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Disables user input on the control completely.\n\t\t\t * While disabled, it cannot receive focus.\n\t\t\t */\n\t\t\tdisable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', true);\n\t\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\t\tself.isDisabled = true;\n\t\t\t\tself.lock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Enables the control so that it can respond\n\t\t\t * to focus and user input.\n\t\t\t */\n\t\t\tenable: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.$input.prop('disabled', false);\n\t\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\t\tself.isDisabled = false;\n\t\t\t\tself.unlock();\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Completely destroys the control and\n\t\t\t * unbinds all event listeners so that it can\n\t\t\t * be garbage collected.\n\t\t\t */\n\t\t\tdestroy: function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar eventNS = self.eventNS;\n\t\t\t\tvar revertSettings = self.revertSettings;\n\t\t\n\t\t\t\tself.trigger('destroy');\n\t\t\t\tself.off();\n\t\t\t\tself.$wrapper.remove();\n\t\t\t\tself.$dropdown.remove();\n\t\t\n\t\t\t\tself.$input\n\t\t\t\t\t.html('')\n\t\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t\t.removeClass('selectized')\n\t\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t\t.show();\n\t\t\n\t\t\t\tself.$control_input.removeData('grow');\n\t\t\t\tself.$input.removeData('selectize');\n\t\t\n\t\t\t\t$(window).off(eventNS);\n\t\t\t\t$(document).off(eventNS);\n\t\t\t\t$(document.body).off(eventNS);\n\t\t\n\t\t\t\tdelete self.$input[0].selectize;\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * A helper method for rendering \"item\" and\n\t\t\t * \"option\" templates, given the data.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t * @param {object} data\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\trender: function(templateName, data) {\n\t\t\t\tvar value, id, label;\n\t\t\t\tvar html = '';\n\t\t\t\tvar cache = false;\n\t\t\t\tvar self = this;\n\t\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\t\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\t\tcache = !!value;\n\t\t\t\t}\n\t\t\n\t\t\t\t// pull markup from cache if it exists\n\t\t\t\tif (cache) {\n\t\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t// render markup\n\t\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\t\n\t\t\t\t// add mandatory attributes\n\t\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t\t}\n\t\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\t\thtml.attr('data-group', id);\n\t\t\t\t}\n\t\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t\t}\n\t\t\n\t\t\t\t// update cache\n\t\t\t\tif (cache) {\n\t\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn html[0];\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Clears the render cache for a template. If\n\t\t\t * no template is given, clears all render\n\t\t\t * caches.\n\t\t\t *\n\t\t\t * @param {string} templateName\n\t\t\t */\n\t\t\tclearCache: function(templateName) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\t\tself.renderCache = {};\n\t\t\t\t} else {\n\t\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * Determines whether or not to display the\n\t\t\t * create item prompt, given a user input.\n\t\t\t *\n\t\t\t * @param {string} input\n\t\t\t * @return {boolean}\n\t\t\t */\n\t\t\tcanCreate: function(input) {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.settings.create) return false;\n\t\t\t\tvar filter = self.settings.createFilter;\n\t\t\t\treturn input.length\n\t\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t\t}\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.count = 0;\n\t\tSelectize.defaults = {\n\t\t\toptions: [],\n\t\t\toptgroups: [],\n\t\t\n\t\t\tplugins: [],\n\t\t\tdelimiter: ',',\n\t\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\t\tpersist: true,\n\t\t\tdiacritics: true,\n\t\t\tcreate: false,\n\t\t\tcreateOnBlur: false,\n\t\t\tcreateFilter: null,\n\t\t\thighlight: true,\n\t\t\topenOnFocus: true,\n\t\t\tmaxOptions: 1000,\n\t\t\tmaxItems: null,\n\t\t\thideSelected: null,\n\t\t\taddPrecedence: false,\n\t\t\tselectOnTab: false,\n\t\t\tpreload: false,\n\t\t\tallowEmptyOption: false,\n\t\t\tcloseAfterSelect: false,\n\t\t\n\t\t\tscrollDuration: 60,\n\t\t\tloadThrottle: 300,\n\t\t\tloadingClass: 'loading',\n\t\t\n\t\t\tdataAttr: 'data-data',\n\t\t\toptgroupField: 'optgroup',\n\t\t\tvalueField: 'value',\n\t\t\tlabelField: 'text',\n\t\t\toptgroupLabelField: 'label',\n\t\t\toptgroupValueField: 'value',\n\t\t\tlockOptgroupOrder: false,\n\t\t\n\t\t\tsortField: '$order',\n\t\t\tsearchField: ['text'],\n\t\t\tsearchConjunction: 'and',\n\t\t\n\t\t\tmode: null,\n\t\t\twrapperClass: 'selectize-control',\n\t\t\tinputClass: 'selectize-input',\n\t\t\tdropdownClass: 'selectize-dropdown',\n\t\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\t\n\t\t\tdropdownParent: null,\n\t\t\n\t\t\tcopyClassesToDropdown: true,\n\t\t\n\t\t\t/*\n\t\t\tload                 : null, // function(query, callback) { ... }\n\t\t\tscore                : null, // function(search) { ... }\n\t\t\tonInitialize         : null, // function() { ... }\n\t\t\tonChange             : null, // function(value) { ... }\n\t\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\t\tonItemRemove         : null, // function(value) { ... }\n\t\t\tonClear              : null, // function() { ... }\n\t\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\t\tonOptionRemove       : null, // function(value) { ... }\n\t\t\tonOptionClear        : null, // function() { ... }\n\t\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\t\tonOptionGroupClear   : null, // function() { ... }\n\t\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\t\tonType               : null, // function(str) { ... }\n\t\t\tonDelete             : null, // function(values) { ... }\n\t\t\t*/\n\t\t\n\t\t\trender: {\n\t\t\t\t/*\n\t\t\t\titem: null,\n\t\t\t\toptgroup: null,\n\t\t\t\toptgroup_header: null,\n\t\t\t\toption: null,\n\t\t\t\toption_create: null\n\t\t\t\t*/\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\t$.fn.selectize = function(settings_user) {\n\t\t\tvar defaults             = $.fn.selectize.defaults;\n\t\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\t\tvar attr_data            = settings.dataAttr;\n\t\t\tvar field_label          = settings.labelField;\n\t\t\tvar field_value          = settings.valueField;\n\t\t\tvar field_optgroup       = settings.optgroupField;\n\t\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_textbox = function($input, settings_element) {\n\t\t\t\tvar i, n, values, option;\n\t\t\n\t\t\t\tvar data_raw = $input.attr(attr_data);\n\t\t\n\t\t\t\tif (!data_raw) {\n\t\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\t\toption = {};\n\t\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t\t}\n\t\t\t\t\tsettings_element.items = values;\n\t\t\t\t} else {\n\t\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\t/**\n\t\t\t * Initializes selectize from a <select> element.\n\t\t\t *\n\t\t\t * @param {object} $input\n\t\t\t * @param {object} settings_element\n\t\t\t */\n\t\t\tvar init_select = function($input, settings_element) {\n\t\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\t\tvar options = settings_element.options;\n\t\t\t\tvar optionsMap = {};\n\t\t\n\t\t\t\tvar readData = function($el) {\n\t\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addOption = function($option, group) {\n\t\t\t\t\t$option = $($option);\n\t\t\n\t\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\t\n\t\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\t\n\t\t\t\t\toptionsMap[value] = option;\n\t\t\t\t\toptions.push(option);\n\t\t\n\t\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\t\tvar i, n, id, optgroup, $options;\n\t\t\n\t\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\t\tid = $optgroup.attr('label');\n\t\t\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\t\n\t\t\t\t$children = $input.children();\n\t\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\t\taddOption($children[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn this.each(function() {\n\t\t\t\tif (this.selectize) return;\n\t\t\n\t\t\t\tvar instance;\n\t\t\t\tvar $input = $(this);\n\t\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t\t}\n\t\t\n\t\t\t\tvar settings_element = {\n\t\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t\t'options'     : [],\n\t\t\t\t\t'optgroups'   : [],\n\t\t\t\t\t'items'       : []\n\t\t\t\t};\n\t\t\n\t\t\t\tif (tag_name === 'select') {\n\t\t\t\t\tinit_select($input, settings_element);\n\t\t\t\t} else {\n\t\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t\t}\n\t\t\n\t\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t\t});\n\t\t};\n\t\t\n\t\t$.fn.selectize.defaults = Selectize.defaults;\n\t\t$.fn.selectize.support = {\n\t\t\tvalidity: SUPPORTS_VALIDITY_API\n\t\t};\n\t\t\n\t\t\n\t\tSelectize.define('drag_drop', function(options) {\n\t\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\t\tif (this.settings.mode !== 'multi') return;\n\t\t\tvar self = this;\n\t\t\n\t\t\tself.lock = (function() {\n\t\t\t\tvar original = self.lock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.unlock = (function() {\n\t\t\t\tvar original = self.unlock;\n\t\t\t\treturn function() {\n\t\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\t\treturn original.apply(self, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(this, arguments);\n\t\t\n\t\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('dropdown_header', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\ttitle         : 'Untitled',\n\t\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\t\n\t\t\t\thtml: function(data) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, options);\n\t\t\n\t\t\tself.setup = (function() {\n\t\t\t\tvar original = self.setup;\n\t\t\t\treturn function() {\n\t\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('optgroup_columns', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions = $.extend({\n\t\t\t\tequalizeWidth  : true,\n\t\t\t\tequalizeHeight : true\n\t\t\t}, options);\n\t\t\n\t\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\t\tvar index    = $options.index($option) + direction;\n\t\t\n\t\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, $option, $options, $optgroup;\n\t\t\n\t\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\t\n\t\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t\n\t\t\tvar getScrollbarWidth = function() {\n\t\t\t\tvar div;\n\t\t\t\tvar width = getScrollbarWidth.width;\n\t\t\t\tvar doc = document;\n\t\t\n\t\t\t\tif (typeof width === 'undefined') {\n\t\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\t\tdiv = div.firstChild;\n\t\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\t\tdoc.body.removeChild(div);\n\t\t\t\t}\n\t\t\t\treturn width;\n\t\t\t};\n\t\t\n\t\t\tvar equalizeSizes = function() {\n\t\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\t\n\t\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\t\tn = $optgroups.length;\n\t\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\t\n\t\t\t\tif (options.equalizeHeight) {\n\t\t\t\t\theight_max = 0;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t\t}\n\t\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t\t}\n\t\t\n\t\t\t\tif (options.equalizeWidth) {\n\t\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t\t$optgroups.css({width: width});\n\t\t\t\t\tif (n > 1) {\n\t\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t\t}\n\t\t\n\t\t\n\t\t});\n\t\t\n\t\tSelectize.define('remove_button', function(options) {\n\t\t\toptions = $.extend({\n\t\t\t\t\tlabel     : '&times;',\n\t\t\t\t\ttitle     : 'Remove',\n\t\t\t\t\tclassName : 'remove',\n\t\t\t\t\tappend    : true\n\t\t\t\t}, options);\n\t\t\n\t\t\t\tvar singleClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\toptions.className = 'remove-single';\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\t\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tvar multiClose = function(thisRef, options) {\n\t\t\n\t\t\t\t\tvar self = thisRef;\n\t\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\t\n\t\t\t\t\t/**\n\t\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t\t *\n\t\t\t\t\t * @param {string} html_container\n\t\t\t\t\t * @param {string} html_element\n\t\t\t\t\t * @return {string}\n\t\t\t\t\t */\n\t\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\t\n\t\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\t\n\t\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t};\n\t\t\t\t\t})();\n\t\t\t\t};\n\t\t\n\t\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\t\tsingleClose(this, options);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmultiClose(this, options);\n\t\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\tSelectize.define('restore_on_backspace', function(options) {\n\t\t\tvar self = this;\n\t\t\n\t\t\toptions.text = options.text || function(option) {\n\t\t\t\treturn option[this.settings.labelField];\n\t\t\t};\n\t\t\n\t\t\tthis.onKeyDown = (function() {\n\t\t\t\tvar original = self.onKeyDown;\n\t\t\t\treturn function(e) {\n\t\t\t\t\tvar index, option;\n\t\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t};\n\t\t\t})();\n\t\t});\n\t\t\n\t\n\t\treturn Selectize;\n\t}));\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function($) {/**\n\t * sifter.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.Sifter = factory();\n\t\t}\n\t}(this, function() {\n\t\n\t\t/**\n\t\t * Textually searches arrays and hashes of objects\n\t\t * by property (or multiple properties). Designed\n\t\t * specifically for autocomplete.\n\t\t *\n\t\t * @constructor\n\t\t * @param {array|object} items\n\t\t * @param {object} items\n\t\t */\n\t\tvar Sifter = function(items, settings) {\n\t\t\tthis.items = items;\n\t\t\tthis.settings = settings || {diacritics: true};\n\t\t};\n\t\n\t\t/**\n\t\t * Splits a search string into an array of individual\n\t\t * regexps to be used to match results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {array}\n\t\t */\n\t\tSifter.prototype.tokenize = function(query) {\n\t\t\tquery = trim(String(query || '').toLowerCase());\n\t\t\tif (!query || !query.length) return [];\n\t\n\t\t\tvar i, n, regex, letter;\n\t\t\tvar tokens = [];\n\t\t\tvar words = query.split(/ +/);\n\t\n\t\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\t\tregex = escape_regex(words[i]);\n\t\t\t\tif (this.settings.diacritics) {\n\t\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttokens.push({\n\t\t\t\t\tstring : words[i],\n\t\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\treturn tokens;\n\t\t};\n\t\n\t\t/**\n\t\t * Iterates over arrays and hashes.\n\t\t *\n\t\t * ```\n\t\t * this.iterator(this.items, function(item, id) {\n\t\t *    // invoked for each item\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * @param {array|object} object\n\t\t */\n\t\tSifter.prototype.iterator = function(object, callback) {\n\t\t\tvar iterator;\n\t\t\tif (is_array(object)) {\n\t\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\titerator = function(callback) {\n\t\t\t\t\tfor (var key in this) {\n\t\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\titerator.apply(object, [callback]);\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function to be used to score individual results.\n\t\t *\n\t\t * Good matches will have a higher score than poor matches.\n\t\t * If an item is not a match, 0 will be returned by the function.\n\t\t *\n\t\t * @param {object|string} search\n\t\t * @param {object} options (optional)\n\t\t * @returns {function}\n\t\t */\n\t\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\t\tvar self, fields, tokens, token_count, nesting;\n\t\n\t\t\tself        = this;\n\t\t\tsearch      = self.prepareSearch(search, options);\n\t\t\ttokens      = search.tokens;\n\t\t\tfields      = search.options.fields;\n\t\t\ttoken_count = tokens.length;\n\t\t\tnesting     = search.options.nesting;\n\t\n\t\t\t/**\n\t\t\t * Calculates how close of a match the\n\t\t\t * given value is against a search token.\n\t\t\t *\n\t\t\t * @param {mixed} value\n\t\t\t * @param {object} token\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreValue = function(value, token) {\n\t\t\t\tvar score, pos;\n\t\n\t\t\t\tif (!value) return 0;\n\t\t\t\tvalue = String(value || '');\n\t\t\t\tpos = value.search(token.regex);\n\t\t\t\tif (pos === -1) return 0;\n\t\t\t\tscore = token.string.length / value.length;\n\t\t\t\tif (pos === 0) score += 0.5;\n\t\t\t\treturn score;\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Calculates the score of an object\n\t\t\t * against the search query.\n\t\t\t *\n\t\t\t * @param {object} token\n\t\t\t * @param {object} data\n\t\t\t * @return {number}\n\t\t\t */\n\t\t\tvar scoreObject = (function() {\n\t\t\t\tvar field_count = fields.length;\n\t\t\t\tif (!field_count) {\n\t\t\t\t\treturn function() { return 0; };\n\t\t\t\t}\n\t\t\t\tif (field_count === 1) {\n\t\t\t\t\treturn function(token, data) {\n\t\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / field_count;\n\t\t\t\t};\n\t\t\t})();\n\t\n\t\t\tif (!token_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (token_count === 1) {\n\t\t\t\treturn function(data) {\n\t\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tif (search.options.conjunction === 'and') {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tvar score;\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\t\tsum += score;\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(data) {\n\t\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / token_count;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Returns a function that can be used to compare two\n\t\t * results, for sorting purposes. If no sorting should\n\t\t * be performed, `null` will be returned.\n\t\t *\n\t\t * @param {string|object} search\n\t\t * @param {object} options\n\t\t * @return function(a,b)\n\t\t */\n\t\tSifter.prototype.getSortFunction = function(search, options) {\n\t\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\t\n\t\t\tself   = this;\n\t\t\tsearch = self.prepareSearch(search, options);\n\t\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\t\n\t\t\t/**\n\t\t\t * Fetches the specified sort field value\n\t\t\t * from a search result item.\n\t\t\t *\n\t\t\t * @param  {string} name\n\t\t\t * @param  {object} result\n\t\t\t * @return {mixed}\n\t\t\t */\n\t\t\tget_field = function(name, result) {\n\t\t\t\tif (name === '$score') return result.score;\n\t\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t\t};\n\t\n\t\t\t// parse options\n\t\t\tfields = [];\n\t\t\tif (sort) {\n\t\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// the \"$score\" field is implied to be the primary\n\t\t\t// sort field, unless it's manually specified\n\t\t\tif (search.query) {\n\t\t\t\timplicit_score = true;\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\timplicit_score = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (implicit_score) {\n\t\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tmultipliers = [];\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t\t}\n\t\n\t\t\t// build function\n\t\t\tfields_count = fields.length;\n\t\t\tif (!fields_count) {\n\t\t\t\treturn null;\n\t\t\t} else if (fields_count === 1) {\n\t\t\t\tfield = fields[0].field;\n\t\t\t\tmultiplier = multipliers[0];\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn function(a, b) {\n\t\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (result) return result;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Parses a search query and returns an object\n\t\t * with tokens and fields ready to be populated\n\t\t * with results.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.prepareSearch = function(query, options) {\n\t\t\tif (typeof query === 'object') return query;\n\t\n\t\t\toptions = extend({}, options);\n\t\n\t\t\tvar option_fields     = options.fields;\n\t\t\tvar option_sort       = options.sort;\n\t\t\tvar option_sort_empty = options.sort_empty;\n\t\n\t\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\t\n\t\t\treturn {\n\t\t\t\toptions : options,\n\t\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\t\ttokens  : this.tokenize(query),\n\t\t\t\ttotal   : 0,\n\t\t\t\titems   : []\n\t\t\t};\n\t\t};\n\t\n\t\t/**\n\t\t * Searches through all items and returns a sorted array of matches.\n\t\t *\n\t\t * The `options` parameter can contain:\n\t\t *\n\t\t *   - fields {string|array}\n\t\t *   - sort {array}\n\t\t *   - score {function}\n\t\t *   - filter {bool}\n\t\t *   - limit {integer}\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - options {object}\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @returns {object}\n\t\t */\n\t\tSifter.prototype.search = function(query, options) {\n\t\t\tvar self = this, value, score, search, calculateScore;\n\t\t\tvar fn_sort;\n\t\t\tvar fn_score;\n\t\n\t\t\tsearch  = this.prepareSearch(query, options);\n\t\t\toptions = search.options;\n\t\t\tquery   = search.query;\n\t\n\t\t\t// generate result scoring function\n\t\t\tfn_score = options.score || self.getScoreFunction(search);\n\t\n\t\t\t// perform search and sort\n\t\t\tif (query.length) {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tscore = fn_score(item);\n\t\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tfn_sort = self.getSortFunction(search, options);\n\t\t\tif (fn_sort) search.items.sort(fn_sort);\n\t\n\t\t\t// apply limits\n\t\t\tsearch.total = search.items.length;\n\t\t\tif (typeof options.limit === 'number') {\n\t\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t\t}\n\t\n\t\t\treturn search;\n\t\t};\n\t\n\t\t// utilities\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\tvar cmp = function(a, b) {\n\t\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t\t}\n\t\t\ta = asciifold(String(a || ''));\n\t\t\tb = asciifold(String(b || ''));\n\t\t\tif (a > b) return 1;\n\t\t\tif (b > a) return -1;\n\t\t\treturn 0;\n\t\t};\n\t\n\t\tvar extend = function(a, b) {\n\t\t\tvar i, n, k, object;\n\t\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\t\tobject = arguments[i];\n\t\t\t\tif (!object) continue;\n\t\t\t\tfor (k in object) {\n\t\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\t\ta[k] = object[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\t\n\t\t/**\n\t\t * A property getter resolving dot-notation\n\t\t * @param  {Object}  obj     The root object to fetch property on\n\t\t * @param  {String}  name    The optionally dotted property name to fetch\n\t\t * @param  {Boolean} nesting Handle nesting or not\n\t\t * @return {Object}          The resolved property value\n\t\t */\n\t\tvar getattr = function(obj, name, nesting) {\n\t\t    if (!obj || !name) return;\n\t\t    if (!nesting) return obj[name];\n\t\t    var names = name.split(\".\");\n\t\t    while(names.length && (obj = obj[names.shift()]));\n\t\t    return obj;\n\t\t};\n\t\n\t\tvar trim = function(str) {\n\t\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t\t};\n\t\n\t\tvar escape_regex = function(str) {\n\t\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t\t};\n\t\n\t\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t\t};\n\t\n\t\tvar DIACRITICS = {\n\t\t\t'a': '[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]',\n\t\t\t'b': '[b␢βΒB฿𐌁ᛒ]',\n\t\t\t'c': '[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]',\n\t\t\t'd': '[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]',\n\t\t\t'e': '[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]',\n\t\t\t'f': '[fƑƒḞḟ]',\n\t\t\t'g': '[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]',\n\t\t\t'h': '[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]',\n\t\t\t'i': '[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]',\n\t\t\t'j': '[jȷĴĵɈɉʝɟʲ]',\n\t\t\t'k': '[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]',\n\t\t\t'l': '[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]',\n\t\t\t'n': '[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]',\n\t\t\t'o': '[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]',\n\t\t\t'p': '[pṔṕṖṗⱣᵽƤƥᵱ]',\n\t\t\t'q': '[qꝖꝗʠɊɋꝘꝙq̃]',\n\t\t\t'r': '[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]',\n\t\t\t's': '[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]',\n\t\t\t't': '[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]',\n\t\t\t'u': '[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]',\n\t\t\t'v': '[vṼṽṾṿƲʋꝞꝟⱱʋ]',\n\t\t\t'w': '[wẂẃẀẁŴŵẄẅẆẇẈẉ]',\n\t\t\t'x': '[xẌẍẊẋχ]',\n\t\t\t'y': '[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]',\n\t\t\t'z': '[zŹźẐẑŽžŻżẒẓẔẕƵƶ]'\n\t\t};\n\t\n\t\tvar asciifold = (function() {\n\t\t\tvar i, n, k, chunk;\n\t\t\tvar foreignletters = '';\n\t\t\tvar lookup = {};\n\t\t\tfor (k in DIACRITICS) {\n\t\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\t\tforeignletters += chunk;\n\t\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\t\treturn function(str) {\n\t\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\t\treturn lookup[foreignletter];\n\t\t\t\t}).toLowerCase();\n\t\t\t};\n\t\t})();\n\t\n\t\n\t\t// export\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t\treturn Sifter;\n\t}));\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * microplugin.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\t\n\t(function(root, factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.MicroPlugin = factory();\n\t\t}\n\t}(this, function() {\n\t\tvar MicroPlugin = {};\n\t\n\t\tMicroPlugin.mixin = function(Interface) {\n\t\t\tInterface.plugins = {};\n\t\n\t\t\t/**\n\t\t\t * Initializes the listed plugins (with options).\n\t\t\t * Acceptable formats:\n\t\t\t *\n\t\t\t * List (without options):\n\t\t\t *   ['a', 'b', 'c']\n\t\t\t *\n\t\t\t * List (with options):\n\t\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t\t *\n\t\t\t * Hash (with options):\n\t\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t\t *\n\t\t\t * @param {mixed} plugins\n\t\t\t */\n\t\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\t\tvar i, n, key;\n\t\t\t\tvar self  = this;\n\t\t\t\tvar queue = [];\n\t\n\t\t\t\tself.plugins = {\n\t\t\t\t\tnames     : [],\n\t\t\t\t\tsettings  : {},\n\t\t\t\t\trequested : {},\n\t\t\t\t\tloaded    : {}\n\t\t\t\t};\n\t\n\t\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (plugins) {\n\t\t\t\t\tfor (key in plugins) {\n\t\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\twhile (queue.length) {\n\t\t\t\t\tself.require(queue.shift());\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\t\tvar self    = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\t\t\tvar plugin  = Interface.plugins[name];\n\t\n\t\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t\t}\n\t\n\t\t\t\tplugins.requested[name] = true;\n\t\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\t\tplugins.names.push(name);\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Initializes a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t */\n\t\t\tInterface.prototype.require = function(name) {\n\t\t\t\tvar self = this;\n\t\t\t\tvar plugins = self.plugins;\n\t\n\t\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t\t}\n\t\t\t\t\tself.loadPlugin(name);\n\t\t\t\t}\n\t\n\t\t\t\treturn plugins.loaded[name];\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * Registers a plugin.\n\t\t\t *\n\t\t\t * @param {string} name\n\t\t\t * @param {function} fn\n\t\t\t */\n\t\t\tInterface.define = function(name, fn) {\n\t\t\t\tInterface.plugins[name] = {\n\t\t\t\t\t'name' : name,\n\t\t\t\t\t'fn'   : fn\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\n\t\tvar utils = {\n\t\t\tisArray: Array.isArray || function(vArg) {\n\t\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t\t}\n\t\t};\n\t\n\t\treturn MicroPlugin;\n\t}));\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Dependecies\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tvar $ = __webpack_require__(2);\n\t\n\tvar _module = function _module(element) {\n\t  var dropZone = $(element);\n\t  var $input = dropZone.find('input'); // TODO: Change this selector name\n\t  var $altInput = dropZone.find('[data-trigger=\"file\"]');\n\t  var defaultImage = dropZone.data('original-image');\n\t\n\t  if (defaultImage) {\n\t    fakeLoad('Imagem Padrão', defaultImage);\n\t  }\n\t\n\t  dropZone.on({\n\t    dragover: cbDragOver,\n\t    dragleave: cbDragLeave,\n\t    drop: cbDrop\n\t  });\n\t\n\t  $input.on({\n\t    change: cbChangeFile\n\t  });\n\t\n\t  $altInput.on({\n\t    click: cbTriggerFile\n\t  });\n\t\n\t  function cbDragOver(event) {\n\t    dropZone.addClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDragLeave(event) {\n\t    dropZone.removeClass('hover');\n\t    return false;\n\t  }\n\t\n\t  function cbDrop(event) {\n\t    var file = event.originalEvent.dataTransfer.files[0];\n\t\n\t    event.stopPropagation();\n\t    event.preventDefault();\n\t    dropZone.removeClass('hover');\n\t\n\t    readFile(file);\n\t    $input.files = file;\n\t    $input.val('');\n\t    return false;\n\t  }\n\t\n\t  function cbChangeFile(event) {\n\t    readFile(this.files[0]);\n\t    return false;\n\t  }\n\t\n\t  function cbTriggerFile(event) {\n\t    $input.trigger('click');\n\t  }\n\t};\n\t\n\tvar fakeLoad = function fakeLoad(name, src) {\n\t  var $image = $('<img/>').load(function () {\n\t    createPreview(name, getCanvasImage(this));\n\t  }).attr('src', src);\n\t};\n\t\n\tvar readFile = function readFile(file) {\n\t  var reader = new FileReader();\n\t\n\t  reader.onload = function (e) {\n\t    fakeLoad(file.name, e.target.result);\n\t  };\n\t  reader.readAsDataURL(file);\n\t};\n\t\n\tvar getCanvasImage = function getCanvasImage(image) {\n\t\n\t  var imgWidth = image.width,\n\t      imgHeight = image.height;\n\t\n\t  var canvas = document.createElement('canvas');\n\t  canvas.width = imgWidth;\n\t  canvas.height = imgHeight;\n\t\n\t  var ctx = canvas.getContext('2d');\n\t  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\t\n\t  return canvas.toDataURL('image/jpeg');\n\t};\n\t\n\tvar createPreview = function createPreview(filename, newURL) {\n\t  var fileName = filename.substr(0, filename.lastIndexOf('.')); //subtract file extension\n\t  var filePath = newURL;\n\t  var image = '<img src=\"' + filePath + '\" class=\"img-responsive\" alt=\"' + fileName + '\"/>';\n\t  //append new image through jQuery Template\n\t  $('[data-content=\"file\"]').html(image).show();\n\t  $('.custom-file-content').hide();\n\t};\n\t\n\texports['default'] = _module;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tmodule.exports = function (name) {\n\t  var $element = $(name);\n\t\n\t  $element.on({\n\t    focus: function focus(event) {\n\t      var $this = $(this);\n\t      $this.siblings('label').addClass('active');\n\t    },\n\t    blur: function blur(event) {\n\t      var $this = $(this);\n\t      if (!$this.val()) {\n\t        $this.siblings('label').removeClass('active');\n\t      }\n\t    },\n\t    input: function input(event) {\n\t      if (event.currentTarget.nodeName === 'TEXTAREA') {\n\t        setTimeout(inputResize(event.currentTarget), 0);\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\tvar inputResize = function inputResize(selector) {\n\t  var style = selector.style;\n\t  style.height = 'auto';\n\t  style.height = selector.scrollHeight + 'px';\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/*!\n\t * jQuery Steps v1.1.0 - 09/04/2014\n\t * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n\t * Licensed under MIT http://www.opensource.org/licenses/MIT\n\t */\n\t\"use strict\";\n\t\n\t;(function ($, undefined) {\n\t    $.fn.extend({\n\t        _aria: function _aria(name, value) {\n\t            return this.attr(\"aria-\" + name, value);\n\t        },\n\t\n\t        _removeAria: function _removeAria(name) {\n\t            return this.removeAttr(\"aria-\" + name);\n\t        },\n\t\n\t        _enableAria: function _enableAria(enable) {\n\t            return enable == null || enable ? this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") : this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n\t        },\n\t\n\t        _showAria: function _showAria(show) {\n\t            return show == null || show ? this.show()._aria(\"hidden\", \"false\") : this.hide()._aria(\"hidden\", \"true\");\n\t        },\n\t\n\t        _selectAria: function _selectAria(select) {\n\t            return select == null || select ? this.addClass(\"current\")._aria(\"selected\", \"true\") : this.removeClass(\"current\")._aria(\"selected\", \"false\");\n\t        },\n\t\n\t        _id: function _id(id) {\n\t            return id ? this.attr(\"id\", id) : this.attr(\"id\");\n\t        }\n\t    });\n\t\n\t    if (!String.prototype.format) {\n\t        String.prototype.format = function () {\n\t            var args = arguments.length === 1 && $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t            var formattedString = this;\n\t            for (var i = 0; i < args.length; i++) {\n\t                var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n\t                formattedString = formattedString.replace(pattern, args[i]);\n\t            }\n\t            return formattedString;\n\t        };\n\t    }\n\t\n\t    /**\n\t     * A global unique id count.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @property _uniqueId\n\t     * @type Integer\n\t     **/\n\t    var _uniqueId = 0;\n\t\n\t    /**\n\t     * The plugin prefix for cookies.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _cookiePrefix\n\t     * @type String\n\t     **/\n\t    var _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\t\n\t    /**\n\t     * Suffix for the unique tab id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabSuffix = \"-t-\";\n\t\n\t    /**\n\t     * Suffix for the unique tabpanel id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _tabpanelSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _tabpanelSuffix = \"-p-\";\n\t\n\t    /**\n\t     * Suffix for the unique title id.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _titleSuffix\n\t     * @type String\n\t     * @since 0.9.7\n\t     **/\n\t    var _titleSuffix = \"-h-\";\n\t\n\t    /**\n\t     * An error message for an \"index out of range\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _indexOutOfRangeErrorMessage\n\t     * @type String\n\t     **/\n\t    var _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\t\n\t    /**\n\t     * An error message for an \"missing corresponding element\" error.\n\t     *\n\t     * @final\n\t     * @private\n\t     * @property _missingCorrespondingElementErrorMessage\n\t     * @type String\n\t     **/\n\t    var _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\t\n\t    /**\n\t     * Adds a step to the cache.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method addStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function addStepToCache(wizard, step) {\n\t        getSteps(wizard).push(step);\n\t    }\n\t\n\t    function analyzeData(wizard, options, state) {\n\t        var stepTitles = wizard.children(options.headerTag),\n\t            stepContents = wizard.children(options.bodyTag);\n\t\n\t        // Validate content\n\t        if (stepTitles.length > stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n\t        } else if (stepTitles.length < stepContents.length) {\n\t            throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n\t        }\n\t\n\t        var startIndex = options.startIndex;\n\t\n\t        state.stepCount = stepTitles.length;\n\t\n\t        // Tries to load the saved state (step position)\n\t        if (options.saveState && $.cookie) {\n\t            var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n\t            // Sets the saved position to the start index if not undefined or out of range\n\t            var savedIndex = parseInt(savedState, 0);\n\t            if (!isNaN(savedIndex) && savedIndex < state.stepCount) {\n\t                startIndex = savedIndex;\n\t            }\n\t        }\n\t\n\t        state.currentIndex = startIndex;\n\t\n\t        stepTitles.each(function (index) {\n\t            var item = $(this),\n\t                // item == header\n\t            content = stepContents.eq(index),\n\t                modeData = content.data(\"mode\"),\n\t                mode = modeData == null ? contentMode.html : getValidEnumValue(contentMode, /^\\s*$/.test(modeData) || isNaN(modeData) ? modeData : parseInt(modeData, 0)),\n\t                contentUrl = mode === contentMode.html || content.data(\"url\") === undefined ? \"\" : content.data(\"url\"),\n\t                contentLoaded = mode !== contentMode.html && content.data(\"loaded\") === \"1\",\n\t                step = $.extend({}, stepModel, {\n\t                title: item.html(),\n\t                content: mode === contentMode.html ? content.html() : \"\",\n\t                contentUrl: contentUrl,\n\t                contentMode: mode,\n\t                contentLoaded: contentLoaded\n\t            });\n\t\n\t            addStepToCache(wizard, step);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Triggers the onCanceled event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method cancel\n\t     * @param wizard {Object} The jQuery wizard object\n\t     **/\n\t    function cancel(wizard) {\n\t        wizard.triggerHandler(\"canceled\");\n\t    }\n\t\n\t    function decreaseCurrentIndexBy(state, decreaseBy) {\n\t        return state.currentIndex - decreaseBy;\n\t    }\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method destroy\n\t     * @param wizard {Object} A jQuery wizard object\n\t     **/\n\t    function destroy(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        // Remove virtual data objects from the wizard\n\t        wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\").removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\").find(\".actions a\").unbind(eventNamespace);\n\t\n\t        // Remove attributes and CSS classes from the wizard\n\t        wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\t\n\t        var contents = wizard.find(\".content > *\");\n\t\n\t        // Remove virtual data objects from panels and their titles\n\t        contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\t\n\t        // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n\t        contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\").removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")._removeAria(\"hidden\");\n\t\n\t        // Empty panels if the mode is set to 'async' or 'iframe'\n\t        wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\t\n\t        var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\t\n\t        var wizardId = wizard._id();\n\t        if (wizardId != null && wizardId !== \"\") {\n\t            wizardSubstitute._id(wizardId);\n\t        }\n\t\n\t        wizardSubstitute.html(wizard.find(\".content\").html());\n\t        wizard.after(wizardSubstitute);\n\t        wizard.remove();\n\t\n\t        return wizardSubstitute;\n\t    }\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method finishStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function finishStep(wizard, state) {\n\t        var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\t\n\t        if (wizard.triggerHandler(\"finishing\", [state.currentIndex])) {\n\t            currentStep.addClass(\"done\").removeClass(\"error\");\n\t            wizard.triggerHandler(\"finished\", [state.currentIndex]);\n\t        } else {\n\t            currentStep.addClass(\"error\");\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique event namespace for the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getEventNamespace\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique event namespace for the given wizard\n\t     */\n\t    function getEventNamespace(wizard) {\n\t        var eventNamespace = wizard.data(\"eventNamespace\");\n\t\n\t        if (eventNamespace == null) {\n\t            eventNamespace = \".\" + getUniqueId(wizard);\n\t            wizard.data(\"eventNamespace\", eventNamespace);\n\t        }\n\t\n\t        return eventNamespace;\n\t    }\n\t\n\t    function getStepAnchor(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n\t    }\n\t\n\t    function getStepPanel(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n\t    }\n\t\n\t    function getStepTitle(wizard, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n\t    }\n\t\n\t    function getOptions(wizard) {\n\t        return wizard.data(\"options\");\n\t    }\n\t\n\t    function getState(wizard) {\n\t        return wizard.data(\"state\");\n\t    }\n\t\n\t    function getSteps(wizard) {\n\t        return wizard.data(\"steps\");\n\t    }\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    function getStep(wizard, index) {\n\t        var steps = getSteps(wizard);\n\t\n\t        if (index < 0 || index >= steps.length) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        return steps[index];\n\t    }\n\t\n\t    /**\n\t     * Gets or creates if not exist an unique id from the given wizard instance.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getUniqueId\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @return {String} Returns the unique id for the given wizard\n\t     */\n\t    function getUniqueId(wizard) {\n\t        var uniqueId = wizard.data(\"uid\");\n\t\n\t        if (uniqueId == null) {\n\t            uniqueId = wizard._id();\n\t            if (uniqueId == null) {\n\t                uniqueId = \"steps-uid-\".concat(_uniqueId);\n\t                wizard._id(uniqueId);\n\t            }\n\t\n\t            _uniqueId++;\n\t            wizard.data(\"uid\", uniqueId);\n\t        }\n\t\n\t        return uniqueId;\n\t    }\n\t\n\t    /**\n\t     * Gets a valid enum value by checking a specific enum key or value.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method getValidEnumValue\n\t     * @param enumType {Object} Type of enum\n\t     * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n\t     */\n\t    function getValidEnumValue(enumType, keyOrValue) {\n\t        validateArgument(\"enumType\", enumType);\n\t        validateArgument(\"keyOrValue\", keyOrValue);\n\t\n\t        // Is key\n\t        if (typeof keyOrValue === \"string\") {\n\t            var value = enumType[keyOrValue];\n\t            if (value === undefined) {\n\t                throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n\t            }\n\t\n\t            return value;\n\t        }\n\t        // Is value\n\t        else if (typeof keyOrValue === \"number\") {\n\t                for (var key in enumType) {\n\t                    if (enumType[key] === keyOrValue) {\n\t                        return keyOrValue;\n\t                    }\n\t                }\n\t\n\t                throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n\t            }\n\t            // Type is not supported\n\t            else {\n\t                    throwError(\"Invalid key or value type.\");\n\t                }\n\t    }\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToNextStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToNextStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToPreviousStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    function goToPreviousStep(wizard, options, state) {\n\t        return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n\t    }\n\t\n\t    /**\n\t     * Routes to a specific step by a given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method goToStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the action succeeded or failed\n\t     **/\n\t    function goToStep(wizard, options, state, index) {\n\t        if (index < 0 || index >= state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        if (options.forceMoveForward && index < state.currentIndex) {\n\t            return;\n\t        }\n\t\n\t        var oldIndex = state.currentIndex;\n\t        if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index])) {\n\t            // Save new state\n\t            state.currentIndex = index;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t\n\t            // Change visualisation\n\t            refreshStepNavigation(wizard, options, state, oldIndex);\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t            startTransitionEffect(wizard, options, state, index, oldIndex, function () {\n\t                wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n\t            });\n\t        } else {\n\t            wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    function increaseCurrentIndexBy(state, increaseBy) {\n\t        return state.currentIndex + increaseBy;\n\t    }\n\t\n\t    /**\n\t     * Initializes the component.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method initialize\n\t     * @param options {Object} The component settings\n\t     **/\n\t    function initialize(options) {\n\t        /*jshint -W040 */\n\t        var opts = $.extend(true, {}, defaults, options);\n\t\n\t        return this.each(function () {\n\t            var wizard = $(this);\n\t            var state = {\n\t                currentIndex: opts.startIndex,\n\t                currentStep: null,\n\t                stepCount: 0,\n\t                transitionElement: null\n\t            };\n\t\n\t            // Create data container\n\t            wizard.data(\"options\", opts);\n\t            wizard.data(\"state\", state);\n\t            wizard.data(\"steps\", []);\n\t\n\t            analyzeData(wizard, opts, state);\n\t            render(wizard, opts, state);\n\t            registerEvents(wizard, opts);\n\t\n\t            // Trigger focus\n\t            if (opts.autoFocus && _uniqueId === 0) {\n\t                getStepAnchor(wizard, opts.startIndex).focus();\n\t            }\n\t\n\t            wizard.triggerHandler(\"init\", [opts.startIndex]);\n\t        });\n\t    }\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStep\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    function insertStep(wizard, options, state, index, step) {\n\t        if (index < 0 || index > state.stepCount) {\n\t            throwError(_indexOutOfRangeErrorMessage);\n\t        }\n\t\n\t        // TODO: Validate step object\n\t\n\t        // Change data\n\t        step = $.extend({}, stepModel, step);\n\t        insertStepToCache(wizard, index, step);\n\t        if (state.currentIndex !== state.stepCount && state.currentIndex >= index) {\n\t            state.currentIndex++;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount++;\n\t\n\t        var contentContainer = wizard.find(\".content\"),\n\t            header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n\t            body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\t\n\t        if (step.contentMode == null || step.contentMode === contentMode.html) {\n\t            body.html(step.content);\n\t        }\n\t\n\t        if (index === 0) {\n\t            contentContainer.prepend(body).prepend(header);\n\t        } else {\n\t            getStepPanel(wizard, index - 1).after(body).after(header);\n\t        }\n\t\n\t        renderBody(wizard, state, body, index);\n\t        renderTitle(wizard, options, state, header, index);\n\t        refreshSteps(wizard, options, state, index);\n\t        if (index === state.currentIndex) {\n\t            refreshStepNavigation(wizard, options, state);\n\t        }\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return wizard;\n\t    }\n\t\n\t    /**\n\t     * Inserts a step object to the cache at a specific position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method insertStepToCache\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     **/\n\t    function insertStepToCache(wizard, index, step) {\n\t        getSteps(wizard).splice(index, 0, step);\n\t    }\n\t\n\t    /**\n\t     * Handles the keyup DOM event for pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event keyup\n\t     * @param event {Object} An event object\n\t     */\n\t    function keyUpHandler(event) {\n\t        var wizard = $(this),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard);\n\t\n\t        if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\")) {\n\t            event.preventDefault();\n\t            return false;\n\t        }\n\t\n\t        var keyCodes = { left: 37, right: 39 };\n\t        if (event.keyCode === keyCodes.left) {\n\t            event.preventDefault();\n\t            goToPreviousStep(wizard, options, state);\n\t        } else if (event.keyCode === keyCodes.right) {\n\t            event.preventDefault();\n\t            goToNextStep(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Loads and includes async content.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method loadAsyncContent\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function loadAsyncContent(wizard, options, state) {\n\t        if (state.stepCount > 0) {\n\t            var currentIndex = state.currentIndex,\n\t                currentStep = getStep(wizard, currentIndex);\n\t\n\t            if (!options.enableContentCache || !currentStep.contentLoaded) {\n\t                switch (getValidEnumValue(contentMode, currentStep.contentMode)) {\n\t                    case contentMode.iframe:\n\t                        wizard.find(\".content > .body\").eq(state.currentIndex).empty().html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\").data(\"loaded\", \"1\");\n\t                        break;\n\t\n\t                    case contentMode.async:\n\t                        var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\").empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\t\n\t                        $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data) {\n\t                            currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n\t                            wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n\t                        });\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires the action next or previous click event.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method paginationClick\n\t     * @param wizard {Object} The jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) to route to\n\t     * @return {Boolean} Indicates whether the event fired successfully or not\n\t     **/\n\t    function paginationClick(wizard, options, state, index) {\n\t        var oldIndex = state.currentIndex;\n\t\n\t        if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex)) {\n\t            var anchor = getStepAnchor(wizard, index),\n\t                parent = anchor.parent(),\n\t                isDisabled = parent.hasClass(\"disabled\");\n\t\n\t            // Enable the step to make the anchor clickable!\n\t            parent._enableAria();\n\t            anchor.click();\n\t\n\t            // An error occured\n\t            if (oldIndex === state.currentIndex && isDisabled) {\n\t                // Disable the step again if current index has not changed; prevents click action.\n\t                parent._enableAria(false);\n\t                return false;\n\t            }\n\t\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    }\n\t\n\t    /**\n\t     * Fires when a pagination click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function paginationClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            href = anchor.attr(\"href\");\n\t\n\t        switch (href.substring(href.lastIndexOf(\"#\") + 1)) {\n\t            case \"cancel\":\n\t                cancel(wizard);\n\t                break;\n\t\n\t            case \"finish\":\n\t                finishStep(wizard, state);\n\t                break;\n\t\n\t            case \"next\":\n\t                goToNextStep(wizard, options, state);\n\t                break;\n\t\n\t            case \"previous\":\n\t                goToPreviousStep(wizard, options, state);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the entire pagination.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function refreshPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n\t                next = wizard.find(\".actions a[href$='#next']\").parent();\n\t\n\t            if (!options.forceMoveForward) {\n\t                var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n\t                previous._enableAria(state.currentIndex > 0);\n\t            }\n\t\n\t            if (options.enableFinishButton && options.showFinishButtonAlways) {\n\t                finish._enableAria(state.stepCount > 0);\n\t                next._enableAria(state.stepCount > 1 && state.stepCount > state.currentIndex + 1);\n\t            } else {\n\t                finish._showAria(options.enableFinishButton && state.stepCount === state.currentIndex + 1);\n\t                next._showAria(state.stepCount === 0 || state.stepCount > state.currentIndex + 1)._enableAria(state.stepCount > state.currentIndex + 1 || !options.enableFinishButton);\n\t            }\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Refreshs the visualization state for the step navigation (tabs).\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshStepNavigation\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param [oldIndex] {Integer} The index of the prior step\n\t     */\n\t    function refreshStepNavigation(wizard, options, state, oldIndex) {\n\t        var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n\t            currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n\t            stepTitles = wizard.find(\".content > .title\");\n\t\n\t        if (oldIndex != null) {\n\t            var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n\t            oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n\t            stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n\t            currentInfo = oldStepAnchor.find(\".current-info\");\n\t            currentOrNewStepAnchor.focus();\n\t        }\n\t\n\t        currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n\t        stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n\t    }\n\t\n\t    /**\n\t     * Refreshes step buttons and their related titles beyond a certain position.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method refreshSteps\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The start point for refreshing ids\n\t     */\n\t    function refreshSteps(wizard, options, state, index) {\n\t        var uniqueId = getUniqueId(wizard);\n\t\n\t        for (var i = index; i < state.stepCount; i++) {\n\t            var uniqueStepId = uniqueId + _tabSuffix + i,\n\t                uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n\t                uniqueHeaderId = uniqueId + _titleSuffix + i,\n\t                title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\t\n\t            wizard.find(\".steps a\").eq(i)._id(uniqueStepId)._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId).html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n\t            wizard.find(\".body\").eq(i)._id(uniqueBodyId)._aria(\"labelledby\", uniqueHeaderId);\n\t        }\n\t    }\n\t\n\t    function registerEvents(wizard, options) {\n\t        var eventNamespace = getEventNamespace(wizard);\n\t\n\t        wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n\t        wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n\t        wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n\t        wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n\t        wizard.bind(\"init\" + eventNamespace, options.onInit);\n\t        wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n\t        wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\t\n\t        if (options.enableKeyNavigation) {\n\t            wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n\t        }\n\t\n\t        wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method removeStep\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    function removeStep(wizard, options, state, index) {\n\t        // Index out of range and try deleting current item will return false.\n\t        if (index < 0 || index >= state.stepCount || state.currentIndex === index) {\n\t            return false;\n\t        }\n\t\n\t        // Change data\n\t        removeStepFromCache(wizard, index);\n\t        if (state.currentIndex > index) {\n\t            state.currentIndex--;\n\t            saveCurrentStateToCookie(wizard, options, state);\n\t        }\n\t        state.stepCount--;\n\t\n\t        getStepTitle(wizard, index).remove();\n\t        getStepPanel(wizard, index).remove();\n\t        getStepAnchor(wizard, index).parent().remove();\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            wizard.find(\".steps li\").first().addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount) {\n\t            wizard.find(\".steps li\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        refreshSteps(wizard, options, state, index);\n\t        refreshPagination(wizard, options, state);\n\t\n\t        return true;\n\t    }\n\t\n\t    function removeStepFromCache(wizard, index) {\n\t        getSteps(wizard).splice(index, 1);\n\t    }\n\t\n\t    /**\n\t     * Transforms the base html structure to a more sensible html structure.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method render\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     **/\n\t    function render(wizard, options, state) {\n\t        // Create a content wrapper and copy HTML from the intial wizard structure\n\t        var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n\t            orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n\t            verticalCssClass = orientation === stepsOrientation.vertical ? \" vertical\" : \"\",\n\t            contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n\t            stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n\t            stepTitles = contentWrapper.children(options.headerTag),\n\t            stepContents = contentWrapper.children(options.bodyTag);\n\t\n\t        // Transform the wizard wrapper and remove the inner HTML\n\t        wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper).addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\t\n\t        // Add WIA-ARIA support\n\t        stepContents.each(function (index) {\n\t            renderBody(wizard, state, $(this), index);\n\t        });\n\t\n\t        stepTitles.each(function (index) {\n\t            renderTitle(wizard, options, state, $(this), index);\n\t        });\n\t\n\t        refreshStepNavigation(wizard, options, state);\n\t        renderPagination(wizard, options, state);\n\t    }\n\t\n\t    /**\n\t     * Transforms the body to a proper tabpanel.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderBody\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param body {Object} A jQuery body object\n\t     * @param index {Integer} The position of the body\n\t     */\n\t    function renderBody(wizard, state, body, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index;\n\t\n\t        body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId).addClass(\"body\")._showAria(state.currentIndex === index);\n\t    }\n\t\n\t    /**\n\t     * Renders a pagination if enabled.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderPagination\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function renderPagination(wizard, options, state) {\n\t        if (options.enablePagination) {\n\t            var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n\t                buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n\t                buttons = \"\";\n\t\n\t            if (!options.forceMoveForward) {\n\t                buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n\t            }\n\t\n\t            buttons += buttonTemplate.format(\"next\", options.labels.next);\n\t\n\t            if (options.enableFinishButton) {\n\t                buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n\t            }\n\t\n\t            if (options.enableCancelButton) {\n\t                buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n\t            }\n\t\n\t            wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass, options.labels.pagination, buttons));\n\t\n\t            refreshPagination(wizard, options, state);\n\t            loadAsyncContent(wizard, options, state);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Renders a template and replaces all placeholder.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTemplate\n\t     * @param template {String} A template\n\t     * @param substitutes {Object} A list of substitute\n\t     * @return {String} The rendered template\n\t     */\n\t    function renderTemplate(template, substitutes) {\n\t        var matches = template.match(/#([a-z]*)#/gi);\n\t\n\t        for (var i = 0; i < matches.length; i++) {\n\t            var match = matches[i],\n\t                key = match.substring(1, match.length - 1);\n\t\n\t            if (substitutes[key] === undefined) {\n\t                throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n\t            }\n\t\n\t            template = template.replace(match, substitutes[key]);\n\t        }\n\t\n\t        return template;\n\t    }\n\t\n\t    /**\n\t     * Transforms the title to a step item button.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method renderTitle\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     * @param header {Object} A jQuery header object\n\t     * @param index {Integer} The position of the header\n\t     */\n\t    function renderTitle(wizard, options, state, header, index) {\n\t        var uniqueId = getUniqueId(wizard),\n\t            uniqueStepId = uniqueId + _tabSuffix + index,\n\t            uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n\t            uniqueHeaderId = uniqueId + _titleSuffix + index,\n\t            stepCollection = wizard.find(\".steps > ul\"),\n\t            title = renderTemplate(options.titleTemplate, {\n\t            index: index + 1,\n\t            title: header.html()\n\t        }),\n\t            stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId + \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\t\n\t        stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\t\n\t        if (state.currentIndex > index) {\n\t            stepItem.addClass(\"done\");\n\t        }\n\t\n\t        header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\t\n\t        if (index === 0) {\n\t            stepCollection.prepend(stepItem);\n\t        } else {\n\t            stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n\t        }\n\t\n\t        // Set the \"first\" class to the new first step button\n\t        if (index === 0) {\n\t            stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n\t        }\n\t\n\t        // Set the \"last\" class to the new last step button\n\t        if (index === state.stepCount - 1) {\n\t            stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n\t        }\n\t\n\t        // Register click event\n\t        stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n\t    }\n\t\n\t    /**\n\t     * Saves the current state to a cookie.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method saveCurrentStateToCookie\n\t     * @param wizard {Object} A jQuery wizard object\n\t     * @param options {Object} Settings of the current wizard\n\t     * @param state {Object} The state container of the current wizard\n\t     */\n\t    function saveCurrentStateToCookie(wizard, options, state) {\n\t        if (options.saveState && $.cookie) {\n\t            $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n\t        }\n\t    }\n\t\n\t    function startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback) {\n\t        var stepContents = wizard.find(\".content > .body\"),\n\t            effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n\t            effectSpeed = options.transitionEffectSpeed,\n\t            newStep = stepContents.eq(index),\n\t            currentStep = stepContents.eq(oldIndex);\n\t\n\t        switch (effect) {\n\t            case transitionEffect.fade:\n\t            case transitionEffect.slide:\n\t                var hide = effect === transitionEffect.fade ? \"fadeOut\" : \"slideUp\",\n\t                    show = effect === transitionEffect.fade ? \"fadeIn\" : \"slideDown\";\n\t\n\t                state.transitionElement = newStep;\n\t                currentStep[hide](effectSpeed, function () {\n\t                    var wizard = $(this)._showAria(false).parent().parent(),\n\t                        state = getState(wizard);\n\t\n\t                    if (state.transitionElement) {\n\t                        state.transitionElement[show](effectSpeed, function () {\n\t                            $(this)._showAria();\n\t                        }).promise().done(doneCallback);\n\t                        state.transitionElement = null;\n\t                    }\n\t                });\n\t                break;\n\t\n\t            case transitionEffect.slideLeft:\n\t                var outerWidth = currentStep.outerWidth(true),\n\t                    posFadeOut = index > oldIndex ? -outerWidth : outerWidth,\n\t                    posFadeIn = index > oldIndex ? outerWidth : -outerWidth;\n\t\n\t                $.when(currentStep.animate({ left: posFadeOut }, effectSpeed, function () {\n\t                    $(this)._showAria(false);\n\t                }), newStep.css(\"left\", posFadeIn + \"px\")._showAria().animate({ left: 0 }, effectSpeed)).done(doneCallback);\n\t                break;\n\t\n\t            default:\n\t                $.when(currentStep._showAria(false), newStep._showAria()).done(doneCallback);\n\t                break;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Fires when a step click happens.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @event click\n\t     * @param event {Object} An event object\n\t     */\n\t    function stepClickHandler(event) {\n\t        event.preventDefault();\n\t\n\t        var anchor = $(this),\n\t            wizard = anchor.parent().parent().parent().parent(),\n\t            options = getOptions(wizard),\n\t            state = getState(wizard),\n\t            oldIndex = state.currentIndex;\n\t\n\t        if (anchor.parent().is(\":not(.disabled):not(.current)\")) {\n\t            var href = anchor.attr(\"href\"),\n\t                position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\t\n\t            goToStep(wizard, options, state, position);\n\t        }\n\t\n\t        // If nothing has changed\n\t        if (oldIndex === state.currentIndex) {\n\t            getStepAnchor(wizard, oldIndex).focus();\n\t            return false;\n\t        }\n\t    }\n\t\n\t    function throwError(message) {\n\t        if (arguments.length > 1) {\n\t            message = message.format(Array.prototype.slice.call(arguments, 1));\n\t        }\n\t\n\t        throw new Error(message);\n\t    }\n\t\n\t    /**\n\t     * Checks an argument for null or undefined and throws an error if one check applies.\n\t     *\n\t     * @static\n\t     * @private\n\t     * @method validateArgument\n\t     * @param argumentName {String} The name of the given argument\n\t     * @param argumentValue {Object} The argument itself\n\t     */\n\t    function validateArgument(argumentName, argumentValue) {\n\t        if (argumentValue == null) {\n\t            throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Represents a jQuery wizard plugin.\n\t     *\n\t     * @class steps\n\t     * @constructor\n\t     * @param [method={}] The name of the method as `String` or an JSON object for initialization\n\t     * @param [params=]* {Array} Additional arguments for a method call\n\t     * @chainable\n\t     **/\n\t    $.fn.steps = function (method) {\n\t        if ($.fn.steps[method]) {\n\t            return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n\t        } else if (typeof method === \"object\" || !method) {\n\t            return initialize.apply(this, arguments);\n\t        } else {\n\t            $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Adds a new step.\n\t     *\n\t     * @method add\n\t     * @param step {Object} The step object to add\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.add = function (step) {\n\t        var state = getState(this);\n\t        return insertStep(this, getOptions(this), state, state.stepCount, step);\n\t    };\n\t\n\t    /**\n\t     * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n\t     *\n\t     * @method destroy\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.destroy = function () {\n\t        return destroy(this, getOptions(this));\n\t    };\n\t\n\t    /**\n\t     * Triggers the onFinishing and onFinished event.\n\t     *\n\t     * @method finish\n\t     **/\n\t    $.fn.steps.finish = function () {\n\t        finishStep(this, getState(this));\n\t    };\n\t\n\t    /**\n\t     * Gets the current step index.\n\t     *\n\t     * @method getCurrentIndex\n\t     * @return {Integer} The actual step index (zero-based)\n\t     * @for steps\n\t     **/\n\t    $.fn.steps.getCurrentIndex = function () {\n\t        return getState(this).currentIndex;\n\t    };\n\t\n\t    /**\n\t     * Gets the current step object.\n\t     *\n\t     * @method getCurrentStep\n\t     * @return {Object} The actual step object\n\t     **/\n\t    $.fn.steps.getCurrentStep = function () {\n\t        return getStep(this, getState(this).currentIndex);\n\t    };\n\t\n\t    /**\n\t     * Gets a specific step object by index.\n\t     *\n\t     * @method getStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @return {Object} A specific step object\n\t     **/\n\t    $.fn.steps.getStep = function (index) {\n\t        return getStep(this, index);\n\t    };\n\t\n\t    /**\n\t     * Inserts a new step to a specific position.\n\t     *\n\t     * @method insert\n\t     * @param index {Integer} The position (zero-based) to add\n\t     * @param step {Object} The step object to add\n\t     * @example\n\t     *     $(\"#wizard\").steps().insert(0, {\n\t     *         title: \"Title\",\n\t     *         content: \"\", // optional\n\t     *         contentMode: \"async\", // optional\n\t     *         contentUrl: \"/Content/Step/1\" // optional\n\t     *     });\n\t     * @chainable\n\t     **/\n\t    $.fn.steps.insert = function (index, step) {\n\t        return insertStep(this, getOptions(this), getState(this), index, step);\n\t    };\n\t\n\t    /**\n\t     * Routes to the next step.\n\t     *\n\t     * @method next\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.next = function () {\n\t        return goToNextStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Routes to the previous step.\n\t     *\n\t     * @method previous\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.previous = function () {\n\t        return goToPreviousStep(this, getOptions(this), getState(this));\n\t    };\n\t\n\t    /**\n\t     * Removes a specific step by an given index.\n\t     *\n\t     * @method remove\n\t     * @param index {Integer} The position (zero-based) of the step to remove\n\t     * @return Indecates whether the item is removed.\n\t     **/\n\t    $.fn.steps.remove = function (index) {\n\t        return removeStep(this, getOptions(this), getState(this), index);\n\t    };\n\t\n\t    /**\n\t     * Sets a specific step object by index.\n\t     *\n\t     * @method setStep\n\t     * @param index {Integer} An integer that belongs to the position of a step\n\t     * @param step {Object} The step object to change\n\t     **/\n\t    $.fn.steps.setStep = function (index, step) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * Skips an certain amount of steps.\n\t     *\n\t     * @method skip\n\t     * @param count {Integer} The amount of steps that should be skipped\n\t     * @return {Boolean} Indicates whether the action executed\n\t     **/\n\t    $.fn.steps.skip = function (count) {\n\t        throw new Error(\"Not yet implemented!\");\n\t    };\n\t\n\t    /**\n\t     * An enum represents the different content types of a step and their loading mechanisms.\n\t     *\n\t     * @class contentMode\n\t     * @for steps\n\t     **/\n\t    var contentMode = $.fn.steps.contentMode = {\n\t        /**\n\t         * HTML embedded content\n\t         *\n\t         * @readOnly\n\t         * @property html\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        html: 0,\n\t\n\t        /**\n\t         * IFrame embedded content\n\t         *\n\t         * @readOnly\n\t         * @property iframe\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        iframe: 1,\n\t\n\t        /**\n\t         * Async embedded content\n\t         *\n\t         * @readOnly\n\t         * @property async\n\t         * @type Integer\n\t         * @for contentMode\n\t         **/\n\t        async: 2\n\t    };\n\t\n\t    /**\n\t     * An enum represents the orientation of the steps navigation.\n\t     *\n\t     * @class stepsOrientation\n\t     * @for steps\n\t     **/\n\t    var stepsOrientation = $.fn.steps.stepsOrientation = {\n\t        /**\n\t         * Horizontal orientation\n\t         *\n\t         * @readOnly\n\t         * @property horizontal\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        horizontal: 0,\n\t\n\t        /**\n\t         * Vertical orientation\n\t         *\n\t         * @readOnly\n\t         * @property vertical\n\t         * @type Integer\n\t         * @for stepsOrientation\n\t         **/\n\t        vertical: 1\n\t    };\n\t\n\t    /**\n\t     * An enum that represents the various transition animations.\n\t     *\n\t     * @class transitionEffect\n\t     * @for steps\n\t     **/\n\t    var transitionEffect = $.fn.steps.transitionEffect = {\n\t        /**\n\t         * No transition animation\n\t         *\n\t         * @readOnly\n\t         * @property none\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        none: 0,\n\t\n\t        /**\n\t         * Fade in transition\n\t         *\n\t         * @readOnly\n\t         * @property fade\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        fade: 1,\n\t\n\t        /**\n\t         * Slide up transition\n\t         *\n\t         * @readOnly\n\t         * @property slide\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slide: 2,\n\t\n\t        /**\n\t         * Slide left transition\n\t         *\n\t         * @readOnly\n\t         * @property slideLeft\n\t         * @type Integer\n\t         * @for transitionEffect\n\t         **/\n\t        slideLeft: 3\n\t    };\n\t\n\t    var stepModel = $.fn.steps.stepModel = {\n\t        title: \"\",\n\t        content: \"\",\n\t        contentUrl: \"\",\n\t        contentMode: contentMode.html,\n\t        contentLoaded: false\n\t    };\n\t\n\t    /**\n\t     * An object that represents the default settings.\n\t     * There are two possibities to override the sub-properties.\n\t     * Either by doing it generally (global) or on initialization.\n\t     *\n\t     * @static\n\t     * @class defaults\n\t     * @for steps\n\t     * @example\n\t     *   // Global approach\n\t     *   $.steps.defaults.headerTag = \"h3\";\n\t     * @example\n\t     *   // Initialization approach\n\t     *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n\t     **/\n\t    var defaults = $.fn.steps.defaults = {\n\t        /**\n\t         * The header tag is used to find the step button text within the declared wizard area.\n\t         *\n\t         * @property headerTag\n\t         * @type String\n\t         * @default \"h1\"\n\t         * @for defaults\n\t         **/\n\t        headerTag: \"h1\",\n\t\n\t        /**\n\t         * The body tag is used to find the step content within the declared wizard area.\n\t         *\n\t         * @property bodyTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        bodyTag: \"div\",\n\t\n\t        /**\n\t         * The content container tag which will be used to wrap all step contents.\n\t         *\n\t         * @property contentContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        contentContainerTag: \"div\",\n\t\n\t        /**\n\t         * The action container tag which will be used to wrap the pagination navigation.\n\t         *\n\t         * @property actionContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        actionContainerTag: \"div\",\n\t\n\t        /**\n\t         * The steps container tag which will be used to wrap the steps navigation.\n\t         *\n\t         * @property stepsContainerTag\n\t         * @type String\n\t         * @default \"div\"\n\t         * @for defaults\n\t         **/\n\t        stepsContainerTag: \"div\",\n\t\n\t        /**\n\t         * The css class which will be added to the outer component wrapper.\n\t         *\n\t         * @property cssClass\n\t         * @type String\n\t         * @default \"wizard\"\n\t         * @for defaults\n\t         * @example\n\t         *     <div class=\"wizard\">\n\t         *         ...\n\t         *     </div>\n\t         **/\n\t        cssClass: \"wizard\",\n\t\n\t        /**\n\t         * The css class which will be used for floating scenarios.\n\t         *\n\t         * @property clearFixCssClass\n\t         * @type String\n\t         * @default \"clearfix\"\n\t         * @for defaults\n\t         **/\n\t        clearFixCssClass: \"clearfix\",\n\t\n\t        /**\n\t         * Determines whether the steps are vertically or horizontally oriented.\n\t         *\n\t         * @property stepsOrientation\n\t         * @type stepsOrientation\n\t         * @default horizontal\n\t         * @for defaults\n\t         * @since 1.0.0\n\t         **/\n\t        stepsOrientation: stepsOrientation.horizontal,\n\t\n\t        /*\n\t         * Tempplates\n\t         */\n\t\n\t        /**\n\t         * The title template which will be used to create a step button.\n\t         *\n\t         * @property titleTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n\t         * @for defaults\n\t         **/\n\t        titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\t\n\t        /**\n\t         * The loading template which will be used to create the loading animation.\n\t         *\n\t         * @property loadingTemplate\n\t         * @type String\n\t         * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n\t         * @for defaults\n\t         **/\n\t        loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\t\n\t        /*\n\t         * Behaviour\n\t         */\n\t\n\t        /**\n\t         * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n\t         *\n\t         * @property autoFocus\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         * @since 0.9.4\n\t         **/\n\t        autoFocus: false,\n\t\n\t        /**\n\t         * Enables all steps from the begining if `true` (all steps are clickable).\n\t         *\n\t         * @property enableAllSteps\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableAllSteps: false,\n\t\n\t        /**\n\t         * Enables keyboard navigation if `true` (arrow left and arrow right).\n\t         *\n\t         * @property enableKeyNavigation\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableKeyNavigation: true,\n\t\n\t        /**\n\t         * Enables pagination if `true`.\n\t         *\n\t         * @property enablePagination\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enablePagination: true,\n\t\n\t        /**\n\t         * Suppresses pagination if a form field is focused.\n\t         *\n\t         * @property suppressPaginationOnFocus\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        suppressPaginationOnFocus: true,\n\t\n\t        /**\n\t         * Enables cache for async loaded or iframe embedded content.\n\t         *\n\t         * @property enableContentCache\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableContentCache: true,\n\t\n\t        /**\n\t         * Shows the cancel button if enabled.\n\t         *\n\t         * @property enableCancelButton\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        enableCancelButton: false,\n\t\n\t        /**\n\t         * Shows the finish button if enabled.\n\t         *\n\t         * @property enableFinishButton\n\t         * @type Boolean\n\t         * @default true\n\t         * @for defaults\n\t         **/\n\t        enableFinishButton: true,\n\t\n\t        /**\n\t         * Not yet implemented.\n\t         *\n\t         * @property preloadContent\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        preloadContent: false,\n\t\n\t        /**\n\t         * Shows the finish button always (on each step; right beside the next button) if `true`.\n\t         * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n\t         *\n\t         * @property showFinishButtonAlways\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        showFinishButtonAlways: false,\n\t\n\t        /**\n\t         * Prevents jumping to a previous step.\n\t         *\n\t         * @property forceMoveForward\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        forceMoveForward: false,\n\t\n\t        /**\n\t         * Saves the current state (step position) to a cookie.\n\t         * By coming next time the last active step becomes activated.\n\t         *\n\t         * @property saveState\n\t         * @type Boolean\n\t         * @default false\n\t         * @for defaults\n\t         **/\n\t        saveState: false,\n\t\n\t        /**\n\t         * The position to start on (zero-based).\n\t         *\n\t         * @property startIndex\n\t         * @type Integer\n\t         * @default 0\n\t         * @for defaults\n\t         **/\n\t        startIndex: 0,\n\t\n\t        /*\n\t         * Animation Effect Configuration\n\t         */\n\t\n\t        /**\n\t         * The animation effect which will be used for step transitions.\n\t         *\n\t         * @property transitionEffect\n\t         * @type transitionEffect\n\t         * @default none\n\t         * @for defaults\n\t         **/\n\t        transitionEffect: transitionEffect.none,\n\t\n\t        /**\n\t         * Animation speed for step transitions (in milliseconds).\n\t         *\n\t         * @property transitionEffectSpeed\n\t         * @type Integer\n\t         * @default 200\n\t         * @for defaults\n\t         **/\n\t        transitionEffectSpeed: 200,\n\t\n\t        /*\n\t         * Events\n\t         */\n\t\n\t        /**\n\t         * Fires before the step changes and can be used to prevent step changing by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onStepChanging\n\t         * @type Event\n\t         * @default function (event, currentIndex, newIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after the step has change.\n\t         *\n\t         * @property onStepChanged\n\t         * @type Event\n\t         * @default function (event, currentIndex, priorIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onStepChanged: function onStepChanged(event, currentIndex, priorIndex) {},\n\t\n\t        /**\n\t         * Fires after cancelation.\n\t         *\n\t         * @property onCanceled\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onCanceled: function onCanceled(event) {},\n\t\n\t        /**\n\t         * Fires before finishing and can be used to prevent completion by returning `false`.\n\t         * Very useful for form validation.\n\t         *\n\t         * @property onFinishing\n\t         * @type Event\n\t         * @default function (event, currentIndex) { return true; }\n\t         * @for defaults\n\t         **/\n\t        onFinishing: function onFinishing(event, currentIndex) {\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Fires after completion.\n\t         *\n\t         * @property onFinished\n\t         * @type Event\n\t         * @default function (event, currentIndex) { }\n\t         * @for defaults\n\t         **/\n\t        onFinished: function onFinished(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires after async content is loaded.\n\t         *\n\t         * @property onContentLoaded\n\t         * @type Event\n\t         * @default function (event, index) { }\n\t         * @for defaults\n\t         **/\n\t        onContentLoaded: function onContentLoaded(event, currentIndex) {},\n\t\n\t        /**\n\t         * Fires when the wizard is initialized.\n\t         *\n\t         * @property onInit\n\t         * @type Event\n\t         * @default function (event) { }\n\t         * @for defaults\n\t         **/\n\t        onInit: function onInit(event, currentIndex) {},\n\t\n\t        /**\n\t         * Contains all labels.\n\t         *\n\t         * @property labels\n\t         * @type Object\n\t         * @for defaults\n\t         **/\n\t        labels: {\n\t            /**\n\t             * Label for the cancel button.\n\t             *\n\t             * @property cancel\n\t             * @type String\n\t             * @default \"Cancel\"\n\t             * @for defaults\n\t             **/\n\t            cancel: \"Cancel\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons.\n\t             * Indicates which step is activated.\n\t             *\n\t             * @property current\n\t             * @type String\n\t             * @default \"current step:\"\n\t             * @for defaults\n\t             **/\n\t            current: \"current step:\",\n\t\n\t            /**\n\t             * This label is important for accessability reasons and describes the kind of navigation.\n\t             *\n\t             * @property pagination\n\t             * @type String\n\t             * @default \"Pagination\"\n\t             * @for defaults\n\t             * @since 0.9.7\n\t             **/\n\t            pagination: \"Pagination\",\n\t\n\t            /**\n\t             * Label for the finish button.\n\t             *\n\t             * @property finish\n\t             * @type String\n\t             * @default \"Finish\"\n\t             * @for defaults\n\t             **/\n\t            finish: \"Finish\",\n\t\n\t            /**\n\t             * Label for the next button.\n\t             *\n\t             * @property next\n\t             * @type String\n\t             * @default \"Next\"\n\t             * @for defaults\n\t             **/\n\t            next: \"Next\",\n\t\n\t            /**\n\t             * Label for the previous button.\n\t             *\n\t             * @property previous\n\t             * @type String\n\t             * @default \"Previous\"\n\t             * @for defaults\n\t             **/\n\t            previous: \"Previous\",\n\t\n\t            /**\n\t             * Label for the loading animation.\n\t             *\n\t             * @property loading\n\t             * @type String\n\t             * @default \"Loading ...\"\n\t             * @for defaults\n\t             **/\n\t            loading: \"Loading ...\"\n\t        }\n\t    };\n\t})(jQuery);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * jQuery Validation Plugin v1.15.0\n\t *\n\t * http://jqueryvalidation.org/\n\t *\n\t * Copyright (c) 2016 Jörn Zaefferer\n\t * Released under the MIT license\n\t */\n\t\"use strict\";\n\t\n\t(function (factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof module === \"object\" && module.exports) {\n\t\t\tmodule.exports = factory(require(\"jquery\"));\n\t\t} else {\n\t\t\tfactory(jQuery);\n\t\t}\n\t})(function ($) {\n\t\n\t\t$.extend($.fn, {\n\t\n\t\t\t// http://jqueryvalidation.org/validate/\n\t\t\tvalidate: function validate(options) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\tif (options && options.debug && window.console) {\n\t\t\t\t\t\tconsole.warn(\"Nothing selected, can't validate, returning nothing.\");\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\t// Check if a validator for this form was already created\n\t\t\t\tvar validator = $.data(this[0], \"validator\");\n\t\t\t\tif (validator) {\n\t\t\t\t\treturn validator;\n\t\t\t\t}\n\t\n\t\t\t\t// Add novalidate tag if HTML5.\n\t\t\t\tthis.attr(\"novalidate\", \"novalidate\");\n\t\n\t\t\t\tvalidator = new $.validator(options, this[0]);\n\t\t\t\t$.data(this[0], \"validator\", validator);\n\t\n\t\t\t\tif (validator.settings.onsubmit) {\n\t\n\t\t\t\t\tthis.on(\"click.validate\", \":submit\", function (event) {\n\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\t\t\tif ($(this).hasClass(\"cancel\")) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\t\t\tif ($(this).attr(\"formnovalidate\") !== undefined) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\n\t\t\t\t\t// Validate the form on submit\n\t\t\t\t\tthis.on(\"submit.validate\", function (event) {\n\t\t\t\t\t\tif (validator.settings.debug) {\n\t\n\t\t\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfunction handle() {\n\t\t\t\t\t\t\tvar hidden, result;\n\t\t\t\t\t\t\tif (validator.settings.submitHandler) {\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\t\t\thidden = $(\"<input type='hidden'/>\").attr(\"name\", validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresult = validator.settings.submitHandler.call(validator, validator.currentForm, event);\n\t\t\t\t\t\t\t\tif (validator.submitButton) {\n\t\n\t\t\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (result !== undefined) {\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\t\t\tif (validator.cancelSubmit) {\n\t\t\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (validator.form()) {\n\t\t\t\t\t\t\tif (validator.pendingRequest) {\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn handle();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\treturn validator;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/valid/\n\t\t\tvalid: function valid() {\n\t\t\t\tvar valid, validator, errorList;\n\t\n\t\t\t\tif ($(this[0]).is(\"form\")) {\n\t\t\t\t\tvalid = this.validate().form();\n\t\t\t\t} else {\n\t\t\t\t\terrorList = [];\n\t\t\t\t\tvalid = true;\n\t\t\t\t\tvalidator = $(this[0].form).validate();\n\t\t\t\t\tthis.each(function () {\n\t\t\t\t\t\tvalid = validator.element(this) && valid;\n\t\t\t\t\t\tif (!valid) {\n\t\t\t\t\t\t\terrorList = errorList.concat(validator.errorList);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvalidator.errorList = errorList;\n\t\t\t\t}\n\t\t\t\treturn valid;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/rules/\n\t\t\trules: function rules(command, argument) {\n\t\n\t\t\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\t\t\tif (!this.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar element = this[0],\n\t\t\t\t    settings,\n\t\t\t\t    staticRules,\n\t\t\t\t    existingRules,\n\t\t\t\t    data,\n\t\t\t\t    param,\n\t\t\t\t    filtered;\n\t\n\t\t\t\tif (command) {\n\t\t\t\t\tsettings = $.data(element.form, \"validator\").settings;\n\t\t\t\t\tstaticRules = settings.rules;\n\t\t\t\t\texistingRules = $.validator.staticRules(element);\n\t\t\t\t\tswitch (command) {\n\t\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\t\t$.extend(existingRules, $.validator.normalizeRule(argument));\n\t\n\t\t\t\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\t\t\t\tdelete existingRules.messages;\n\t\t\t\t\t\t\tstaticRules[element.name] = existingRules;\n\t\t\t\t\t\t\tif (argument.messages) {\n\t\t\t\t\t\t\t\tsettings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"remove\":\n\t\t\t\t\t\t\tif (!argument) {\n\t\t\t\t\t\t\t\tdelete staticRules[element.name];\n\t\t\t\t\t\t\t\treturn existingRules;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfiltered = {};\n\t\t\t\t\t\t\t$.each(argument.split(/\\s/), function (index, method) {\n\t\t\t\t\t\t\t\tfiltered[method] = existingRules[method];\n\t\t\t\t\t\t\t\tdelete existingRules[method];\n\t\t\t\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\t\t\t\t$(element).removeAttr(\"aria-required\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn filtered;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tdata = $.validator.normalizeRules($.extend({}, $.validator.classRules(element), $.validator.attributeRules(element), $.validator.dataRules(element), $.validator.staticRules(element)), element);\n\t\n\t\t\t\t// Make sure required is at front\n\t\t\t\tif (data.required) {\n\t\t\t\t\tparam = data.required;\n\t\t\t\t\tdelete data.required;\n\t\t\t\t\tdata = $.extend({ required: param }, data);\n\t\t\t\t\t$(element).attr(\"aria-required\", \"true\");\n\t\t\t\t}\n\t\n\t\t\t\t// Make sure remote is at back\n\t\t\t\tif (data.remote) {\n\t\t\t\t\tparam = data.remote;\n\t\t\t\t\tdelete data.remote;\n\t\t\t\t\tdata = $.extend(data, { remote: param });\n\t\t\t\t}\n\t\n\t\t\t\treturn data;\n\t\t\t}\n\t\t});\n\t\n\t\t// Custom selectors\n\t\t$.extend($.expr[\":\"], {\n\t\n\t\t\t// http://jqueryvalidation.org/blank-selector/\n\t\t\tblank: function blank(a) {\n\t\t\t\treturn !$.trim(\"\" + $(a).val());\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/filled-selector/\n\t\t\tfilled: function filled(a) {\n\t\t\t\tvar val = $(a).val();\n\t\t\t\treturn val !== null && !!$.trim(\"\" + val);\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/unchecked-selector/\n\t\t\tunchecked: function unchecked(a) {\n\t\t\t\treturn !$(a).prop(\"checked\");\n\t\t\t}\n\t\t});\n\t\n\t\t// Constructor for validator\n\t\t$.validator = function (options, form) {\n\t\t\tthis.settings = $.extend(true, {}, $.validator.defaults, options);\n\t\t\tthis.currentForm = form;\n\t\t\tthis.init();\n\t\t};\n\t\n\t\t// http://jqueryvalidation.org/jQuery.validator.format/\n\t\t$.validator.format = function (source, params) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\treturn function () {\n\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\targs.unshift(source);\n\t\t\t\t\treturn $.validator.format.apply(this, args);\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\treturn source;\n\t\t\t}\n\t\t\tif (arguments.length > 2 && params.constructor !== Array) {\n\t\t\t\tparams = $.makeArray(arguments).slice(1);\n\t\t\t}\n\t\t\tif (params.constructor !== Array) {\n\t\t\t\tparams = [params];\n\t\t\t}\n\t\t\t$.each(params, function (i, n) {\n\t\t\t\tsource = source.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), function () {\n\t\t\t\t\treturn n;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn source;\n\t\t};\n\t\n\t\t$.extend($.validator, {\n\t\n\t\t\tdefaults: {\n\t\t\t\tmessages: {},\n\t\t\t\tgroups: {},\n\t\t\t\trules: {},\n\t\t\t\terrorClass: \"error\",\n\t\t\t\tpendingClass: \"pending\",\n\t\t\t\tvalidClass: \"valid\",\n\t\t\t\terrorElement: \"label\",\n\t\t\t\tfocusCleanup: false,\n\t\t\t\tfocusInvalid: true,\n\t\t\t\terrorContainer: $([]),\n\t\t\t\terrorLabelContainer: $([]),\n\t\t\t\tonsubmit: true,\n\t\t\t\tignore: \":hidden\",\n\t\t\t\tignoreTitle: false,\n\t\t\t\tonfocusin: function onfocusin(element) {\n\t\t\t\t\tthis.lastActive = element;\n\t\n\t\t\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\t\t\tif (this.settings.focusCleanup) {\n\t\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hideThese(this.errorsFor(element));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonfocusout: function onfocusout(element) {\n\t\t\t\t\tif (!this.checkable(element) && (element.name in this.submitted || !this.optional(element))) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonkeyup: function onkeyup(element, event) {\n\t\n\t\t\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t\t\t// Shift       => 16\n\t\t\t\t\t// Ctrl        => 17\n\t\t\t\t\t// Alt         => 18\n\t\t\t\t\t// Caps lock   => 20\n\t\t\t\t\t// End         => 35\n\t\t\t\t\t// Home        => 36\n\t\t\t\t\t// Left arrow  => 37\n\t\t\t\t\t// Up arrow    => 38\n\t\t\t\t\t// Right arrow => 39\n\t\t\t\t\t// Down arrow  => 40\n\t\t\t\t\t// Insert      => 45\n\t\t\t\t\t// Num lock    => 144\n\t\t\t\t\t// AltGr key   => 225\n\t\t\t\t\tvar excludedKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n\t\n\t\t\t\t\tif (event.which === 9 && this.elementValue(element) === \"\" || $.inArray(event.keyCode, excludedKeys) !== -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (element.name in this.submitted || element.name in this.invalid) {\n\t\t\t\t\t\tthis.element(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonclick: function onclick(element) {\n\t\n\t\t\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\t\t\tif (element.name in this.submitted) {\n\t\t\t\t\t\tthis.element(element);\n\t\n\t\t\t\t\t\t// Or option elements, check parent select in that case\n\t\t\t\t\t} else if (element.parentNode.name in this.submitted) {\n\t\t\t\t\t\t\tthis.element(element.parentNode);\n\t\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thighlight: function highlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tunhighlight: function unhighlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === \"radio\") {\n\t\t\t\t\t\tthis.findByName(element.name).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\t\t\tsetDefaults: function setDefaults(settings) {\n\t\t\t\t$.extend($.validator.defaults, settings);\n\t\t\t},\n\t\n\t\t\tmessages: {\n\t\t\t\trequired: \"This field is required.\",\n\t\t\t\tremote: \"Please fix this field.\",\n\t\t\t\temail: \"Please enter a valid email address.\",\n\t\t\t\turl: \"Please enter a valid URL.\",\n\t\t\t\tdate: \"Please enter a valid date.\",\n\t\t\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\t\t\tnumber: \"Please enter a valid number.\",\n\t\t\t\tdigits: \"Please enter only digits.\",\n\t\t\t\tequalTo: \"Please enter the same value again.\",\n\t\t\t\tmaxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\n\t\t\t\tminlength: $.validator.format(\"Please enter at least {0} characters.\"),\n\t\t\t\trangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n\t\t\t\trange: $.validator.format(\"Please enter a value between {0} and {1}.\"),\n\t\t\t\tmax: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\n\t\t\t\tmin: $.validator.format(\"Please enter a value greater than or equal to {0}.\"),\n\t\t\t\tstep: $.validator.format(\"Please enter a multiple of {0}.\")\n\t\t\t},\n\t\n\t\t\tautoCreateRanges: false,\n\t\n\t\t\tprototype: {\n\t\n\t\t\t\tinit: function init() {\n\t\t\t\t\tthis.labelContainer = $(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\n\t\t\t\t\tthis.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer);\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.valueCache = {};\n\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\tthis.pending = {};\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.reset();\n\t\n\t\t\t\t\tvar groups = this.groups = {},\n\t\t\t\t\t    rules;\n\t\t\t\t\t$.each(this.settings.groups, function (key, value) {\n\t\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\t\tvalue = value.split(/\\s/);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(value, function (index, name) {\n\t\t\t\t\t\t\tgroups[name] = key;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\trules = this.settings.rules;\n\t\t\t\t\t$.each(rules, function (key, value) {\n\t\t\t\t\t\trules[key] = $.validator.normalizeRule(value);\n\t\t\t\t\t});\n\t\n\t\t\t\t\tfunction delegate(event) {\n\t\t\t\t\t\tvar validator = $.data(this.form, \"validator\"),\n\t\t\t\t\t\t    eventType = \"on\" + event.type.replace(/^validate/, \"\"),\n\t\t\t\t\t\t    settings = validator.settings;\n\t\t\t\t\t\tif (settings[eventType] && !$(this).is(settings.ignore)) {\n\t\t\t\t\t\t\tsettings[eventType].call(validator, this, event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$(this.currentForm).on(\"focusin.validate focusout.validate keyup.validate\", \":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" + \"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" + \"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" + \"[type='radio'], [type='checkbox'], [contenteditable]\", delegate)\n\t\n\t\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t\t.on(\"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate);\n\t\n\t\t\t\t\tif (this.settings.invalidHandler) {\n\t\t\t\t\t\t$(this.currentForm).on(\"invalid-form.validate\", this.settings.invalidHandler);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t\t\t$(this.currentForm).find(\"[required], [data-rule-required], .required\").attr(\"aria-required\", \"true\");\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.form/\n\t\t\t\tform: function form() {\n\t\t\t\t\tthis.checkForm();\n\t\t\t\t\t$.extend(this.submitted, this.errorMap);\n\t\t\t\t\tthis.invalid = $.extend({}, this.errorMap);\n\t\t\t\t\tif (!this.valid()) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.showErrors();\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\tcheckForm: function checkForm() {\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tfor (var i = 0, elements = this.currentElements = this.elements(); elements[i]; i++) {\n\t\t\t\t\t\tthis.check(elements[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.valid();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.element/\n\t\t\t\telement: function element(_element) {\n\t\t\t\t\tvar cleanElement = this.clean(_element),\n\t\t\t\t\t    checkElement = this.validationTargetFor(cleanElement),\n\t\t\t\t\t    v = this,\n\t\t\t\t\t    result = true,\n\t\t\t\t\t    rs,\n\t\t\t\t\t    group;\n\t\n\t\t\t\t\tif (checkElement === undefined) {\n\t\t\t\t\t\tdelete this.invalid[cleanElement.name];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.prepareElement(checkElement);\n\t\t\t\t\t\tthis.currentElements = $(checkElement);\n\t\n\t\t\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t\t\t// containing a value\n\t\t\t\t\t\tgroup = this.groups[checkElement.name];\n\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t$.each(this.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\tif (testgroup === group && name !== checkElement.name) {\n\t\t\t\t\t\t\t\t\tcleanElement = v.validationTargetFor(v.clean(v.findByName(name)));\n\t\t\t\t\t\t\t\t\tif (cleanElement && cleanElement.name in v.invalid) {\n\t\t\t\t\t\t\t\t\t\tv.currentElements.push(cleanElement);\n\t\t\t\t\t\t\t\t\t\tresult = result && v.check(cleanElement);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trs = this.check(checkElement) !== false;\n\t\t\t\t\t\tresult = result && rs;\n\t\t\t\t\t\tif (rs) {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.invalid[checkElement.name] = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!this.numberOfInvalids()) {\n\t\n\t\t\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\t\t\tthis.toHide = this.toHide.add(this.containers);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showErrors();\n\t\n\t\t\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t\t\t$(_element).attr(\"aria-invalid\", !rs);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\t\t\tshowErrors: function showErrors(errors) {\n\t\t\t\t\tif (errors) {\n\t\t\t\t\t\tvar validator = this;\n\t\n\t\t\t\t\t\t// Add items to error list and map\n\t\t\t\t\t\t$.extend(this.errorMap, errors);\n\t\t\t\t\t\tthis.errorList = $.map(this.errorMap, function (message, name) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\t\t\telement: validator.findByName(name)[0]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t// Remove items from success list\n\t\t\t\t\t\tthis.successList = $.grep(this.successList, function (element) {\n\t\t\t\t\t\t\treturn !(element.name in errors);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.showErrors) {\n\t\t\t\t\t\tthis.settings.showErrors.call(this, this.errorMap, this.errorList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.defaultShowErrors();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\t\t\tresetForm: function resetForm() {\n\t\t\t\t\tif ($.fn.resetForm) {\n\t\t\t\t\t\t$(this.currentForm).resetForm();\n\t\t\t\t\t}\n\t\t\t\t\tthis.invalid = {};\n\t\t\t\t\tthis.submitted = {};\n\t\t\t\t\tthis.prepareForm();\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tvar elements = this.elements().removeData(\"previousValue\").removeAttr(\"aria-invalid\");\n\t\n\t\t\t\t\tthis.resetElements(elements);\n\t\t\t\t},\n\t\n\t\t\t\tresetElements: function resetElements(elements) {\n\t\t\t\t\tvar i;\n\t\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0; elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, \"\");\n\t\t\t\t\t\t\tthis.findByName(elements[i].name).removeClass(this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\telements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tnumberOfInvalids: function numberOfInvalids() {\n\t\t\t\t\treturn this.objectLength(this.invalid);\n\t\t\t\t},\n\t\n\t\t\t\tobjectLength: function objectLength(obj) {\n\t\t\t\t\t/* jshint unused: false */\n\t\t\t\t\tvar count = 0,\n\t\t\t\t\t    i;\n\t\t\t\t\tfor (i in obj) {\n\t\t\t\t\t\tif (obj[i]) {\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn count;\n\t\t\t\t},\n\t\n\t\t\t\thideErrors: function hideErrors() {\n\t\t\t\t\tthis.hideThese(this.toHide);\n\t\t\t\t},\n\t\n\t\t\t\thideThese: function hideThese(errors) {\n\t\t\t\t\terrors.not(this.containers).text(\"\");\n\t\t\t\t\tthis.addWrapper(errors).hide();\n\t\t\t\t},\n\t\n\t\t\t\tvalid: function valid() {\n\t\t\t\t\treturn this.size() === 0;\n\t\t\t\t},\n\t\n\t\t\t\tsize: function size() {\n\t\t\t\t\treturn this.errorList.length;\n\t\t\t\t},\n\t\n\t\t\t\tfocusInvalid: function focusInvalid() {\n\t\t\t\t\tif (this.settings.focusInvalid) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(\":visible\").focus()\n\t\n\t\t\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t\t\t.trigger(\"focusin\");\n\t\t\t\t\t\t} catch (e) {\n\t\n\t\t\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tfindLastActive: function findLastActive() {\n\t\t\t\t\tvar lastActive = this.lastActive;\n\t\t\t\t\treturn lastActive && $.grep(this.errorList, function (n) {\n\t\t\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t\t\t}).length === 1 && lastActive;\n\t\t\t\t},\n\t\n\t\t\t\telements: function elements() {\n\t\t\t\t\tvar validator = this,\n\t\t\t\t\t    rulesCache = {};\n\t\n\t\t\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\t\t\treturn $(this.currentForm).find(\"input, select, textarea, [contenteditable]\").not(\":submit, :reset, :image, :disabled\").not(this.settings.ignore).filter(function () {\n\t\t\t\t\t\tvar name = this.name || $(this).attr(\"name\"); // For contenteditable\n\t\t\t\t\t\tif (!name && validator.settings.debug && window.console) {\n\t\t\t\t\t\t\tconsole.error(\"%o has no name assigned\", this);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Set form expando on contenteditable\n\t\t\t\t\t\tif (this.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\t\tthis.form = $(this).closest(\"form\")[0];\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\t\t\tif (name in rulesCache || !validator.objectLength($(this).rules())) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\trulesCache[name] = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tclean: function clean(selector) {\n\t\t\t\t\treturn $(selector)[0];\n\t\t\t\t},\n\t\n\t\t\t\terrors: function errors() {\n\t\t\t\t\tvar errorClass = this.settings.errorClass.split(\" \").join(\".\");\n\t\t\t\t\treturn $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\n\t\t\t\t},\n\t\n\t\t\t\tresetInternals: function resetInternals() {\n\t\t\t\t\tthis.successList = [];\n\t\t\t\t\tthis.errorList = [];\n\t\t\t\t\tthis.errorMap = {};\n\t\t\t\t\tthis.toShow = $([]);\n\t\t\t\t\tthis.toHide = $([]);\n\t\t\t\t},\n\t\n\t\t\t\treset: function reset() {\n\t\t\t\t\tthis.resetInternals();\n\t\t\t\t\tthis.currentElements = $([]);\n\t\t\t\t},\n\t\n\t\t\t\tprepareForm: function prepareForm() {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errors().add(this.containers);\n\t\t\t\t},\n\t\n\t\t\t\tprepareElement: function prepareElement(element) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.toHide = this.errorsFor(element);\n\t\t\t\t},\n\t\n\t\t\t\telementValue: function elementValue(element) {\n\t\t\t\t\tvar $element = $(element),\n\t\t\t\t\t    type = element.type,\n\t\t\t\t\t    val,\n\t\t\t\t\t    idx;\n\t\n\t\t\t\t\tif (type === \"radio\" || type === \"checkbox\") {\n\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").val();\n\t\t\t\t\t} else if (type === \"number\" && typeof element.validity !== \"undefined\") {\n\t\t\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (element.hasAttribute(\"contenteditable\")) {\n\t\t\t\t\t\tval = $element.text();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = $element.val();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (type === \"file\") {\n\t\n\t\t\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\t\t\tif (val.substr(0, 12) === \"C:\\\\fakepath\\\\\") {\n\t\t\t\t\t\t\treturn val.substr(12);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Legacy browsers\n\t\t\t\t\t\t// Unix-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"/\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Windows-based path\n\t\t\t\t\t\tidx = val.lastIndexOf(\"\\\\\");\n\t\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t\treturn val.substr(idx + 1);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Just the file name\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (typeof val === \"string\") {\n\t\t\t\t\t\treturn val.replace(/\\r/g, \"\");\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\t\n\t\t\t\tcheck: function check(element) {\n\t\t\t\t\telement = this.validationTargetFor(this.clean(element));\n\t\n\t\t\t\t\tvar rules = $(element).rules(),\n\t\t\t\t\t    rulesCount = $.map(rules, function (n, i) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}).length,\n\t\t\t\t\t    dependencyMismatch = false,\n\t\t\t\t\t    val = this.elementValue(element),\n\t\t\t\t\t    result,\n\t\t\t\t\t    method,\n\t\t\t\t\t    rule;\n\t\n\t\t\t\t\t// If a normalizer is defined for this element, then\n\t\t\t\t\t// call it to retreive the changed value instead\n\t\t\t\t\t// of using the real one.\n\t\t\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\t\t\tif (typeof rules.normalizer === \"function\") {\n\t\t\t\t\t\tval = rules.normalizer.call(element, val);\n\t\n\t\t\t\t\t\tif (typeof val !== \"string\") {\n\t\t\t\t\t\t\tthrow new TypeError(\"The normalizer should return a string value.\");\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t\t\t// it as a pre-defined method.\n\t\t\t\t\t\tdelete rules.normalizer;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor (method in rules) {\n\t\t\t\t\t\trule = { method: method, parameters: rules[method] };\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresult = $.validator.methods[method].call(this, val, element, rule.parameters);\n\t\n\t\t\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\t\t\tif (result === \"dependency-mismatch\" && rulesCount === 1) {\n\t\t\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdependencyMismatch = false;\n\t\n\t\t\t\t\t\t\tif (result === \"pending\") {\n\t\t\t\t\t\t\t\tthis.toHide = this.toHide.not(this.errorsFor(element));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\t\tthis.formatAndAdd(element, rule);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif (this.settings.debug && window.console) {\n\t\t\t\t\t\t\t\tconsole.log(\"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e instanceof TypeError) {\n\t\t\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (dependencyMismatch) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.objectLength(rules)) {\n\t\t\t\t\t\tthis.successList.push(element);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element and validation method\n\t\t\t\t// specified in the element's HTML5 data attribute\n\t\t\t\t// return the generic message if present and no method specific message is present\n\t\t\t\tcustomDataMessage: function customDataMessage(element, method) {\n\t\t\t\t\treturn $(element).data(\"msg\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase()) || $(element).data(\"msg\");\n\t\t\t\t},\n\t\n\t\t\t\t// Return the custom message for the given element name and validation method\n\t\t\t\tcustomMessage: function customMessage(name, method) {\n\t\t\t\t\tvar m = this.settings.messages[name];\n\t\t\t\t\treturn m && (m.constructor === String ? m : m[method]);\n\t\t\t\t},\n\t\n\t\t\t\t// Return the first defined argument, allowing empty strings\n\t\t\t\tfindDefined: function findDefined() {\n\t\t\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\t\t\tif (arguments[i] !== undefined) {\n\t\t\t\t\t\t\treturn arguments[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultMessage: function defaultMessage(element, rule) {\n\t\t\t\t\tvar message = this.findDefined(this.customMessage(element.name, rule.method), this.customDataMessage(element, rule.method),\n\t\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined, $.validator.messages[rule.method], \"<strong>Warning: No message defined for \" + element.name + \"</strong>\"),\n\t\t\t\t\t    theregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\t\t\tif (typeof message === \"function\") {\n\t\t\t\t\t\tmessage = message.call(this, rule.parameters, element);\n\t\t\t\t\t} else if (theregex.test(message)) {\n\t\t\t\t\t\tmessage = $.validator.format(message.replace(theregex, \"{$1}\"), rule.parameters);\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn message;\n\t\t\t\t},\n\t\n\t\t\t\tformatAndAdd: function formatAndAdd(element, rule) {\n\t\t\t\t\tvar message = this.defaultMessage(element, rule);\n\t\n\t\t\t\t\tthis.errorList.push({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: element,\n\t\t\t\t\t\tmethod: rule.method\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.errorMap[element.name] = message;\n\t\t\t\t\tthis.submitted[element.name] = message;\n\t\t\t\t},\n\t\n\t\t\t\taddWrapper: function addWrapper(toToggle) {\n\t\t\t\t\tif (this.settings.wrapper) {\n\t\t\t\t\t\ttoToggle = toToggle.add(toToggle.parent(this.settings.wrapper));\n\t\t\t\t\t}\n\t\t\t\t\treturn toToggle;\n\t\t\t\t},\n\t\n\t\t\t\tdefaultShowErrors: function defaultShowErrors() {\n\t\t\t\t\tvar i, elements, error;\n\t\t\t\t\tfor (i = 0; this.errorList[i]; i++) {\n\t\t\t\t\t\terror = this.errorList[i];\n\t\t\t\t\t\tif (this.settings.highlight) {\n\t\t\t\t\t\t\tthis.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showLabel(error.element, error.message);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.errorList.length) {\n\t\t\t\t\t\tthis.toShow = this.toShow.add(this.containers);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.success) {\n\t\t\t\t\t\tfor (i = 0; this.successList[i]; i++) {\n\t\t\t\t\t\t\tthis.showLabel(this.successList[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.settings.unhighlight) {\n\t\t\t\t\t\tfor (i = 0, elements = this.validElements(); elements[i]; i++) {\n\t\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toHide = this.toHide.not(this.toShow);\n\t\t\t\t\tthis.hideErrors();\n\t\t\t\t\tthis.addWrapper(this.toShow).show();\n\t\t\t\t},\n\t\n\t\t\t\tvalidElements: function validElements() {\n\t\t\t\t\treturn this.currentElements.not(this.invalidElements());\n\t\t\t\t},\n\t\n\t\t\t\tinvalidElements: function invalidElements() {\n\t\t\t\t\treturn $(this.errorList).map(function () {\n\t\t\t\t\t\treturn this.element;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\tshowLabel: function showLabel(element, message) {\n\t\t\t\t\tvar place,\n\t\t\t\t\t    group,\n\t\t\t\t\t    errorID,\n\t\t\t\t\t    v,\n\t\t\t\t\t    error = this.errorsFor(element),\n\t\t\t\t\t    elementID = this.idOrName(element),\n\t\t\t\t\t    describedBy = $(element).attr(\"aria-describedby\");\n\t\n\t\t\t\t\tif (error.length) {\n\t\n\t\t\t\t\t\t// Refresh error/success class\n\t\t\t\t\t\terror.removeClass(this.settings.validClass).addClass(this.settings.errorClass);\n\t\n\t\t\t\t\t\t// Replace message on existing label\n\t\t\t\t\t\terror.html(message);\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t// Create error element\n\t\t\t\t\t\terror = $(\"<\" + this.settings.errorElement + \">\").attr(\"id\", elementID + \"-error\").addClass(this.settings.errorClass).html(message || \"\");\n\t\n\t\t\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\t\t\tplace = error;\n\t\t\t\t\t\tif (this.settings.wrapper) {\n\t\n\t\t\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\t\t\tplace = error.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.labelContainer.length) {\n\t\t\t\t\t\t\tthis.labelContainer.append(place);\n\t\t\t\t\t\t} else if (this.settings.errorPlacement) {\n\t\t\t\t\t\t\tthis.settings.errorPlacement(place, $(element));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplace.insertAfter(element);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Link error back to the element\n\t\t\t\t\t\tif (error.is(\"label\")) {\n\t\n\t\t\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\t\t\terror.attr(\"for\", elementID);\n\t\n\t\t\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t\t\t} else if (error.parents(\"label[for='\" + this.escapeCssMeta(elementID) + \"']\").length === 0) {\n\t\t\t\t\t\t\t\terrorID = error.attr(\"id\");\n\t\n\t\t\t\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\t\t\t\tif (!describedBy) {\n\t\t\t\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t\t\t\t} else if (!describedBy.match(new RegExp(\"\\\\b\" + this.escapeCssMeta(errorID) + \"\\\\b\"))) {\n\t\n\t\t\t\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$(element).attr(\"aria-describedby\", describedBy);\n\t\n\t\t\t\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\t\t\t\tgroup = this.groups[element.name];\n\t\t\t\t\t\t\t\tif (group) {\n\t\t\t\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t\t\t\t$.each(v.groups, function (name, testgroup) {\n\t\t\t\t\t\t\t\t\t\tif (testgroup === group) {\n\t\t\t\t\t\t\t\t\t\t\t$(\"[name='\" + v.escapeCssMeta(name) + \"']\", v.currentForm).attr(\"aria-describedby\", error.attr(\"id\"));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!message && this.settings.success) {\n\t\t\t\t\t\terror.text(\"\");\n\t\t\t\t\t\tif (typeof this.settings.success === \"string\") {\n\t\t\t\t\t\t\terror.addClass(this.settings.success);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.settings.success(error, element);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.toShow = this.toShow.add(error);\n\t\t\t\t},\n\t\n\t\t\t\terrorsFor: function errorsFor(element) {\n\t\t\t\t\tvar name = this.escapeCssMeta(this.idOrName(element)),\n\t\t\t\t\t    describer = $(element).attr(\"aria-describedby\"),\n\t\t\t\t\t    selector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\t\n\t\t\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\t\t\tif (describer) {\n\t\t\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta(describer).replace(/\\s+/g, \", #\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn this.errors().filter(selector);\n\t\t\t\t},\n\t\n\t\t\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t\t\t// as a literal part of a name/id or any selector.\n\t\t\t\tescapeCssMeta: function escapeCssMeta(string) {\n\t\t\t\t\treturn string.replace(/([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\");\n\t\t\t\t},\n\t\n\t\t\t\tidOrName: function idOrName(element) {\n\t\t\t\t\treturn this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\n\t\t\t\t},\n\t\n\t\t\t\tvalidationTargetFor: function validationTargetFor(element) {\n\t\n\t\t\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\telement = this.findByName(element.name);\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Always apply ignore filter\n\t\t\t\t\treturn $(element).not(this.settings.ignore)[0];\n\t\t\t\t},\n\t\n\t\t\t\tcheckable: function checkable(element) {\n\t\t\t\t\treturn (/radio|checkbox/i.test(element.type)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\n\t\t\t\tfindByName: function findByName(name) {\n\t\t\t\t\treturn $(this.currentForm).find(\"[name='\" + this.escapeCssMeta(name) + \"']\");\n\t\t\t\t},\n\t\n\t\t\t\tgetLength: function getLength(value, element) {\n\t\t\t\t\tswitch (element.nodeName.toLowerCase()) {\n\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\treturn $(\"option:selected\", element).length;\n\t\t\t\t\t\tcase \"input\":\n\t\t\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length;\n\t\t\t\t},\n\t\n\t\t\t\tdepend: function depend(param, element) {\n\t\t\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\n\t\t\t\t},\n\t\n\t\t\t\tdependTypes: {\n\t\t\t\t\t\"boolean\": function boolean(param) {\n\t\t\t\t\t\treturn param;\n\t\t\t\t\t},\n\t\t\t\t\t\"string\": function string(param, element) {\n\t\t\t\t\t\treturn !!$(param, element.form).length;\n\t\t\t\t\t},\n\t\t\t\t\t\"function\": function _function(param, element) {\n\t\t\t\t\t\treturn param(element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\toptional: function optional(element) {\n\t\t\t\t\tvar val = this.elementValue(element);\n\t\t\t\t\treturn !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\n\t\t\t\t},\n\t\n\t\t\t\tstartRequest: function startRequest(element) {\n\t\t\t\t\tif (!this.pending[element.name]) {\n\t\t\t\t\t\tthis.pendingRequest++;\n\t\t\t\t\t\t$(element).addClass(this.settings.pendingClass);\n\t\t\t\t\t\tthis.pending[element.name] = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tstopRequest: function stopRequest(element, valid) {\n\t\t\t\t\tthis.pendingRequest--;\n\t\n\t\t\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\t\t\tif (this.pendingRequest < 0) {\n\t\t\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\t\t}\n\t\t\t\t\tdelete this.pending[element.name];\n\t\t\t\t\t$(element).removeClass(this.settings.pendingClass);\n\t\t\t\t\tif (valid && this.pendingRequest === 0 && this.formSubmitted && this.form()) {\n\t\t\t\t\t\t$(this.currentForm).submit();\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t} else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\n\t\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n\t\t\t\t\t\tthis.formSubmitted = false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tpreviousValue: function previousValue(element, method) {\n\t\t\t\t\treturn $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\n\t\t\t\t\t\told: null,\n\t\t\t\t\t\tvalid: true,\n\t\t\t\t\t\tmessage: this.defaultMessage(element, { method: method })\n\t\t\t\t\t});\n\t\t\t\t},\n\t\n\t\t\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\t\t\tdestroy: function destroy() {\n\t\t\t\t\tthis.resetForm();\n\t\n\t\t\t\t\t$(this.currentForm).off(\".validate\").removeData(\"validator\").find(\".validate-equalTo-blur\").off(\".validate-equalTo\").removeClass(\"validate-equalTo-blur\");\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tclassRuleSettings: {\n\t\t\t\trequired: { required: true },\n\t\t\t\temail: { email: true },\n\t\t\t\turl: { url: true },\n\t\t\t\tdate: { date: true },\n\t\t\t\tdateISO: { dateISO: true },\n\t\t\t\tnumber: { number: true },\n\t\t\t\tdigits: { digits: true },\n\t\t\t\tcreditcard: { creditcard: true }\n\t\t\t},\n\t\n\t\t\taddClassRules: function addClassRules(className, rules) {\n\t\t\t\tif (className.constructor === String) {\n\t\t\t\t\tthis.classRuleSettings[className] = rules;\n\t\t\t\t} else {\n\t\t\t\t\t$.extend(this.classRuleSettings, className);\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tclassRules: function classRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    classes = $(element).attr(\"class\");\n\t\n\t\t\t\tif (classes) {\n\t\t\t\t\t$.each(classes.split(\" \"), function () {\n\t\t\t\t\t\tif (this in $.validator.classRuleSettings) {\n\t\t\t\t\t\t\t$.extend(rules, $.validator.classRuleSettings[this]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeAttributeRule: function normalizeAttributeRule(rules, type, method, value) {\n\t\n\t\t\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t\t\t// allows type=\"date\" and others to be compared as strings\n\t\t\t\tif (/min|max|step/.test(method) && (type === null || /number|range|text/.test(type))) {\n\t\t\t\t\tvalue = Number(value);\n\t\n\t\t\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\t\tvalue = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (value || value === 0) {\n\t\t\t\t\trules[method] = value;\n\t\t\t\t} else if (type === method && type !== \"range\") {\n\t\n\t\t\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t\t\t// does not test for the html5 'range' type\n\t\t\t\t\trules[method] = true;\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\tattributeRules: function attributeRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\n\t\t\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\t\t\tif (method === \"required\") {\n\t\t\t\t\t\tvalue = element.getAttribute(method);\n\t\n\t\t\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\t\t\tif (value === \"\") {\n\t\t\t\t\t\t\tvalue = true;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\t\t\tvalue = !!value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = $element.attr(method);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\n\t\t\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\t\t\tif (rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength)) {\n\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tdataRules: function dataRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    $element = $(element),\n\t\t\t\t    type = element.getAttribute(\"type\"),\n\t\t\t\t    method,\n\t\t\t\t    value;\n\t\n\t\t\t\tfor (method in $.validator.methods) {\n\t\t\t\t\tvalue = $element.data(\"rule\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase());\n\t\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tstaticRules: function staticRules(element) {\n\t\t\t\tvar rules = {},\n\t\t\t\t    validator = $.data(element.form, \"validator\");\n\t\n\t\t\t\tif (validator.settings.rules) {\n\t\t\t\t\trules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\n\t\t\t\t}\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\tnormalizeRules: function normalizeRules(rules, element) {\n\t\n\t\t\t\t// Handle dependency check\n\t\t\t\t$.each(rules, function (prop, val) {\n\t\n\t\t\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\t\t\tif (val === false) {\n\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (val.param || val.depends) {\n\t\t\t\t\t\tvar keepRule = true;\n\t\t\t\t\t\tswitch (typeof val.depends) {\n\t\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\t\tkeepRule = !!$(val.depends, element.form).length;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\t\tkeepRule = val.depends.call(element, element);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (keepRule) {\n\t\t\t\t\t\t\trules[prop] = val.param !== undefined ? val.param : true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.data(element.form, \"validator\").resetElements($(element));\n\t\t\t\t\t\t\tdelete rules[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\t// Evaluate parameters\n\t\t\t\t$.each(rules, function (rule, parameter) {\n\t\t\t\t\trules[rule] = $.isFunction(parameter) && rule !== \"normalizer\" ? parameter(element) : parameter;\n\t\t\t\t});\n\t\n\t\t\t\t// Clean number parameters\n\t\t\t\t$.each([\"minlength\", \"maxlength\"], function () {\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\trules[this] = Number(rules[this]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$.each([\"rangelength\", \"range\"], function () {\n\t\t\t\t\tvar parts;\n\t\t\t\t\tif (rules[this]) {\n\t\t\t\t\t\tif ($.isArray(rules[this])) {\n\t\t\t\t\t\t\trules[this] = [Number(rules[this][0]), Number(rules[this][1])];\n\t\t\t\t\t\t} else if (typeof rules[this] === \"string\") {\n\t\t\t\t\t\t\tparts = rules[this].replace(/[\\[\\]]/g, \"\").split(/[\\s,]+/);\n\t\t\t\t\t\t\trules[this] = [Number(parts[0]), Number(parts[1])];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif ($.validator.autoCreateRanges) {\n\t\n\t\t\t\t\t// Auto-create ranges\n\t\t\t\t\tif (rules.min != null && rules.max != null) {\n\t\t\t\t\t\trules.range = [rules.min, rules.max];\n\t\t\t\t\t\tdelete rules.min;\n\t\t\t\t\t\tdelete rules.max;\n\t\t\t\t\t}\n\t\t\t\t\tif (rules.minlength != null && rules.maxlength != null) {\n\t\t\t\t\t\trules.rangelength = [rules.minlength, rules.maxlength];\n\t\t\t\t\t\tdelete rules.minlength;\n\t\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn rules;\n\t\t\t},\n\t\n\t\t\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\t\t\tnormalizeRule: function normalizeRule(data) {\n\t\t\t\tif (typeof data === \"string\") {\n\t\t\t\t\tvar transformed = {};\n\t\t\t\t\t$.each(data.split(/\\s/), function () {\n\t\t\t\t\t\ttransformed[this] = true;\n\t\t\t\t\t});\n\t\t\t\t\tdata = transformed;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\t\t\taddMethod: function addMethod(name, method, message) {\n\t\t\t\t$.validator.methods[name] = method;\n\t\t\t\t$.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n\t\t\t\tif (method.length < 3) {\n\t\t\t\t\t$.validator.addClassRules(name, $.validator.normalizeRule(name));\n\t\t\t\t}\n\t\t\t},\n\t\n\t\t\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\t\t\tmethods: {\n\t\n\t\t\t\t// http://jqueryvalidation.org/required-method/\n\t\t\t\trequired: function required(value, element, param) {\n\t\n\t\t\t\t\t// Check if dependency is met\n\t\t\t\t\tif (!this.depend(param, element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\t\t\t\tif (element.nodeName.toLowerCase() === \"select\") {\n\t\n\t\t\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\t\t\tvar val = $(element).val();\n\t\t\t\t\t\treturn val && val.length > 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.checkable(element)) {\n\t\t\t\t\t\treturn this.getLength(value, element) > 0;\n\t\t\t\t\t}\n\t\t\t\t\treturn value.length > 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/email-method/\n\t\t\t\temail: function email(value, element) {\n\t\n\t\t\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t\t\t// Retrieved 2014-01-14\n\t\t\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t\t\t// Or use custom methods to implement your own email validation\n\t\t\t\t\treturn this.optional(element) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/url-method/\n\t\t\t\turl: function url(value, element) {\n\t\n\t\t\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t\t\t// modified to allow protocol-relative URLs\n\t\t\t\t\treturn this.optional(element) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/date-method/\n\t\t\t\tdate: function date(value, element) {\n\t\t\t\t\treturn this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString());\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\t\t\tdateISO: function dateISO(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/number-method/\n\t\t\t\tnumber: function number(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/digits-method/\n\t\t\t\tdigits: function digits(value, element) {\n\t\t\t\t\treturn this.optional(element) || /^\\d+$/.test(value);\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/minlength-method/\n\t\t\t\tminlength: function minlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\t\t\tmaxlength: function maxlength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\t\t\trangelength: function rangelength(value, element, param) {\n\t\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\n\t\t\t\t\treturn this.optional(element) || length >= param[0] && length <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/min-method/\n\t\t\t\tmin: function min(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/max-method/\n\t\t\t\tmax: function max(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value <= param;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/range-method/\n\t\t\t\trange: function range(value, element, param) {\n\t\t\t\t\treturn this.optional(element) || value >= param[0] && value <= param[1];\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/step-method/\n\t\t\t\tstep: function step(value, element, param) {\n\t\t\t\t\tvar type = $(element).attr(\"type\"),\n\t\t\t\t\t    errorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\t\t    supportedTypes = [\"text\", \"number\", \"range\"],\n\t\t\t\t\t    re = new RegExp(\"\\\\b\" + type + \"\\\\b\"),\n\t\t\t\t\t    notSupported = type && !re.test(supportedTypes.join());\n\t\n\t\t\t\t\t// Works only for text, number and range input types\n\t\t\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\t\t\tif (notSupported) {\n\t\t\t\t\t\tthrow new Error(errorMessage);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.optional(element) || value % param === 0;\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\t\t\tequalTo: function equalTo(value, element, param) {\n\t\n\t\t\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\t\t\tvar target = $(param);\n\t\t\t\t\tif (this.settings.onfocusout && target.not(\".validate-equalTo-blur\").length) {\n\t\t\t\t\t\ttarget.addClass(\"validate-equalTo-blur\").on(\"blur.validate-equalTo\", function () {\n\t\t\t\t\t\t\t$(element).valid();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn value === target.val();\n\t\t\t\t},\n\t\n\t\t\t\t// http://jqueryvalidation.org/remote-method/\n\t\t\t\tremote: function remote(value, element, param, method) {\n\t\t\t\t\tif (this.optional(element)) {\n\t\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t\t}\n\t\n\t\t\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\t\n\t\t\t\t\tvar previous = this.previousValue(element, method),\n\t\t\t\t\t    validator,\n\t\t\t\t\t    data,\n\t\t\t\t\t    optionDataString;\n\t\n\t\t\t\t\tif (!this.settings.messages[element.name]) {\n\t\t\t\t\t\tthis.settings.messages[element.name] = {};\n\t\t\t\t\t}\n\t\t\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[element.name][method];\n\t\t\t\t\tthis.settings.messages[element.name][method] = previous.message;\n\t\n\t\t\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\t\t\toptionDataString = $.param($.extend({ data: value }, param.data));\n\t\t\t\t\tif (previous.old === optionDataString) {\n\t\t\t\t\t\treturn previous.valid;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tprevious.old = optionDataString;\n\t\t\t\t\tvalidator = this;\n\t\t\t\t\tthis.startRequest(element);\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata[element.name] = value;\n\t\t\t\t\t$.ajax($.extend(true, {\n\t\t\t\t\t\tmode: \"abort\",\n\t\t\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tcontext: validator.currentForm,\n\t\t\t\t\t\tsuccess: function success(response) {\n\t\t\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\t\t    errors,\n\t\t\t\t\t\t\t    message,\n\t\t\t\t\t\t\t    submitted;\n\t\n\t\t\t\t\t\t\tvalidator.settings.messages[element.name][method] = previous.originalMessage;\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\t\t\tvalidator.toHide = validator.errorsFor(element);\n\t\t\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\t\t\tvalidator.successList.push(element);\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = false;\n\t\t\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\t\t\tmessage = response || validator.defaultMessage(element, { method: method, parameters: value });\n\t\t\t\t\t\t\t\terrors[element.name] = previous.message = message;\n\t\t\t\t\t\t\t\tvalidator.invalid[element.name] = true;\n\t\t\t\t\t\t\t\tvalidator.showErrors(errors);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\t\t\tvalidator.stopRequest(element, valid);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, param));\n\t\t\t\t\treturn \"pending\";\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t});\n\t\n\t\t// Ajax mode: abort\n\t\t// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n\t\t// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\t\n\t\tvar pendingRequests = {},\n\t\t    ajax;\n\t\n\t\t// Use a prefilter if available (1.5+)\n\t\tif ($.ajaxPrefilter) {\n\t\t\t$.ajaxPrefilter(function (settings, _, xhr) {\n\t\t\t\tvar port = settings.port;\n\t\t\t\tif (settings.mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = xhr;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\n\t\t\t// Proxy ajax\n\t\t\tajax = $.ajax;\n\t\t\t$.ajax = function (settings) {\n\t\t\t\tvar mode = (\"mode\" in settings ? settings : $.ajaxSettings).mode,\n\t\t\t\t    port = (\"port\" in settings ? settings : $.ajaxSettings).port;\n\t\t\t\tif (mode === \"abort\") {\n\t\t\t\t\tif (pendingRequests[port]) {\n\t\t\t\t\t\tpendingRequests[port].abort();\n\t\t\t\t\t}\n\t\t\t\t\tpendingRequests[port] = ajax.apply(this, arguments);\n\t\t\t\t\treturn pendingRequests[port];\n\t\t\t\t}\n\t\t\t\treturn ajax.apply(this, arguments);\n\t\t\t};\n\t\t}\n\t});\n\n/***/ },\n/* 17 */,\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(7);\n\t\n\tvar taxonomy,\n\t    elementData,\n\t    $element,\n\t    TemplateEngine = __webpack_require__(5);\n\t\n\tvar defaultSettings = {\n\t    plugins: ['remove_button'],\n\t    maxItems: 5,\n\t    valueField: 'url',\n\t    labelField: 'name',\n\t    searchField: 'name',\n\t    create: false,\n\t    render: {\n\t        'item': renderItem,\n\t        'option': renderOption\n\t    },\n\t    load: loadItems\n\t};\n\t\n\tvar defaultTemplates = {\n\t    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n\t    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n\t};\n\t\n\tfunction renderItem(item) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.item;\n\t    var elementData = $element.data();\n\t    if ('templateItem' in elementData && (0, _jquery2['default'])(elementData.templateItem).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateItem).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction renderOption(item, escape) {\n\t\n\t    var $element = (0, _jquery2['default'])(this.$input);\n\t    var renderTemplate = defaultTemplates.option;\n\t    var elementData = $element.data();\n\t    if ('templateOption' in elementData && (0, _jquery2['default'])(elementData.templateOption).length) {\n\t        renderTemplate = (0, _jquery2['default'])(elementData.templateOption).html();\n\t    }\n\t\n\t    return TemplateEngine(renderTemplate, item);\n\t}\n\t\n\tfunction loadItems(query, callback) {\n\t\n\t    var options = (0, _jquery2['default'])(this.$input).data();\n\t\n\t    if (!query.length) {\n\t        return callback();\n\t    }\n\t\n\t    var _data = {};\n\t    _data[this.settings.searchField] = query;\n\t\n\t    _jquery2['default'].ajax({\n\t        url: options.url,\n\t        data: _data,\n\t        type: options.method || 'GET',\n\t        error: function error() {\n\t            callback();\n\t        },\n\t        success: function success(res) {\n\t            callback(res);\n\t        }\n\t    });\n\t}\n\t\n\ttaxonomy = function (element) {\n\t    $element = (0, _jquery2['default'])(element);\n\t    elementData = $element.data();\n\t    var selectizeSettings = _jquery2['default'].extend({}, defaultSettings, elementData);\n\t    (0, _jquery2['default'])(element).selectize(selectizeSettings);\n\t};\n\t\n\texports['default'] = taxonomy;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./comments\": 55,\n\t\t\"./comments.js\": 55,\n\t\t\"./comments/jquery.render-list\": 57,\n\t\t\"./comments/jquery.render-list.js\": 57,\n\t\t\"./courses\": 58,\n\t\t\"./courses.js\": 58,\n\t\t\"./customform\": 60,\n\t\t\"./customform.js\": 60,\n\t\t\"./customform/input\": 14,\n\t\t\"./customform/input.js\": 14,\n\t\t\"./index\": 53,\n\t\t\"./index.js\": 53,\n\t\t\"./organization\": 61,\n\t\t\"./organization.js\": 61,\n\t\t\"./professions\": 62,\n\t\t\"./professions.js\": 62,\n\t\t\"./videos\": 63,\n\t\t\"./videos.js\": 63\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 54;\n\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(56);\n\t\n\t__webpack_require__(57);\n\t\n\tvar form_submit = function form_submit(event, data) {\n\t    var $form = (0, _jquery2['default'])(this);\n\t    var $divToUpdate = (0, _jquery2['default'])($form.data(\"update\"));\n\t    $divToUpdate = setData($form, data, $divToUpdate);\n\t\n\t    var $subforms = $divToUpdate.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t    _jquery2['default'].each($subforms, function (i, value) {\n\t        var $subform = (0, _jquery2['default'])(value);\n\t        if (!$subform.data(\"plugin\")) {\n\t            $subform.data(\"plugin\", \"true\");\n\t            $subform.IdeiaAjaxForm();\n\t            $subform.on(\"ajaxform.success\", form_submit);\n\t        }\n\t    });\n\t    var $dataList = $divToUpdate.find(\"div[data-xhr]\");\n\t    $dataList.renderList();\n\t    refreshAsyncLike();\n\t};\n\t\n\tvar functionOpenModalToDelete = function functionOpenModalToDelete(e) {\n\t    e.preventDefault();\n\t\n\t    var $btn = (0, _jquery2['default'])(e.currentTarget),\n\t        $modal = (0, _jquery2['default'])($btn.data(\"modal\"));\n\t\n\t    $modal.find(\"form\").attr(\"action\", $btn.data(\"url\"));\n\t    $modal.find(\"#item-id\").val($btn.data(\"item\"));\n\t    $modal.find(\"#item-type\").val($btn.data(\"type\"));\n\t    $modal.find(\"#title-item-to-remove\").html($btn.data(\"title\"));\n\t    $modal.find(\".loading-container\").html(\"\");\n\t    $modal.find(\".alert-container\").html(\"\");\n\t    $modal.modal(\"show\");\n\t};\n\t\n\tvar functionAjaxSuccessDeleteItem = function functionAjaxSuccessDeleteItem(e, data) {\n\t    var $this = (0, _jquery2['default'])(this),\n\t        $modal = (0, _jquery2['default'])($this.closest(\".modal.fade\")),\n\t        itemId = $modal.find(\"#item-id\").val(),\n\t        itemType = $modal.find(\"#item-type\").val();\n\t\n\t    $modal.modal(\"hide\");\n\t    $modal.find(\"form\").attr(\"action\", \"\");\n\t    $modal.find(\"#item-id\").val(\"\");\n\t    $modal.find(\"#item-type\").val(\"\");\n\t    $modal.find(\"#title-item-to-remove\").html(\"\");\n\t    $modal.find(\".loading-container\").html(\"\");\n\t    $modal.find(\".alert-container\").html(\"\");\n\t\n\t    (0, _jquery2['default'])(\"#\" + itemType + \"-\" + itemId).fadeOut(\"slow\", function () {\n\t        (0, _jquery2['default'])('#list-' + itemType + '-' + itemId).remove();\n\t        (0, _jquery2['default'])(this).remove();\n\t    });\n\t};\n\t\n\tfunction setData($form, data, $divToUpdate) {\n\t\n\t    var action = $form.data(\"toggle\");\n\t    var $form_to_hide = $form.parent(\".dropdown-content\");\n\t\n\t    if (action == \"append\" || action == \"prepend\") {\n\t\n\t        if (action == \"append\") {\n\t            $divToUpdate.append(data.template);\n\t        } else {\n\t            $divToUpdate.prepend(data.template);\n\t        }\n\t\n\t        if ($form_to_hide) {\n\t            $form_to_hide.removeClass(\"open\");\n\t        }\n\t        $form[0].reset();\n\t    } else if (action == \"replace\") {\n\t        var $element = (0, _jquery2['default'])(data.template);\n\t        $divToUpdate.replaceWith($element);\n\t        var $newForm = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t        $divToUpdate = $element;\n\t    }\n\t    $form.find('[data-toggle=\"editor\"]').summernote('reset');\n\t    $divToUpdate.refreshEditors();\n\t    var $preInComment = (0, _jquery2['default'])('.comment-text').find('code');\n\t    _jquery2['default'].each($preInComment, function (index, element) {\n\t        Prism.highlightElement(element);\n\t    });\n\t\n\t    return $divToUpdate;\n\t}\n\t\n\tvar commentDropDown = function commentDropDown(event) {\n\t    event.stopPropagation();\n\t};\n\t\n\tvar xhr_contents = (0, _jquery2['default'])(\"div[data-xhr]\");\n\txhr_contents.renderList();\n\tvar $comment_form = (0, _jquery2['default'])(\"form[data-ajaxform=\\\"true\\\"]\");\n\t\n\t$comment_form.refreshEditors();\n\t$comment_form.on(\"ajaxform.success\", form_submit);\n\t\n\t(0, _jquery2['default'])(\"#confirmation-form\").on(\"ajaxform.success\", functionAjaxSuccessDeleteItem);\n\t(0, _jquery2['default'])(document).on(\"click\", \"[data-delete-item=true]\", functionOpenModalToDelete);\n\t(0, _jquery2['default'])(document).on('click', '.comment-dropdown', commentDropDown);\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery) {/*!\n\t * jScroll - jQuery Plugin for Infinite Scrolling / Auto-Paging\n\t * http://jscroll.com/\n\t *\n\t * Copyright 2011-2013, Philip Klauzinski\n\t * http://klauzinski.com/\n\t * Dual licensed under the MIT and GPL Version 2 licenses.\n\t * http://jscroll.com/#license\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t *\n\t * @author Philip Klauzinski\n\t * @version 2.3.5\n\t * @requires jQuery v1.4.3+\n\t * @preserve\n\t */\n\t(function($) {\n\t\n\t    'use strict';\n\t\n\t    // Define the jscroll namespace and default settings\n\t    $.jscroll = {\n\t        defaults: {\n\t            debug: false,\n\t            autoTrigger: true,\n\t            autoTriggerUntil: false,\n\t            loadingHtml: '<small>Loading...</small>',\n\t            loadingFunction: false,\n\t            padding: 0,\n\t            nextSelector: 'a:last',\n\t            contentSelector: '',\n\t            pagingSelector: '',\n\t            callback: false\n\t        }\n\t    };\n\t\n\t    // Constructor\n\t    var jScroll = function($e, options) {\n\t\n\t        // Private vars and methods\n\t        var _data = $e.data('jscroll'),\n\t            _userOptions = (typeof options === 'function') ? { callback: options } : options,\n\t            _options = $.extend({}, $.jscroll.defaults, _userOptions, _data || {}),\n\t            _isWindow = ($e.css('overflow-y') === 'visible'),\n\t            _$next = $e.find(_options.nextSelector).first(),\n\t            _$window = $(window),\n\t            _$body = $('body'),\n\t            _$scroll = _isWindow ? _$window : $e,\n\t            _nextHref = $.trim(_$next.attr('href') + ' ' + _options.contentSelector),\n\t\n\t            // Check if a loading image is defined and preload\n\t            _preloadImage = function() {\n\t                var src = $(_options.loadingHtml).filter('img').attr('src');\n\t                if (src) {\n\t                    var image = new Image();\n\t                    image.src = src;\n\t                }\n\t            },\n\t\n\t            // Wrap inner content, if it isn't already\n\t            _wrapInnerContent = function() {\n\t                if (!$e.find('.jscroll-inner').length) {\n\t                    $e.contents().wrapAll('<div class=\"jscroll-inner\" />');\n\t                }\n\t            },\n\t\n\t            // Find the next link's parent, or add one, and hide it\n\t            _nextWrap = function($next) {\n\t                var $parent;\n\t                if (_options.pagingSelector) {\n\t                    $next.closest(_options.pagingSelector).hide();\n\t                } else {\n\t                    $parent = $next.parent().not('.jscroll-inner,.jscroll-added').addClass('jscroll-next-parent').hide();\n\t                    if (!$parent.length) {\n\t                        $next.wrap('<div class=\"jscroll-next-parent\" />').parent().hide();\n\t                    }\n\t                }\n\t            },\n\t\n\t            // Remove the jscroll behavior and data from an element\n\t            _destroy = function() {\n\t                return _$scroll.unbind('.jscroll')\n\t                    .removeData('jscroll')\n\t                    .find('.jscroll-inner').children().unwrap()\n\t                    .filter('.jscroll-added').children().unwrap();\n\t            },\n\t\n\t            // Observe the scroll event for when to trigger the next load\n\t            _observe = function() {\n\t                if ($e.is(':visible')) {\n\t                    _wrapInnerContent();\n\t                    var $inner = $e.find('div.jscroll-inner').first(),\n\t                        data = $e.data('jscroll'),\n\t                        borderTopWidth = parseInt($e.css('borderTopWidth'), 10),\n\t                        borderTopWidthInt = isNaN(borderTopWidth) ? 0 : borderTopWidth,\n\t                        iContainerTop = parseInt($e.css('paddingTop'), 10) + borderTopWidthInt,\n\t                        iTopHeight = _isWindow ? _$scroll.scrollTop() : $e.offset().top,\n\t                        innerTop = $inner.length ? $inner.offset().top : 0,\n\t                        iTotalHeight = Math.ceil(iTopHeight - innerTop + _$scroll.height() + iContainerTop);\n\t\n\t                    if (!data.waiting && iTotalHeight + _options.padding >= $inner.outerHeight()) {\n\t                        //data.nextHref = $.trim(data.nextHref + ' ' + _options.contentSelector);\n\t                        _debug('info', 'jScroll:', $inner.outerHeight() - iTotalHeight, 'from bottom. Loading next request...');\n\t                        return _load();\n\t                    }\n\t                }\n\t            },\n\t\n\t            // Check if the href for the next set of content has been set\n\t            _checkNextHref = function(data) {\n\t                data = data || $e.data('jscroll');\n\t                if (!data || !data.nextHref) {\n\t                    _debug('warn', 'jScroll: nextSelector not found - destroying');\n\t                    _destroy();\n\t                    return false;\n\t                } else {\n\t                    _setBindings();\n\t                    return true;\n\t                }\n\t            },\n\t\n\t            _setBindings = function() {\n\t                var $next = $e.find(_options.nextSelector).first();\n\t                if (!$next.length) {\n\t                    return;\n\t                }\n\t                if (_options.autoTrigger && (_options.autoTriggerUntil === false || _options.autoTriggerUntil > 0)) {\n\t                    _nextWrap($next);\n\t                     var scrollingBodyHeight = _$body.height() - $e.offset().top,\n\t                    \tscrollingHeight = ($e.height() < scrollingBodyHeight) ? $e.height() : scrollingBodyHeight,\n\t                    \twindowHeight = ($e.offset().top - _$window.scrollTop() > 0) ? _$window.height() - ($e.offset().top - $(window).scrollTop()) : _$window.height();\n\t                    if (scrollingHeight <= windowHeight) {\n\t                        _observe();\n\t                    }\n\t                    _$scroll.unbind('.jscroll').bind('scroll.jscroll', function() {\n\t                        return _observe();\n\t                    });\n\t                    if (_options.autoTriggerUntil > 0) {\n\t                        _options.autoTriggerUntil--;\n\t                    }\n\t                } else {\n\t                    _$scroll.unbind('.jscroll');\n\t                    $next.bind('click.jscroll', function() {\n\t                        _nextWrap($next);\n\t                        _load();\n\t                        return false;\n\t                    });\n\t                }\n\t            },\n\t\n\t            // Load the next set of content, if available\n\t            _load = function() {\n\t                var $inner = $e.find('div.jscroll-inner').first(),\n\t                    data = $e.data('jscroll');\n\t\n\t                data.waiting = true;\n\t                $inner.append('<div class=\"jscroll-added\" />')\n\t                    .children('.jscroll-added').last()\n\t                    .html('<div class=\"jscroll-loading\" id=\"jscroll-loading\">' + _options.loadingHtml + '</div>')\n\t                    .promise()\n\t                    .done(function(){\n\t                        if (_options.loadingFunction) {\n\t                            _options.loadingFunction();\n\t                        }\n\t                    });\n\t\n\t                return $e.animate({scrollTop: $inner.outerHeight()}, 0, function() {\n\t                    $inner.find('div.jscroll-added').last().load(data.nextHref, function(r, status) {\n\t                        if (status === 'error') {\n\t                            return _destroy();\n\t                        }\n\t                        var $next = $(this).find(_options.nextSelector).first();\n\t                        data.waiting = false;\n\t                        data.nextHref = $next.attr('href') ? $.trim($next.attr('href') + ' ' + _options.contentSelector) : false;\n\t                        $('.jscroll-next-parent', $e).remove(); // Remove the previous next link now that we have a new one\n\t                        _checkNextHref();\n\t                        if (_options.callback) {\n\t                            _options.callback.call(this);\n\t                        }\n\t                        _debug('dir', data);\n\t                    });\n\t                });\n\t            },\n\t\n\t            // Safe console debug - http://klauzinski.com/javascript/safe-firebug-console-in-javascript\n\t            _debug = function(m) {\n\t                if (_options.debug && typeof console === 'object' && (typeof m === 'object' || typeof console[m] === 'function')) {\n\t                    if (typeof m === 'object') {\n\t                        var args = [];\n\t                        for (var sMethod in m) {\n\t                            if (typeof console[sMethod] === 'function') {\n\t                                args = (m[sMethod].length) ? m[sMethod] : [m[sMethod]];\n\t                                console[sMethod].apply(console, args);\n\t                            } else {\n\t                                console.log.apply(console, args);\n\t                            }\n\t                        }\n\t                    } else {\n\t                        console[m].apply(console, Array.prototype.slice.call(arguments, 1));\n\t                    }\n\t                }\n\t            };\n\t\n\t        // Initialization\n\t        $e.data('jscroll', $.extend({}, _data, {initialized: true, waiting: false, nextHref: _nextHref}));\n\t        _wrapInnerContent();\n\t        _preloadImage();\n\t        _setBindings();\n\t\n\t        // Expose API methods via the jQuery.jscroll namespace, e.g. $('sel').jscroll.method()\n\t        $.extend($e.jscroll, {\n\t            destroy: _destroy\n\t        });\n\t        return $e;\n\t    };\n\t\n\t    // Define the jscroll plugin method and loop\n\t    $.fn.jscroll = function(m) {\n\t        return this.each(function() {\n\t            var $this = $(this),\n\t                data = $this.data('jscroll'), jscroll;\n\t\n\t            // Instantiate jScroll on this element if it hasn't been already\n\t            if (data && data.initialized) {\n\t                return;\n\t            }\n\t            jscroll = new jScroll($this, m);\n\t        });\n\t    };\n\t\n\t})(jQuery);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t// $.fn.renderList = function () {\n\t\n\t// return $.each(this, function(){\n\t//       var $self = $(this);\n\t//       if(!$self.data(\"rendered\")){\n\t//           $self.data(\"rendered\", \"rendered\");\n\t//           var url = $self.data('xhr-url');\n\t//           var $childs;\n\t//\n\t//           var request = $.ajax({\n\t//               url: url,\n\t//               success: function(data){\n\t//\n\t//                   if(data.template){\n\t//                       var $element = $(data.template);\n\t//\n\t//                       $self.append($element);\n\t//                       var regex = /^data-list-([0-9]+)$/;\n\t//                       if (regex.test($self.attr('id'))) {\n\t//                           var $parentSelf = $self.parent('.comments-children');\n\t//                           if ($self.children().length > 0) {\n\t//                               $parentSelf.removeClass('no-children');\n\t//                           } else {\n\t//                               $parentSelf.addClass('no-children');\n\t//                           }\n\t//                       }\n\t//\n\t//                       $childs = $element.next('div[data-xhr-url]');\n\t//                       $self.jscroll({\n\t//                           loadingHtml: '<div class=\"load-async-preload\"></div>',\n\t//                           contentSelect: \"#\" + $self.attr(\"id\"),\n\t//                           nextSelector: \"a[data-jscroll-next]\",\n\t//                           autoTrigger: false,\n\t//                           callback: function(data){\n\t//                               var $div_jscroll = $(\".jscroll-added\");\n\t//                               var $jscroll_subforms = $div_jscroll.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t//                               $jscroll_subforms.IdeiaAjaxForm();\n\t//                               $jscroll_subforms.on(\"ajaxform.success\", form_submit);\n\t//                               $jscroll_subforms.refreshEditors();\n\t//                               $div_jscroll.removeClass(\"jscroll-added\");\n\t//                           }\n\t//                       });\n\t//\n\t//                       var $subforms = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n\t//                       $subforms.on(\"ajaxform.success\", form_submit);\n\t//                       $subforms.IdeiaAjaxForm();\n\t//                       $subforms.refreshEditors();\n\t//\n\t//                       var async_like = $self.find('[data-async-like]');\n\t//                       async_like.IdeiaAsyncLike();\n\t//                       async_like.removeData(\"async-like\");\n\t//                   }\n\t//\n\t//               },\n\t//               complete: function(){\n\t//                   if($childs && $childs.length){\n\t//                       $childs.renderList();\n\t//                   }\n\t//\n\t//                   var $preInComment = $('.comment-text').find('code');\n\t//                   $.each($preInComment, function (index, element) {\n\t//                     Prism.highlightElement(element);\n\t//                   });\n\t//               }\n\t//           });\n\t//\n\t//           refreshAsyncLike();\n\t//       }\n\t//\n\t//   });\n\tvar pluginName = \"renderList\",\n\t    defaults = {\n\t  propertyName: \"value\"\n\t};\n\t\n\t// The actual plugin constructor\n\tfunction Plugin(element, options) {\n\t  this.element = element;\n\t  this.settings = _jquery2[\"default\"].extend({}, defaults, options);\n\t  this._defaults = defaults;\n\t  this._name = pluginName;\n\t  this.init();\n\t}\n\t\n\t// Avoid Plugin.prototype conflicts\n\t_jquery2[\"default\"].extend(Plugin.prototype, {\n\t  init: function init() {\n\t\n\t    // Place initialization logic here\n\t    // You already have access to the DOM element and\n\t    // the options via the instance, e.g. this.element\n\t    // and this.settings\n\t    // you can add more functions like the one below and\n\t    // call them like the example below\n\t    console.log((0, _jquery2[\"default\"])(this.element).data('xhrUrl'));\n\t    this.attachList((0, _jquery2[\"default\"])(this.element).data('xhrUrl'));\n\t  },\n\t  attachList: function attachList(url) {\n\t    _jquery2[\"default\"].get(url).done(function (data) {\n\t      if (data.template) {\n\t        console.log(data.template);\n\t      }\n\t    }).fail(function (data) {}).always(function (data) {});\n\t  }\n\t});\n\t\n\t_jquery2[\"default\"].fn[pluginName] = function (options) {\n\t  return this.each(function () {\n\t    if (!_jquery2[\"default\"].data(this, \"plugin_\" + pluginName)) {\n\t      _jquery2[\"default\"].data(this, \"plugin_\" + pluginName, new Plugin(this, options));\n\t    }\n\t  });\n\t};\n\t// };\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t__webpack_require__(59);\n\t\n\tmodule.exports = function (name) {\n\t  var $showMore = $('[data-toggle=\"showmore\"]');\n\t  var $rating = $('[data-toggle=\"rating\"]');\n\t  var formRating = $('[data-toggle=\"rating-value\"]');\n\t\n\t  var defaultSettings = {\n\t    halfStar: true,\n\t    normalFill: '#a09e9e',\n\t    ratedFill: '#d68004',\n\t    spacing: '2px',\n\t    starWidth: '20px',\n\t    onSet: function onSet(rating, rateYoInstance) {\n\t      formRating.val(rating);\n\t    },\n\t    onChange: function onChange(rating, rateYoInstance) {\n\t      var reactions = $(rateYoInstance.node).data('reactions');\n\t      $(this).next().text(reactions[Math.floor(rating)]);\n\t    }\n\t  };\n\t\n\t  $rating.each(function (index, item) {\n\t    var $this = $(item);\n\t    var dataConfig = $this.data('config');\n\t    var settings = $.extend({}, defaultSettings, dataConfig);\n\t    $this.rateYo(settings);\n\t  });\n\t\n\t  $('[data-form-send]').on('change', function onChangeSelectSendVideoForm() {\n\t    var $self = $(this);\n\t    var $form = $self.closest('form[data-form-send-enables]');\n\t    if ($form.length) {\n\t      $form.trigger('submit');\n\t    }\n\t  });\n\t\n\t  $showMore.on('click tap', function (event) {\n\t    toggleHeight($(event.currentTarget).attr('href'));\n\t    event.preventDefault();\n\t  });\n\t};\n\t\n\tvar toggleHeight = function toggleHeight(seletor) {\n\t  var $this = $(seletor);\n\t  var ANIMATION_TIME = $this.data('animationSpeed') || 200;\n\t\n\t  if ($this.hasClass('open')) {\n\t    $this.animate({\n\t      height: $this.data('height')\n\t    }, ANIMATION_TIME, function () {\n\t      return $this.removeClass('open');\n\t    });\n\t\n\t    return false;\n\t  }\n\t\n\t  var currentHeight = $this.outerHeight();\n\t  var autoHeight = $this.css('height', 'auto').outerHeight();\n\t  $this.data('height', currentHeight).height(currentHeight).animate({\n\t    height: autoHeight\n\t  }, ANIMATION_TIME, function () {\n\t    return $this.addClass('open');\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\t/*****\n\t* rateYo - v2.2.0\n\t* http://prrashi.github.io/rateyo/\n\t* Copyright (c) 2014 Prashanth Pamidi; Licensed MIT\n\t*****/\n\t\n\t\"use strict\";\n\t\n\t;(function ($) {\n\t  \"use strict\";\n\t\n\t  // The basic svg string required to generate stars\n\t  var BASICSTAR = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\" + \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 26 28\\\" fill=z\\\"#f00\\\">\" + \"<path d=\\\"M26 10.109c0 0.281-0.203 0.547-0.406 0.75l-5.672 5.531 1.344 \" + \"7.812c0.016 0.109 0.016 0.203 0.016 0.313 0 0.406-0.187 0.781-0.641 \" + \"0.781-0.219 0-0.438-0.078-0.625-0.187l-7.016-3.687-7.016 3.687c-0.203 \" + \"0.109-0.406 0.187-0.625 0.187-0.453 0-0.656-0.375-0.656-0.781 0-0.109 \" + \"0.016-0.203 0.031-0.313l1.344-7.812-5.688-5.531c-0.187-0.203-0.391-0.469-0.391-0.75 \" + \"0-0.469 0.484-0.656 0.875-0.719l7.844-1.141 3.516-7.109c0.141-0.297 0.406-0.641 \" + \"0.766-0.641s0.625 0.344 0.766 0.641l3.516 7.109 7.844 1.141c0.375 0.063 0.875 \" + \"0.25 0.875 0.719z\\\"></path>\" + \"</svg>\";\n\t\n\t  // The Default values of different options available in the Plugin\n\t  var DEFAULTS = {\n\t\n\t    starWidth: \"32px\",\n\t    normalFill: \"gray\",\n\t    ratedFill: \"#f39c12\",\n\t    numStars: 5,\n\t    maxValue: 5,\n\t    precision: 1,\n\t    rating: 0,\n\t    fullStar: false,\n\t    halfStar: false,\n\t    readOnly: false,\n\t    spacing: \"0px\",\n\t    rtl: false,\n\t    multiColor: null,\n\t    onInit: null,\n\t    onChange: null,\n\t    onSet: null,\n\t    starSvg: null\n\t  };\n\t\n\t  //Default colors for multi-color rating\n\t  var MULTICOLOR_OPTIONS = {\n\t\n\t    startColor: \"#c0392b\", //red\n\t    endColor: \"#f1c40f\" //yellow\n\t  };\n\t\n\t  // http://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n\t  function isMobileBrowser() {\n\t    var check = false;\n\t    /* jshint ignore:start */\n\t    (function (a) {\n\t      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n\t    })(navigator.userAgent || navigator.vendor || window.opera);\n\t    /* jshint ignore:end */\n\t    return check;\n\t  }\n\t\n\t  function checkPrecision(value, minValue, maxValue) {\n\t\n\t    /*\n\t     * This function removes the unnecessary precision, at Min and Max Values\n\t     */\n\t\n\t    // Its like comparing 0.0 with 0, which is true\n\t    if (value === minValue) {\n\t\n\t      value = minValue;\n\t    } else if (value === maxValue) {\n\t\n\t      value = maxValue;\n\t    }\n\t\n\t    return value;\n\t  }\n\t\n\t  function checkBounds(value, minValue, maxValue) {\n\t\n\t    /*\n\t     * Check if the value is between min and max values, if not, throw an error\n\t     */\n\t\n\t    var isValid = value >= minValue && value <= maxValue;\n\t\n\t    if (!isValid) {\n\t\n\t      throw Error(\"Invalid Rating, expected value between \" + minValue + \" and \" + maxValue);\n\t    }\n\t\n\t    return value;\n\t  }\n\t\n\t  function isDefined(value) {\n\t\n\t    // Better way to check if a variable is defined or not\n\t    return typeof value !== \"undefined\";\n\t  }\n\t\n\t  // Regex to match Colors in Hex Format like #FF00FF\n\t  var hexRegex = /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i;\n\t\n\t  var hexToRGB = function hexToRGB(hex) {\n\t\n\t    /*\n\t     * Extracts and returns the Red, Blue, Green Channel values,\n\t     * in the form of decimals\n\t     */\n\t\n\t    if (!hexRegex.test(hex)) {\n\t\n\t      return null;\n\t    }\n\t\n\t    var hexValues = hexRegex.exec(hex),\n\t        r = parseInt(hexValues[1], 16),\n\t        g = parseInt(hexValues[2], 16),\n\t        b = parseInt(hexValues[3], 16);\n\t\n\t    return { r: r, g: g, b: b };\n\t  };\n\t\n\t  function getChannelValue(startVal, endVal, percent) {\n\t\n\t    /*\n\t     * Returns a value between `startVal` and `endVal` based on the percent\n\t     */\n\t\n\t    var newVal = (endVal - startVal) * (percent / 100);\n\t\n\t    newVal = Math.round(startVal + newVal).toString(16);\n\t\n\t    if (newVal.length === 1) {\n\t\n\t      newVal = \"0\" + newVal;\n\t    }\n\t\n\t    return newVal;\n\t  }\n\t\n\t  function getColor(startColor, endColor, percent) {\n\t\n\t    /*\n\t     * Given the percentage( `percent` ) of `endColor` to be mixed\n\t     * with the `startColor`, returns the mixed color.\n\t     * Colors should be only in Hex Format\n\t     */\n\t\n\t    if (!startColor || !endColor) {\n\t\n\t      return null;\n\t    }\n\t\n\t    percent = isDefined(percent) ? percent : 0;\n\t\n\t    startColor = hexToRGB(startColor);\n\t    endColor = hexToRGB(endColor);\n\t\n\t    var r = getChannelValue(startColor.r, endColor.r, percent),\n\t        b = getChannelValue(startColor.b, endColor.b, percent),\n\t        g = getChannelValue(startColor.g, endColor.g, percent);\n\t\n\t    return \"#\" + r + g + b;\n\t  }\n\t\n\t  function RateYo($node, options) {\n\t\n\t    /*\n\t     * The Contructor, whose instances are used by plugin itself\n\t     */\n\t\n\t    // Storing the HTML element as a property, for future access\n\t    this.node = $node.get(0);\n\t\n\t    var that = this;\n\t\n\t    // Remove any stuff that is present inside the container, and add the plugin class\n\t    $node.empty().addClass(\"jq-ry-container\");\n\t\n\t    /*\n\t     * Basically the plugin displays the rating using two rows of stars lying one above\n\t     * the other, the row that is on the top represents the actual rating, and the one\n\t     * behind acts just like a background.\n\t     *\n\t     * `$groupWrapper`: is an element that wraps both the rows\n\t     * `$normalGroup`: is the container for row of stars thats behind and\n\t     *                 acts as background\n\t     * `$ratedGroup`: is the container for row of stars that display the actual rating.\n\t     *\n\t     * The rating is displayed by adjusting the width of `$ratedGroup`\n\t     */\n\t    var $groupWrapper = $(\"<div/>\").addClass(\"jq-ry-group-wrapper\").appendTo($node);\n\t\n\t    var $normalGroup = $(\"<div/>\").addClass(\"jq-ry-normal-group\").addClass(\"jq-ry-group\").appendTo($groupWrapper);\n\t\n\t    var $ratedGroup = $(\"<div/>\").addClass(\"jq-ry-rated-group\").addClass(\"jq-ry-group\").appendTo($groupWrapper);\n\t\n\t    /*\n\t     * Variable `step`: store the value of the rating for each star\n\t     *                  eg: if `maxValue` is 5 and `numStars` is 5, value of each star\n\t     *                      is 1.\n\t     * Variable `starWidth`: stores the decimal value of width of star in units of px\n\t     * Variable `percentOfStar`: stores the percentage of width each star takes w.r.t\n\t     *                           the container\n\t     * Variable `spacing`: stores the decimal value of the spacing between stars\n\t     *                     in the units of px\n\t     * Variable `percentOfSpacing`: stores the percentage of width of the spacing\n\t     *                              between stars w.r.t the container\n\t     */\n\t    var step,\n\t        starWidth,\n\t        percentOfStar,\n\t        spacing,\n\t        percentOfSpacing,\n\t        containerWidth,\n\t        minValue = 0;\n\t\n\t    /*\n\t     * `currentRating` contains rating that is being displayed at the latest point of\n\t     * time.\n\t     *\n\t     * When ever you hover over the plugin UI, the rating value changes\n\t     * according to the place where you point the cursor, currentRating contains\n\t     * the current value of rating that is being shown in the UI\n\t     */\n\t    var currentRating = options.rating;\n\t\n\t    // A flag to store if the plugin is already being displayed in the UI\n\t    var isInitialized = false;\n\t\n\t    function showRating(ratingVal) {\n\t\n\t      /*\n\t       * The function is responsible for displaying the rating by changing\n\t       * the width of `$ratedGroup`\n\t       */\n\t\n\t      if (!isDefined(ratingVal)) {\n\t\n\t        ratingVal = options.rating;\n\t      }\n\t\n\t      // Storing the value that is being shown in `currentRating`.\n\t      currentRating = ratingVal;\n\t\n\t      var numStarsToShow = ratingVal / step;\n\t\n\t      // calculating the percentage of width of $ratedGroup with respect to its parent\n\t      var percent = numStarsToShow * percentOfStar;\n\t\n\t      if (numStarsToShow > 1) {\n\t\n\t        // adding the percentage of space that is taken by the gap the stars\n\t        percent += (Math.ceil(numStarsToShow) - 1) * percentOfSpacing;\n\t      }\n\t\n\t      setRatedFill(options.ratedFill);\n\t\n\t      percent = options.rtl ? 100 - percent : percent;\n\t\n\t      $ratedGroup.css(\"width\", percent + \"%\");\n\t    }\n\t\n\t    function setContainerWidth() {\n\t\n\t      /*\n\t       * Set the width of the `this.node` based on the width of each star and\n\t       * the space between them\n\t       */\n\t\n\t      containerWidth = starWidth * options.numStars + spacing * (options.numStars - 1);\n\t\n\t      percentOfStar = starWidth / containerWidth * 100;\n\t\n\t      percentOfSpacing = spacing / containerWidth * 100;\n\t\n\t      $node.width(containerWidth);\n\t\n\t      showRating();\n\t    }\n\t\n\t    function setStarWidth(newWidth) {\n\t\n\t      /*\n\t       * Set the width and height of each SVG star, called whenever one changes the\n\t       * `starWidth` option\n\t       */\n\t\n\t      // The width and height of the star should be the same\n\t      var starHeight = options.starWidth = newWidth;\n\t\n\t      starWidth = window.parseFloat(options.starWidth.replace(\"px\", \"\"));\n\t\n\t      $normalGroup.find(\"svg\").attr({ width: options.starWidth,\n\t        height: starHeight });\n\t\n\t      $ratedGroup.find(\"svg\").attr({ width: options.starWidth,\n\t        height: starHeight });\n\t\n\t      setContainerWidth();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setSpacing(newSpacing) {\n\t\n\t      /*\n\t       * Set spacing between the SVG stars, called whenever one changes\n\t       * the `spacing` option\n\t       */\n\t\n\t      options.spacing = newSpacing;\n\t\n\t      spacing = parseFloat(options.spacing.replace(\"px\", \"\"));\n\t\n\t      $normalGroup.find(\"svg:not(:first-child)\").css({ \"margin-left\": newSpacing });\n\t\n\t      $ratedGroup.find(\"svg:not(:first-child)\").css({ \"margin-left\": newSpacing });\n\t\n\t      setContainerWidth();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setNormalFill(newFill) {\n\t\n\t      /*\n\t       * Set the background fill of the Stars, called whenever one changes the\n\t       * `normalFill` option\n\t       */\n\t\n\t      options.normalFill = newFill;\n\t\n\t      var $svgs = (options.rtl ? $ratedGroup : $normalGroup).find(\"svg\");\n\t\n\t      $svgs.attr({ fill: options.normalFill });\n\t\n\t      return $node;\n\t    }\n\t\n\t    /*\n\t     * Store the recent `ratedFill` option in a variable\n\t     * so that if multiColor is unset, we can use the perviously set `ratedFill`\n\t     * from this variable\n\t     */\n\t    var ratedFill = options.ratedFill;\n\t\n\t    function setRatedFill(newFill) {\n\t\n\t      /*\n\t       * Set ratedFill of the stars, called when one changes the `ratedFill` option\n\t       */\n\t\n\t      /*\n\t       * If `multiColor` option is set, `newFill` variable is dynamically set\n\t       * based on the rating, what ever set as parameter will be discarded\n\t       */\n\t      if (options.multiColor) {\n\t\n\t        var ratingDiff = currentRating - minValue,\n\t            percentCovered = ratingDiff / options.maxValue * 100;\n\t\n\t        var colorOpts = options.multiColor || {},\n\t            startColor = colorOpts.startColor || MULTICOLOR_OPTIONS.startColor,\n\t            endColor = colorOpts.endColor || MULTICOLOR_OPTIONS.endColor;\n\t\n\t        newFill = getColor(startColor, endColor, percentCovered);\n\t      } else {\n\t\n\t        ratedFill = newFill;\n\t      }\n\t\n\t      options.ratedFill = newFill;\n\t\n\t      var $svgs = (options.rtl ? $normalGroup : $ratedGroup).find(\"svg\");\n\t\n\t      $svgs.attr({ fill: options.ratedFill });\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setRtl(newValue) {\n\t\n\t      newValue = !!newValue;\n\t\n\t      options.rtl = newValue;\n\t\n\t      setNormalFill(options.normalFill);\n\t      showRating();\n\t    }\n\t\n\t    function setMultiColor(colorOptions) {\n\t\n\t      /*\n\t       * called whenever one changes the `multiColor` option\n\t       */\n\t\n\t      options.multiColor = colorOptions;\n\t\n\t      // set the recently set `ratedFill` option, if multiColor Options are unset\n\t      setRatedFill(colorOptions ? colorOptions : ratedFill);\n\t    }\n\t\n\t    function setNumStars(newValue) {\n\t\n\t      /*\n\t       * Set the number of stars to use to display the rating, called whenever one\n\t       * changes the `numStars` option\n\t       */\n\t\n\t      options.numStars = newValue;\n\t\n\t      step = options.maxValue / options.numStars;\n\t\n\t      $normalGroup.empty();\n\t      $ratedGroup.empty();\n\t\n\t      for (var i = 0; i < options.numStars; i++) {\n\t\n\t        $normalGroup.append($(options.starSvg || BASICSTAR));\n\t        $ratedGroup.append($(options.starSvg || BASICSTAR));\n\t      }\n\t\n\t      setStarWidth(options.starWidth);\n\t      setNormalFill(options.normalFill);\n\t      setSpacing(options.spacing);\n\t\n\t      showRating();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setMaxValue(newValue) {\n\t\n\t      /*\n\t       * set the Maximum Value of rating to be allowed, called whenever\n\t       * one changes the `maxValue` option\n\t       */\n\t\n\t      options.maxValue = newValue;\n\t\n\t      step = options.maxValue / options.numStars;\n\t\n\t      if (options.rating > newValue) {\n\t\n\t        setRating(newValue);\n\t      }\n\t\n\t      showRating();\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setPrecision(newValue) {\n\t\n\t      /*\n\t       * Set the precision of the rating value, called if one changes the\n\t       * `precision` option\n\t       */\n\t\n\t      options.precision = newValue;\n\t\n\t      setRating(options.rating);\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setHalfStar(newValue) {\n\t\n\t      /*\n\t       * This function will be called if one changes the `halfStar` option\n\t       */\n\t\n\t      options.halfStar = newValue;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setFullStar(newValue) {\n\t\n\t      /*\n\t       * This function will be called if one changes the `fullStar` option\n\t       */\n\t\n\t      options.fullStar = newValue;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function round(value) {\n\t\n\t      /*\n\t       * Rounds the value of rating if `halfStar` or `fullStar` options are chosen\n\t       */\n\t\n\t      var remainder = value % step,\n\t          halfStep = step / 2,\n\t          isHalfStar = options.halfStar,\n\t          isFullStar = options.fullStar;\n\t\n\t      if (!isFullStar && !isHalfStar) {\n\t\n\t        return value;\n\t      }\n\t\n\t      if (isFullStar || isHalfStar && remainder > halfStep) {\n\t\n\t        value += step - remainder;\n\t      } else {\n\t\n\t        value = value - remainder;\n\t\n\t        if (remainder > 0) {\n\t\n\t          value += halfStep;\n\t        }\n\t      }\n\t\n\t      return value;\n\t    }\n\t\n\t    function calculateRating(e) {\n\t\n\t      /*\n\t       * Calculates and returns the rating based on the position of cursor w.r.t the\n\t       * plugin container\n\t       */\n\t\n\t      var position = $normalGroup.offset(),\n\t          nodeStartX = position.left,\n\t          nodeEndX = nodeStartX + $normalGroup.width();\n\t\n\t      var maxValue = options.maxValue;\n\t\n\t      // The x-coordinate(position) of the mouse pointer w.r.t page\n\t      var pageX = e.pageX;\n\t\n\t      var calculatedRating = 0;\n\t\n\t      // If the mouse pointer is to the left of the container\n\t      if (pageX < nodeStartX) {\n\t\n\t        calculatedRating = minValue;\n\t      } else if (pageX > nodeEndX) {\n\t        // If the mouse pointer is right of the container\n\t\n\t        calculatedRating = maxValue;\n\t      } else {\n\t        // If the mouse pointer is inside the continer\n\t\n\t        /*\n\t         * The fraction of width covered by the pointer w.r.t to the total width\n\t         * of the container.\n\t         */\n\t        var calcPrcnt = (pageX - nodeStartX) / (nodeEndX - nodeStartX);\n\t\n\t        if (spacing > 0) {\n\t\n\t          /*\n\t                  * If there is spacing between stars, take the percentage of width covered\n\t                  * and subtract the percentage of width covered by stars and spacing, to find\n\t                  * how many stars are covered, the number of stars covered is the rating\n\t                  *\n\t                  * TODO: I strongly feel that this logic can be improved!, Please help!\n\t                  */\n\t          calcPrcnt *= 100;\n\t\n\t          var remPrcnt = calcPrcnt;\n\t\n\t          while (remPrcnt > 0) {\n\t\n\t            if (remPrcnt > percentOfStar) {\n\t\n\t              calculatedRating += step;\n\t              remPrcnt -= percentOfStar + percentOfSpacing;\n\t            } else {\n\t\n\t              calculatedRating += remPrcnt / percentOfStar * step;\n\t              remPrcnt = 0;\n\t            }\n\t          }\n\t        } else {\n\t\n\t          /*\n\t           * If there is not spacing between stars, the fraction of width covered per\n\t           * `maxValue` is the rating\n\t           */\n\t          calculatedRating = calcPrcnt * options.maxValue;\n\t        }\n\t\n\t        // Round the rating if `halfStar` or `fullStar` options are chosen\n\t        calculatedRating = round(calculatedRating);\n\t      }\n\t\n\t      if (options.rtl) {\n\t\n\t        calculatedRating = maxValue - calculatedRating;\n\t      }\n\t\n\t      return calculatedRating;\n\t    }\n\t\n\t    function setReadOnly(newValue) {\n\t\n\t      /*\n\t       * UnBinds mouse event handlers, called when whenever one changes the\n\t       * `readOnly` option\n\t       */\n\t\n\t      options.readOnly = newValue;\n\t\n\t      $node.attr(\"readonly\", true);\n\t\n\t      unbindEvents();\n\t\n\t      if (!newValue) {\n\t\n\t        $node.removeAttr(\"readonly\");\n\t\n\t        bindEvents();\n\t      }\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setRating(newValue) {\n\t\n\t      /*\n\t       * Sets the rating of the Plugin, Called when option `rating` is changed\n\t       * or, when `rating` method is called\n\t       */\n\t\n\t      var rating = newValue;\n\t\n\t      var maxValue = options.maxValue;\n\t\n\t      if (typeof rating === \"string\") {\n\t\n\t        // If rating is given in percentage, maxValue should be 100\n\t        if (rating[rating.length - 1] === \"%\") {\n\t\n\t          rating = rating.substr(0, rating.length - 1);\n\t          maxValue = 100;\n\t\n\t          setMaxValue(maxValue);\n\t        }\n\t\n\t        rating = parseFloat(rating);\n\t      }\n\t\n\t      checkBounds(rating, minValue, maxValue);\n\t\n\t      rating = parseFloat(rating.toFixed(options.precision));\n\t\n\t      checkPrecision(parseFloat(rating), minValue, maxValue);\n\t\n\t      options.rating = rating;\n\t\n\t      showRating();\n\t\n\t      if (isInitialized) {\n\t\n\t        $node.trigger(\"rateyo.set\", { rating: rating });\n\t      }\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setOnInit(method) {\n\t\n\t      /*\n\t       * set what method to be called on Initialization\n\t       */\n\t\n\t      options.onInit = method;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setOnSet(method) {\n\t\n\t      /*\n\t       * set what method to be called when rating is set\n\t       */\n\t\n\t      options.onSet = method;\n\t\n\t      return $node;\n\t    }\n\t\n\t    function setOnChange(method) {\n\t\n\t      /*\n\t       * set what method to be called rating in the UI is changed\n\t       */\n\t\n\t      options.onChange = method;\n\t\n\t      return $node;\n\t    }\n\t\n\t    this.rating = function (newValue) {\n\t\n\t      /*\n\t       * rating getter/setter\n\t       */\n\t\n\t      if (!isDefined(newValue)) {\n\t\n\t        return options.rating;\n\t      }\n\t\n\t      setRating(newValue);\n\t\n\t      return $node;\n\t    };\n\t\n\t    this.destroy = function () {\n\t\n\t      /*\n\t       * Removes the Rating UI by clearing the content, and removing the custom classes\n\t       */\n\t\n\t      if (!options.readOnly) {\n\t\n\t        unbindEvents();\n\t      }\n\t\n\t      RateYo.prototype.collection = deleteInstance($node.get(0), this.collection);\n\t\n\t      $node.removeClass(\"jq-ry-container\").children().remove();\n\t\n\t      return $node;\n\t    };\n\t\n\t    this.method = function (methodName) {\n\t\n\t      /*\n\t       * Method to call the methods of RateYo Instance\n\t       */\n\t\n\t      if (!methodName) {\n\t\n\t        throw Error(\"Method name not specified!\");\n\t      }\n\t\n\t      if (!isDefined(this[methodName])) {\n\t\n\t        throw Error(\"Method \" + methodName + \" doesn't exist!\");\n\t      }\n\t\n\t      var args = Array.prototype.slice.apply(arguments, []),\n\t          params = args.slice(1),\n\t          method = this[methodName];\n\t\n\t      return method.apply(this, params);\n\t    };\n\t\n\t    this.option = function (optionName, param) {\n\t\n\t      /*\n\t       * Method to get/set Options\n\t       */\n\t\n\t      if (!isDefined(optionName)) {\n\t\n\t        return options;\n\t      }\n\t\n\t      var method;\n\t\n\t      switch (optionName) {\n\t\n\t        case \"starWidth\":\n\t\n\t          method = setStarWidth;\n\t          break;\n\t        case \"numStars\":\n\t\n\t          method = setNumStars;\n\t          break;\n\t        case \"normalFill\":\n\t\n\t          method = setNormalFill;\n\t          break;\n\t        case \"ratedFill\":\n\t\n\t          method = setRatedFill;\n\t          break;\n\t        case \"multiColor\":\n\t\n\t          method = setMultiColor;\n\t          break;\n\t        case \"maxValue\":\n\t\n\t          method = setMaxValue;\n\t          break;\n\t        case \"precision\":\n\t\n\t          method = setPrecision;\n\t          break;\n\t        case \"rating\":\n\t\n\t          method = setRating;\n\t          break;\n\t        case \"halfStar\":\n\t\n\t          method = setHalfStar;\n\t          break;\n\t        case \"fullStar\":\n\t\n\t          method = setFullStar;\n\t          break;\n\t        case \"readOnly\":\n\t\n\t          method = setReadOnly;\n\t          break;\n\t        case \"spacing\":\n\t\n\t          method = setSpacing;\n\t          break;\n\t        case \"rtl\":\n\t\n\t          method = setRtl;\n\t          break;\n\t        case \"onInit\":\n\t\n\t          method = setOnInit;\n\t          break;\n\t        case \"onSet\":\n\t\n\t          method = setOnSet;\n\t          break;\n\t        case \"onChange\":\n\t\n\t          method = setOnChange;\n\t          break;\n\t        default:\n\t\n\t          throw Error(\"No such option as \" + optionName);\n\t      }\n\t\n\t      return isDefined(param) ? method(param) : options[optionName];\n\t    };\n\t\n\t    function onMouseEnter(e) {\n\t\n\t      /*\n\t       * If the Mouse Pointer is inside the container, calculate and show the rating\n\t       * in UI\n\t       */\n\t\n\t      var rating = calculateRating(e).toFixed(options.precision);\n\t\n\t      var maxValue = options.maxValue;\n\t\n\t      rating = checkPrecision(parseFloat(rating), minValue, maxValue);\n\t\n\t      showRating(rating);\n\t\n\t      $node.trigger(\"rateyo.change\", { rating: rating });\n\t    }\n\t\n\t    function onMouseLeave() {\n\t      if (isMobileBrowser()) {\n\t        return;\n\t      }\n\t\n\t      /*\n\t       * If mouse leaves, revert the rating in UI to previously set rating,\n\t       * when empty value is passed to showRating, it will take the previously set\n\t       * rating\n\t       */\n\t\n\t      showRating();\n\t\n\t      $node.trigger(\"rateyo.change\", { rating: options.rating });\n\t    }\n\t\n\t    function onMouseClick(e) {\n\t\n\t      /*\n\t       * On clicking the mouse inside the container, calculate and set the rating\n\t       */\n\t\n\t      var resultantRating = calculateRating(e).toFixed(options.precision);\n\t      resultantRating = parseFloat(resultantRating);\n\t\n\t      that.rating(resultantRating);\n\t    }\n\t\n\t    function onInit(e, data) {\n\t\n\t      if (options.onInit && typeof options.onInit === \"function\") {\n\t\n\t        /* jshint validthis:true */\n\t        options.onInit.apply(this, [data.rating, that]);\n\t      }\n\t    }\n\t\n\t    function onChange(e, data) {\n\t\n\t      if (options.onChange && typeof options.onChange === \"function\") {\n\t\n\t        /* jshint validthis:true */\n\t        options.onChange.apply(this, [data.rating, that]);\n\t      }\n\t    }\n\t\n\t    function onSet(e, data) {\n\t\n\t      if (options.onSet && typeof options.onSet === \"function\") {\n\t\n\t        /* jshint validthis:true */\n\t        options.onSet.apply(this, [data.rating, that]);\n\t      }\n\t    }\n\t\n\t    function bindEvents() {\n\t\n\t      $node.on(\"mousemove\", onMouseEnter).on(\"mouseenter\", onMouseEnter).on(\"mouseleave\", onMouseLeave).on(\"click\", onMouseClick).on(\"rateyo.init\", onInit).on(\"rateyo.change\", onChange).on(\"rateyo.set\", onSet);\n\t    }\n\t\n\t    function unbindEvents() {\n\t\n\t      $node.off(\"mousemove\", onMouseEnter).off(\"mouseenter\", onMouseEnter).off(\"mouseleave\", onMouseLeave).off(\"click\", onMouseClick).off(\"rateyo.init\", onInit).off(\"rateyo.change\", onChange).off(\"rateyo.set\", onSet);\n\t    }\n\t\n\t    setNumStars(options.numStars);\n\t    setReadOnly(options.readOnly);\n\t\n\t    if (options.rtl) {\n\t\n\t      setRtl(options.rtl);\n\t    }\n\t\n\t    this.collection.push(this);\n\t    this.rating(options.rating, true);\n\t\n\t    isInitialized = true;\n\t    $node.trigger(\"rateyo.init\", { rating: options.rating });\n\t  }\n\t\n\t  RateYo.prototype.collection = [];\n\t\n\t  function getInstance(node, collection) {\n\t\n\t    /*\n\t     * Given a HTML element (node) and a collection of RateYo instances,\n\t     * this function will search through the collection and return the matched\n\t     * instance having the node\n\t     */\n\t\n\t    var instance;\n\t\n\t    $.each(collection, function () {\n\t\n\t      if (node === this.node) {\n\t\n\t        instance = this;\n\t        return false;\n\t      }\n\t    });\n\t\n\t    return instance;\n\t  }\n\t\n\t  function deleteInstance(node, collection) {\n\t\n\t    /*\n\t     * Given a HTML element (node) and a collection of RateYo instances,\n\t     * this function will search through the collection and delete the\n\t     * instance having the node, and return the modified collection\n\t     */\n\t\n\t    $.each(collection, function (index) {\n\t\n\t      if (node === this.node) {\n\t\n\t        var firstPart = collection.slice(0, index),\n\t            secondPart = collection.slice(index + 1, collection.length);\n\t\n\t        collection = firstPart.concat(secondPart);\n\t\n\t        return false;\n\t      }\n\t    });\n\t\n\t    return collection;\n\t  }\n\t\n\t  function _rateYo(options) {\n\t\n\t    var rateYoInstances = RateYo.prototype.collection;\n\t\n\t    /* jshint validthis:true */\n\t    var $nodes = $(this);\n\t\n\t    if ($nodes.length === 0) {\n\t\n\t      return $nodes;\n\t    }\n\t\n\t    var args = Array.prototype.slice.apply(arguments, []);\n\t\n\t    if (args.length === 0) {\n\t\n\t      //If args length is 0, Initialize the UI with default settings\n\t      options = args[0] = {};\n\t    } else if (args.length === 1 && typeof args[0] === \"object\") {\n\t\n\t      //If an Object is specified as first argument, it is considered as options\n\t      options = args[0];\n\t    } else if (args.length >= 1 && typeof args[0] === \"string\") {\n\t\n\t      /*\n\t       * if there is only one argument, and if its a string, it is supposed to be a\n\t       * method name, if more than one argument is specified, the remaining arguments\n\t       * except the first argument, will be passed as a params to the specified method\n\t       */\n\t\n\t      var methodName = args[0],\n\t          params = args.slice(1);\n\t\n\t      var result = [];\n\t\n\t      $.each($nodes, function (i, node) {\n\t\n\t        var existingInstance = getInstance(node, rateYoInstances);\n\t\n\t        if (!existingInstance) {\n\t\n\t          throw Error(\"Trying to set options before even initialization\");\n\t        }\n\t\n\t        var method = existingInstance[methodName];\n\t\n\t        if (!method) {\n\t\n\t          throw Error(\"Method \" + methodName + \" does not exist!\");\n\t        }\n\t\n\t        var returnVal = method.apply(existingInstance, params);\n\t\n\t        result.push(returnVal);\n\t      });\n\t\n\t      /*\n\t       * If the plugin in being called on only one jQuery Element, return only the\n\t       * first value, to support chaining.\n\t       */\n\t      result = result.length === 1 ? result[0] : result;\n\t\n\t      return result;\n\t    } else {\n\t\n\t      throw Error(\"Invalid Arguments\");\n\t    }\n\t\n\t    /*\n\t     * if only options are passed, extend default options, and if the plugin is not\n\t     * initialized on a particular jQuery element, initalize RateYo on it\n\t     */\n\t    options = $.extend({}, DEFAULTS, options);\n\t\n\t    return $.each($nodes, function () {\n\t\n\t      var existingInstance = getInstance(this, rateYoInstances);\n\t\n\t      if (!existingInstance) {\n\t\n\t        return new RateYo($(this), $.extend({}, options));\n\t      }\n\t    });\n\t  }\n\t\n\t  function rateYo() {\n\t\n\t    /* jshint validthis:true */\n\t    return _rateYo.apply(this, Array.prototype.slice.apply(arguments, []));\n\t  }\n\t\n\t  window.RateYo = RateYo;\n\t  $.fn.rateYo = rateYo;\n\t})(window.jQuery);\n\n/***/ },\n/* 60 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (name) {};\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _customformInput = __webpack_require__(14);\n\t\n\tvar _customformInput2 = _interopRequireDefault(_customformInput);\n\t\n\tvar _asyncModulesAjaxselect = __webpack_require__(6);\n\t\n\tvar _asyncModulesAjaxselect2 = _interopRequireDefault(_asyncModulesAjaxselect);\n\t\n\tvar _asyncModulesTaxonomy = __webpack_require__(18);\n\t\n\tvar _asyncModulesTaxonomy2 = _interopRequireDefault(_asyncModulesTaxonomy);\n\t\n\tvar _asyncModulesDropzoneUploader = __webpack_require__(10);\n\t\n\tvar _asyncModulesDropzoneUploader2 = _interopRequireDefault(_asyncModulesDropzoneUploader);\n\t\n\t__webpack_require__(15);\n\t\n\t__webpack_require__(16);\n\t\n\t__webpack_require__(7);\n\t\n\tmodule.exports = function (name) {\n\t  var $root = $(name);\n\t  var $steps = $root.find('[data-toggle=\"steps\"]');\n\t  var $form = $root.find('[data-toggle=\"form\"]');\n\t  var $templateOrganizationUser = $('#template-organization-user');\n\t  var childElementSelector = 'input,select,textarea,label,div';\n\t  var usersId = [];\n\t  $form.validate({\n\t    errorPlacement: function errorPlacement(error, element) {\n\t      element.after(error);\n\t    }\n\t  });\n\t  $steps.children('[role=\"tablist\"]').steps({\n\t    headerTag: '.organization__register__tab',\n\t    bodyTag: '[role=\"tabpanel\"]',\n\t    enableAllSteps: true,\n\t    transitionEffect: 'slideLeft',\n\t    titleTemplate: '#title#',\n\t    labels: {\n\t      cancel: \"Cancelar\",\n\t      current: \"passo atual:\",\n\t      pagination: \"Paginação\",\n\t      finish: \"Salvar\",\n\t      next: \"Avançar\",\n\t      previous: \"Voltar\",\n\t      loading: \"Carregando ...\"\n\t    },\n\t    onInit: function onInit(event, currentIndex) {\n\t      var $user = $('[name=\"user\"]');\n\t      var $role = $('[name=\"permission\"]');\n\t      var $formset = $root.find('[data-toggle=\"formset\"]');\n\t      var totalForms = $('#id_' + $formset.data('name') + '-TOTAL_FORMS');\n\t      var maxForms = $('#id_' + $formset.data('name') + '-MAX_NUM_FORMS');\n\t      var minForms = $('#id_' + $formset.data('name') + '-MIN_NUM_FORMS');\n\t      (0, _customformInput2['default'])($root.find('[data-toggle=\"input\"]'));\n\t      (0, _asyncModulesAjaxselect2['default'])($('[data-select=\"ajaxselect\"]'));\n\t      (0, _asyncModulesTaxonomy2['default'])($('[data-select=\"taxonomy\"]'));\n\t      (0, _asyncModulesDropzoneUploader2['default'])($('[data-toggle=\"dropzoneUploader\"]'));\n\t      $formset.find('[data-id]').each(function (index, element) {\n\t        usersId.push($(element).data('id'));\n\t      });\n\t\n\t      $root.find('[data-toggle=\"add-member\"]').on('click', function (event) {\n\t        var $this = $(event.currentTarget);\n\t        var formPrefix = $formset.data('name');\n\t        var formCount = parseInt(totalForms.val());\n\t        var userTemplate = $templateOrganizationUser.clone(true);\n\t        if ($user.val() && $role.val()) {\n\t          userTemplate.find('[name $=' + $user.attr('name') + ']').val($user.val());\n\t          userTemplate.find('[name $=' + $role.attr('name') + ']').val($role.val());\n\t          userTemplate.removeAttr('id');\n\t          userTemplate.removeProp('id');\n\t          var userValue = parseInt($user.val(), 10);\n\t          if (!(usersId.indexOf(userValue) > -1)) {\n\t            userTemplate.find(childElementSelector).each(function (index, element) {\n\t              updateElementIndex($(element), formPrefix, formCount);\n\t            });\n\t            totalForms.val(formCount + 1);\n\t            $(userTemplate).find('[data-target=\"name\"]').text($user.text());\n\t            $(userTemplate).find('[data-target=\"role\"]').text($role.find('option:selected').text());\n\t            $(userTemplate).find('img').attr('src', location.origin + '/perfil/dinamic-profile-image/' + $user.val() + '/70/');\n\t            userTemplate.removeClass('hidden');\n\t            userTemplate.data('id', $user.val());\n\t            $formset.append(userTemplate);\n\t            usersId.push(userValue);\n\t          }\n\t        }\n\t      });\n\t\n\t      $formset.on('click', '.gsticon.gsticon-close', function (event) {\n\t        var $this = $(event.currentTarget);\n\t        var _user = $this.parent().parent();\n\t        usersId.some(function (user) {\n\t          if (user == _user.data('id')) {\n\t            usersId.splice(usersId.indexOf(user), 1);\n\t            _user.hide();\n\t          }\n\t        });\n\t      });\n\t    },\n\t    onStepChanging: function onStepChanging(event, currentIndex, newIndex) {\n\t      $form.validate().settings.ignore = ':disabled,:hidden';\n\t      return $form.valid();\n\t    },\n\t    onFinishing: function onFinishing(event, currentIndex) {\n\t      $form.validate().settings.ignore = ':disabled,:hidden';\n\t      return $form.valid();\n\t    },\n\t    onFinished: function onFinished(event, currentIndex) {\n\t      $form.submit();\n\t    }\n\t  });\n\t};\n\t\n\tfunction updateElementIndex(elem, prefix, ndx) {\n\t  var idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n\t      replacement = prefix + '-' + ndx + '-';\n\t  if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n\t  if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n\t  if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t$(document).on('input', '[data-filter=\"textbox\"]', function (event) {\n\t  var $this = $(event.currentTarget);\n\t  var timeout;\n\t\n\t  if (event.type == 'keyup' && event.keyCode != 8) return;\n\t\n\t  if (!timeout) {\n\t    timeout = setTimeout(function () {\n\t      $this.closest('form').submit();\n\t    }, 500);\n\t  } else {\n\t    clearTimeout(timeout);\n\t  }\n\t\n\t  console.log($this);\n\t});\n\t\n\t$(document).on('change', '[data-filter=\"select\"]', function (event) {\n\t  var $this = $(event.currentTarget);\n\t  $this.closest('form').submit();\n\t});\n\t\n\t$('[data-toggle=\"filter\"]').on(\"ajaxform.success\", function (event, data) {});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _jquery = __webpack_require__(2);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(56);\n\t\n\t(0, _jquery2['default'])('.j-scroll').jscroll({\n\t    autoTrigger: false,\n\t    loadingHtml: '<div class=\"col-xs-12\"><div class=\"load-async-preload\"></div></div>',\n\t    contentSelect: '.j-scroll-container',\n\t    nextSelector: 'a[data-jscroll-next]'\n\t});\n\t\n\t(0, _jquery2['default'])('[data-form-send]').on('change', function onChangeSelectSendVideoForm() {\n\t    var $self = (0, _jquery2['default'])(this);\n\t    var $form = $self.closest('form[data-form-send-enables]');\n\t    if ($form.length) {\n\t        $form.trigger('submit');\n\t    }\n\t});\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// 2.2.js","module.exports = function(html, options) {\n\tvar re = /<%(.+?)%>/g, \n\t\treExp = /(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g, \n\t\tcode = 'with(obj) { var r=[];\\n', \n\t\tcursor = 0, \n\t\tresult;\n\tvar add = function(line, js) {\n\t\tjs? (code += line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n') :\n\t\t\t(code += line != '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '');\n\t\treturn add;\n\t}\n\tvar match = re.exec(html);\n\twhile(match) {\n\t\tadd(html.slice(cursor, match.index))(match[1], true);\n\t\tcursor = match.index + match[0].length;\n\t\tmatch = re.exec(html);\n\t}\n\tadd(html.substr(cursor, html.length - cursor));\n\tcode = (code + 'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g, '');\n\ttry { result = new Function('obj', code).apply(options, [options]); }\n\tcatch(err) { console.error(\"'\" + err.message + \"'\", \" in \\n\\nCode:\\n\", code, \"\\n\"); }\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/TemplateEngine.js","'use strict'\n\nimport $ from 'jquery'\nrequire('selectize')\n\nvar elementData,\n    $element;\n\nconst [suggest] = [{\n    valueField: 'id'\n    , labelField: 'name'\n    , searchField: 'name'\n    , create: false\n    , render: {\n        item: templateItem\n        , option: templateOption\n    }\n    , load: loadUsers\n}]\n\nvar ajaxselect = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, suggest, elementData);\n    $(element).selectize(selectizeSettings);\n}\n\nfunction templateItem (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    return `<div>${name}</div>`\n}\nfunction templateOption (item, escape) {\n    let name = item.name ? escape(item.name) : ''\n    return `<div class=\"item-float-notification\">\n        <span><img src=\"${item.img}\" alt=\"${name}\"></span>\n        <span>${name}</span>\n        </div>`\n}\n\nfunction loadUsers(query, callback) {\n    var options = this.$wrapper.prev().data();\n    if (!query.length) {\n        return callback()\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        type: 'GET',\n        data: _data,\n        error: function () {\n            callback()\n        },\n        success: function (res) {\n            callback(res.items);\n        }\n    })\n}\n\n\nexport default ajaxselect\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/ajaxselect.js","/**\n * selectize.js (v0.12.4)\n * Copyright (c) 2013–2015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery','sifter','microplugin'], factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t} else {\n\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t}\n}(this, function($, Sifter, MicroPlugin) {\n\t'use strict';\n\n\tvar highlight = function($element, pattern) {\n\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\n\t\tvar highlight = function(node) {\n\t\t\tvar skip = 0;\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\tskip = 1;\n\t\t\t\t}\n\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn skip;\n\t\t};\n\t\n\t\treturn $element.each(function() {\n\t\t\thighlight(this);\n\t\t});\n\t};\n\t\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with() and pass js strict mode\n\t */\n\t$.fn.removeHighlight = function() {\n\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\tvar parent = this.parentNode;\n\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\tparent.normalize();\n\t\t}).end();\n\t};\n\t\n\t\n\tvar MicroEvent = function() {};\n\tMicroEvent.prototype = {\n\t\ton: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\tthis._events[event].push(fct);\n\t\t},\n\t\toff: function(event, fct){\n\t\t\tvar n = arguments.length;\n\t\t\tif (n === 0) return delete this._events;\n\t\t\tif (n === 1) return delete this._events[event];\n\t\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t},\n\t\ttrigger: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t *\n\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t *\n\t * @param {object} the object which will support MicroEvent\n\t */\n\tMicroEvent.mixin = function(destObject){\n\t\tvar props = ['on', 'off', 'trigger'];\n\t\tfor (var i = 0; i < props.length; i++){\n\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t}\n\t};\n\t\n\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\n\tvar KEY_A         = 65;\n\tvar KEY_COMMA     = 188;\n\tvar KEY_RETURN    = 13;\n\tvar KEY_ESC       = 27;\n\tvar KEY_LEFT      = 37;\n\tvar KEY_UP        = 38;\n\tvar KEY_P         = 80;\n\tvar KEY_RIGHT     = 39;\n\tvar KEY_DOWN      = 40;\n\tvar KEY_N         = 78;\n\tvar KEY_BACKSPACE = 8;\n\tvar KEY_DELETE    = 46;\n\tvar KEY_SHIFT     = 16;\n\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\tvar KEY_TAB       = 9;\n\t\n\tvar TAG_SELECT    = 1;\n\tvar TAG_INPUT     = 2;\n\t\n\t// for now, android support in general is too spotty to support validity\n\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\n\t\n\tvar isset = function(object) {\n\t\treturn typeof object !== 'undefined';\n\t};\n\t\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t * @param {string} value\n\t * @returns {string|null}\n\t */\n\tvar hash_key = function(value) {\n\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\treturn value + '';\n\t};\n\t\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_html = function(str) {\n\t\treturn (str + '')\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t};\n\t\n\t/**\n\t * Escapes \"$\" characters in replacement strings.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_replace = function(str) {\n\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t};\n\t\n\tvar hook = {};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked before the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.before = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn original.apply(self, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked after the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.after = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tvar result = original.apply(self, arguments);\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn result;\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be invoked once.\n\t *\n\t * @param {function} fn\n\t * @returns {function}\n\t */\n\tvar once = function(fn) {\n\t\tvar called = false;\n\t\treturn function() {\n\t\t\tif (called) return;\n\t\t\tcalled = true;\n\t\t\tfn.apply(this, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be called once\n\t * every `delay` milliseconds (invoked on the falling edge).\n\t *\n\t * @param {function} fn\n\t * @param {int} delay\n\t * @returns {function}\n\t */\n\tvar debounce = function(fn, delay) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar self = this;\n\t\t\tvar args = arguments;\n\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\tfn.apply(self, args);\n\t\t\t}, delay);\n\t\t};\n\t};\n\t\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t * @param {object} self\n\t * @param {array} types\n\t * @param {function} fn\n\t */\n\tvar debounce_events = function(self, types, fn) {\n\t\tvar type;\n\t\tvar trigger = self.trigger;\n\t\tvar event_args = {};\n\t\n\t\t// override trigger method\n\t\tself.trigger = function() {\n\t\t\tvar type = arguments[0];\n\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\tevent_args[type] = arguments;\n\t\t\t} else {\n\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t}\n\t\t};\n\t\n\t\t// invoke provided function\n\t\tfn.apply(self, []);\n\t\tself.trigger = trigger;\n\t\n\t\t// trigger queued events\n\t\tfor (type in event_args) {\n\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t *\n\t * @param {object} $parent - Parent element to listen on.\n\t * @param {string} event - Event name.\n\t * @param {string} selector - Descendant selector to filter by.\n\t * @param {function} fn - Event handler.\n\t */\n\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t$parent.on(event, selector, function(e) {\n\t\t\tvar child = e.target;\n\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\tchild = child.parentNode;\n\t\t\t}\n\t\t\te.currentTarget = child;\n\t\t\treturn fn.apply(this, [e]);\n\t\t});\n\t};\n\t\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t * @param {object} input\n\t * @returns {object}\n\t */\n\tvar getSelection = function(input) {\n\t\tvar result = {};\n\t\tif ('selectionStart' in input) {\n\t\t\tresult.start = input.selectionStart;\n\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t} else if (document.selection) {\n\t\t\tinput.focus();\n\t\t\tvar sel = document.selection.createRange();\n\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\tresult.start = sel.text.length - selLen;\n\t\t\tresult.length = selLen;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t/**\n\t * Copies CSS properties from one element to another.\n\t *\n\t * @param {object} $from\n\t * @param {object} $to\n\t * @param {array} properties\n\t */\n\tvar transferStyles = function($from, $to, properties) {\n\t\tvar i, n, styles = {};\n\t\tif (properties) {\n\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tstyles = $from.css();\n\t\t}\n\t\t$to.css(styles);\n\t};\n\t\n\t/**\n\t * Measures the width of a string within a\n\t * parent element (in pixels).\n\t *\n\t * @param {string} str\n\t * @param {object} $parent\n\t * @returns {int}\n\t */\n\tvar measureString = function(str, $parent) {\n\t\tif (!str) {\n\t\t\treturn 0;\n\t\t}\n\t\n\t\tvar $test = $('<test>').css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -99999,\n\t\t\tleft: -99999,\n\t\t\twidth: 'auto',\n\t\t\tpadding: 0,\n\t\t\twhiteSpace: 'pre'\n\t\t}).text(str).appendTo('body');\n\t\n\t\ttransferStyles($parent, $test, [\n\t\t\t'letterSpacing',\n\t\t\t'fontSize',\n\t\t\t'fontFamily',\n\t\t\t'fontWeight',\n\t\t\t'textTransform'\n\t\t]);\n\t\n\t\tvar width = $test.width();\n\t\t$test.remove();\n\t\n\t\treturn width;\n\t};\n\t\n\t/**\n\t * Sets up an input to grow horizontally as the user\n\t * types. If the value is changed manually, you can\n\t * trigger the \"update\" handler to resize:\n\t *\n\t * $input.trigger('update');\n\t *\n\t * @param {object} $input\n\t */\n\tvar autoGrow = function($input) {\n\t\tvar currentWidth = null;\n\t\n\t\tvar update = function(e, options) {\n\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\tvar shift, character, selection;\n\t\t\te = e || window.event || {};\n\t\t\toptions = options || {};\n\t\n\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\n\t\t\tvalue = $input.val();\n\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\tprintable = (\n\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t);\n\t\n\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (printable) {\n\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\tvalue += character;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\tif (!value && placeholder) {\n\t\t\t\tvalue = placeholder;\n\t\t\t}\n\t\n\t\t\twidth = measureString(value, $input) + 4;\n\t\t\tif (width !== currentWidth) {\n\t\t\t\tcurrentWidth = width;\n\t\t\t\t$input.width(width);\n\t\t\t\t$input.triggerHandler('resize');\n\t\t\t}\n\t\t};\n\t\n\t\t$input.on('keydown keyup update blur', update);\n\t\tupdate();\n\t};\n\t\n\tvar domToString = function(d) {\n\t\tvar tmp = document.createElement('div');\n\t\n\t\ttmp.appendChild(d.cloneNode(true));\n\t\n\t\treturn tmp.innerHTML;\n\t};\n\t\n\tvar logError = function(message, options){\n\t\tif(!options) options = {};\n\t\tvar component = \"Selectize\";\n\t\n\t\tconsole.error(component + \": \" + message)\n\t\n\t\tif(options.explanation){\n\t\t\t// console.group is undefined in <IE11\n\t\t\tif(console.group) console.group();\n\t\t\tconsole.error(options.explanation);\n\t\t\tif(console.group) console.groupEnd();\n\t\t}\n\t}\n\t\n\t\n\tvar Selectize = function($input, settings) {\n\t\tvar key, i, n, dir, input, self = this;\n\t\tinput = $input[0];\n\t\tinput.selectize = self;\n\t\n\t\t// detect rtl environment\n\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\n\t\t// setup default state\n\t\t$.extend(self, {\n\t\t\torder            : 0,\n\t\t\tsettings         : settings,\n\t\t\t$input           : $input,\n\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\trtl              : /rtl/i.test(dir),\n\t\n\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\thighlightedValue : null,\n\t\t\tisOpen           : false,\n\t\t\tisDisabled       : false,\n\t\t\tisRequired       : $input.is('[required]'),\n\t\t\tisInvalid        : false,\n\t\t\tisLocked         : false,\n\t\t\tisFocused        : false,\n\t\t\tisInputHidden    : false,\n\t\t\tisSetup          : false,\n\t\t\tisShiftDown      : false,\n\t\t\tisCmdDown        : false,\n\t\t\tisCtrlDown       : false,\n\t\t\tignoreFocus      : false,\n\t\t\tignoreBlur       : false,\n\t\t\tignoreHover      : false,\n\t\t\thasOptions       : false,\n\t\t\tcurrentResults   : null,\n\t\t\tlastValue        : '',\n\t\t\tcaretPos         : 0,\n\t\t\tloading          : 0,\n\t\t\tloadedSearches   : {},\n\t\n\t\t\t$activeOption    : null,\n\t\t\t$activeItems     : [],\n\t\n\t\t\toptgroups        : {},\n\t\t\toptions          : {},\n\t\t\tuserOptions      : {},\n\t\t\titems            : [],\n\t\t\trenderCache      : {},\n\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t});\n\t\n\t\t// search system\n\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\n\t\t// build options table\n\t\tif (self.settings.options) {\n\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t}\n\t\t\tdelete self.settings.options;\n\t\t}\n\t\n\t\t// build optgroup table\n\t\tif (self.settings.optgroups) {\n\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t}\n\t\t\tdelete self.settings.optgroups;\n\t\t}\n\t\n\t\t// option-dependent defaults\n\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t}\n\t\n\t\tself.initializePlugins(self.settings.plugins);\n\t\tself.setupCallbacks();\n\t\tself.setupTemplates();\n\t\tself.setup();\n\t};\n\t\n\t// mixins\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\tMicroEvent.mixin(Selectize);\n\t\n\tif(typeof MicroPlugin !== \"undefined\"){\n\t\tMicroPlugin.mixin(Selectize);\n\t}else{\n\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t{explanation:\n\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\"load Selectize.\"}\n\t\t);\n\t}\n\t\n\t\n\t// methods\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t$.extend(Selectize.prototype, {\n\t\n\t\t/**\n\t\t * Creates all elements and sets up event bindings.\n\t\t */\n\t\tsetup: function() {\n\t\t\tvar self      = this;\n\t\t\tvar settings  = self.settings;\n\t\t\tvar eventNS   = self.eventNS;\n\t\t\tvar $window   = $(window);\n\t\t\tvar $document = $(document);\n\t\t\tvar $input    = self.$input;\n\t\n\t\t\tvar $wrapper;\n\t\t\tvar $control;\n\t\t\tvar $control_input;\n\t\t\tvar $dropdown;\n\t\t\tvar $dropdown_content;\n\t\t\tvar $dropdown_parent;\n\t\t\tvar inputMode;\n\t\t\tvar timeout_blur;\n\t\t\tvar timeout_focus;\n\t\t\tvar classes;\n\t\t\tvar classes_plugins;\n\t\t\tvar inputId;\n\t\n\t\t\tinputMode         = self.settings.mode;\n\t\t\tclasses           = $input.attr('class') || '';\n\t\n\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\n\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t}\n\t\n\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t$dropdown.addClass(classes);\n\t\t\t}\n\t\n\t\t\t$wrapper.css({\n\t\t\t\twidth: $input[0].style.width\n\t\t\t});\n\t\n\t\t\tif (self.plugins.names.length) {\n\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t}\n\t\n\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t}\n\t\n\t\t\tif (self.settings.placeholder) {\n\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t}\n\t\n\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t}\n\t\n\t\t\tself.$wrapper          = $wrapper;\n\t\t\tself.$control          = $control;\n\t\t\tself.$control_input    = $control_input;\n\t\t\tself.$dropdown         = $dropdown;\n\t\t\tself.$dropdown_content = $dropdown_content;\n\t\n\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\tautoGrow($control_input);\n\t\n\t\t\t$control.on({\n\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$control_input.on({\n\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t});\n\t\n\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t});\n\t\n\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// blur on click outside\n\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\tself.ignoreHover = false;\n\t\t\t});\n\t\n\t\t\t// store original children and tab index so that they can be\n\t\t\t// restored when the destroy() method is called.\n\t\t\tthis.revertSettings = {\n\t\t\t\t$children : $input.children().detach(),\n\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t};\n\t\n\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\n\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\tself.setValue(settings.items);\n\t\t\t\tdelete settings.items;\n\t\t\t}\n\t\n\t\t\t// feature detect for the validation API\n\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\tself.refreshState();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tself.updateOriginalInput();\n\t\t\tself.refreshItems();\n\t\t\tself.refreshState();\n\t\t\tself.updatePlaceholder();\n\t\t\tself.isSetup = true;\n\t\n\t\t\tif ($input.is(':disabled')) {\n\t\t\t\tself.disable();\n\t\t\t}\n\t\n\t\t\tself.on('change', this.onChange);\n\t\n\t\t\t$input.data('selectize', self);\n\t\t\t$input.addClass('selectized');\n\t\t\tself.trigger('initialize');\n\t\n\t\t\t// preload options\n\t\t\tif (settings.preload === true) {\n\t\t\t\tself.onSearchChange('');\n\t\t\t}\n\t\n\t\t},\n\t\n\t\t/**\n\t\t * Sets up default rendering functions.\n\t\t */\n\t\tsetupTemplates: function() {\n\t\t\tvar self = this;\n\t\t\tvar field_label = self.settings.labelField;\n\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\n\t\t\tvar templates = {\n\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t},\n\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t},\n\t\n\t\t/**\n\t\t * Maps fired events to callbacks provided\n\t\t * in the settings used when creating the control.\n\t\t */\n\t\tsetupCallbacks: function() {\n\t\t\tvar key, fn, callbacks = {\n\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t'change'          : 'onChange',\n\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t'type'            : 'onType',\n\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t'blur'            : 'onBlur'\n\t\t\t};\n\t\n\t\t\tfor (key in callbacks) {\n\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a click event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonClick: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t// is ignored unless invoked within a click event)\n\t\t\tif (!self.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a mouse down event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonMouseDown: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\tvar $target = $(e.target);\n\t\n\t\t\tif (self.isFocused) {\n\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// give control focus\n\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the value of the control has been changed.\n\t\t * This should propagate the event to the original DOM\n\t\t * input / select element.\n\t\t */\n\t\tonChange: function() {\n\t\t\tthis.$input.trigger('change');\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> paste.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonPaste: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t// input and create Items for each separate value\n\t\t\tif (self.settings.splitOn) {\n\t\n\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\n\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keypress.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyPress: function(e) {\n\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\tthis.createItem();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keydown.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyDown: function(e) {\n\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) {\n\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase KEY_A:\n\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase KEY_ESC:\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_N:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\tself.open();\n\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_P:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_UP:\n\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_TAB:\n\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\n\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keyup.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyUp: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\tvar value = self.$control_input.val() || '';\n\t\t\tif (self.lastValue !== value) {\n\t\t\t\tself.lastValue = value;\n\t\t\t\tself.onSearchChange(value);\n\t\t\t\tself.refreshOptions();\n\t\t\t\tself.trigger('type', value);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the user-provide option provider / loader.\n\t\t *\n\t\t * Note: this function is debounced in the Selectize\n\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tonSearchChange: function(value) {\n\t\t\tvar self = this;\n\t\t\tvar fn = self.settings.load;\n\t\t\tif (!fn) return;\n\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\tself.loadedSearches[value] = true;\n\t\t\tself.load(function(callback) {\n\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> focus.\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tonFocus: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar wasFocused = self.isFocused;\n\t\n\t\t\tif (self.isDisabled) {\n\t\t\t\tself.blur();\n\t\t\t\te && e.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tif (self.ignoreFocus) return;\n\t\t\tself.isFocused = true;\n\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\n\t\t\tif (!wasFocused) self.trigger('focus');\n\t\n\t\t\tif (!self.$activeItems.length) {\n\t\t\t\tself.showInput();\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t}\n\t\n\t\t\tself.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> blur.\n\t\t *\n\t\t * @param {object} e\n\t\t * @param {Element} dest\n\t\t */\n\t\tonBlur: function(e, dest) {\n\t\t\tvar self = this;\n\t\t\tif (!self.isFocused) return;\n\t\t\tself.isFocused = false;\n\t\n\t\t\tif (self.ignoreFocus) {\n\t\t\t\treturn;\n\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\tself.ignoreBlur = true;\n\t\t\t\tself.onFocus(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar deactivate = function() {\n\t\t\t\tself.close();\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\tself.refreshState();\n\t\n\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\tdest && dest.focus && dest.focus();\n\t\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.trigger('blur');\n\t\t\t};\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t} else {\n\t\t\t\tdeactivate();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user rolls over\n\t\t * an option in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionHover: function(e) {\n\t\t\tif (this.ignoreHover) return;\n\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an option\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionSelect: function(e) {\n\t\t\tvar value, $target, $option, self = this;\n\t\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\n\t\t\t$target = $(e.currentTarget);\n\t\t\tif ($target.hasClass('create')) {\n\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an item\n\t\t * that has been selected.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonItemSelect: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return;\n\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the provided method that provides\n\t\t * results to a callback---which are then added\n\t\t * as options to the control.\n\t\t *\n\t\t * @param {function} fn\n\t\t */\n\t\tload: function(fn) {\n\t\t\tvar self = this;\n\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\n\t\t\tself.loading++;\n\t\t\tfn.apply(self, [function(results) {\n\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\tif (results && results.length) {\n\t\t\t\t\tself.addOption(results);\n\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t}\n\t\t\t\tif (!self.loading) {\n\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t}\n\t\t\t\tself.trigger('load', results);\n\t\t\t}]);\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the input field of the control to the specified value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tsetTextboxValue: function(value) {\n\t\t\tvar $input = this.$control_input;\n\t\t\tvar changed = $input.val() !== value;\n\t\t\tif (changed) {\n\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\tthis.lastValue = value;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the value of the control. If multiple items\n\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t * an array. If only one item can be selected, this\n\t\t * returns a string.\n\t\t *\n\t\t * @returns {mixed}\n\t\t */\n\t\tgetValue: function() {\n\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\treturn this.items;\n\t\t\t} else {\n\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Resets the selected items to the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t */\n\t\tsetValue: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tthis.clear(silent);\n\t\t\t\tthis.addItems(value, silent);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item.\n\t\t *\n\t\t * @param {object} $item\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tsetActiveItem: function($item, e) {\n\t\t\tvar self = this;\n\t\t\tvar eventName;\n\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\tvar $last;\n\t\n\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t$item = $($item);\n\t\n\t\t\t// clear the active selection\n\t\t\tif (!$item.length) {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [];\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// modify selection\n\t\t\teventName = e && e.type.toLowerCase();\n\t\n\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\tif (begin > end) {\n\t\t\t\t\tswap  = begin;\n\t\t\t\t\tbegin = end;\n\t\t\t\t\tend   = swap;\n\t\t\t\t}\n\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t}\n\t\n\t\t\t// ensure control has focus\n\t\t\tself.hideInput();\n\t\t\tif (!this.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item in the dropdown menu\n\t\t * of available options.\n\t\t *\n\t\t * @param {object} $object\n\t\t * @param {boolean} scroll\n\t\t * @param {boolean} animate\n\t\t */\n\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\tvar height_menu, height_item, y;\n\t\t\tvar scroll_top, scroll_bottom;\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\tself.$activeOption = null;\n\t\n\t\t\t$option = $($option);\n\t\t\tif (!$option.length) return;\n\t\n\t\t\tself.$activeOption = $option.addClass('active');\n\t\n\t\t\tif (scroll || !isset(scroll)) {\n\t\n\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\tscroll_top    = y;\n\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\n\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Selects all items (CTRL + A).\n\t\t */\n\t\tselectAll: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.settings.mode === 'single') return;\n\t\n\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.close();\n\t\t\t}\n\t\t\tself.focus();\n\t\t},\n\t\n\t\t/**\n\t\t * Hides the input element out of view, while\n\t\t * retaining its focus.\n\t\t */\n\t\thideInput: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.setTextboxValue('');\n\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\tself.isInputHidden = true;\n\t\t},\n\t\n\t\t/**\n\t\t * Restores input visibility.\n\t\t */\n\t\tshowInput: function() {\n\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\tthis.isInputHidden = false;\n\t\t},\n\t\n\t\t/**\n\t\t * Gives the control focus.\n\t\t */\n\t\tfocus: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.isDisabled) return;\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tself.$control_input[0].focus();\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.onFocus();\n\t\t\t}, 0);\n\t\t},\n\t\n\t\t/**\n\t\t * Forces the control out of focus.\n\t\t *\n\t\t * @param {Element} dest\n\t\t */\n\t\tblur: function(dest) {\n\t\t\tthis.$control_input[0].blur();\n\t\t\tthis.onBlur(null, dest);\n\t\t},\n\t\n\t\t/**\n\t\t * Returns a function that scores an object\n\t\t * to show how good of a match it is to the\n\t\t * provided query.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @return {function}\n\t\t */\n\t\tgetScoreFunction: function(query) {\n\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t},\n\t\n\t\t/**\n\t\t * Returns search options for sifter (the system\n\t\t * for scoring and sorting results).\n\t\t *\n\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t * @return {object}\n\t\t */\n\t\tgetSearchOptions: function() {\n\t\t\tvar settings = this.settings;\n\t\t\tvar sort = settings.sortField;\n\t\t\tif (typeof sort === 'string') {\n\t\t\t\tsort = [{field: sort}];\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tfields      : settings.searchField,\n\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\tsort        : sort\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Searches through available options and returns\n\t\t * a sorted array of matches.\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {object}\n\t\t */\n\t\tsearch: function(query) {\n\t\t\tvar i, value, score, result, calculateScore;\n\t\t\tvar self     = this;\n\t\t\tvar settings = self.settings;\n\t\t\tvar options  = this.getSearchOptions();\n\t\n\t\t\t// validate user-provided result scoring function\n\t\t\tif (settings.score) {\n\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// perform search\n\t\t\tif (query !== self.lastQuery) {\n\t\t\t\tself.lastQuery = query;\n\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\tself.currentResults = result;\n\t\t\t} else {\n\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t}\n\t\n\t\t\t// filter out selected items\n\t\t\tif (settings.hideSelected) {\n\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the list of available options shown\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {boolean} triggerDropdown\n\t\t */\n\t\trefreshOptions: function(triggerDropdown) {\n\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\tvar $active, $active_before, $create;\n\t\n\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tvar self              = this;\n\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\tvar results           = self.search(query);\n\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\n\t\t\t// build markup\n\t\t\tn = results.items.length;\n\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t}\n\t\n\t\t\t// render and group available options individually\n\t\t\tgroups = {};\n\t\t\tgroups_order = [];\n\t\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\toption_html = self.render('option', option);\n\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\n\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t}\n\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// sort optgroups\n\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// render optgroup headers & join groups\n\t\t\thtml = document.createDocumentFragment();\n\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\toptgroup = groups_order[i];\n\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\n\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t$dropdown_content.html(html);\n\t\n\t\t\t// highlight matching terms inline\n\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add \"selected\" class to selected options\n\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add create option\n\t\t\thas_create_option = self.canCreate(query);\n\t\t\tif (has_create_option) {\n\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t}\n\t\n\t\t\t// activate\n\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\tif (self.hasOptions) {\n\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t}\n\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$active = $create;\n\t\t\t\t}\n\t\t\t\tself.setActiveOption($active);\n\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t} else {\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Adds an available option. If it already exists,\n\t\t * nothing will happen. Note: this does not refresh\n\t\t * the options list dropdown (use `refreshOptions`\n\t\t * for that).\n\t\t *\n\t\t * Usage:\n\t\t *\n\t\t *   this.addOption(data)\n\t\t *\n\t\t * @param {object|array} data\n\t\t */\n\t\taddOption: function(data) {\n\t\t\tvar i, n, value, self = this;\n\t\n\t\t\tif ($.isArray(data)) {\n\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\tself.userOptions[value] = true;\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option to the pool of options.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOption: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.options[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option group to the pool of option groups.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOptionGroup: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\tif (!key) return false;\n\t\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.optgroups[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers a new optgroup for options\n\t\t * to be bucketed into.\n\t\t *\n\t\t * @param {string} id\n\t\t * @param {object} data\n\t\t */\n\t\taddOptionGroup: function(id, data) {\n\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes an existing option group.\n\t\t *\n\t\t * @param {string} id\n\t\t */\n\t\tremoveOptionGroup: function(id) {\n\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\tdelete this.optgroups[id];\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all existing option groups.\n\t\t */\n\t\tclearOptionGroups: function() {\n\t\t\tthis.optgroups = {};\n\t\t\tthis.renderCache = {};\n\t\t\tthis.trigger('optgroup_clear');\n\t\t},\n\t\n\t\t/**\n\t\t * Updates an option available for selection. If\n\t\t * it is visible in the selected items or options\n\t\t * dropdown, it will be re-rendered automatically.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {object} data\n\t\t */\n\t\tupdateOption: function(value, data) {\n\t\t\tvar self = this;\n\t\t\tvar $item, $item_new;\n\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\n\t\t\tvalue     = hash_key(value);\n\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\n\t\t\t// sanity checks\n\t\t\tif (value === null) return;\n\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\n\t\t\torder_old = self.options[value].$order;\n\t\n\t\t\t// update references\n\t\t\tif (value_new !== value) {\n\t\t\t\tdelete self.options[value];\n\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.$order = data.$order || order_old;\n\t\t\tself.options[value_new] = data;\n\t\n\t\t\t// invalidate render cache\n\t\t\tcache_items = self.renderCache['item'];\n\t\t\tcache_options = self.renderCache['option'];\n\t\n\t\t\tif (cache_items) {\n\t\t\t\tdelete cache_items[value];\n\t\t\t\tdelete cache_items[value_new];\n\t\t\t}\n\t\t\tif (cache_options) {\n\t\t\t\tdelete cache_options[value];\n\t\t\t\tdelete cache_options[value_new];\n\t\t\t}\n\t\n\t\t\t// update the item if it's selected\n\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t$item = self.getItem(value);\n\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t$item.replaceWith($item_new);\n\t\t\t}\n\t\n\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\tself.lastQuery = null;\n\t\n\t\t\t// update dropdown contents\n\t\t\tif (self.isOpen) {\n\t\t\t\tself.refreshOptions(false);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes a single option.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\tremoveOption: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\tif (cache_items) delete cache_items[value];\n\t\t\tif (cache_options) delete cache_options[value];\n\t\n\t\t\tdelete self.userOptions[value];\n\t\t\tdelete self.options[value];\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_remove', value);\n\t\t\tself.removeItem(value, silent);\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all options.\n\t\t */\n\t\tclearOptions: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.loadedSearches = {};\n\t\t\tself.userOptions = {};\n\t\t\tself.renderCache = {};\n\t\t\tself.options = self.sifter.items = {};\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_clear');\n\t\t\tself.clear();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the option\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetOption: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the next or\n\t\t * previous selectable option.\n\t\t *\n\t\t * @param {object} $option\n\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t * @return {object}\n\t\t */\n\t\tgetAdjacentOption: function($option, direction) {\n\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t},\n\t\n\t\t/**\n\t\t * Finds the first element with a \"data-value\" attribute\n\t\t * that matches the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} $els\n\t\t * @return {object}\n\t\t */\n\t\tgetElementWithValue: function(value, $els) {\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn $();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the item\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetItem: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItems: function(values, silent) {\n\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" an item. Adds it to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItem: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tvar $item, $option, $options;\n\t\t\t\tvar self = this;\n\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\tvalue = hash_key(value);\n\t\n\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\n\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\twasFull = self.isFull();\n\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\tself.insertAtCaret($item);\n\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\tself.refreshState();\n\t\t\t\t}\n\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\n\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the selected item matching\n\t\t * the provided value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tremoveItem: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvar $item, i, idx;\n\t\n\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\ti = self.items.indexOf(value);\n\t\n\t\t\tif (i !== -1) {\n\t\t\t\t$item.remove();\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.items.splice(i, 1);\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t}\n\t\n\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the `create` method provided in the\n\t\t * selectize options that should provide the data\n\t\t * for the new item, given the user input.\n\t\t *\n\t\t * Once this completes, it will be added\n\t\t * to the item list.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} [triggerDropdown]\n\t\t * @param {function} [callback]\n\t\t * @return {boolean}\n\t\t */\n\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\tvar self  = this;\n\t\t\tvar caret = self.caretPos;\n\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\n\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\n\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tif (!self.canCreate(input)) {\n\t\t\t\tcallback();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tself.lock();\n\t\n\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\tvar data = {};\n\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\treturn data;\n\t\t\t};\n\t\n\t\t\tvar create = once(function(data) {\n\t\t\t\tself.unlock();\n\t\n\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\tif (typeof value !== 'string') return callback();\n\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.addOption(data);\n\t\t\t\tself.setCaret(caret);\n\t\t\t\tself.addItem(value);\n\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\n\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\tcreate(output);\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Re-renders the selected item lists.\n\t\t */\n\t\trefreshItems: function() {\n\t\t\tthis.lastQuery = null;\n\t\n\t\t\tif (this.isSetup) {\n\t\t\t\tthis.addItem(this.items);\n\t\t\t}\n\t\n\t\t\tthis.refreshState();\n\t\t\tthis.updateOriginalInput();\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent attributes\n\t\t * and CSS classes.\n\t\t */\n\t\trefreshState: function() {\n\t\t\tthis.refreshValidityState();\n\t\t\tthis.refreshClasses();\n\t\t},\n\t\n\t\t/**\n\t\t * Update the `required` attribute of both input and control input.\n\t\t *\n\t\t * The `required` property needs to be activated on the control input\n\t\t * for the error to be displayed at the right place. `required` also\n\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t * hidden and can't show errors.\n\t\t */\n\t\trefreshValidityState: function() {\n\t\t\tif (!this.isRequired) return false;\n\t\n\t\t\tvar invalid = !this.items.length;\n\t\n\t\t\tthis.isInvalid = invalid;\n\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\tthis.$input.prop('required', !invalid);\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent CSS classes.\n\t\t */\n\t\trefreshClasses: function() {\n\t\t\tvar self     = this;\n\t\t\tvar isFull   = self.isFull();\n\t\t\tvar isLocked = self.isLocked;\n\t\n\t\t\tself.$wrapper\n\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\n\t\t\tself.$control\n\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\n\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not more items can be added\n\t\t * to the control without exceeding the user-defined maximum.\n\t\t *\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFull: function() {\n\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the original <select> or <input>\n\t\t * element to reflect the current state.\n\t\t */\n\t\tupdateOriginalInput: function(opts) {\n\t\t\tvar i, n, options, label, self = this;\n\t\t\topts = opts || {};\n\t\n\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\toptions = [];\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t}\n\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t}\n\t\t\t\tself.$input.html(options.join(''));\n\t\t\t} else {\n\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t}\n\t\n\t\t\tif (self.isSetup) {\n\t\t\t\tif (!opts.silent) {\n\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Shows/hide the input placeholder depending\n\t\t * on if there items in the list already.\n\t\t */\n\t\tupdatePlaceholder: function() {\n\t\t\tif (!this.settings.placeholder) return;\n\t\t\tvar $input = this.$control_input;\n\t\n\t\t\tif (this.items.length) {\n\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t} else {\n\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t}\n\t\t\t$input.triggerHandler('update', {force: true});\n\t\t},\n\t\n\t\t/**\n\t\t * Shows the autocomplete dropdown containing\n\t\t * the available options.\n\t\t */\n\t\topen: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\tself.focus();\n\t\t\tself.isOpen = true;\n\t\t\tself.refreshState();\n\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\tself.positionDropdown();\n\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Closes the autocomplete dropdown menu.\n\t\t */\n\t\tclose: function() {\n\t\t\tvar self = this;\n\t\t\tvar trigger = self.isOpen;\n\t\n\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t}\n\t\n\t\t\tself.isOpen = false;\n\t\t\tself.$dropdown.hide();\n\t\t\tself.setActiveOption(null);\n\t\t\tself.refreshState();\n\t\n\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Calculates and applies the appropriate\n\t\t * position of the dropdown.\n\t\t */\n\t\tpositionDropdown: function() {\n\t\t\tvar $control = this.$control;\n\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\toffset.top += $control.outerHeight(true);\n\t\n\t\t\tthis.$dropdown.css({\n\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\ttop   : offset.top,\n\t\t\t\tleft  : offset.left\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Resets / clears all selected items\n\t\t * from the control.\n\t\t *\n\t\t * @param {boolean} silent\n\t\t */\n\t\tclear: function(silent) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (!self.items.length) return;\n\t\t\tself.$control.children(':not(input)').remove();\n\t\t\tself.items = [];\n\t\t\tself.lastQuery = null;\n\t\t\tself.setCaret(0);\n\t\t\tself.setActiveItem(null);\n\t\t\tself.updatePlaceholder();\n\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\tself.refreshState();\n\t\t\tself.showInput();\n\t\t\tself.trigger('clear');\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for inserting an element\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {object} $el\n\t\t */\n\t\tinsertAtCaret: function($el) {\n\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\tif (caret === 0) {\n\t\t\t\tthis.$control.prepend($el);\n\t\t\t} else {\n\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t}\n\t\t\tthis.setCaret(caret + 1);\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the current selected item(s).\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tdeleteSelection: function(e) {\n\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t}\n\t\n\t\t\t// determine items that will be removed\n\t\t\tvalues = [];\n\t\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\tif (direction > 0) { caret++; }\n\t\n\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t}\n\t\t\t\tif (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// allow the callback to abort\n\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// perform removal\n\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\tself.setCaret(caret);\n\t\t\t}\n\t\t\twhile (values.length) {\n\t\t\t\tself.removeItem(values.pop());\n\t\t\t}\n\t\n\t\t\tself.showInput();\n\t\t\tself.positionDropdown();\n\t\t\tself.refreshOptions(true);\n\t\n\t\t\t// select previous option\n\t\t\tif (option_select) {\n\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\tif ($option_select.length) {\n\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Selects the previous / next item (depending\n\t\t * on the `direction` argument).\n\t\t *\n\t\t * > 0 - right\n\t\t * < 0 - left\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceSelection: function(direction, e) {\n\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tif (direction === 0) return;\n\t\t\tif (self.rtl) direction *= -1;\n\t\n\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t: selection.start === valueLength;\n\t\n\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\tif ($tail.length) {\n\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret left / right.\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceCaret: function(direction, e) {\n\t\t\tvar self = this, fn, $adj;\n\t\n\t\t\tif (direction === 0) return;\n\t\n\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\tif (self.isShiftDown) {\n\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\tif ($adj.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret to the specified index.\n\t\t *\n\t\t * @param {int} i\n\t\t */\n\t\tsetCaret: function(i) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\ti = self.items.length;\n\t\t\t} else {\n\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t}\n\t\n\t\t\tif(!self.isPending) {\n\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t// on mobile webkit devices\n\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tself.caretPos = i;\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control. Used while\n\t\t * items are being asynchronously created.\n\t\t */\n\t\tlock: function() {\n\t\t\tthis.close();\n\t\t\tthis.isLocked = true;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Re-enables user input on the control.\n\t\t */\n\t\tunlock: function() {\n\t\t\tthis.isLocked = false;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control completely.\n\t\t * While disabled, it cannot receive focus.\n\t\t */\n\t\tdisable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', true);\n\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\tself.isDisabled = true;\n\t\t\tself.lock();\n\t\t},\n\t\n\t\t/**\n\t\t * Enables the control so that it can respond\n\t\t * to focus and user input.\n\t\t */\n\t\tenable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', false);\n\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\tself.isDisabled = false;\n\t\t\tself.unlock();\n\t\t},\n\t\n\t\t/**\n\t\t * Completely destroys the control and\n\t\t * unbinds all event listeners so that it can\n\t\t * be garbage collected.\n\t\t */\n\t\tdestroy: function() {\n\t\t\tvar self = this;\n\t\t\tvar eventNS = self.eventNS;\n\t\t\tvar revertSettings = self.revertSettings;\n\t\n\t\t\tself.trigger('destroy');\n\t\t\tself.off();\n\t\t\tself.$wrapper.remove();\n\t\t\tself.$dropdown.remove();\n\t\n\t\t\tself.$input\n\t\t\t\t.html('')\n\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t.removeClass('selectized')\n\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t.show();\n\t\n\t\t\tself.$control_input.removeData('grow');\n\t\t\tself.$input.removeData('selectize');\n\t\n\t\t\t$(window).off(eventNS);\n\t\t\t$(document).off(eventNS);\n\t\t\t$(document.body).off(eventNS);\n\t\n\t\t\tdelete self.$input[0].selectize;\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for rendering \"item\" and\n\t\t * \"option\" templates, given the data.\n\t\t *\n\t\t * @param {string} templateName\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(templateName, data) {\n\t\t\tvar value, id, label;\n\t\t\tvar html = '';\n\t\t\tvar cache = false;\n\t\t\tvar self = this;\n\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\tcache = !!value;\n\t\t\t}\n\t\n\t\t\t// pull markup from cache if it exists\n\t\t\tif (cache) {\n\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t}\n\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// render markup\n\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\n\t\t\t// add mandatory attributes\n\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t}\n\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\thtml.attr('data-group', id);\n\t\t\t}\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t}\n\t\n\t\t\t// update cache\n\t\t\tif (cache) {\n\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t}\n\t\n\t\t\treturn html[0];\n\t\t},\n\t\n\t\t/**\n\t\t * Clears the render cache for a template. If\n\t\t * no template is given, clears all render\n\t\t * caches.\n\t\t *\n\t\t * @param {string} templateName\n\t\t */\n\t\tclearCache: function(templateName) {\n\t\t\tvar self = this;\n\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\tself.renderCache = {};\n\t\t\t} else {\n\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not to display the\n\t\t * create item prompt, given a user input.\n\t\t *\n\t\t * @param {string} input\n\t\t * @return {boolean}\n\t\t */\n\t\tcanCreate: function(input) {\n\t\t\tvar self = this;\n\t\t\tif (!self.settings.create) return false;\n\t\t\tvar filter = self.settings.createFilter;\n\t\t\treturn input.length\n\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t}\n\t\n\t});\n\t\n\t\n\tSelectize.count = 0;\n\tSelectize.defaults = {\n\t\toptions: [],\n\t\toptgroups: [],\n\t\n\t\tplugins: [],\n\t\tdelimiter: ',',\n\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\tpersist: true,\n\t\tdiacritics: true,\n\t\tcreate: false,\n\t\tcreateOnBlur: false,\n\t\tcreateFilter: null,\n\t\thighlight: true,\n\t\topenOnFocus: true,\n\t\tmaxOptions: 1000,\n\t\tmaxItems: null,\n\t\thideSelected: null,\n\t\taddPrecedence: false,\n\t\tselectOnTab: false,\n\t\tpreload: false,\n\t\tallowEmptyOption: false,\n\t\tcloseAfterSelect: false,\n\t\n\t\tscrollDuration: 60,\n\t\tloadThrottle: 300,\n\t\tloadingClass: 'loading',\n\t\n\t\tdataAttr: 'data-data',\n\t\toptgroupField: 'optgroup',\n\t\tvalueField: 'value',\n\t\tlabelField: 'text',\n\t\toptgroupLabelField: 'label',\n\t\toptgroupValueField: 'value',\n\t\tlockOptgroupOrder: false,\n\t\n\t\tsortField: '$order',\n\t\tsearchField: ['text'],\n\t\tsearchConjunction: 'and',\n\t\n\t\tmode: null,\n\t\twrapperClass: 'selectize-control',\n\t\tinputClass: 'selectize-input',\n\t\tdropdownClass: 'selectize-dropdown',\n\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\n\t\tdropdownParent: null,\n\t\n\t\tcopyClassesToDropdown: true,\n\t\n\t\t/*\n\t\tload                 : null, // function(query, callback) { ... }\n\t\tscore                : null, // function(search) { ... }\n\t\tonInitialize         : null, // function() { ... }\n\t\tonChange             : null, // function(value) { ... }\n\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\tonItemRemove         : null, // function(value) { ... }\n\t\tonClear              : null, // function() { ... }\n\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\tonOptionRemove       : null, // function(value) { ... }\n\t\tonOptionClear        : null, // function() { ... }\n\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\tonOptionGroupClear   : null, // function() { ... }\n\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\tonType               : null, // function(str) { ... }\n\t\tonDelete             : null, // function(values) { ... }\n\t\t*/\n\t\n\t\trender: {\n\t\t\t/*\n\t\t\titem: null,\n\t\t\toptgroup: null,\n\t\t\toptgroup_header: null,\n\t\t\toption: null,\n\t\t\toption_create: null\n\t\t\t*/\n\t\t}\n\t};\n\t\n\t\n\t$.fn.selectize = function(settings_user) {\n\t\tvar defaults             = $.fn.selectize.defaults;\n\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\tvar attr_data            = settings.dataAttr;\n\t\tvar field_label          = settings.labelField;\n\t\tvar field_value          = settings.valueField;\n\t\tvar field_optgroup       = settings.optgroupField;\n\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\n\t\t/**\n\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_textbox = function($input, settings_element) {\n\t\t\tvar i, n, values, option;\n\t\n\t\t\tvar data_raw = $input.attr(attr_data);\n\t\n\t\t\tif (!data_raw) {\n\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\toption = {};\n\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t}\n\t\t\t\tsettings_element.items = values;\n\t\t\t} else {\n\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Initializes selectize from a <select> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_select = function($input, settings_element) {\n\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\tvar options = settings_element.options;\n\t\t\tvar optionsMap = {};\n\t\n\t\t\tvar readData = function($el) {\n\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\t\n\t\t\tvar addOption = function($option, group) {\n\t\t\t\t$option = $($option);\n\t\n\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\n\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\n\t\t\t\toptionsMap[value] = option;\n\t\t\t\toptions.push(option);\n\t\n\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\tvar i, n, id, optgroup, $options;\n\t\n\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\tid = $optgroup.attr('label');\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t}\n\t\n\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\n\t\t\t$children = $input.children();\n\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\taddOption($children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\treturn this.each(function() {\n\t\t\tif (this.selectize) return;\n\t\n\t\t\tvar instance;\n\t\t\tvar $input = $(this);\n\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t}\n\t\n\t\t\tvar settings_element = {\n\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t'options'     : [],\n\t\t\t\t'optgroups'   : [],\n\t\t\t\t'items'       : []\n\t\t\t};\n\t\n\t\t\tif (tag_name === 'select') {\n\t\t\t\tinit_select($input, settings_element);\n\t\t\t} else {\n\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t}\n\t\n\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t});\n\t};\n\t\n\t$.fn.selectize.defaults = Selectize.defaults;\n\t$.fn.selectize.support = {\n\t\tvalidity: SUPPORTS_VALIDITY_API\n\t};\n\t\n\t\n\tSelectize.define('drag_drop', function(options) {\n\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\tif (this.settings.mode !== 'multi') return;\n\t\tvar self = this;\n\t\n\t\tself.lock = (function() {\n\t\t\tvar original = self.lock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.unlock = (function() {\n\t\t\tvar original = self.unlock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(this, arguments);\n\t\n\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t},\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('dropdown_header', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\ttitle         : 'Untitled',\n\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\n\t\t\thtml: function(data) {\n\t\t\t\treturn (\n\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</div>'\n\t\t\t\t);\n\t\t\t}\n\t\t}, options);\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('optgroup_columns', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\tequalizeWidth  : true,\n\t\t\tequalizeHeight : true\n\t\t}, options);\n\t\n\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, $option, $options, $optgroup;\n\t\n\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\n\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tvar getScrollbarWidth = function() {\n\t\t\tvar div;\n\t\t\tvar width = getScrollbarWidth.width;\n\t\t\tvar doc = document;\n\t\n\t\t\tif (typeof width === 'undefined') {\n\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\tdiv = div.firstChild;\n\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\tdoc.body.removeChild(div);\n\t\t\t}\n\t\t\treturn width;\n\t\t};\n\t\n\t\tvar equalizeSizes = function() {\n\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\n\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\tn = $optgroups.length;\n\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\n\t\t\tif (options.equalizeHeight) {\n\t\t\t\theight_max = 0;\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t}\n\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t}\n\t\n\t\t\tif (options.equalizeWidth) {\n\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t$optgroups.css({width: width});\n\t\t\t\tif (n > 1) {\n\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t}\n\t\n\t\n\t});\n\t\n\tSelectize.define('remove_button', function(options) {\n\t\toptions = $.extend({\n\t\t\t\tlabel     : '&times;',\n\t\t\t\ttitle     : 'Remove',\n\t\t\t\tclassName : 'remove',\n\t\t\t\tappend    : true\n\t\t\t}, options);\n\t\n\t\t\tvar singleClose = function(thisRef, options) {\n\t\n\t\t\t\toptions.className = 'remove-single';\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tvar multiClose = function(thisRef, options) {\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\tsingleClose(this, options);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tmultiClose(this, options);\n\t\t\t}\n\t});\n\t\n\t\n\tSelectize.define('restore_on_backspace', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions.text = options.text || function(option) {\n\t\t\treturn option[this.settings.labelField];\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, option;\n\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t});\n\t\n\n\treturn Selectize;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/dist/js/selectize.js\n// module id = 7\n// module chunks = 1 2","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.Sifter = factory();\n\t}\n}(this, function() {\n\n\t/**\n\t * Textually searches arrays and hashes of objects\n\t * by property (or multiple properties). Designed\n\t * specifically for autocomplete.\n\t *\n\t * @constructor\n\t * @param {array|object} items\n\t * @param {object} items\n\t */\n\tvar Sifter = function(items, settings) {\n\t\tthis.items = items;\n\t\tthis.settings = settings || {diacritics: true};\n\t};\n\n\t/**\n\t * Splits a search string into an array of individual\n\t * regexps to be used to match results.\n\t *\n\t * @param {string} query\n\t * @returns {array}\n\t */\n\tSifter.prototype.tokenize = function(query) {\n\t\tquery = trim(String(query || '').toLowerCase());\n\t\tif (!query || !query.length) return [];\n\n\t\tvar i, n, regex, letter;\n\t\tvar tokens = [];\n\t\tvar words = query.split(/ +/);\n\n\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\tregex = escape_regex(words[i]);\n\t\t\tif (this.settings.diacritics) {\n\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttokens.push({\n\t\t\t\tstring : words[i],\n\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t});\n\t\t}\n\n\t\treturn tokens;\n\t};\n\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * this.iterator(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t * @param {array|object} object\n\t */\n\tSifter.prototype.iterator = function(object, callback) {\n\t\tvar iterator;\n\t\tif (is_array(object)) {\n\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\titerator = function(callback) {\n\t\t\t\tfor (var key in this) {\n\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\titerator.apply(object, [callback]);\n\t};\n\n\t/**\n\t * Returns a function to be used to score individual results.\n\t *\n\t * Good matches will have a higher score than poor matches.\n\t * If an item is not a match, 0 will be returned by the function.\n\t *\n\t * @param {object|string} search\n\t * @param {object} options (optional)\n\t * @returns {function}\n\t */\n\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\tvar self, fields, tokens, token_count, nesting;\n\n\t\tself        = this;\n\t\tsearch      = self.prepareSearch(search, options);\n\t\ttokens      = search.tokens;\n\t\tfields      = search.options.fields;\n\t\ttoken_count = tokens.length;\n\t\tnesting     = search.options.nesting;\n\n\t\t/**\n\t\t * Calculates how close of a match the\n\t\t * given value is against a search token.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} token\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreValue = function(value, token) {\n\t\t\tvar score, pos;\n\n\t\t\tif (!value) return 0;\n\t\t\tvalue = String(value || '');\n\t\t\tpos = value.search(token.regex);\n\t\t\tif (pos === -1) return 0;\n\t\t\tscore = token.string.length / value.length;\n\t\t\tif (pos === 0) score += 0.5;\n\t\t\treturn score;\n\t\t};\n\n\t\t/**\n\t\t * Calculates the score of an object\n\t\t * against the search query.\n\t\t *\n\t\t * @param {object} token\n\t\t * @param {object} data\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreObject = (function() {\n\t\t\tvar field_count = fields.length;\n\t\t\tif (!field_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (field_count === 1) {\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn function(token, data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t}\n\t\t\t\treturn sum / field_count;\n\t\t\t};\n\t\t})();\n\n\t\tif (!token_count) {\n\t\t\treturn function() { return 0; };\n\t\t}\n\t\tif (token_count === 1) {\n\t\t\treturn function(data) {\n\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t};\n\t\t}\n\n\t\tif (search.options.conjunction === 'and') {\n\t\t\treturn function(data) {\n\t\t\t\tvar score;\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\tsum += score;\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Returns a function that can be used to compare two\n\t * results, for sorting purposes. If no sorting should\n\t * be performed, `null` will be returned.\n\t *\n\t * @param {string|object} search\n\t * @param {object} options\n\t * @return function(a,b)\n\t */\n\tSifter.prototype.getSortFunction = function(search, options) {\n\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n\t\tself   = this;\n\t\tsearch = self.prepareSearch(search, options);\n\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\n\t\t/**\n\t\t * Fetches the specified sort field value\n\t\t * from a search result item.\n\t\t *\n\t\t * @param  {string} name\n\t\t * @param  {object} result\n\t\t * @return {mixed}\n\t\t */\n\t\tget_field = function(name, result) {\n\t\t\tif (name === '$score') return result.score;\n\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t};\n\n\t\t// parse options\n\t\tfields = [];\n\t\tif (sort) {\n\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// the \"$score\" field is implied to be the primary\n\t\t// sort field, unless it's manually specified\n\t\tif (search.query) {\n\t\t\timplicit_score = true;\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\timplicit_score = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (implicit_score) {\n\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmultipliers = [];\n\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t}\n\n\t\t// build function\n\t\tfields_count = fields.length;\n\t\tif (!fields_count) {\n\t\t\treturn null;\n\t\t} else if (fields_count === 1) {\n\t\t\tfield = fields[0].field;\n\t\t\tmultiplier = multipliers[0];\n\t\t\treturn function(a, b) {\n\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\tget_field(field, a),\n\t\t\t\t\tget_field(field, b)\n\t\t\t\t);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(a, b) {\n\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t\tif (result) return result;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Parses a search query and returns an object\n\t * with tokens and fields ready to be populated\n\t * with results.\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.prepareSearch = function(query, options) {\n\t\tif (typeof query === 'object') return query;\n\n\t\toptions = extend({}, options);\n\n\t\tvar option_fields     = options.fields;\n\t\tvar option_sort       = options.sort;\n\t\tvar option_sort_empty = options.sort_empty;\n\n\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n\t\treturn {\n\t\t\toptions : options,\n\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\ttokens  : this.tokenize(query),\n\t\t\ttotal   : 0,\n\t\t\titems   : []\n\t\t};\n\t};\n\n\t/**\n\t * Searches through all items and returns a sorted array of matches.\n\t *\n\t * The `options` parameter can contain:\n\t *\n\t *   - fields {string|array}\n\t *   - sort {array}\n\t *   - score {function}\n\t *   - filter {bool}\n\t *   - limit {integer}\n\t *\n\t * Returns an object containing:\n\t *\n\t *   - options {object}\n\t *   - query {string}\n\t *   - tokens {array}\n\t *   - total {int}\n\t *   - items {array}\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.search = function(query, options) {\n\t\tvar self = this, value, score, search, calculateScore;\n\t\tvar fn_sort;\n\t\tvar fn_score;\n\n\t\tsearch  = this.prepareSearch(query, options);\n\t\toptions = search.options;\n\t\tquery   = search.query;\n\n\t\t// generate result scoring function\n\t\tfn_score = options.score || self.getScoreFunction(search);\n\n\t\t// perform search and sort\n\t\tif (query.length) {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tscore = fn_score(item);\n\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t});\n\t\t}\n\n\t\tfn_sort = self.getSortFunction(search, options);\n\t\tif (fn_sort) search.items.sort(fn_sort);\n\n\t\t// apply limits\n\t\tsearch.total = search.items.length;\n\t\tif (typeof options.limit === 'number') {\n\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t}\n\n\t\treturn search;\n\t};\n\n\t// utilities\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\tvar cmp = function(a, b) {\n\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t}\n\t\ta = asciifold(String(a || ''));\n\t\tb = asciifold(String(b || ''));\n\t\tif (a > b) return 1;\n\t\tif (b > a) return -1;\n\t\treturn 0;\n\t};\n\n\tvar extend = function(a, b) {\n\t\tvar i, n, k, object;\n\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\tobject = arguments[i];\n\t\t\tif (!object) continue;\n\t\t\tfor (k in object) {\n\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\ta[k] = object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t};\n\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @param  {Boolean} nesting Handle nesting or not\n\t * @return {Object}          The resolved property value\n\t */\n\tvar getattr = function(obj, name, nesting) {\n\t    if (!obj || !name) return;\n\t    if (!nesting) return obj[name];\n\t    var names = name.split(\".\");\n\t    while(names.length && (obj = obj[names.shift()]));\n\t    return obj;\n\t};\n\n\tvar trim = function(str) {\n\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t};\n\n\tvar escape_regex = function(str) {\n\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t};\n\n\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t};\n\n\tvar DIACRITICS = {\n\t\t'a': '[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]',\n\t\t'b': '[b␢βΒB฿𐌁ᛒ]',\n\t\t'c': '[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]',\n\t\t'd': '[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]',\n\t\t'e': '[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]',\n\t\t'f': '[fƑƒḞḟ]',\n\t\t'g': '[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]',\n\t\t'h': '[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]',\n\t\t'i': '[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]',\n\t\t'j': '[jȷĴĵɈɉʝɟʲ]',\n\t\t'k': '[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]',\n\t\t'l': '[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]',\n\t\t'n': '[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]',\n\t\t'o': '[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]',\n\t\t'p': '[pṔṕṖṗⱣᵽƤƥᵱ]',\n\t\t'q': '[qꝖꝗʠɊɋꝘꝙq̃]',\n\t\t'r': '[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]',\n\t\t's': '[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]',\n\t\t't': '[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]',\n\t\t'u': '[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]',\n\t\t'v': '[vṼṽṾṿƲʋꝞꝟⱱʋ]',\n\t\t'w': '[wẂẃẀẁŴŵẄẅẆẇẈẉ]',\n\t\t'x': '[xẌẍẊẋχ]',\n\t\t'y': '[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]',\n\t\t'z': '[zŹźẐẑŽžŻżẒẓẔẕƵƶ]'\n\t};\n\n\tvar asciifold = (function() {\n\t\tvar i, n, k, chunk;\n\t\tvar foreignletters = '';\n\t\tvar lookup = {};\n\t\tfor (k in DIACRITICS) {\n\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\tforeignletters += chunk;\n\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\treturn function(str) {\n\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\treturn lookup[foreignletter];\n\t\t\t}).toLowerCase();\n\t\t};\n\t})();\n\n\n\t// export\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\treturn Sifter;\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/~/sifter/sifter.js\n// module id = 8\n// module chunks = 1 2","/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MicroPlugin = factory();\n\t}\n}(this, function() {\n\tvar MicroPlugin = {};\n\n\tMicroPlugin.mixin = function(Interface) {\n\t\tInterface.plugins = {};\n\n\t\t/**\n\t\t * Initializes the listed plugins (with options).\n\t\t * Acceptable formats:\n\t\t *\n\t\t * List (without options):\n\t\t *   ['a', 'b', 'c']\n\t\t *\n\t\t * List (with options):\n\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t *\n\t\t * Hash (with options):\n\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t *\n\t\t * @param {mixed} plugins\n\t\t */\n\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\tvar i, n, key;\n\t\t\tvar self  = this;\n\t\t\tvar queue = [];\n\n\t\t\tself.plugins = {\n\t\t\t\tnames     : [],\n\t\t\t\tsettings  : {},\n\t\t\t\trequested : {},\n\t\t\t\tloaded    : {}\n\t\t\t};\n\n\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (plugins) {\n\t\t\t\tfor (key in plugins) {\n\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (queue.length) {\n\t\t\t\tself.require(queue.shift());\n\t\t\t}\n\t\t};\n\n\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\tvar self    = this;\n\t\t\tvar plugins = self.plugins;\n\t\t\tvar plugin  = Interface.plugins[name];\n\n\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t}\n\n\t\t\tplugins.requested[name] = true;\n\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\tplugins.names.push(name);\n\t\t};\n\n\t\t/**\n\t\t * Initializes a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t */\n\t\tInterface.prototype.require = function(name) {\n\t\t\tvar self = this;\n\t\t\tvar plugins = self.plugins;\n\n\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t}\n\t\t\t\tself.loadPlugin(name);\n\t\t\t}\n\n\t\t\treturn plugins.loaded[name];\n\t\t};\n\n\t\t/**\n\t\t * Registers a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\tInterface.define = function(name, fn) {\n\t\t\tInterface.plugins[name] = {\n\t\t\t\t'name' : name,\n\t\t\t\t'fn'   : fn\n\t\t\t};\n\t\t};\n\t};\n\n\tvar utils = {\n\t\tisArray: Array.isArray || function(vArg) {\n\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t}\n\t};\n\n\treturn MicroPlugin;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/selectize/~/microplugin/src/microplugin.js\n// module id = 9\n// module chunks = 1 2","'use strict'\n\n// Dependecies\nconst $ =  require('jquery')\n\nvar module = (element) => {\n  const dropZone = $(element)\n  let $input = dropZone.find('input') // TODO: Change this selector name\n  let $altInput = dropZone.find('[data-trigger=\"file\"]')\n  let defaultImage = dropZone.data('original-image')\n\n  if(defaultImage){\n      fakeLoad('Imagem Padrão', defaultImage)\n  }\n\n  dropZone.on({\n    dragover: cbDragOver,\n    dragleave: cbDragLeave,\n    drop: cbDrop\n  })\n\n  $input.on({\n    change: cbChangeFile\n  })\n\n  $altInput.on({\n    click: cbTriggerFile\n  })\n\n  function cbDragOver (event) {\n    dropZone.addClass('hover')\n    return false\n  }\n\n  function cbDragLeave (event) {\n    dropZone.removeClass('hover')\n    return false\n  }\n\n  function cbDrop (event) {\n    let file = event.originalEvent.dataTransfer.files[0]\n\n    event.stopPropagation()\n    event.preventDefault()\n    dropZone.removeClass('hover')\n\n    readFile(file)\n    $input.files = file\n    $input.val('')\n    return false\n  }\n\n  function cbChangeFile (event) {\n    readFile(this.files[0])\n    return false\n  }\n\n  function cbTriggerFile (event) {\n    $input.trigger('click')\n  }\n\n}\n\nvar fakeLoad = function(name, src){\n  var $image = $('<img/>')\n      .load(function() {\n          createPreview(name, getCanvasImage(this))\n      })\n      .attr('src', src);\n}\n\nvar readFile = function (file) {\n  var reader = new FileReader();\n\n  reader.onload = function(e) {\n      fakeLoad(file.name, e.target.result)\n  }\n  reader.readAsDataURL(file);\n}\n\nvar getCanvasImage = function(image) {\n\n  let imgWidth = image.width,\n      imgHeight = image.height;\n\n  let canvas = document.createElement('canvas');\n  canvas.width = imgWidth;\n  canvas.height = imgHeight;\n\n  let ctx = canvas.getContext('2d');\n  ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n\n  return canvas.toDataURL('image/jpeg');\n}\n\nvar createPreview = function(filename, newURL) {\n  let fileName = filename.substr(0, filename.lastIndexOf('.')) //subtract file extension\n  let filePath = newURL\n  let image = `<img src=\"${filePath}\" class=\"img-responsive\" alt=\"${fileName}\"/>`\n  //append new image through jQuery Template\n  $('[data-content=\"file\"]').html(image).show()\n  $('.custom-file-content').hide()\n}\n\nexport default module\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/dropzoneUploader.js","module.exports = ( name ) => {\n  const $element = $( name )\n\n\n  $element.on({\n    focus: function ( event ) {\n      const $this = $( this )\n      $this.siblings( 'label' ).addClass( 'active' )\n    },\n    blur: function ( event ) {\n      const $this = $( this )\n      if ( !$this.val() ) {\n        $this.siblings( 'label' ).removeClass( 'active' )\n      }\n    },\n    input: function ( event ) {\n      if ( event.currentTarget.nodeName === 'TEXTAREA' ) {\n        setTimeout( inputResize( event.currentTarget ), 0)\n      }\n    }\n  })\n}\n\nconst inputResize = ( selector ) => {\n  const style = selector.style\n  style.height = 'auto'\n  style.height = selector.scrollHeight+'px'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform/input.js","/*!\n * jQuery Steps v1.1.0 - 09/04/2014\n * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)\n * Licensed under MIT http://www.opensource.org/licenses/MIT\n */\n;(function ($, undefined)\n{\n$.fn.extend({\n    _aria: function (name, value)\n    {\n        return this.attr(\"aria-\" + name, value);\n    },\n\n    _removeAria: function (name)\n    {\n        return this.removeAttr(\"aria-\" + name);\n    },\n\n    _enableAria: function (enable)\n    {\n        return (enable == null || enable) ?\n            this.removeClass(\"disabled\")._aria(\"disabled\", \"false\") :\n            this.addClass(\"disabled\")._aria(\"disabled\", \"true\");\n    },\n\n    _showAria: function (show)\n    {\n        return (show == null || show) ?\n            this.show()._aria(\"hidden\", \"false\") :\n            this.hide()._aria(\"hidden\", \"true\");\n    },\n\n    _selectAria: function (select)\n    {\n        return (select == null || select) ?\n            this.addClass(\"current\")._aria(\"selected\", \"true\") :\n            this.removeClass(\"current\")._aria(\"selected\", \"false\");\n    },\n\n    _id: function (id)\n    {\n        return (id) ? this.attr(\"id\", id) : this.attr(\"id\");\n    }\n});\n\nif (!String.prototype.format)\n{\n    String.prototype.format = function()\n    {\n        var args = (arguments.length === 1 && $.isArray(arguments[0])) ? arguments[0] : arguments;\n        var formattedString = this;\n        for (var i = 0; i < args.length; i++)\n        {\n            var pattern = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n            formattedString = formattedString.replace(pattern, args[i]);\n        }\n        return formattedString;\n    };\n}\n\n/**\n * A global unique id count.\n *\n * @static\n * @private\n * @property _uniqueId\n * @type Integer\n **/\nvar _uniqueId = 0;\n\n/**\n * The plugin prefix for cookies.\n *\n * @final\n * @private\n * @property _cookiePrefix\n * @type String\n **/\nvar _cookiePrefix = \"jQu3ry_5teps_St@te_\";\n\n/**\n * Suffix for the unique tab id.\n *\n * @final\n * @private\n * @property _tabSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabSuffix = \"-t-\";\n\n/**\n * Suffix for the unique tabpanel id.\n *\n * @final\n * @private\n * @property _tabpanelSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _tabpanelSuffix = \"-p-\";\n\n/**\n * Suffix for the unique title id.\n *\n * @final\n * @private\n * @property _titleSuffix\n * @type String\n * @since 0.9.7\n **/\nvar _titleSuffix = \"-h-\";\n\n/**\n * An error message for an \"index out of range\" error.\n *\n * @final\n * @private\n * @property _indexOutOfRangeErrorMessage\n * @type String\n **/\nvar _indexOutOfRangeErrorMessage = \"Index out of range.\";\n\n/**\n * An error message for an \"missing corresponding element\" error.\n *\n * @final\n * @private\n * @property _missingCorrespondingElementErrorMessage\n * @type String\n **/\nvar _missingCorrespondingElementErrorMessage = \"One or more corresponding step {0} are missing.\";\n\n/**\n * Adds a step to the cache.\n *\n * @static\n * @private\n * @method addStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param step {Object} The step object to add\n **/\nfunction addStepToCache(wizard, step)\n{\n    getSteps(wizard).push(step);\n}\n\nfunction analyzeData(wizard, options, state)\n{\n    var stepTitles = wizard.children(options.headerTag),\n        stepContents = wizard.children(options.bodyTag);\n\n    // Validate content\n    if (stepTitles.length > stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"contents\");\n    }\n    else if (stepTitles.length < stepContents.length)\n    {\n        throwError(_missingCorrespondingElementErrorMessage, \"titles\");\n    }\n\n    var startIndex = options.startIndex;\n\n    state.stepCount = stepTitles.length;\n\n    // Tries to load the saved state (step position)\n    if (options.saveState && $.cookie)\n    {\n        var savedState = $.cookie(_cookiePrefix + getUniqueId(wizard));\n        // Sets the saved position to the start index if not undefined or out of range\n        var savedIndex = parseInt(savedState, 0);\n        if (!isNaN(savedIndex) && savedIndex < state.stepCount)\n        {\n            startIndex = savedIndex;\n        }\n    }\n\n    state.currentIndex = startIndex;\n\n    stepTitles.each(function (index)\n    {\n        var item = $(this), // item == header\n            content = stepContents.eq(index),\n            modeData = content.data(\"mode\"),\n            mode = (modeData == null) ? contentMode.html : getValidEnumValue(contentMode,\n                (/^\\s*$/.test(modeData) || isNaN(modeData)) ? modeData : parseInt(modeData, 0)),\n            contentUrl = (mode === contentMode.html || content.data(\"url\") === undefined) ?\n                \"\" : content.data(\"url\"),\n            contentLoaded = (mode !== contentMode.html && content.data(\"loaded\") === \"1\"),\n            step = $.extend({}, stepModel, {\n                title: item.html(),\n                content: (mode === contentMode.html) ? content.html() : \"\",\n                contentUrl: contentUrl,\n                contentMode: mode,\n                contentLoaded: contentLoaded\n            });\n\n        addStepToCache(wizard, step);\n    });\n}\n\n/**\n * Triggers the onCanceled event.\n *\n * @static\n * @private\n * @method cancel\n * @param wizard {Object} The jQuery wizard object\n **/\nfunction cancel(wizard)\n{\n    wizard.triggerHandler(\"canceled\");\n}\n\nfunction decreaseCurrentIndexBy(state, decreaseBy)\n{\n    return state.currentIndex - decreaseBy;\n}\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @static\n * @private\n * @method destroy\n * @param wizard {Object} A jQuery wizard object\n **/\nfunction destroy(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    // Remove virtual data objects from the wizard\n    wizard.unbind(eventNamespace).removeData(\"uid\").removeData(\"options\")\n        .removeData(\"state\").removeData(\"steps\").removeData(\"eventNamespace\")\n        .find(\".actions a\").unbind(eventNamespace);\n\n    // Remove attributes and CSS classes from the wizard\n    wizard.removeClass(options.clearFixCssClass + \" vertical\");\n\n    var contents = wizard.find(\".content > *\");\n\n    // Remove virtual data objects from panels and their titles\n    contents.removeData(\"loaded\").removeData(\"mode\").removeData(\"url\");\n\n    // Remove attributes, CSS classes and reset inline styles on all panels and their titles\n    contents.removeAttr(\"id\").removeAttr(\"role\").removeAttr(\"tabindex\")\n        .removeAttr(\"class\").removeAttr(\"style\")._removeAria(\"labelledby\")\n        ._removeAria(\"hidden\");\n\n    // Empty panels if the mode is set to 'async' or 'iframe'\n    wizard.find(\".content > [data-mode='async'],.content > [data-mode='iframe']\").empty();\n\n    var wizardSubstitute = $(\"<{0} class=\\\"{1}\\\"></{0}>\".format(wizard.get(0).tagName, wizard.attr(\"class\")));\n\n    var wizardId = wizard._id();\n    if (wizardId != null && wizardId !== \"\")\n    {\n        wizardSubstitute._id(wizardId);\n    }\n\n    wizardSubstitute.html(wizard.find(\".content\").html());\n    wizard.after(wizardSubstitute);\n    wizard.remove();\n\n    return wizardSubstitute;\n}\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @static\n * @private\n * @method finishStep\n * @param wizard {Object} The jQuery wizard object\n * @param state {Object} The state container of the current wizard\n **/\nfunction finishStep(wizard, state)\n{\n    var currentStep = wizard.find(\".steps li\").eq(state.currentIndex);\n\n    if (wizard.triggerHandler(\"finishing\", [state.currentIndex]))\n    {\n        currentStep.addClass(\"done\").removeClass(\"error\");\n        wizard.triggerHandler(\"finished\", [state.currentIndex]);\n    }\n    else\n    {\n        currentStep.addClass(\"error\");\n    }\n}\n\n/**\n * Gets or creates if not exist an unique event namespace for the given wizard instance.\n *\n * @static\n * @private\n * @method getEventNamespace\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique event namespace for the given wizard\n */\nfunction getEventNamespace(wizard)\n{\n    var eventNamespace = wizard.data(\"eventNamespace\");\n\n    if (eventNamespace == null)\n    {\n        eventNamespace = \".\" + getUniqueId(wizard);\n        wizard.data(\"eventNamespace\", eventNamespace);\n    }\n\n    return eventNamespace;\n}\n\nfunction getStepAnchor(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabSuffix + index);\n}\n\nfunction getStepPanel(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _tabpanelSuffix + index);\n}\n\nfunction getStepTitle(wizard, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    return wizard.find(\"#\" + uniqueId + _titleSuffix + index);\n}\n\nfunction getOptions(wizard)\n{\n    return wizard.data(\"options\");\n}\n\nfunction getState(wizard)\n{\n    return wizard.data(\"state\");\n}\n\nfunction getSteps(wizard)\n{\n    return wizard.data(\"steps\");\n}\n\n/**\n * Gets a specific step object by index.\n *\n * @static\n * @private\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\nfunction getStep(wizard, index)\n{\n    var steps = getSteps(wizard);\n\n    if (index < 0 || index >= steps.length)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    return steps[index];\n}\n\n/**\n * Gets or creates if not exist an unique id from the given wizard instance.\n *\n * @static\n * @private\n * @method getUniqueId\n * @param wizard {Object} A jQuery wizard object\n * @return {String} Returns the unique id for the given wizard\n */\nfunction getUniqueId(wizard)\n{\n    var uniqueId = wizard.data(\"uid\");\n\n    if (uniqueId == null)\n    {\n        uniqueId = wizard._id();\n        if (uniqueId == null)\n        {\n            uniqueId = \"steps-uid-\".concat(_uniqueId);\n            wizard._id(uniqueId);\n        }\n\n        _uniqueId++;\n        wizard.data(\"uid\", uniqueId);\n    }\n\n    return uniqueId;\n}\n\n/**\n * Gets a valid enum value by checking a specific enum key or value.\n *\n * @static\n * @private\n * @method getValidEnumValue\n * @param enumType {Object} Type of enum\n * @param keyOrValue {Object} Key as `String` or value as `Integer` to check for\n */\nfunction getValidEnumValue(enumType, keyOrValue)\n{\n    validateArgument(\"enumType\", enumType);\n    validateArgument(\"keyOrValue\", keyOrValue);\n\n    // Is key\n    if (typeof keyOrValue === \"string\")\n    {\n        var value = enumType[keyOrValue];\n        if (value === undefined)\n        {\n            throwError(\"The enum key '{0}' does not exist.\", keyOrValue);\n        }\n\n        return value;\n    }\n    // Is value\n    else if (typeof keyOrValue === \"number\")\n    {\n        for (var key in enumType)\n        {\n            if (enumType[key] === keyOrValue)\n            {\n                return keyOrValue;\n            }\n        }\n\n        throwError(\"Invalid enum value '{0}'.\", keyOrValue);\n    }\n    // Type is not supported\n    else\n    {\n        throwError(\"Invalid key or value type.\");\n    }\n}\n\n/**\n * Routes to the next step.\n *\n * @static\n * @private\n * @method goToNextStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToNextStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, increaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to the previous step.\n *\n * @static\n * @private\n * @method goToPreviousStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @return {Boolean} Indicates whether the action executed\n **/\nfunction goToPreviousStep(wizard, options, state)\n{\n    return paginationClick(wizard, options, state, decreaseCurrentIndexBy(state, 1));\n}\n\n/**\n * Routes to a specific step by a given index.\n *\n * @static\n * @private\n * @method goToStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the action succeeded or failed\n **/\nfunction goToStep(wizard, options, state, index)\n{\n    if (index < 0 || index >= state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    if (options.forceMoveForward && index < state.currentIndex)\n    {\n        return;\n    }\n\n    var oldIndex = state.currentIndex;\n    if (wizard.triggerHandler(\"stepChanging\", [state.currentIndex, index]))\n    {\n        // Save new state\n        state.currentIndex = index;\n        saveCurrentStateToCookie(wizard, options, state);\n\n        // Change visualisation\n        refreshStepNavigation(wizard, options, state, oldIndex);\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n        startTransitionEffect(wizard, options, state, index, oldIndex, function()\n        {\n            wizard.triggerHandler(\"stepChanged\", [index, oldIndex]);\n        });\n    }\n    else\n    {\n        wizard.find(\".steps li\").eq(oldIndex).addClass(\"error\");\n    }\n\n    return true;\n}\n\nfunction increaseCurrentIndexBy(state, increaseBy)\n{\n    return state.currentIndex + increaseBy;\n}\n\n/**\n * Initializes the component.\n *\n * @static\n * @private\n * @method initialize\n * @param options {Object} The component settings\n **/\nfunction initialize(options)\n{\n    /*jshint -W040 */\n    var opts = $.extend(true, {}, defaults, options);\n\n    return this.each(function ()\n    {\n        var wizard = $(this);\n        var state = {\n            currentIndex: opts.startIndex,\n            currentStep: null,\n            stepCount: 0,\n            transitionElement: null\n        };\n\n        // Create data container\n        wizard.data(\"options\", opts);\n        wizard.data(\"state\", state);\n        wizard.data(\"steps\", []);\n\n        analyzeData(wizard, opts, state);\n        render(wizard, opts, state);\n        registerEvents(wizard, opts);\n\n        // Trigger focus\n        if (opts.autoFocus && _uniqueId === 0)\n        {\n            getStepAnchor(wizard, opts.startIndex).focus();\n        }\n\n        wizard.triggerHandler(\"init\", [opts.startIndex]);\n    });\n}\n\n/**\n * Inserts a new step to a specific position.\n *\n * @static\n * @private\n * @method insertStep\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\nfunction insertStep(wizard, options, state, index, step)\n{\n    if (index < 0 || index > state.stepCount)\n    {\n        throwError(_indexOutOfRangeErrorMessage);\n    }\n\n    // TODO: Validate step object\n\n    // Change data\n    step = $.extend({}, stepModel, step);\n    insertStepToCache(wizard, index, step);\n    if (state.currentIndex !== state.stepCount && state.currentIndex >= index)\n    {\n        state.currentIndex++;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount++;\n\n    var contentContainer = wizard.find(\".content\"),\n        header = $(\"<{0}>{1}</{0}>\".format(options.headerTag, step.title)),\n        body = $(\"<{0}></{0}>\".format(options.bodyTag));\n\n    if (step.contentMode == null || step.contentMode === contentMode.html)\n    {\n        body.html(step.content);\n    }\n\n    if (index === 0)\n    {\n        contentContainer.prepend(body).prepend(header);\n    }\n    else\n    {\n        getStepPanel(wizard, (index - 1)).after(body).after(header);\n    }\n\n    renderBody(wizard, state, body, index);\n    renderTitle(wizard, options, state, header, index);\n    refreshSteps(wizard, options, state, index);\n    if (index === state.currentIndex)\n    {\n        refreshStepNavigation(wizard, options, state);\n    }\n    refreshPagination(wizard, options, state);\n\n    return wizard;\n}\n\n/**\n * Inserts a step object to the cache at a specific position.\n *\n * @static\n * @private\n * @method insertStepToCache\n * @param wizard {Object} A jQuery wizard object\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n **/\nfunction insertStepToCache(wizard, index, step)\n{\n    getSteps(wizard).splice(index, 0, step);\n}\n\n/**\n * Handles the keyup DOM event for pagination.\n *\n * @static\n * @private\n * @event keyup\n * @param event {Object} An event object\n */\nfunction keyUpHandler(event)\n{\n    var wizard = $(this),\n        options = getOptions(wizard),\n        state = getState(wizard);\n\n    if (options.suppressPaginationOnFocus && wizard.find(\":focus\").is(\":input\"))\n    {\n        event.preventDefault();\n        return false;\n    }\n\n    var keyCodes = { left: 37, right: 39 };\n    if (event.keyCode === keyCodes.left)\n    {\n        event.preventDefault();\n        goToPreviousStep(wizard, options, state);\n    }\n    else if (event.keyCode === keyCodes.right)\n    {\n        event.preventDefault();\n        goToNextStep(wizard, options, state);\n    }\n}\n\n/**\n * Loads and includes async content.\n *\n * @static\n * @private\n * @method loadAsyncContent\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction loadAsyncContent(wizard, options, state)\n{\n    if (state.stepCount > 0)\n    {\n        var currentIndex = state.currentIndex,\n            currentStep = getStep(wizard, currentIndex);\n\n        if (!options.enableContentCache || !currentStep.contentLoaded)\n        {\n            switch (getValidEnumValue(contentMode, currentStep.contentMode))\n            {\n                case contentMode.iframe:\n                    wizard.find(\".content > .body\").eq(state.currentIndex).empty()\n                        .html(\"<iframe src=\\\"\" + currentStep.contentUrl + \"\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" />\")\n                        .data(\"loaded\", \"1\");\n                    break;\n\n                case contentMode.async:\n                    var currentStepContent = getStepPanel(wizard, currentIndex)._aria(\"busy\", \"true\")\n                        .empty().append(renderTemplate(options.loadingTemplate, { text: options.labels.loading }));\n\n                    $.ajax({ url: currentStep.contentUrl, cache: false }).done(function (data)\n                    {\n                        currentStepContent.empty().html(data)._aria(\"busy\", \"false\").data(\"loaded\", \"1\");\n                        wizard.triggerHandler(\"contentLoaded\", [currentIndex]);\n                    });\n                    break;\n            }\n        }\n    }\n}\n\n/**\n * Fires the action next or previous click event.\n *\n * @static\n * @private\n * @method paginationClick\n * @param wizard {Object} The jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) to route to\n * @return {Boolean} Indicates whether the event fired successfully or not\n **/\nfunction paginationClick(wizard, options, state, index)\n{\n    var oldIndex = state.currentIndex;\n\n    if (index >= 0 && index < state.stepCount && !(options.forceMoveForward && index < state.currentIndex))\n    {\n        var anchor = getStepAnchor(wizard, index),\n            parent = anchor.parent(),\n            isDisabled = parent.hasClass(\"disabled\");\n\n        // Enable the step to make the anchor clickable!\n        parent._enableAria();\n        anchor.click();\n\n        // An error occured\n        if (oldIndex === state.currentIndex && isDisabled)\n        {\n            // Disable the step again if current index has not changed; prevents click action.\n            parent._enableAria(false);\n            return false;\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Fires when a pagination click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction paginationClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        href = anchor.attr(\"href\");\n\n    switch (href.substring(href.lastIndexOf(\"#\") + 1))\n    {\n        case \"cancel\":\n            cancel(wizard);\n            break;\n\n        case \"finish\":\n            finishStep(wizard, state);\n            break;\n\n        case \"next\":\n            goToNextStep(wizard, options, state);\n            break;\n\n        case \"previous\":\n            goToPreviousStep(wizard, options, state);\n            break;\n    }\n}\n\n/**\n * Refreshs the visualization state for the entire pagination.\n *\n * @static\n * @private\n * @method refreshPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction refreshPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var finish = wizard.find(\".actions a[href$='#finish']\").parent(),\n            next = wizard.find(\".actions a[href$='#next']\").parent();\n\n        if (!options.forceMoveForward)\n        {\n            var previous = wizard.find(\".actions a[href$='#previous']\").parent();\n            previous._enableAria(state.currentIndex > 0);\n        }\n\n        if (options.enableFinishButton && options.showFinishButtonAlways)\n        {\n            finish._enableAria(state.stepCount > 0);\n            next._enableAria(state.stepCount > 1 && state.stepCount > (state.currentIndex + 1));\n        }\n        else\n        {\n            finish._showAria(options.enableFinishButton && state.stepCount === (state.currentIndex + 1));\n            next._showAria(state.stepCount === 0 || state.stepCount > (state.currentIndex + 1)).\n                _enableAria(state.stepCount > (state.currentIndex + 1) || !options.enableFinishButton);\n        }\n    }\n}\n\n/**\n * Refreshs the visualization state for the step navigation (tabs).\n *\n * @static\n * @private\n * @method refreshStepNavigation\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param [oldIndex] {Integer} The index of the prior step\n */\nfunction refreshStepNavigation(wizard, options, state, oldIndex)\n{\n    var currentOrNewStepAnchor = getStepAnchor(wizard, state.currentIndex),\n        currentInfo = $(\"<span class=\\\"current-info audible\\\">\" + options.labels.current + \" </span>\"),\n        stepTitles = wizard.find(\".content > .title\");\n\n    if (oldIndex != null)\n    {\n        var oldStepAnchor = getStepAnchor(wizard, oldIndex);\n        oldStepAnchor.parent().addClass(\"done\").removeClass(\"error\")._selectAria(false);\n        stepTitles.eq(oldIndex).removeClass(\"current\").next(\".body\").removeClass(\"current\");\n        currentInfo = oldStepAnchor.find(\".current-info\");\n        currentOrNewStepAnchor.focus();\n    }\n\n    currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass(\"done\")._enableAria();\n    stepTitles.eq(state.currentIndex).addClass(\"current\").next(\".body\").addClass(\"current\");\n}\n\n/**\n * Refreshes step buttons and their related titles beyond a certain position.\n *\n * @static\n * @private\n * @method refreshSteps\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The start point for refreshing ids\n */\nfunction refreshSteps(wizard, options, state, index)\n{\n    var uniqueId = getUniqueId(wizard);\n\n    for (var i = index; i < state.stepCount; i++)\n    {\n        var uniqueStepId = uniqueId + _tabSuffix + i,\n            uniqueBodyId = uniqueId + _tabpanelSuffix + i,\n            uniqueHeaderId = uniqueId + _titleSuffix + i,\n            title = wizard.find(\".title\").eq(i)._id(uniqueHeaderId);\n\n        wizard.find(\".steps a\").eq(i)._id(uniqueStepId)\n            ._aria(\"controls\", uniqueBodyId).attr(\"href\", \"#\" + uniqueHeaderId)\n            .html(renderTemplate(options.titleTemplate, { index: i + 1, title: title.html() }));\n        wizard.find(\".body\").eq(i)._id(uniqueBodyId)\n            ._aria(\"labelledby\", uniqueHeaderId);\n    }\n}\n\nfunction registerEvents(wizard, options)\n{\n    var eventNamespace = getEventNamespace(wizard);\n\n    wizard.bind(\"canceled\" + eventNamespace, options.onCanceled);\n    wizard.bind(\"contentLoaded\" + eventNamespace, options.onContentLoaded);\n    wizard.bind(\"finishing\" + eventNamespace, options.onFinishing);\n    wizard.bind(\"finished\" + eventNamespace, options.onFinished);\n    wizard.bind(\"init\" + eventNamespace, options.onInit);\n    wizard.bind(\"stepChanging\" + eventNamespace, options.onStepChanging);\n    wizard.bind(\"stepChanged\" + eventNamespace, options.onStepChanged);\n\n    if (options.enableKeyNavigation)\n    {\n        wizard.bind(\"keyup\" + eventNamespace, keyUpHandler);\n    }\n\n    wizard.find(\".actions a\").bind(\"click\" + eventNamespace, paginationClickHandler);\n}\n\n/**\n * Removes a specific step by an given index.\n *\n * @static\n * @private\n * @method removeStep\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\nfunction removeStep(wizard, options, state, index)\n{\n    // Index out of range and try deleting current item will return false.\n    if (index < 0 || index >= state.stepCount || state.currentIndex === index)\n    {\n        return false;\n    }\n\n    // Change data\n    removeStepFromCache(wizard, index);\n    if (state.currentIndex > index)\n    {\n        state.currentIndex--;\n        saveCurrentStateToCookie(wizard, options, state);\n    }\n    state.stepCount--;\n\n    getStepTitle(wizard, index).remove();\n    getStepPanel(wizard, index).remove();\n    getStepAnchor(wizard, index).parent().remove();\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        wizard.find(\".steps li\").first().addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === state.stepCount)\n    {\n        wizard.find(\".steps li\").eq(index).addClass(\"last\");\n    }\n\n    refreshSteps(wizard, options, state, index);\n    refreshPagination(wizard, options, state);\n\n    return true;\n}\n\nfunction removeStepFromCache(wizard, index)\n{\n    getSteps(wizard).splice(index, 1);\n}\n\n/**\n * Transforms the base html structure to a more sensible html structure.\n *\n * @static\n * @private\n * @method render\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n **/\nfunction render(wizard, options, state)\n{\n    // Create a content wrapper and copy HTML from the intial wizard structure\n    var wrapperTemplate = \"<{0} class=\\\"{1}\\\">{2}</{0}>\",\n        orientation = getValidEnumValue(stepsOrientation, options.stepsOrientation),\n        verticalCssClass = (orientation === stepsOrientation.vertical) ? \" vertical\" : \"\",\n        contentWrapper = $(wrapperTemplate.format(options.contentContainerTag, \"content \" + options.clearFixCssClass, wizard.html())),\n        stepsWrapper = $(wrapperTemplate.format(options.stepsContainerTag, \"steps \" + options.clearFixCssClass, \"<ul role=\\\"tablist\\\"></ul>\")),\n        stepTitles = contentWrapper.children(options.headerTag),\n        stepContents = contentWrapper.children(options.bodyTag);\n\n    // Transform the wizard wrapper and remove the inner HTML\n    wizard.attr(\"role\", \"application\").empty().append(stepsWrapper).append(contentWrapper)\n        .addClass(options.cssClass + \" \" + options.clearFixCssClass + verticalCssClass);\n\n    // Add WIA-ARIA support\n    stepContents.each(function (index)\n    {\n        renderBody(wizard, state, $(this), index);\n    });\n\n    stepTitles.each(function (index)\n    {\n        renderTitle(wizard, options, state, $(this), index);\n    });\n\n    refreshStepNavigation(wizard, options, state);\n    renderPagination(wizard, options, state);\n}\n\n/**\n * Transforms the body to a proper tabpanel.\n *\n * @static\n * @private\n * @method renderBody\n * @param wizard {Object} A jQuery wizard object\n * @param body {Object} A jQuery body object\n * @param index {Integer} The position of the body\n */\nfunction renderBody(wizard, state, body, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index;\n\n    body._id(uniqueBodyId).attr(\"role\", \"tabpanel\")._aria(\"labelledby\", uniqueHeaderId)\n        .addClass(\"body\")._showAria(state.currentIndex === index);\n}\n\n/**\n * Renders a pagination if enabled.\n *\n * @static\n * @private\n * @method renderPagination\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction renderPagination(wizard, options, state)\n{\n    if (options.enablePagination)\n    {\n        var pagination = \"<{0} class=\\\"actions {1}\\\"><ul role=\\\"menu\\\" aria-label=\\\"{2}\\\">{3}</ul></{0}>\",\n            buttonTemplate = \"<li><a href=\\\"#{0}\\\" role=\\\"menuitem\\\">{1}</a></li>\",\n            buttons = \"\";\n\n        if (!options.forceMoveForward)\n        {\n            buttons += buttonTemplate.format(\"previous\", options.labels.previous);\n        }\n\n        buttons += buttonTemplate.format(\"next\", options.labels.next);\n\n        if (options.enableFinishButton)\n        {\n            buttons += buttonTemplate.format(\"finish\", options.labels.finish);\n        }\n\n        if (options.enableCancelButton)\n        {\n            buttons += buttonTemplate.format(\"cancel\", options.labels.cancel);\n        }\n\n        wizard.append(pagination.format(options.actionContainerTag, options.clearFixCssClass,\n            options.labels.pagination, buttons));\n\n        refreshPagination(wizard, options, state);\n        loadAsyncContent(wizard, options, state);\n    }\n}\n\n/**\n * Renders a template and replaces all placeholder.\n *\n * @static\n * @private\n * @method renderTemplate\n * @param template {String} A template\n * @param substitutes {Object} A list of substitute\n * @return {String} The rendered template\n */\nfunction renderTemplate(template, substitutes)\n{\n    var matches = template.match(/#([a-z]*)#/gi);\n\n    for (var i = 0; i < matches.length; i++)\n    {\n        var match = matches[i],\n            key = match.substring(1, match.length - 1);\n\n        if (substitutes[key] === undefined)\n        {\n            throwError(\"The key '{0}' does not exist in the substitute collection!\", key);\n        }\n\n        template = template.replace(match, substitutes[key]);\n    }\n\n    return template;\n}\n\n/**\n * Transforms the title to a step item button.\n *\n * @static\n * @private\n * @method renderTitle\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n * @param header {Object} A jQuery header object\n * @param index {Integer} The position of the header\n */\nfunction renderTitle(wizard, options, state, header, index)\n{\n    var uniqueId = getUniqueId(wizard),\n        uniqueStepId = uniqueId + _tabSuffix + index,\n        uniqueBodyId = uniqueId + _tabpanelSuffix + index,\n        uniqueHeaderId = uniqueId + _titleSuffix + index,\n        stepCollection = wizard.find(\".steps > ul\"),\n        title = renderTemplate(options.titleTemplate, {\n            index: index + 1,\n            title: header.html()\n        }),\n        stepItem = $(\"<li role=\\\"tab\\\"><a id=\\\"\" + uniqueStepId + \"\\\" href=\\\"#\" + uniqueHeaderId +\n            \"\\\" aria-controls=\\\"\" + uniqueBodyId + \"\\\">\" + title + \"</a></li>\");\n\n    stepItem._enableAria(options.enableAllSteps || state.currentIndex > index);\n\n    if (state.currentIndex > index)\n    {\n        stepItem.addClass(\"done\");\n    }\n\n    header._id(uniqueHeaderId).attr(\"tabindex\", \"-1\").addClass(\"title\");\n\n    if (index === 0)\n    {\n        stepCollection.prepend(stepItem);\n    }\n    else\n    {\n        stepCollection.find(\"li\").eq(index - 1).after(stepItem);\n    }\n\n    // Set the \"first\" class to the new first step button\n    if (index === 0)\n    {\n        stepCollection.find(\"li\").removeClass(\"first\").eq(index).addClass(\"first\");\n    }\n\n    // Set the \"last\" class to the new last step button\n    if (index === (state.stepCount - 1))\n    {\n        stepCollection.find(\"li\").removeClass(\"last\").eq(index).addClass(\"last\");\n    }\n\n    // Register click event\n    stepItem.children(\"a\").bind(\"click\" + getEventNamespace(wizard), stepClickHandler);\n}\n\n/**\n * Saves the current state to a cookie.\n *\n * @static\n * @private\n * @method saveCurrentStateToCookie\n * @param wizard {Object} A jQuery wizard object\n * @param options {Object} Settings of the current wizard\n * @param state {Object} The state container of the current wizard\n */\nfunction saveCurrentStateToCookie(wizard, options, state)\n{\n    if (options.saveState && $.cookie)\n    {\n        $.cookie(_cookiePrefix + getUniqueId(wizard), state.currentIndex);\n    }\n}\n\nfunction startTransitionEffect(wizard, options, state, index, oldIndex, doneCallback)\n{\n    var stepContents = wizard.find(\".content > .body\"),\n        effect = getValidEnumValue(transitionEffect, options.transitionEffect),\n        effectSpeed = options.transitionEffectSpeed,\n        newStep = stepContents.eq(index),\n        currentStep = stepContents.eq(oldIndex);\n\n    switch (effect)\n    {\n        case transitionEffect.fade:\n        case transitionEffect.slide:\n            var hide = (effect === transitionEffect.fade) ? \"fadeOut\" : \"slideUp\",\n                show = (effect === transitionEffect.fade) ? \"fadeIn\" : \"slideDown\";\n\n            state.transitionElement = newStep;\n            currentStep[hide](effectSpeed, function ()\n            {\n                var wizard = $(this)._showAria(false).parent().parent(),\n                    state = getState(wizard);\n\n                if (state.transitionElement)\n                {\n                    state.transitionElement[show](effectSpeed, function ()\n                    {\n                        $(this)._showAria();\n                    }).promise().done(doneCallback);\n                    state.transitionElement = null;\n                }\n            });\n            break;\n\n        case transitionEffect.slideLeft:\n            var outerWidth = currentStep.outerWidth(true),\n                posFadeOut = (index > oldIndex) ? -(outerWidth) : outerWidth,\n                posFadeIn = (index > oldIndex) ? outerWidth : -(outerWidth);\n\n            $.when(currentStep.animate({ left: posFadeOut }, effectSpeed,\n                    function () { $(this)._showAria(false); }),\n                newStep.css(\"left\", posFadeIn + \"px\")._showAria()\n                    .animate({ left: 0 }, effectSpeed)).done(doneCallback);\n            break;\n\n        default:\n            $.when(currentStep._showAria(false), newStep._showAria())\n                .done(doneCallback);\n            break;\n    }\n}\n\n/**\n * Fires when a step click happens.\n *\n * @static\n * @private\n * @event click\n * @param event {Object} An event object\n */\nfunction stepClickHandler(event)\n{\n    event.preventDefault();\n\n    var anchor = $(this),\n        wizard = anchor.parent().parent().parent().parent(),\n        options = getOptions(wizard),\n        state = getState(wizard),\n        oldIndex = state.currentIndex;\n\n    if (anchor.parent().is(\":not(.disabled):not(.current)\"))\n    {\n        var href = anchor.attr(\"href\"),\n            position = parseInt(href.substring(href.lastIndexOf(\"-\") + 1), 0);\n\n        goToStep(wizard, options, state, position);\n    }\n\n    // If nothing has changed\n    if (oldIndex === state.currentIndex)\n    {\n        getStepAnchor(wizard, oldIndex).focus();\n        return false;\n    }\n}\n\nfunction throwError(message)\n{\n    if (arguments.length > 1)\n    {\n        message = message.format(Array.prototype.slice.call(arguments, 1));\n    }\n\n    throw new Error(message);\n}\n\n/**\n * Checks an argument for null or undefined and throws an error if one check applies.\n *\n * @static\n * @private\n * @method validateArgument\n * @param argumentName {String} The name of the given argument\n * @param argumentValue {Object} The argument itself\n */\nfunction validateArgument(argumentName, argumentValue)\n{\n    if (argumentValue == null)\n    {\n        throwError(\"The argument '{0}' is null or undefined.\", argumentName);\n    }\n}\n\n/**\n * Represents a jQuery wizard plugin.\n *\n * @class steps\n * @constructor\n * @param [method={}] The name of the method as `String` or an JSON object for initialization\n * @param [params=]* {Array} Additional arguments for a method call\n * @chainable\n **/\n$.fn.steps = function (method)\n{\n    if ($.fn.steps[method])\n    {\n        return $.fn.steps[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n    else if (typeof method === \"object\" || !method)\n    {\n        return initialize.apply(this, arguments);\n    }\n    else\n    {\n        $.error(\"Method \" + method + \" does not exist on jQuery.steps\");\n    }\n};\n\n/**\n * Adds a new step.\n *\n * @method add\n * @param step {Object} The step object to add\n * @chainable\n **/\n$.fn.steps.add = function (step)\n{\n    var state = getState(this);\n    return insertStep(this, getOptions(this), state, state.stepCount, step);\n};\n\n/**\n * Removes the control functionality completely and transforms the current state to the initial HTML structure.\n *\n * @method destroy\n * @chainable\n **/\n$.fn.steps.destroy = function ()\n{\n    return destroy(this, getOptions(this));\n};\n\n/**\n * Triggers the onFinishing and onFinished event.\n *\n * @method finish\n **/\n$.fn.steps.finish = function ()\n{\n    finishStep(this, getState(this));\n};\n\n/**\n * Gets the current step index.\n *\n * @method getCurrentIndex\n * @return {Integer} The actual step index (zero-based)\n * @for steps\n **/\n$.fn.steps.getCurrentIndex = function ()\n{\n    return getState(this).currentIndex;\n};\n\n/**\n * Gets the current step object.\n *\n * @method getCurrentStep\n * @return {Object} The actual step object\n **/\n$.fn.steps.getCurrentStep = function ()\n{\n    return getStep(this, getState(this).currentIndex);\n};\n\n/**\n * Gets a specific step object by index.\n *\n * @method getStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @return {Object} A specific step object\n **/\n$.fn.steps.getStep = function (index)\n{\n    return getStep(this, index);\n};\n\n/**\n * Inserts a new step to a specific position.\n *\n * @method insert\n * @param index {Integer} The position (zero-based) to add\n * @param step {Object} The step object to add\n * @example\n *     $(\"#wizard\").steps().insert(0, {\n *         title: \"Title\",\n *         content: \"\", // optional\n *         contentMode: \"async\", // optional\n *         contentUrl: \"/Content/Step/1\" // optional\n *     });\n * @chainable\n **/\n$.fn.steps.insert = function (index, step)\n{\n    return insertStep(this, getOptions(this), getState(this), index, step);\n};\n\n/**\n * Routes to the next step.\n *\n * @method next\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.next = function ()\n{\n    return goToNextStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Routes to the previous step.\n *\n * @method previous\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.previous = function ()\n{\n    return goToPreviousStep(this, getOptions(this), getState(this));\n};\n\n/**\n * Removes a specific step by an given index.\n *\n * @method remove\n * @param index {Integer} The position (zero-based) of the step to remove\n * @return Indecates whether the item is removed.\n **/\n$.fn.steps.remove = function (index)\n{\n    return removeStep(this, getOptions(this), getState(this), index);\n};\n\n/**\n * Sets a specific step object by index.\n *\n * @method setStep\n * @param index {Integer} An integer that belongs to the position of a step\n * @param step {Object} The step object to change\n **/\n$.fn.steps.setStep = function (index, step)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * Skips an certain amount of steps.\n *\n * @method skip\n * @param count {Integer} The amount of steps that should be skipped\n * @return {Boolean} Indicates whether the action executed\n **/\n$.fn.steps.skip = function (count)\n{\n    throw new Error(\"Not yet implemented!\");\n};\n\n/**\n * An enum represents the different content types of a step and their loading mechanisms.\n *\n * @class contentMode\n * @for steps\n **/\nvar contentMode = $.fn.steps.contentMode = {\n    /**\n     * HTML embedded content\n     *\n     * @readOnly\n     * @property html\n     * @type Integer\n     * @for contentMode\n     **/\n    html: 0,\n\n    /**\n     * IFrame embedded content\n     *\n     * @readOnly\n     * @property iframe\n     * @type Integer\n     * @for contentMode\n     **/\n    iframe: 1,\n\n    /**\n     * Async embedded content\n     *\n     * @readOnly\n     * @property async\n     * @type Integer\n     * @for contentMode\n     **/\n    async: 2\n};\n\n/**\n * An enum represents the orientation of the steps navigation.\n *\n * @class stepsOrientation\n * @for steps\n **/\nvar stepsOrientation = $.fn.steps.stepsOrientation = {\n    /**\n     * Horizontal orientation\n     *\n     * @readOnly\n     * @property horizontal\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    horizontal: 0,\n\n    /**\n     * Vertical orientation\n     *\n     * @readOnly\n     * @property vertical\n     * @type Integer\n     * @for stepsOrientation\n     **/\n    vertical: 1\n};\n\n/**\n * An enum that represents the various transition animations.\n *\n * @class transitionEffect\n * @for steps\n **/\nvar transitionEffect = $.fn.steps.transitionEffect = {\n    /**\n     * No transition animation\n     *\n     * @readOnly\n     * @property none\n     * @type Integer\n     * @for transitionEffect\n     **/\n    none: 0,\n\n    /**\n     * Fade in transition\n     *\n     * @readOnly\n     * @property fade\n     * @type Integer\n     * @for transitionEffect\n     **/\n    fade: 1,\n\n    /**\n     * Slide up transition\n     *\n     * @readOnly\n     * @property slide\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slide: 2,\n\n    /**\n     * Slide left transition\n     *\n     * @readOnly\n     * @property slideLeft\n     * @type Integer\n     * @for transitionEffect\n     **/\n    slideLeft: 3\n};\n\nvar stepModel = $.fn.steps.stepModel = {\n    title: \"\",\n    content: \"\",\n    contentUrl: \"\",\n    contentMode: contentMode.html,\n    contentLoaded: false\n};\n\n/**\n * An object that represents the default settings.\n * There are two possibities to override the sub-properties.\n * Either by doing it generally (global) or on initialization.\n *\n * @static\n * @class defaults\n * @for steps\n * @example\n *   // Global approach\n *   $.steps.defaults.headerTag = \"h3\";\n * @example\n *   // Initialization approach\n *   $(\"#wizard\").steps({ headerTag: \"h3\" });\n **/\nvar defaults = $.fn.steps.defaults = {\n    /**\n     * The header tag is used to find the step button text within the declared wizard area.\n     *\n     * @property headerTag\n     * @type String\n     * @default \"h1\"\n     * @for defaults\n     **/\n    headerTag: \"h1\",\n\n    /**\n     * The body tag is used to find the step content within the declared wizard area.\n     *\n     * @property bodyTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    bodyTag: \"div\",\n\n    /**\n     * The content container tag which will be used to wrap all step contents.\n     *\n     * @property contentContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    contentContainerTag: \"div\",\n\n    /**\n     * The action container tag which will be used to wrap the pagination navigation.\n     *\n     * @property actionContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    actionContainerTag: \"div\",\n\n    /**\n     * The steps container tag which will be used to wrap the steps navigation.\n     *\n     * @property stepsContainerTag\n     * @type String\n     * @default \"div\"\n     * @for defaults\n     **/\n    stepsContainerTag: \"div\",\n\n    /**\n     * The css class which will be added to the outer component wrapper.\n     *\n     * @property cssClass\n     * @type String\n     * @default \"wizard\"\n     * @for defaults\n     * @example\n     *     <div class=\"wizard\">\n     *         ...\n     *     </div>\n     **/\n    cssClass: \"wizard\",\n\n    /**\n     * The css class which will be used for floating scenarios.\n     *\n     * @property clearFixCssClass\n     * @type String\n     * @default \"clearfix\"\n     * @for defaults\n     **/\n    clearFixCssClass: \"clearfix\",\n\n    /**\n     * Determines whether the steps are vertically or horizontally oriented.\n     *\n     * @property stepsOrientation\n     * @type stepsOrientation\n     * @default horizontal\n     * @for defaults\n     * @since 1.0.0\n     **/\n    stepsOrientation: stepsOrientation.horizontal,\n\n    /*\n     * Tempplates\n     */\n\n    /**\n     * The title template which will be used to create a step button.\n     *\n     * @property titleTemplate\n     * @type String\n     * @default \"<span class=\\\"number\\\">#index#.</span> #title#\"\n     * @for defaults\n     **/\n    titleTemplate: \"<span class=\\\"number\\\">#index#.</span> #title#\",\n\n    /**\n     * The loading template which will be used to create the loading animation.\n     *\n     * @property loadingTemplate\n     * @type String\n     * @default \"<span class=\\\"spinner\\\"></span> #text#\"\n     * @for defaults\n     **/\n    loadingTemplate: \"<span class=\\\"spinner\\\"></span> #text#\",\n\n    /*\n     * Behaviour\n     */\n\n    /**\n     * Sets the focus to the first wizard instance in order to enable the key navigation from the begining if `true`.\n     *\n     * @property autoFocus\n     * @type Boolean\n     * @default false\n     * @for defaults\n     * @since 0.9.4\n     **/\n    autoFocus: false,\n\n    /**\n     * Enables all steps from the begining if `true` (all steps are clickable).\n     *\n     * @property enableAllSteps\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableAllSteps: false,\n\n    /**\n     * Enables keyboard navigation if `true` (arrow left and arrow right).\n     *\n     * @property enableKeyNavigation\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableKeyNavigation: true,\n\n    /**\n     * Enables pagination if `true`.\n     *\n     * @property enablePagination\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enablePagination: true,\n\n    /**\n     * Suppresses pagination if a form field is focused.\n     *\n     * @property suppressPaginationOnFocus\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    suppressPaginationOnFocus: true,\n\n    /**\n     * Enables cache for async loaded or iframe embedded content.\n     *\n     * @property enableContentCache\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableContentCache: true,\n\n    /**\n     * Shows the cancel button if enabled.\n     *\n     * @property enableCancelButton\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    enableCancelButton: false,\n\n    /**\n     * Shows the finish button if enabled.\n     *\n     * @property enableFinishButton\n     * @type Boolean\n     * @default true\n     * @for defaults\n     **/\n    enableFinishButton: true,\n\n    /**\n     * Not yet implemented.\n     *\n     * @property preloadContent\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    preloadContent: false,\n\n    /**\n     * Shows the finish button always (on each step; right beside the next button) if `true`.\n     * Otherwise the next button will be replaced by the finish button if the last step becomes active.\n     *\n     * @property showFinishButtonAlways\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    showFinishButtonAlways: false,\n\n    /**\n     * Prevents jumping to a previous step.\n     *\n     * @property forceMoveForward\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    forceMoveForward: false,\n\n    /**\n     * Saves the current state (step position) to a cookie.\n     * By coming next time the last active step becomes activated.\n     *\n     * @property saveState\n     * @type Boolean\n     * @default false\n     * @for defaults\n     **/\n    saveState: false,\n\n    /**\n     * The position to start on (zero-based).\n     *\n     * @property startIndex\n     * @type Integer\n     * @default 0\n     * @for defaults\n     **/\n    startIndex: 0,\n\n    /*\n     * Animation Effect Configuration\n     */\n\n    /**\n     * The animation effect which will be used for step transitions.\n     *\n     * @property transitionEffect\n     * @type transitionEffect\n     * @default none\n     * @for defaults\n     **/\n    transitionEffect: transitionEffect.none,\n\n    /**\n     * Animation speed for step transitions (in milliseconds).\n     *\n     * @property transitionEffectSpeed\n     * @type Integer\n     * @default 200\n     * @for defaults\n     **/\n    transitionEffectSpeed: 200,\n\n    /*\n     * Events\n     */\n\n    /**\n     * Fires before the step changes and can be used to prevent step changing by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onStepChanging\n     * @type Event\n     * @default function (event, currentIndex, newIndex) { return true; }\n     * @for defaults\n     **/\n    onStepChanging: function (event, currentIndex, newIndex) { return true; },\n\n    /**\n     * Fires after the step has change.\n     *\n     * @property onStepChanged\n     * @type Event\n     * @default function (event, currentIndex, priorIndex) { }\n     * @for defaults\n     **/\n    onStepChanged: function (event, currentIndex, priorIndex) { },\n\n    /**\n     * Fires after cancelation.\n     *\n     * @property onCanceled\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onCanceled: function (event) { },\n\n    /**\n     * Fires before finishing and can be used to prevent completion by returning `false`.\n     * Very useful for form validation.\n     *\n     * @property onFinishing\n     * @type Event\n     * @default function (event, currentIndex) { return true; }\n     * @for defaults\n     **/\n    onFinishing: function (event, currentIndex) { return true; },\n\n    /**\n     * Fires after completion.\n     *\n     * @property onFinished\n     * @type Event\n     * @default function (event, currentIndex) { }\n     * @for defaults\n     **/\n    onFinished: function (event, currentIndex) { },\n\n    /**\n     * Fires after async content is loaded.\n     *\n     * @property onContentLoaded\n     * @type Event\n     * @default function (event, index) { }\n     * @for defaults\n     **/\n    onContentLoaded: function (event, currentIndex) { },\n\n    /**\n     * Fires when the wizard is initialized.\n     *\n     * @property onInit\n     * @type Event\n     * @default function (event) { }\n     * @for defaults\n     **/\n    onInit: function (event, currentIndex) { },\n\n    /**\n     * Contains all labels.\n     *\n     * @property labels\n     * @type Object\n     * @for defaults\n     **/\n    labels: {\n        /**\n         * Label for the cancel button.\n         *\n         * @property cancel\n         * @type String\n         * @default \"Cancel\"\n         * @for defaults\n         **/\n        cancel: \"Cancel\",\n\n        /**\n         * This label is important for accessability reasons.\n         * Indicates which step is activated.\n         *\n         * @property current\n         * @type String\n         * @default \"current step:\"\n         * @for defaults\n         **/\n        current: \"current step:\",\n\n        /**\n         * This label is important for accessability reasons and describes the kind of navigation.\n         *\n         * @property pagination\n         * @type String\n         * @default \"Pagination\"\n         * @for defaults\n         * @since 0.9.7\n         **/\n        pagination: \"Pagination\",\n\n        /**\n         * Label for the finish button.\n         *\n         * @property finish\n         * @type String\n         * @default \"Finish\"\n         * @for defaults\n         **/\n        finish: \"Finish\",\n\n        /**\n         * Label for the next button.\n         *\n         * @property next\n         * @type String\n         * @default \"Next\"\n         * @for defaults\n         **/\n        next: \"Next\",\n\n        /**\n         * Label for the previous button.\n         *\n         * @property previous\n         * @type String\n         * @default \"Previous\"\n         * @for defaults\n         **/\n        previous: \"Previous\",\n\n        /**\n         * Label for the loading animation.\n         *\n         * @property loading\n         * @type String\n         * @default \"Loading ...\"\n         * @for defaults\n         **/\n        loading: \"Loading ...\"\n    }\n};\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.steps.js","/*!\n * jQuery Validation Plugin v1.15.0\n *\n * http://jqueryvalidation.org/\n *\n * Copyright (c) 2016 Jörn Zaefferer\n * Released under the MIT license\n */\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n$.extend( $.fn, {\n\n\t// http://jqueryvalidation.org/validate/\n\tvalidate: function( options ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\tif ( options && options.debug && window.console ) {\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if a validator for this form was already created\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\n\t\tif ( validator ) {\n\t\t\treturn validator;\n\t\t}\n\n\t\t// Add novalidate tag if HTML5.\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\n\n\t\tvalidator = new $.validator( options, this[ 0 ] );\n\t\t$.data( this[ 0 ], \"validator\", validator );\n\n\t\tif ( validator.settings.onsubmit ) {\n\n\t\t\tthis.on( \"click.validate\", \":submit\", function( event ) {\n\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\tvalidator.submitButton = event.target;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\tif ( $( this ).hasClass( \"cancel\" ) ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\tif ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Validate the form on submit\n\t\t\tthis.on( \"submit.validate\", function( event ) {\n\t\t\t\tif ( validator.settings.debug ) {\n\n\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tfunction handle() {\n\t\t\t\t\tvar hidden, result;\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\n\t\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\n\t\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\n\t\t\t\t\t\t\t\t.appendTo( validator.currentForm );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\n\t\t\t\t\t\tif ( validator.submitButton ) {\n\n\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== undefined ) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\tif ( validator.cancelSubmit ) {\n\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\treturn handle();\n\t\t\t\t}\n\t\t\t\tif ( validator.form() ) {\n\t\t\t\t\tif ( validator.pendingRequest ) {\n\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn handle();\n\t\t\t\t} else {\n\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn validator;\n\t},\n\n\t// http://jqueryvalidation.org/valid/\n\tvalid: function() {\n\t\tvar valid, validator, errorList;\n\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\n\t\t\tvalid = this.validate().form();\n\t\t} else {\n\t\t\terrorList = [];\n\t\t\tvalid = true;\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\n\t\t\tthis.each( function() {\n\t\t\t\tvalid = validator.element( this ) && valid;\n\t\t\t\tif ( !valid ) {\n\t\t\t\t\terrorList = errorList.concat( validator.errorList );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tvalidator.errorList = errorList;\n\t\t}\n\t\treturn valid;\n\t},\n\n\t// http://jqueryvalidation.org/rules/\n\trules: function( command, argument ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element = this[ 0 ],\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\n\n\t\tif ( command ) {\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\n\t\t\tstaticRules = settings.rules;\n\t\t\texistingRules = $.validator.staticRules( element );\n\t\t\tswitch ( command ) {\n\t\t\tcase \"add\":\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\n\n\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\tdelete existingRules.messages;\n\t\t\t\tstaticRules[ element.name ] = existingRules;\n\t\t\t\tif ( argument.messages ) {\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"remove\":\n\t\t\t\tif ( !argument ) {\n\t\t\t\t\tdelete staticRules[ element.name ];\n\t\t\t\t\treturn existingRules;\n\t\t\t\t}\n\t\t\t\tfiltered = {};\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\n\t\t\t\t\tdelete existingRules[ method ];\n\t\t\t\t\tif ( method === \"required\" ) {\n\t\t\t\t\t\t$( element ).removeAttr( \"aria-required\" );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn filtered;\n\t\t\t}\n\t\t}\n\n\t\tdata = $.validator.normalizeRules(\n\t\t$.extend(\n\t\t\t{},\n\t\t\t$.validator.classRules( element ),\n\t\t\t$.validator.attributeRules( element ),\n\t\t\t$.validator.dataRules( element ),\n\t\t\t$.validator.staticRules( element )\n\t\t), element );\n\n\t\t// Make sure required is at front\n\t\tif ( data.required ) {\n\t\t\tparam = data.required;\n\t\t\tdelete data.required;\n\t\t\tdata = $.extend( { required: param }, data );\n\t\t\t$( element ).attr( \"aria-required\", \"true\" );\n\t\t}\n\n\t\t// Make sure remote is at back\n\t\tif ( data.remote ) {\n\t\t\tparam = data.remote;\n\t\t\tdelete data.remote;\n\t\t\tdata = $.extend( data, { remote: param } );\n\t\t}\n\n\t\treturn data;\n\t}\n} );\n\n// Custom selectors\n$.extend( $.expr[ \":\" ], {\n\n\t// http://jqueryvalidation.org/blank-selector/\n\tblank: function( a ) {\n\t\treturn !$.trim( \"\" + $( a ).val() );\n\t},\n\n\t// http://jqueryvalidation.org/filled-selector/\n\tfilled: function( a ) {\n\t\tvar val = $( a ).val();\n\t\treturn val !== null && !!$.trim( \"\" + val );\n\t},\n\n\t// http://jqueryvalidation.org/unchecked-selector/\n\tunchecked: function( a ) {\n\t\treturn !$( a ).prop( \"checked\" );\n\t}\n} );\n\n// Constructor for validator\n$.validator = function( options, form ) {\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\n\tthis.currentForm = form;\n\tthis.init();\n};\n\n// http://jqueryvalidation.org/jQuery.validator.format/\n$.validator.format = function( source, params ) {\n\tif ( arguments.length === 1 ) {\n\t\treturn function() {\n\t\t\tvar args = $.makeArray( arguments );\n\t\t\targs.unshift( source );\n\t\t\treturn $.validator.format.apply( this, args );\n\t\t};\n\t}\n\tif ( params === undefined ) {\n\t\treturn source;\n\t}\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\n\t\tparams = $.makeArray( arguments ).slice( 1 );\n\t}\n\tif ( params.constructor !== Array ) {\n\t\tparams = [ params ];\n\t}\n\t$.each( params, function( i, n ) {\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n\t\t\treturn n;\n\t\t} );\n\t} );\n\treturn source;\n};\n\n$.extend( $.validator, {\n\n\tdefaults: {\n\t\tmessages: {},\n\t\tgroups: {},\n\t\trules: {},\n\t\terrorClass: \"error\",\n\t\tpendingClass: \"pending\",\n\t\tvalidClass: \"valid\",\n\t\terrorElement: \"label\",\n\t\tfocusCleanup: false,\n\t\tfocusInvalid: true,\n\t\terrorContainer: $( [] ),\n\t\terrorLabelContainer: $( [] ),\n\t\tonsubmit: true,\n\t\tignore: \":hidden\",\n\t\tignoreTitle: false,\n\t\tonfocusin: function( element ) {\n\t\t\tthis.lastActive = element;\n\n\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\tif ( this.settings.focusCleanup ) {\n\t\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\n\t\t\t}\n\t\t},\n\t\tonfocusout: function( element ) {\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonkeyup: function( element, event ) {\n\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t// Shift       => 16\n\t\t\t// Ctrl        => 17\n\t\t\t// Alt         => 18\n\t\t\t// Caps lock   => 20\n\t\t\t// End         => 35\n\t\t\t// Home        => 36\n\t\t\t// Left arrow  => 37\n\t\t\t// Up arrow    => 38\n\t\t\t// Right arrow => 39\n\t\t\t// Down arrow  => 40\n\t\t\t// Insert      => 45\n\t\t\t// Num lock    => 144\n\t\t\t// AltGr key   => 225\n\t\t\tvar excludedKeys = [\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\n\t\t\t\t38, 39, 40, 45, 144, 225\n\t\t\t];\n\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t} else if ( element.name in this.submitted || element.name in this.invalid ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonclick: function( element ) {\n\n\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\tif ( element.name in this.submitted ) {\n\t\t\t\tthis.element( element );\n\n\t\t\t// Or option elements, check parent select in that case\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\n\t\t\t\tthis.element( element.parentNode );\n\t\t\t}\n\t\t},\n\t\thighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\n\t\t\t}\n\t\t},\n\t\tunhighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\n\t\t\t}\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\n\tsetDefaults: function( settings ) {\n\t\t$.extend( $.validator.defaults, settings );\n\t},\n\n\tmessages: {\n\t\trequired: \"This field is required.\",\n\t\tremote: \"Please fix this field.\",\n\t\temail: \"Please enter a valid email address.\",\n\t\turl: \"Please enter a valid URL.\",\n\t\tdate: \"Please enter a valid date.\",\n\t\tdateISO: \"Please enter a valid date ( ISO ).\",\n\t\tnumber: \"Please enter a valid number.\",\n\t\tdigits: \"Please enter only digits.\",\n\t\tequalTo: \"Please enter the same value again.\",\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\n\t\tstep: $.validator.format( \"Please enter a multiple of {0}.\" )\n\t},\n\n\tautoCreateRanges: false,\n\n\tprototype: {\n\n\t\tinit: function() {\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\n\t\t\tthis.submitted = {};\n\t\t\tthis.valueCache = {};\n\t\t\tthis.pendingRequest = 0;\n\t\t\tthis.pending = {};\n\t\t\tthis.invalid = {};\n\t\t\tthis.reset();\n\n\t\t\tvar groups = ( this.groups = {} ),\n\t\t\t\trules;\n\t\t\t$.each( this.settings.groups, function( key, value ) {\n\t\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\t\tvalue = value.split( /\\s/ );\n\t\t\t\t}\n\t\t\t\t$.each( value, function( index, name ) {\n\t\t\t\t\tgroups[ name ] = key;\n\t\t\t\t} );\n\t\t\t} );\n\t\t\trules = this.settings.rules;\n\t\t\t$.each( rules, function( key, value ) {\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\n\t\t\t} );\n\n\t\t\tfunction delegate( event ) {\n\t\t\t\tvar validator = $.data( this.form, \"validator\" ),\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n\t\t\t\t\tsettings = validator.settings;\n\t\t\t\tif ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\n\t\t\t\t\tsettings[ eventType ].call( validator, this, event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate\",\n\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable]\", delegate )\n\n\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t.on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\n\n\t\t\tif ( this.settings.invalidHandler ) {\n\t\t\t\t$( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\n\t\t\t}\n\n\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\n\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\n\t\t\t$( this.currentForm ).find( \"[required], [data-rule-required], .required\" ).attr( \"aria-required\", \"true\" );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.form/\n\t\tform: function() {\n\t\t\tthis.checkForm();\n\t\t\t$.extend( this.submitted, this.errorMap );\n\t\t\tthis.invalid = $.extend( {}, this.errorMap );\n\t\t\tif ( !this.valid() ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t}\n\t\t\tthis.showErrors();\n\t\t\treturn this.valid();\n\t\t},\n\n\t\tcheckForm: function() {\n\t\t\tthis.prepareForm();\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\n\t\t\t\tthis.check( elements[ i ] );\n\t\t\t}\n\t\t\treturn this.valid();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.element/\n\t\telement: function( element ) {\n\t\t\tvar cleanElement = this.clean( element ),\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\n\t\t\t\tv = this,\n\t\t\t\tresult = true,\n\t\t\t\trs, group;\n\n\t\t\tif ( checkElement === undefined ) {\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\n\t\t\t} else {\n\t\t\t\tthis.prepareElement( checkElement );\n\t\t\t\tthis.currentElements = $( checkElement );\n\n\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t// containing a value\n\t\t\t\tgroup = this.groups[ checkElement.name ];\n\t\t\t\tif ( group ) {\n\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\n\t\t\t\t\t\tif ( testgroup === group && name !== checkElement.name ) {\n\t\t\t\t\t\t\tcleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\n\t\t\t\t\t\t\tif ( cleanElement && cleanElement.name in v.invalid ) {\n\t\t\t\t\t\t\t\tv.currentElements.push( cleanElement );\n\t\t\t\t\t\t\t\tresult = result && v.check( cleanElement );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\trs = this.check( checkElement ) !== false;\n\t\t\t\tresult = result && rs;\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\n\t\t\t\t}\n\n\t\t\t\tif ( !this.numberOfInvalids() ) {\n\n\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\tthis.toHide = this.toHide.add( this.containers );\n\t\t\t\t}\n\t\t\t\tthis.showErrors();\n\n\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t$( element ).attr( \"aria-invalid\", !rs );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.showErrors/\n\t\tshowErrors: function( errors ) {\n\t\t\tif ( errors ) {\n\t\t\t\tvar validator = this;\n\n\t\t\t\t// Add items to error list and map\n\t\t\t\t$.extend( this.errorMap, errors );\n\t\t\t\tthis.errorList = $.map( this.errorMap, function( message, name ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: validator.findByName( name )[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t\t// Remove items from success list\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\n\t\t\t\t\treturn !( element.name in errors );\n\t\t\t\t} );\n\t\t\t}\n\t\t\tif ( this.settings.showErrors ) {\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\n\t\t\t} else {\n\t\t\t\tthis.defaultShowErrors();\n\t\t\t}\n\t\t},\n\n\t\t// http://jqueryvalidation.org/Validator.resetForm/\n\t\tresetForm: function() {\n\t\t\tif ( $.fn.resetForm ) {\n\t\t\t\t$( this.currentForm ).resetForm();\n\t\t\t}\n\t\t\tthis.invalid = {};\n\t\t\tthis.submitted = {};\n\t\t\tthis.prepareForm();\n\t\t\tthis.hideErrors();\n\t\t\tvar elements = this.elements()\n\t\t\t\t.removeData( \"previousValue\" )\n\t\t\t\t.removeAttr( \"aria-invalid\" );\n\n\t\t\tthis.resetElements( elements );\n\t\t},\n\n\t\tresetElements: function( elements ) {\n\t\t\tvar i;\n\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\n\t\t\t\t\tthis.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telements\n\t\t\t\t\t.removeClass( this.settings.errorClass )\n\t\t\t\t\t.removeClass( this.settings.validClass );\n\t\t\t}\n\t\t},\n\n\t\tnumberOfInvalids: function() {\n\t\t\treturn this.objectLength( this.invalid );\n\t\t},\n\n\t\tobjectLength: function( obj ) {\n\t\t\t/* jshint unused: false */\n\t\t\tvar count = 0,\n\t\t\t\ti;\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( obj[ i ] ) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\thideErrors: function() {\n\t\t\tthis.hideThese( this.toHide );\n\t\t},\n\n\t\thideThese: function( errors ) {\n\t\t\terrors.not( this.containers ).text( \"\" );\n\t\t\tthis.addWrapper( errors ).hide();\n\t\t},\n\n\t\tvalid: function() {\n\t\t\treturn this.size() === 0;\n\t\t},\n\n\t\tsize: function() {\n\t\t\treturn this.errorList.length;\n\t\t},\n\n\t\tfocusInvalid: function() {\n\t\t\tif ( this.settings.focusInvalid ) {\n\t\t\t\ttry {\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\n\t\t\t\t\t.filter( \":visible\" )\n\t\t\t\t\t.focus()\n\n\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t.trigger( \"focusin\" );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindLastActive: function() {\n\t\t\tvar lastActive = this.lastActive;\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\n\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t} ).length === 1 && lastActive;\n\t\t},\n\n\t\telements: function() {\n\t\t\tvar validator = this,\n\t\t\t\trulesCache = {};\n\n\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\treturn $( this.currentForm )\n\t\t\t.find( \"input, select, textarea, [contenteditable]\" )\n\t\t\t.not( \":submit, :reset, :image, :disabled\" )\n\t\t\t.not( this.settings.ignore )\n\t\t\t.filter( function() {\n\t\t\t\tvar name = this.name || $( this ).attr( \"name\" ); // For contenteditable\n\t\t\t\tif ( !name && validator.settings.debug && window.console ) {\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\n\t\t\t\t}\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( this.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\tif ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\trulesCache[ name ] = true;\n\t\t\t\treturn true;\n\t\t\t} );\n\t\t},\n\n\t\tclean: function( selector ) {\n\t\t\treturn $( selector )[ 0 ];\n\t\t},\n\n\t\terrors: function() {\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\n\t\t},\n\n\t\tresetInternals: function() {\n\t\t\tthis.successList = [];\n\t\t\tthis.errorList = [];\n\t\t\tthis.errorMap = {};\n\t\t\tthis.toShow = $( [] );\n\t\t\tthis.toHide = $( [] );\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.resetInternals();\n\t\t\tthis.currentElements = $( [] );\n\t\t},\n\n\t\tprepareForm: function() {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errors().add( this.containers );\n\t\t},\n\n\t\tprepareElement: function( element ) {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errorsFor( element );\n\t\t},\n\n\t\telementValue: function( element ) {\n\t\t\tvar $element = $( element ),\n\t\t\t\ttype = element.type,\n\t\t\t\tval, idx;\n\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\n\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).val();\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t}\n\n\t\t\tif ( element.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\tval = $element.text();\n\t\t\t} else {\n\t\t\t\tval = $element.val();\n\t\t\t}\n\n\t\t\tif ( type === \"file\" ) {\n\n\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\tif ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\n\t\t\t\t\treturn val.substr( 12 );\n\t\t\t\t}\n\n\t\t\t\t// Legacy browsers\n\t\t\t\t// Unix-based path\n\t\t\t\tidx = val.lastIndexOf( \"/\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Windows-based path\n\t\t\t\tidx = val.lastIndexOf( \"\\\\\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Just the file name\n\t\t\t\treturn val;\n\t\t\t}\n\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\treturn val.replace( /\\r/g, \"\" );\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\tcheck: function( element ) {\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\n\n\t\t\tvar rules = $( element ).rules(),\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\n\t\t\t\t\treturn i;\n\t\t\t\t} ).length,\n\t\t\t\tdependencyMismatch = false,\n\t\t\t\tval = this.elementValue( element ),\n\t\t\t\tresult, method, rule;\n\n\t\t\t// If a normalizer is defined for this element, then\n\t\t\t// call it to retreive the changed value instead\n\t\t\t// of using the real one.\n\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\tif ( typeof rules.normalizer === \"function\" ) {\n\t\t\t\tval = rules.normalizer.call( element, val );\n\n\t\t\t\tif ( typeof val !== \"string\" ) {\n\t\t\t\t\tthrow new TypeError( \"The normalizer should return a string value.\" );\n\t\t\t\t}\n\n\t\t\t\t// Delete the normalizer from rules to avoid treating\n\t\t\t\t// it as a pre-defined method.\n\t\t\t\tdelete rules.normalizer;\n\t\t\t}\n\n\t\t\tfor ( method in rules ) {\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\n\t\t\t\ttry {\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdependencyMismatch = false;\n\n\t\t\t\t\tif ( result === \"pending\" ) {\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n\t\t\t\t\t}\n\t\t\t\t\tif ( e instanceof TypeError ) {\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( dependencyMismatch ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( this.objectLength( rules ) ) {\n\t\t\t\tthis.successList.push( element );\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Return the custom message for the given element and validation method\n\t\t// specified in the element's HTML5 data attribute\n\t\t// return the generic message if present and no method specific message is present\n\t\tcustomDataMessage: function( element, method ) {\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\n\t\t},\n\n\t\t// Return the custom message for the given element name and validation method\n\t\tcustomMessage: function( name, method ) {\n\t\t\tvar m = this.settings.messages[ name ];\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ] );\n\t\t},\n\n\t\t// Return the first defined argument, allowing empty strings\n\t\tfindDefined: function() {\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\n\t\t\t\t\treturn arguments[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\n\t\tdefaultMessage: function( element, rule ) {\n\t\t\tvar message = this.findDefined(\n\t\t\t\t\tthis.customMessage( element.name, rule.method ),\n\t\t\t\t\tthis.customDataMessage( element, rule.method ),\n\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\n\t\t\t\t\t$.validator.messages[ rule.method ],\n\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n\t\t\t\t),\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\tif ( typeof message === \"function\" ) {\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\n\t\t\t} else if ( theregex.test( message ) ) {\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\n\t\t\t}\n\n\t\t\treturn message;\n\t\t},\n\n\t\tformatAndAdd: function( element, rule ) {\n\t\t\tvar message = this.defaultMessage( element, rule );\n\n\t\t\tthis.errorList.push( {\n\t\t\t\tmessage: message,\n\t\t\t\telement: element,\n\t\t\t\tmethod: rule.method\n\t\t\t} );\n\n\t\t\tthis.errorMap[ element.name ] = message;\n\t\t\tthis.submitted[ element.name ] = message;\n\t\t},\n\n\t\taddWrapper: function( toToggle ) {\n\t\t\tif ( this.settings.wrapper ) {\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n\t\t\t}\n\t\t\treturn toToggle;\n\t\t},\n\n\t\tdefaultShowErrors: function() {\n\t\t\tvar i, elements, error;\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\n\t\t\t\terror = this.errorList[ i ];\n\t\t\t\tif ( this.settings.highlight ) {\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.showLabel( error.element, error.message );\n\t\t\t}\n\t\t\tif ( this.errorList.length ) {\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\n\t\t\t}\n\t\t\tif ( this.settings.success ) {\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\n\t\t\tthis.hideErrors();\n\t\t\tthis.addWrapper( this.toShow ).show();\n\t\t},\n\n\t\tvalidElements: function() {\n\t\t\treturn this.currentElements.not( this.invalidElements() );\n\t\t},\n\n\t\tinvalidElements: function() {\n\t\t\treturn $( this.errorList ).map( function() {\n\t\t\t\treturn this.element;\n\t\t\t} );\n\t\t},\n\n\t\tshowLabel: function( element, message ) {\n\t\t\tvar place, group, errorID, v,\n\t\t\t\terror = this.errorsFor( element ),\n\t\t\t\telementID = this.idOrName( element ),\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\n\n\t\t\tif ( error.length ) {\n\n\t\t\t\t// Refresh error/success class\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n\n\t\t\t\t// Replace message on existing label\n\t\t\t\terror.html( message );\n\t\t\t} else {\n\n\t\t\t\t// Create error element\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\n\t\t\t\t\t.addClass( this.settings.errorClass )\n\t\t\t\t\t.html( message || \"\" );\n\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\tplace = error;\n\t\t\t\tif ( this.settings.wrapper ) {\n\n\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\n\t\t\t\t}\n\t\t\t\tif ( this.labelContainer.length ) {\n\t\t\t\t\tthis.labelContainer.append( place );\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\n\t\t\t\t\tthis.settings.errorPlacement( place, $( element ) );\n\t\t\t\t} else {\n\t\t\t\t\tplace.insertAfter( element );\n\t\t\t\t}\n\n\t\t\t\t// Link error back to the element\n\t\t\t\tif ( error.is( \"label\" ) ) {\n\n\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\terror.attr( \"for\", elementID );\n\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t} else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\n\t\t\t\t\terrorID = error.attr( \"id\" );\n\n\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\tif ( !describedBy ) {\n\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\n\n\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t}\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\n\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\tgroup = this.groups[ element.name ];\n\t\t\t\t\tif ( group ) {\n\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t$.each( v.groups, function( name, testgroup ) {\n\t\t\t\t\t\t\tif ( testgroup === group ) {\n\t\t\t\t\t\t\t\t$( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !message && this.settings.success ) {\n\t\t\t\terror.text( \"\" );\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\n\t\t\t\t\terror.addClass( this.settings.success );\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings.success( error, element );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toShow = this.toShow.add( error );\n\t\t},\n\n\t\terrorsFor: function( element ) {\n\t\t\tvar name = this.escapeCssMeta( this.idOrName( element ) ),\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\n\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\tif ( describer ) {\n\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta( describer )\n\t\t\t\t\t.replace( /\\s+/g, \", #\" );\n\t\t\t}\n\n\t\t\treturn this\n\t\t\t\t.errors()\n\t\t\t\t.filter( selector );\n\t\t},\n\n\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t// as a literal part of a name/id or any selector.\n\t\tescapeCssMeta: function( string ) {\n\t\t\treturn string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\n\t\t},\n\n\t\tidOrName: function( element ) {\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\n\t\t},\n\n\t\tvalidationTargetFor: function( element ) {\n\n\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\telement = this.findByName( element.name );\n\t\t\t}\n\n\t\t\t// Always apply ignore filter\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\n\t\t},\n\n\t\tcheckable: function( element ) {\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\n\t\t},\n\n\t\tfindByName: function( name ) {\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\n\t\t},\n\n\t\tgetLength: function( value, element ) {\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\n\t\t\tcase \"select\":\n\t\t\t\treturn $( \"option:selected\", element ).length;\n\t\t\tcase \"input\":\n\t\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value.length;\n\t\t},\n\n\t\tdepend: function( param, element ) {\n\t\t\treturn this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\n\t\t},\n\n\t\tdependTypes: {\n\t\t\t\"boolean\": function( param ) {\n\t\t\t\treturn param;\n\t\t\t},\n\t\t\t\"string\": function( param, element ) {\n\t\t\t\treturn !!$( param, element.form ).length;\n\t\t\t},\n\t\t\t\"function\": function( param, element ) {\n\t\t\t\treturn param( element );\n\t\t\t}\n\t\t},\n\n\t\toptional: function( element ) {\n\t\t\tvar val = this.elementValue( element );\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n\t\t},\n\n\t\tstartRequest: function( element ) {\n\t\t\tif ( !this.pending[ element.name ] ) {\n\t\t\t\tthis.pendingRequest++;\n\t\t\t\t$( element ).addClass( this.settings.pendingClass );\n\t\t\t\tthis.pending[ element.name ] = true;\n\t\t\t}\n\t\t},\n\n\t\tstopRequest: function( element, valid ) {\n\t\t\tthis.pendingRequest--;\n\n\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\tif ( this.pendingRequest < 0 ) {\n\t\t\t\tthis.pendingRequest = 0;\n\t\t\t}\n\t\t\tdelete this.pending[ element.name ];\n\t\t\t$( element ).removeClass( this.settings.pendingClass );\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\n\t\t\t\t$( this.currentForm ).submit();\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t}\n\t\t},\n\n\t\tpreviousValue: function( element, method ) {\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\n\t\t\t\told: null,\n\t\t\t\tvalid: true,\n\t\t\t\tmessage: this.defaultMessage( element, { method: method } )\n\t\t\t} );\n\t\t},\n\n\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\tdestroy: function() {\n\t\t\tthis.resetForm();\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.off( \".validate\" )\n\t\t\t\t.removeData( \"validator\" )\n\t\t\t\t.find( \".validate-equalTo-blur\" )\n\t\t\t\t\t.off( \".validate-equalTo\" )\n\t\t\t\t\t.removeClass( \"validate-equalTo-blur\" );\n\t\t}\n\n\t},\n\n\tclassRuleSettings: {\n\t\trequired: { required: true },\n\t\temail: { email: true },\n\t\turl: { url: true },\n\t\tdate: { date: true },\n\t\tdateISO: { dateISO: true },\n\t\tnumber: { number: true },\n\t\tdigits: { digits: true },\n\t\tcreditcard: { creditcard: true }\n\t},\n\n\taddClassRules: function( className, rules ) {\n\t\tif ( className.constructor === String ) {\n\t\t\tthis.classRuleSettings[ className ] = rules;\n\t\t} else {\n\t\t\t$.extend( this.classRuleSettings, className );\n\t\t}\n\t},\n\n\tclassRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tclasses = $( element ).attr( \"class\" );\n\n\t\tif ( classes ) {\n\t\t\t$.each( classes.split( \" \" ), function() {\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeAttributeRule: function( rules, type, method, value ) {\n\n\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t// allows type=\"date\" and others to be compared as strings\n\t\tif ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n\t\t\tvalue = Number( value );\n\n\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\tif ( isNaN( value ) ) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif ( value || value === 0 ) {\n\t\t\trules[ method ] = value;\n\t\t} else if ( type === method && type !== \"range\" ) {\n\n\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t// does not test for the html5 'range' type\n\t\t\trules[ method ] = true;\n\t\t}\n\t},\n\n\tattributeRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\n\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\tif ( method === \"required\" ) {\n\t\t\t\tvalue = element.getAttribute( method );\n\n\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t}\n\n\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\tvalue = !!value;\n\t\t\t} else {\n\t\t\t\tvalue = $element.attr( method );\n\t\t\t}\n\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\n\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n\t\t\tdelete rules.maxlength;\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\tdataRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tstaticRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tvalidator = $.data( element.form, \"validator\" );\n\n\t\tif ( validator.settings.rules ) {\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeRules: function( rules, element ) {\n\n\t\t// Handle dependency check\n\t\t$.each( rules, function( prop, val ) {\n\n\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\tif ( val === false ) {\n\t\t\t\tdelete rules[ prop ];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( val.param || val.depends ) {\n\t\t\t\tvar keepRule = true;\n\t\t\t\tswitch ( typeof val.depends ) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"function\":\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( keepRule ) {\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\n\t\t\t\t} else {\n\t\t\t\t\t$.data( element.form, \"validator\" ).resetElements( $( element ) );\n\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Evaluate parameters\n\t\t$.each( rules, function( rule, parameter ) {\n\t\t\trules[ rule ] = $.isFunction( parameter ) && rule !== \"normalizer\" ? parameter( element ) : parameter;\n\t\t} );\n\n\t\t// Clean number parameters\n\t\t$.each( [ \"minlength\", \"maxlength\" ], function() {\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\trules[ this ] = Number( rules[ this ] );\n\t\t\t}\n\t\t} );\n\t\t$.each( [ \"rangelength\", \"range\" ], function() {\n\t\t\tvar parts;\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\n\t\t\t\t\tparts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tif ( $.validator.autoCreateRanges ) {\n\n\t\t\t// Auto-create ranges\n\t\t\tif ( rules.min != null && rules.max != null ) {\n\t\t\t\trules.range = [ rules.min, rules.max ];\n\t\t\t\tdelete rules.min;\n\t\t\t\tdelete rules.max;\n\t\t\t}\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\n\t\t\t\tdelete rules.minlength;\n\t\t\t\tdelete rules.maxlength;\n\t\t\t}\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\tnormalizeRule: function( data ) {\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tvar transformed = {};\n\t\t\t$.each( data.split( /\\s/ ), function() {\n\t\t\t\ttransformed[ this ] = true;\n\t\t\t} );\n\t\t\tdata = transformed;\n\t\t}\n\t\treturn data;\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\n\taddMethod: function( name, method, message ) {\n\t\t$.validator.methods[ name ] = method;\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\n\t\tif ( method.length < 3 ) {\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\n\t\t}\n\t},\n\n\t// http://jqueryvalidation.org/jQuery.validator.methods/\n\tmethods: {\n\n\t\t// http://jqueryvalidation.org/required-method/\n\t\trequired: function( value, element, param ) {\n\n\t\t\t// Check if dependency is met\n\t\t\tif ( !this.depend( param, element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\n\n\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\tvar val = $( element ).val();\n\t\t\t\treturn val && val.length > 0;\n\t\t\t}\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\treturn this.getLength( value, element ) > 0;\n\t\t\t}\n\t\t\treturn value.length > 0;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/email-method/\n\t\temail: function( value, element ) {\n\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t// Retrieved 2014-01-14\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t// Or use custom methods to implement your own email validation\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/url-method/\n\t\turl: function( value, element ) {\n\n\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t// modified to allow protocol-relative URLs\n\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/date-method/\n\t\tdate: function( value, element ) {\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/dateISO-method/\n\t\tdateISO: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/number-method/\n\t\tnumber: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/digits-method/\n\t\tdigits: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/minlength-method/\n\t\tminlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/maxlength-method/\n\t\tmaxlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/rangelength-method/\n\t\trangelength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/min-method/\n\t\tmin: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value >= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/max-method/\n\t\tmax: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value <= param;\n\t\t},\n\n\t\t// http://jqueryvalidation.org/range-method/\n\t\trange: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/step-method/\n\t\tstep: function( value, element, param ) {\n\t\t\tvar type = $( element ).attr( \"type\" ),\n\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\tsupportedTypes = [ \"text\", \"number\", \"range\" ],\n\t\t\t\tre = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\n\t\t\t\tnotSupported = type && !re.test( supportedTypes.join() );\n\n\t\t\t// Works only for text, number and range input types\n\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\tif ( notSupported ) {\n\t\t\t\tthrow new Error( errorMessage );\n\t\t\t}\n\t\t\treturn this.optional( element ) || ( value % param === 0 );\n\t\t},\n\n\t\t// http://jqueryvalidation.org/equalTo-method/\n\t\tequalTo: function( value, element, param ) {\n\n\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\tvar target = $( param );\n\t\t\tif ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\n\t\t\t\ttarget.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\n\t\t\t\t\t$( element ).valid();\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn value === target.val();\n\t\t},\n\n\t\t// http://jqueryvalidation.org/remote-method/\n\t\tremote: function( value, element, param, method ) {\n\t\t\tif ( this.optional( element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\tvar previous = this.previousValue( element, method ),\n\t\t\t\tvalidator, data, optionDataString;\n\n\t\t\tif ( !this.settings.messages[ element.name ] ) {\n\t\t\t\tthis.settings.messages[ element.name ] = {};\n\t\t\t}\n\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\n\t\t\tthis.settings.messages[ element.name ][ method ] = previous.message;\n\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\toptionDataString = $.param( $.extend( { data: value }, param.data ) );\n\t\t\tif ( previous.old === optionDataString ) {\n\t\t\t\treturn previous.valid;\n\t\t\t}\n\n\t\t\tprevious.old = optionDataString;\n\t\t\tvalidator = this;\n\t\t\tthis.startRequest( element );\n\t\t\tdata = {};\n\t\t\tdata[ element.name ] = value;\n\t\t\t$.ajax( $.extend( true, {\n\t\t\t\tmode: \"abort\",\n\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: data,\n\t\t\t\tcontext: validator.currentForm,\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\terrors, message, submitted;\n\n\t\t\t\t\tvalidator.settings.messages[ element.name ][ method ] = previous.originalMessage;\n\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\tvalidator.toHide = validator.errorsFor( element );\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\tvalidator.successList.push( element );\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = false;\n\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, { method: method, parameters: value } );\n\t\t\t\t\t\terrors[ element.name ] = previous.message = message;\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\n\t\t\t\t\t\tvalidator.showErrors( errors );\n\t\t\t\t\t}\n\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\tvalidator.stopRequest( element, valid );\n\t\t\t\t}\n\t\t\t}, param ) );\n\t\t\treturn \"pending\";\n\t\t}\n\t}\n\n} );\n\n// Ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\nvar pendingRequests = {},\n\tajax;\n\n// Use a prefilter if available (1.5+)\nif ( $.ajaxPrefilter ) {\n\t$.ajaxPrefilter( function( settings, _, xhr ) {\n\t\tvar port = settings.port;\n\t\tif ( settings.mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = xhr;\n\t\t}\n\t} );\n} else {\n\n\t// Proxy ajax\n\tajax = $.ajax;\n\t$.ajax = function( settings ) {\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n\t\tif ( mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = ajax.apply( this, arguments );\n\t\t\treturn pendingRequests[ port ];\n\t\t}\n\t\treturn ajax.apply( this, arguments );\n\t};\n}\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/jquery.validate.js","'use strict';\n\nrequire('selectize');\n\nimport $ from 'jquery';\n\nvar taxonomy,\n    elementData,\n    $element,\n    TemplateEngine = require('./TemplateEngine');\n\nvar defaultSettings = {\n    plugins: ['remove_button'],\n    maxItems: 5,\n    valueField: 'url',\n    labelField: 'name',\n    searchField: 'name',\n    create: false,\n    render: {\n        'item': renderItem,\n        'option': renderOption\n    },\n    load: loadItems\n};\n\nvar defaultTemplates = {\n    'item': '<div><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>',\n    'option': '<div class=\"item-float-notification\"><span><img src=\"<%this.image%>\" alt=\"<%this.name%>\"></span> <span><%this.name%></span></div>'\n};\n\nfunction renderItem(item){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.item;\n    var elementData = $element.data();\n    if('templateItem' in elementData && $(elementData.templateItem).length){\n        renderTemplate = $(elementData.templateItem).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n}\n\nfunction renderOption(item, escape){\n\n    var $element = $(this.$input);\n    var renderTemplate = defaultTemplates.option;\n    var elementData = $element.data();\n    if('templateOption' in elementData && $(elementData.templateOption).length){\n        renderTemplate = $(elementData.templateOption).html();\n    }\n\n    return TemplateEngine(renderTemplate, item);\n\n}\n\nfunction loadItems(query, callback) {\n\n    var options = $(this.$input).data();\n\n    if(!query.length){\n        return callback();\n    }\n\n    var _data = {};\n    _data[this.settings.searchField] = query;\n\n    $.ajax({\n        url: options.url,\n        data: _data,\n        type: options.method || 'GET',\n        error: function(){\n            callback()\n        },\n        success: function(res){\n            callback(res);\n        }\n    });\n}\n\ntaxonomy = (element) => {\n    $element = $(element);\n    elementData = $element.data();\n    var selectizeSettings = $.extend({}, defaultSettings, elementData);\n    $(element).selectize(selectizeSettings);\n};\n\nexport default taxonomy\n\n\n// WEBPACK FOOTER //\n// ./asyncModules/taxonomy.js","var map = {\n\t\"./comments\": 55,\n\t\"./comments.js\": 55,\n\t\"./comments/jquery.render-list\": 57,\n\t\"./comments/jquery.render-list.js\": 57,\n\t\"./courses\": 58,\n\t\"./courses.js\": 58,\n\t\"./customform\": 60,\n\t\"./customform.js\": 60,\n\t\"./customform/input\": 14,\n\t\"./customform/input.js\": 14,\n\t\"./index\": 53,\n\t\"./index.js\": 53,\n\t\"./organization\": 61,\n\t\"./organization.js\": 61,\n\t\"./professions\": 62,\n\t\"./professions.js\": 62,\n\t\"./videos\": 63,\n\t\"./videos.js\": 63\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 54;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components ^\\.\\/.*$\n// module id = 54\n// module chunks = 2","import $ from 'jquery'\nimport 'jscroll'\nimport './comments/jquery.render-list'\n\nvar form_submit = function(event, data){\n    var $form = $(this);\n    var $divToUpdate = $($form.data(\"update\"));\n    $divToUpdate = setData($form, data, $divToUpdate);\n\n    var $subforms = $divToUpdate.find(\"form[data-ajaxform=\\\"true\\\"]\");\n    $.each($subforms, function(i, value){\n        var $subform = $(value);\n        if(!$subform.data(\"plugin\")){\n            $subform.data(\"plugin\", \"true\");\n            $subform.IdeiaAjaxForm();\n            $subform.on(\"ajaxform.success\", form_submit);\n        }\n\n\n    });\n    var $dataList = $divToUpdate.find(\"div[data-xhr]\");\n    $dataList.renderList();\n    refreshAsyncLike();\n\n};\n\nvar functionOpenModalToDelete = function(e) {\n    e.preventDefault();\n\n    var $btn = $(e.currentTarget),\n            $modal = $($btn.data(\"modal\"));\n\n    $modal.find(\"form\").attr(\"action\", $btn.data(\"url\"));\n    $modal.find(\"#item-id\").val($btn.data(\"item\"));\n    $modal.find(\"#item-type\").val($btn.data(\"type\"));\n    $modal.find(\"#title-item-to-remove\").html($btn.data(\"title\"));\n    $modal.find(\".loading-container\").html(\"\");\n    $modal.find(\".alert-container\").html(\"\");\n    $modal.modal(\"show\");\n};\n\nvar functionAjaxSuccessDeleteItem = function(e, data) {\n    var $this = $(this),\n            $modal = $($this.closest(\".modal.fade\")),\n            itemId = $modal.find(\"#item-id\").val(),\n            itemType = $modal.find(\"#item-type\").val();\n\n    $modal.modal(\"hide\");\n    $modal.find(\"form\").attr(\"action\", \"\");\n    $modal.find(\"#item-id\").val(\"\");\n    $modal.find(\"#item-type\").val(\"\");\n    $modal.find(\"#title-item-to-remove\").html(\"\");\n    $modal.find(\".loading-container\").html(\"\");\n    $modal.find(\".alert-container\").html(\"\");\n\n    $(\"#\" + itemType + \"-\" + itemId).fadeOut(\"slow\", function(){\n      $('#list-'+itemType+'-'+itemId).remove();\n      $(this).remove();\n    });\n};\n\nfunction setData($form, data, $divToUpdate){\n\n    var action = $form.data(\"toggle\");\n    var $form_to_hide = $form.parent(\".dropdown-content\");\n\n    if(action == \"append\" || action == \"prepend\") {\n\n        if (action == \"append\") {\n            $divToUpdate.append(data.template);\n        } else {\n            $divToUpdate.prepend(data.template);\n        }\n\n        if ($form_to_hide) {\n            $form_to_hide.removeClass(\"open\");\n        }\n        $form[0].reset();\n\n    }else if (action==\"replace\"){\n        var $element = $(data.template);\n        $divToUpdate.replaceWith($element);\n        var $newForm = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n        $divToUpdate = $element;\n    }\n    $form.find('[data-toggle=\"editor\"]').summernote('reset');\n    $divToUpdate.refreshEditors();\n    var $preInComment = $('.comment-text').find('code');\n    $.each($preInComment, function (index, element) {\n      Prism.highlightElement(element);\n    });\n\n    return $divToUpdate\n}\n\nvar commentDropDown = function(event) {\n  event.stopPropagation();\n};\n\nvar xhr_contents = $(\"div[data-xhr]\");\nxhr_contents.renderList();\nvar $comment_form = $(\"form[data-ajaxform=\\\"true\\\"]\");\n\n$comment_form.refreshEditors();\n$comment_form.on(\"ajaxform.success\", form_submit);\n\n$(\"#confirmation-form\").on(\"ajaxform.success\", functionAjaxSuccessDeleteItem);\n$(document).on(\"click\", \"[data-delete-item=true]\", functionOpenModalToDelete);\n$(document).on('click', '.comment-dropdown', commentDropDown);\n\n\n\n// WEBPACK FOOTER //\n// ./components/comments.js","/*!\n * jScroll - jQuery Plugin for Infinite Scrolling / Auto-Paging\n * http://jscroll.com/\n *\n * Copyright 2011-2013, Philip Klauzinski\n * http://klauzinski.com/\n * Dual licensed under the MIT and GPL Version 2 licenses.\n * http://jscroll.com/#license\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl-2.0.html\n *\n * @author Philip Klauzinski\n * @version 2.3.5\n * @requires jQuery v1.4.3+\n * @preserve\n */\n(function($) {\n\n    'use strict';\n\n    // Define the jscroll namespace and default settings\n    $.jscroll = {\n        defaults: {\n            debug: false,\n            autoTrigger: true,\n            autoTriggerUntil: false,\n            loadingHtml: '<small>Loading...</small>',\n            loadingFunction: false,\n            padding: 0,\n            nextSelector: 'a:last',\n            contentSelector: '',\n            pagingSelector: '',\n            callback: false\n        }\n    };\n\n    // Constructor\n    var jScroll = function($e, options) {\n\n        // Private vars and methods\n        var _data = $e.data('jscroll'),\n            _userOptions = (typeof options === 'function') ? { callback: options } : options,\n            _options = $.extend({}, $.jscroll.defaults, _userOptions, _data || {}),\n            _isWindow = ($e.css('overflow-y') === 'visible'),\n            _$next = $e.find(_options.nextSelector).first(),\n            _$window = $(window),\n            _$body = $('body'),\n            _$scroll = _isWindow ? _$window : $e,\n            _nextHref = $.trim(_$next.attr('href') + ' ' + _options.contentSelector),\n\n            // Check if a loading image is defined and preload\n            _preloadImage = function() {\n                var src = $(_options.loadingHtml).filter('img').attr('src');\n                if (src) {\n                    var image = new Image();\n                    image.src = src;\n                }\n            },\n\n            // Wrap inner content, if it isn't already\n            _wrapInnerContent = function() {\n                if (!$e.find('.jscroll-inner').length) {\n                    $e.contents().wrapAll('<div class=\"jscroll-inner\" />');\n                }\n            },\n\n            // Find the next link's parent, or add one, and hide it\n            _nextWrap = function($next) {\n                var $parent;\n                if (_options.pagingSelector) {\n                    $next.closest(_options.pagingSelector).hide();\n                } else {\n                    $parent = $next.parent().not('.jscroll-inner,.jscroll-added').addClass('jscroll-next-parent').hide();\n                    if (!$parent.length) {\n                        $next.wrap('<div class=\"jscroll-next-parent\" />').parent().hide();\n                    }\n                }\n            },\n\n            // Remove the jscroll behavior and data from an element\n            _destroy = function() {\n                return _$scroll.unbind('.jscroll')\n                    .removeData('jscroll')\n                    .find('.jscroll-inner').children().unwrap()\n                    .filter('.jscroll-added').children().unwrap();\n            },\n\n            // Observe the scroll event for when to trigger the next load\n            _observe = function() {\n                if ($e.is(':visible')) {\n                    _wrapInnerContent();\n                    var $inner = $e.find('div.jscroll-inner').first(),\n                        data = $e.data('jscroll'),\n                        borderTopWidth = parseInt($e.css('borderTopWidth'), 10),\n                        borderTopWidthInt = isNaN(borderTopWidth) ? 0 : borderTopWidth,\n                        iContainerTop = parseInt($e.css('paddingTop'), 10) + borderTopWidthInt,\n                        iTopHeight = _isWindow ? _$scroll.scrollTop() : $e.offset().top,\n                        innerTop = $inner.length ? $inner.offset().top : 0,\n                        iTotalHeight = Math.ceil(iTopHeight - innerTop + _$scroll.height() + iContainerTop);\n\n                    if (!data.waiting && iTotalHeight + _options.padding >= $inner.outerHeight()) {\n                        //data.nextHref = $.trim(data.nextHref + ' ' + _options.contentSelector);\n                        _debug('info', 'jScroll:', $inner.outerHeight() - iTotalHeight, 'from bottom. Loading next request...');\n                        return _load();\n                    }\n                }\n            },\n\n            // Check if the href for the next set of content has been set\n            _checkNextHref = function(data) {\n                data = data || $e.data('jscroll');\n                if (!data || !data.nextHref) {\n                    _debug('warn', 'jScroll: nextSelector not found - destroying');\n                    _destroy();\n                    return false;\n                } else {\n                    _setBindings();\n                    return true;\n                }\n            },\n\n            _setBindings = function() {\n                var $next = $e.find(_options.nextSelector).first();\n                if (!$next.length) {\n                    return;\n                }\n                if (_options.autoTrigger && (_options.autoTriggerUntil === false || _options.autoTriggerUntil > 0)) {\n                    _nextWrap($next);\n                     var scrollingBodyHeight = _$body.height() - $e.offset().top,\n                    \tscrollingHeight = ($e.height() < scrollingBodyHeight) ? $e.height() : scrollingBodyHeight,\n                    \twindowHeight = ($e.offset().top - _$window.scrollTop() > 0) ? _$window.height() - ($e.offset().top - $(window).scrollTop()) : _$window.height();\n                    if (scrollingHeight <= windowHeight) {\n                        _observe();\n                    }\n                    _$scroll.unbind('.jscroll').bind('scroll.jscroll', function() {\n                        return _observe();\n                    });\n                    if (_options.autoTriggerUntil > 0) {\n                        _options.autoTriggerUntil--;\n                    }\n                } else {\n                    _$scroll.unbind('.jscroll');\n                    $next.bind('click.jscroll', function() {\n                        _nextWrap($next);\n                        _load();\n                        return false;\n                    });\n                }\n            },\n\n            // Load the next set of content, if available\n            _load = function() {\n                var $inner = $e.find('div.jscroll-inner').first(),\n                    data = $e.data('jscroll');\n\n                data.waiting = true;\n                $inner.append('<div class=\"jscroll-added\" />')\n                    .children('.jscroll-added').last()\n                    .html('<div class=\"jscroll-loading\" id=\"jscroll-loading\">' + _options.loadingHtml + '</div>')\n                    .promise()\n                    .done(function(){\n                        if (_options.loadingFunction) {\n                            _options.loadingFunction();\n                        }\n                    });\n\n                return $e.animate({scrollTop: $inner.outerHeight()}, 0, function() {\n                    $inner.find('div.jscroll-added').last().load(data.nextHref, function(r, status) {\n                        if (status === 'error') {\n                            return _destroy();\n                        }\n                        var $next = $(this).find(_options.nextSelector).first();\n                        data.waiting = false;\n                        data.nextHref = $next.attr('href') ? $.trim($next.attr('href') + ' ' + _options.contentSelector) : false;\n                        $('.jscroll-next-parent', $e).remove(); // Remove the previous next link now that we have a new one\n                        _checkNextHref();\n                        if (_options.callback) {\n                            _options.callback.call(this);\n                        }\n                        _debug('dir', data);\n                    });\n                });\n            },\n\n            // Safe console debug - http://klauzinski.com/javascript/safe-firebug-console-in-javascript\n            _debug = function(m) {\n                if (_options.debug && typeof console === 'object' && (typeof m === 'object' || typeof console[m] === 'function')) {\n                    if (typeof m === 'object') {\n                        var args = [];\n                        for (var sMethod in m) {\n                            if (typeof console[sMethod] === 'function') {\n                                args = (m[sMethod].length) ? m[sMethod] : [m[sMethod]];\n                                console[sMethod].apply(console, args);\n                            } else {\n                                console.log.apply(console, args);\n                            }\n                        }\n                    } else {\n                        console[m].apply(console, Array.prototype.slice.call(arguments, 1));\n                    }\n                }\n            };\n\n        // Initialization\n        $e.data('jscroll', $.extend({}, _data, {initialized: true, waiting: false, nextHref: _nextHref}));\n        _wrapInnerContent();\n        _preloadImage();\n        _setBindings();\n\n        // Expose API methods via the jQuery.jscroll namespace, e.g. $('sel').jscroll.method()\n        $.extend($e.jscroll, {\n            destroy: _destroy\n        });\n        return $e;\n    };\n\n    // Define the jscroll plugin method and loop\n    $.fn.jscroll = function(m) {\n        return this.each(function() {\n            var $this = $(this),\n                data = $this.data('jscroll'), jscroll;\n\n            // Instantiate jScroll on this element if it hasn't been already\n            if (data && data.initialized) {\n                return;\n            }\n            jscroll = new jScroll($this, m);\n        });\n    };\n\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /projects/rede_gsti/resources/~/jscroll/jquery.jscroll.js\n// module id = 56\n// module chunks = 2","import $ from 'jquery'\n\n// $.fn.renderList = function () {\n\n  // return $.each(this, function(){\n  //       var $self = $(this);\n  //       if(!$self.data(\"rendered\")){\n  //           $self.data(\"rendered\", \"rendered\");\n  //           var url = $self.data('xhr-url');\n  //           var $childs;\n  //\n  //           var request = $.ajax({\n  //               url: url,\n  //               success: function(data){\n  //\n  //                   if(data.template){\n  //                       var $element = $(data.template);\n  //\n  //                       $self.append($element);\n  //                       var regex = /^data-list-([0-9]+)$/;\n  //                       if (regex.test($self.attr('id'))) {\n  //                           var $parentSelf = $self.parent('.comments-children');\n  //                           if ($self.children().length > 0) {\n  //                               $parentSelf.removeClass('no-children');\n  //                           } else {\n  //                               $parentSelf.addClass('no-children');\n  //                           }\n  //                       }\n  //\n  //                       $childs = $element.next('div[data-xhr-url]');\n  //                       $self.jscroll({\n  //                           loadingHtml: '<div class=\"load-async-preload\"></div>',\n  //                           contentSelect: \"#\" + $self.attr(\"id\"),\n  //                           nextSelector: \"a[data-jscroll-next]\",\n  //                           autoTrigger: false,\n  //                           callback: function(data){\n  //                               var $div_jscroll = $(\".jscroll-added\");\n  //                               var $jscroll_subforms = $div_jscroll.find(\"form[data-ajaxform=\\\"true\\\"]\");\n  //                               $jscroll_subforms.IdeiaAjaxForm();\n  //                               $jscroll_subforms.on(\"ajaxform.success\", form_submit);\n  //                               $jscroll_subforms.refreshEditors();\n  //                               $div_jscroll.removeClass(\"jscroll-added\");\n  //                           }\n  //                       });\n  //\n  //                       var $subforms = $element.find(\"form[data-ajaxform=\\\"true\\\"]\");\n  //                       $subforms.on(\"ajaxform.success\", form_submit);\n  //                       $subforms.IdeiaAjaxForm();\n  //                       $subforms.refreshEditors();\n  //\n  //                       var async_like = $self.find('[data-async-like]');\n  //                       async_like.IdeiaAsyncLike();\n  //                       async_like.removeData(\"async-like\");\n  //                   }\n  //\n  //               },\n  //               complete: function(){\n  //                   if($childs && $childs.length){\n  //                       $childs.renderList();\n  //                   }\n  //\n  //                   var $preInComment = $('.comment-text').find('code');\n  //                   $.each($preInComment, function (index, element) {\n  //                     Prism.highlightElement(element);\n  //                   });\n  //               }\n  //           });\n  //\n  //           refreshAsyncLike();\n  //       }\n  //\n  //   });\n  var pluginName = \"renderList\",\n\t\t\tdefaults = {\n\t\t\t\tpropertyName: \"value\"\n\t\t\t};\n\n\t\t// The actual plugin constructor\n\t\tfunction Plugin ( element, options ) {\n\t\t\tthis.element = element;\n\t\t\tthis.settings = $.extend( {}, defaults, options );\n\t\t\tthis._defaults = defaults;\n\t\t\tthis._name = pluginName;\n\t\t\tthis.init();\n\t\t}\n\n    // Avoid Plugin.prototype conflicts\n\t\t$.extend( Plugin.prototype, {\n\t\t\tinit: function() {\n\n\t\t\t\t// Place initialization logic here\n\t\t\t\t// You already have access to the DOM element and\n\t\t\t\t// the options via the instance, e.g. this.element\n\t\t\t\t// and this.settings\n\t\t\t\t// you can add more functions like the one below and\n\t\t\t\t// call them like the example below\n        console.log( $(this.element).data('xhrUrl') );\n        this.attachList( $(this.element).data('xhrUrl') );\n\t\t\t},\n      attachList: function (url) {\n        $.get(url)\n        .done(function (data) {\n          if( data.template ) {\n            console.log( data.template );\n          }\n        })\n        .fail( function (data) {\n\n        })\n        .always( function (data) {\n\n        });\n      }\n\t\t} );\n\n    $.fn[ pluginName ] = function( options ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tif ( !$.data( this, \"plugin_\" + pluginName ) ) {\n\t\t\t\t\t$.data( this, \"plugin_\" +\n\t\t\t\t\t\tpluginName, new Plugin( this, options ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n// };\n\n\n\n// WEBPACK FOOTER //\n// ./components/comments/jquery.render-list.js","import '../vendor/rateYo/jquery.rateyo';\nmodule.exports = ( name ) => {\n  const $showMore = $( '[data-toggle=\"showmore\"]' )\n  const $rating = $( '[data-toggle=\"rating\"]' )\n  const formRating = $( '[data-toggle=\"rating-value\"]' )\n\n  const defaultSettings = {\n    halfStar: true,\n    normalFill: '#a09e9e',\n    ratedFill: '#d68004',\n    spacing: '2px',\n    starWidth: '20px',\n    onSet: function (rating, rateYoInstance) {\n      formRating.val( rating )\n    },\n    onChange: function (rating, rateYoInstance) {\n      const reactions = $( rateYoInstance.node ).data( 'reactions' )\n      $( this ).next().text( reactions[ Math.floor( rating )])\n    }\n  }\n\n  $rating.each( ( index, item ) => {\n    const $this = $( item )\n    const dataConfig = $this.data( 'config' )\n    const settings = $.extend({}, defaultSettings, dataConfig)\n    $this.rateYo( settings )\n  })\n\n  $( '[data-form-send]' ).on( 'change', function onChangeSelectSendVideoForm () {\n    var $self = $( this )\n    var $form = $self.closest( 'form[data-form-send-enables]' )\n    if ( $form.length ) {\n      $form.trigger( 'submit' )\n    }\n  })\n\n\n  $showMore.on( 'click tap', ( event ) => {\n    toggleHeight($( event.currentTarget ).attr( 'href' ))\n    event.preventDefault()\n  })\n  }\n\n  const toggleHeight = ( seletor ) => {\n  const $this = $( seletor )\n  const ANIMATION_TIME = $this.data( 'animationSpeed' ) || 200\n\n  if ( $this.hasClass( 'open' )) {\n    $this.animate({\n      height: $this.data( 'height' )\n    }, ANIMATION_TIME, () => $this.removeClass( 'open' ))\n\n    return false\n  }\n\n  const currentHeight =  $this.outerHeight();\n  const autoHeight = $this.css('height', 'auto').outerHeight()\n  $this.data('height', currentHeight)\n  .height(currentHeight).animate({\n    height: autoHeight\n  }, ANIMATION_TIME, () => $this.addClass( 'open' ))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/courses.js","/*****\n* rateYo - v2.2.0\n* http://prrashi.github.io/rateyo/\n* Copyright (c) 2014 Prashanth Pamidi; Licensed MIT\n*****/\n\n;(function ($) {\n  \"use strict\";\n\n  // The basic svg string required to generate stars\n  var BASICSTAR = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\"+\n                  \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 26 28\\\" fill=z\\\"#f00\\\">\"+\n                  \"<path d=\\\"M26 10.109c0 0.281-0.203 0.547-0.406 0.75l-5.672 5.531 1.344 \"+\n                    \"7.812c0.016 0.109 0.016 0.203 0.016 0.313 0 0.406-0.187 0.781-0.641 \"+\n                    \"0.781-0.219 0-0.438-0.078-0.625-0.187l-7.016-3.687-7.016 3.687c-0.203 \"+\n                    \"0.109-0.406 0.187-0.625 0.187-0.453 0-0.656-0.375-0.656-0.781 0-0.109 \"+\n                    \"0.016-0.203 0.031-0.313l1.344-7.812-5.688-5.531c-0.187-0.203-0.391-0.469-0.391-0.75 \"+\n                    \"0-0.469 0.484-0.656 0.875-0.719l7.844-1.141 3.516-7.109c0.141-0.297 0.406-0.641 \"+\n                    \"0.766-0.641s0.625 0.344 0.766 0.641l3.516 7.109 7.844 1.141c0.375 0.063 0.875 \"+\n                    \"0.25 0.875 0.719z\\\"></path>\"+\n\"</svg>\";\n\n  // The Default values of different options available in the Plugin\n  var DEFAULTS = {\n\n    starWidth : \"32px\",\n    normalFill: \"gray\",\n    ratedFill : \"#f39c12\",\n    numStars  : 5,\n    maxValue  : 5,\n    precision : 1,\n    rating    : 0,\n    fullStar  : false,\n    halfStar  : false,\n    readOnly  : false,\n    spacing   : \"0px\",\n    rtl       : false,\n    multiColor: null,\n    onInit    : null,\n    onChange  : null,\n    onSet     : null,\n    starSvg   : null\n  };\n\n  //Default colors for multi-color rating\n  var MULTICOLOR_OPTIONS = {\n\n    startColor: \"#c0392b\", //red\n    endColor  : \"#f1c40f\"  //yellow\n  };\n\n  // http://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n  function isMobileBrowser () {\n    var check = false;\n    /* jshint ignore:start */\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);\n    /* jshint ignore:end */\n    return check;\n  }\n\n  function checkPrecision (value, minValue, maxValue) {\n\n    /*\n     * This function removes the unnecessary precision, at Min and Max Values\n     */\n\n    // Its like comparing 0.0 with 0, which is true\n    if (value === minValue) {\n\n      value = minValue;\n    }\n    else if(value === maxValue) {\n\n      value = maxValue;\n    }\n\n    return value;\n  }\n\n  function checkBounds (value, minValue, maxValue) {\n\n    /*\n     * Check if the value is between min and max values, if not, throw an error\n     */\n\n    var isValid = value >= minValue && value <= maxValue;\n\n    if(!isValid){\n\n        throw Error(\"Invalid Rating, expected value between \"+ minValue +\n                    \" and \" + maxValue);\n    }\n\n    return value;\n  }\n\n  function isDefined(value) {\n\n    // Better way to check if a variable is defined or not\n    return typeof value !== \"undefined\";\n  }\n\n  // Regex to match Colors in Hex Format like #FF00FF\n  var hexRegex = /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i;\n\n  var hexToRGB = function (hex) {\n\n    /*\n     * Extracts and returns the Red, Blue, Green Channel values,\n     * in the form of decimals\n     */\n\n    if (!hexRegex.test(hex)) {\n\n      return null;\n    }\n\n    var hexValues = hexRegex.exec(hex),\n\tr = parseInt(hexValues[1], 16),\n\tg = parseInt(hexValues[2], 16),\n\tb = parseInt(hexValues[3], 16);\n\n    return {r:r, g:g, b:b};\n  };\n\n  function getChannelValue(startVal, endVal, percent) {\n\n    /*\n     * Returns a value between `startVal` and `endVal` based on the percent\n     */\n\n    var newVal = (endVal - startVal)*(percent/100);\n\n    newVal = Math.round(startVal + newVal).toString(16);\n\n    if (newVal.length === 1) {\n\n\tnewVal = \"0\" + newVal;\n    }\n\n    return newVal;\n  }\n\n  function getColor (startColor, endColor, percent) {\n\n    /*\n     * Given the percentage( `percent` ) of `endColor` to be mixed\n     * with the `startColor`, returns the mixed color.\n     * Colors should be only in Hex Format\n     */\n\n    if (!startColor || !endColor) {\n\n      return null;\n    }\n\n    percent = isDefined(percent)? percent : 0;\n\n    startColor = hexToRGB(startColor);\n    endColor = hexToRGB(endColor);\n\n    var r = getChannelValue(startColor.r, endColor.r, percent),\n        b = getChannelValue(startColor.b, endColor.b, percent),\n        g = getChannelValue(startColor.g, endColor.g, percent);\n\n    return \"#\" + r + g + b;\n  }\n\n   function RateYo ($node, options) {\n\n   /*\n    * The Contructor, whose instances are used by plugin itself\n    */\n\n    // Storing the HTML element as a property, for future access\n    this.node = $node.get(0);\n\n    var that = this;\n\n    // Remove any stuff that is present inside the container, and add the plugin class\n    $node.empty().addClass(\"jq-ry-container\");\n\n    /*\n     * Basically the plugin displays the rating using two rows of stars lying one above\n     * the other, the row that is on the top represents the actual rating, and the one\n     * behind acts just like a background.\n     *\n     * `$groupWrapper`: is an element that wraps both the rows\n     * `$normalGroup`: is the container for row of stars thats behind and\n     *                 acts as background\n     * `$ratedGroup`: is the container for row of stars that display the actual rating.\n     *\n     * The rating is displayed by adjusting the width of `$ratedGroup`\n     */\n    var $groupWrapper = $(\"<div/>\").addClass(\"jq-ry-group-wrapper\")\n                                   .appendTo($node);\n\n    var $normalGroup = $(\"<div/>\").addClass(\"jq-ry-normal-group\")\n                                  .addClass(\"jq-ry-group\")\n                                  .appendTo($groupWrapper);\n\n    var $ratedGroup = $(\"<div/>\").addClass(\"jq-ry-rated-group\")\n                                 .addClass(\"jq-ry-group\")\n                                 .appendTo($groupWrapper);\n\n    /*\n     * Variable `step`: store the value of the rating for each star\n     *                  eg: if `maxValue` is 5 and `numStars` is 5, value of each star\n     *                      is 1.\n     * Variable `starWidth`: stores the decimal value of width of star in units of px\n     * Variable `percentOfStar`: stores the percentage of width each star takes w.r.t\n     *                           the container\n     * Variable `spacing`: stores the decimal value of the spacing between stars\n     *                     in the units of px\n     * Variable `percentOfSpacing`: stores the percentage of width of the spacing\n     *                              between stars w.r.t the container\n     */\n    var step, starWidth, percentOfStar, spacing,\n        percentOfSpacing, containerWidth, minValue = 0;\n\n    /*\n     * `currentRating` contains rating that is being displayed at the latest point of\n     * time.\n     *\n     * When ever you hover over the plugin UI, the rating value changes\n     * according to the place where you point the cursor, currentRating contains\n     * the current value of rating that is being shown in the UI\n     */\n    var currentRating = options.rating;\n\n    // A flag to store if the plugin is already being displayed in the UI\n    var isInitialized = false;\n\n    function showRating (ratingVal) {\n\n      /*\n       * The function is responsible for displaying the rating by changing\n       * the width of `$ratedGroup`\n       */\n\n      if (!isDefined(ratingVal)) {\n\n        ratingVal = options.rating;\n      }\n\n      // Storing the value that is being shown in `currentRating`.\n      currentRating = ratingVal;\n\n      var numStarsToShow = ratingVal/step;\n\n      // calculating the percentage of width of $ratedGroup with respect to its parent\n      var percent = numStarsToShow*percentOfStar;\n\n      if (numStarsToShow > 1) {\n\n        // adding the percentage of space that is taken by the gap the stars\n        percent += (Math.ceil(numStarsToShow) - 1)*percentOfSpacing;\n      }\n\n      setRatedFill(options.ratedFill);\n\n      percent = options.rtl ? 100 - percent : percent;\n\n      $ratedGroup.css(\"width\", percent + \"%\");\n    }\n\n    function setContainerWidth () {\n\n      /*\n       * Set the width of the `this.node` based on the width of each star and\n       * the space between them\n       */\n\n      containerWidth = starWidth*options.numStars + spacing*(options.numStars - 1);\n\n      percentOfStar = (starWidth/containerWidth)*100;\n\n      percentOfSpacing = (spacing/containerWidth)*100;\n\n      $node.width(containerWidth);\n\n      showRating();\n    }\n\n    function setStarWidth (newWidth) {\n\n      /*\n       * Set the width and height of each SVG star, called whenever one changes the\n       * `starWidth` option\n       */\n\n      // The width and height of the star should be the same\n      var starHeight = options.starWidth = newWidth;\n\n      starWidth = window.parseFloat(options.starWidth.replace(\"px\", \"\"));\n\n      $normalGroup.find(\"svg\")\n                  .attr({width : options.starWidth,\n                         height: starHeight});\n\n      $ratedGroup.find(\"svg\")\n                 .attr({width : options.starWidth,\n                        height: starHeight});\n\n      setContainerWidth();\n\n      return $node;\n    }\n\n    function setSpacing (newSpacing) {\n\n      /*\n       * Set spacing between the SVG stars, called whenever one changes\n       * the `spacing` option\n       */\n\n      options.spacing = newSpacing;\n\n      spacing = parseFloat(options.spacing.replace(\"px\", \"\"));\n\n      $normalGroup.find(\"svg:not(:first-child)\")\n                  .css({\"margin-left\": newSpacing});\n\n      $ratedGroup.find(\"svg:not(:first-child)\")\n                 .css({\"margin-left\": newSpacing});\n\n      setContainerWidth();\n\n      return $node;\n    }\n\n    function setNormalFill (newFill) {\n\n      /*\n       * Set the background fill of the Stars, called whenever one changes the\n       * `normalFill` option\n       */\n\n      options.normalFill = newFill;\n\n      var $svgs = (options.rtl ? $ratedGroup : $normalGroup).find(\"svg\");\n\n      $svgs.attr({fill: options.normalFill});\n\n      return $node;\n    }\n\n    /*\n     * Store the recent `ratedFill` option in a variable\n     * so that if multiColor is unset, we can use the perviously set `ratedFill`\n     * from this variable\n     */\n    var ratedFill = options.ratedFill;\n\n    function setRatedFill (newFill) {\n\n      /*\n       * Set ratedFill of the stars, called when one changes the `ratedFill` option\n       */\n\n      /*\n       * If `multiColor` option is set, `newFill` variable is dynamically set\n       * based on the rating, what ever set as parameter will be discarded\n       */\n      if (options.multiColor) {\n\n        var ratingDiff = currentRating - minValue,\n            percentCovered = (ratingDiff/options.maxValue)*100;\n\n        var colorOpts  = options.multiColor || {},\n            startColor = colorOpts.startColor || MULTICOLOR_OPTIONS.startColor,\n            endColor   = colorOpts.endColor || MULTICOLOR_OPTIONS.endColor;\n\n        newFill = getColor(startColor, endColor, percentCovered);\n      } else {\n\n        ratedFill = newFill;\n      }\n\n      options.ratedFill = newFill;\n\n      var $svgs = (options.rtl ? $normalGroup : $ratedGroup).find(\"svg\");\n\n      $svgs.attr({fill: options.ratedFill});\n\n      return $node;\n    }\n\n    function setRtl (newValue) {\n\n      newValue = !!newValue;\n\n      options.rtl = newValue;\n\n      setNormalFill(options.normalFill);\n      showRating();\n    }\n\n    function setMultiColor (colorOptions) {\n\n      /*\n       * called whenever one changes the `multiColor` option\n       */\n\n      options.multiColor = colorOptions;\n\n      // set the recently set `ratedFill` option, if multiColor Options are unset\n      setRatedFill(colorOptions ? colorOptions : ratedFill);\n    }\n\n    function setNumStars (newValue) {\n\n      /*\n       * Set the number of stars to use to display the rating, called whenever one\n       * changes the `numStars` option\n       */\n\n      options.numStars = newValue;\n\n      step = options.maxValue/options.numStars;\n\n      $normalGroup.empty();\n      $ratedGroup.empty();\n\n      for (var i=0; i<options.numStars; i++) {\n\n        $normalGroup.append($(options.starSvg || BASICSTAR));\n        $ratedGroup.append($(options.starSvg || BASICSTAR));\n      }\n\n      setStarWidth(options.starWidth);\n      setNormalFill(options.normalFill);\n      setSpacing(options.spacing);\n\n      showRating();\n\n      return $node;\n    }\n\n    function setMaxValue (newValue) {\n\n      /*\n       * set the Maximum Value of rating to be allowed, called whenever\n       * one changes the `maxValue` option\n       */\n\n      options.maxValue = newValue;\n\n      step = options.maxValue/options.numStars;\n\n      if (options.rating > newValue) {\n\n        setRating(newValue);\n      }\n\n      showRating();\n\n      return $node;\n    }\n\n    function setPrecision (newValue) {\n\n      /*\n       * Set the precision of the rating value, called if one changes the\n       * `precision` option\n       */\n\n      options.precision = newValue;\n\n      setRating(options.rating);\n\n      return $node;\n    }\n\n    function setHalfStar (newValue) {\n\n      /*\n       * This function will be called if one changes the `halfStar` option\n       */\n\n      options.halfStar = newValue;\n\n      return $node;\n    }\n\n    function setFullStar (newValue) {\n\n      /*\n       * This function will be called if one changes the `fullStar` option\n       */\n\n      options.fullStar = newValue;\n\n      return $node;\n    }\n\n    function round (value) {\n\n      /*\n       * Rounds the value of rating if `halfStar` or `fullStar` options are chosen\n       */\n\n      var remainder = value%step,\n          halfStep = step/2,\n          isHalfStar = options.halfStar,\n          isFullStar = options.fullStar;\n\n      if (!isFullStar && !isHalfStar) {\n\n        return value;\n      }\n\n      if (isFullStar || (isHalfStar && remainder > halfStep)) {\n\n        value += step - remainder;\n      } else {\n\n        value = value - remainder;\n\n        if (remainder > 0) {\n\n          value += halfStep;\n        }\n      }\n\n      return value;\n    }\n\n    function calculateRating (e) {\n\n      /*\n       * Calculates and returns the rating based on the position of cursor w.r.t the\n       * plugin container\n       */\n\n      var position = $normalGroup.offset(),\n          nodeStartX = position.left,\n          nodeEndX = nodeStartX + $normalGroup.width();\n\n      var maxValue = options.maxValue;\n\n      // The x-coordinate(position) of the mouse pointer w.r.t page\n      var pageX = e.pageX;\n\n      var calculatedRating = 0;\n\n      // If the mouse pointer is to the left of the container\n      if(pageX < nodeStartX) {\n\n        calculatedRating = minValue;\n      }else if (pageX > nodeEndX) { // If the mouse pointer is right of the container\n\n        calculatedRating = maxValue;\n      }else { // If the mouse pointer is inside the continer\n\n        /*\n         * The fraction of width covered by the pointer w.r.t to the total width\n         * of the container.\n         */\n        var calcPrcnt = ((pageX - nodeStartX)/(nodeEndX - nodeStartX));\n\n        if (spacing > 0) {\n\n\t  /*\n           * If there is spacing between stars, take the percentage of width covered\n           * and subtract the percentage of width covered by stars and spacing, to find\n           * how many stars are covered, the number of stars covered is the rating\n           *\n           * TODO: I strongly feel that this logic can be improved!, Please help!\n           */\n          calcPrcnt *= 100;\n\n          var remPrcnt = calcPrcnt;\n\n          while (remPrcnt > 0) {\n\n            if (remPrcnt > percentOfStar) {\n\n              calculatedRating += step;\n              remPrcnt -= (percentOfStar + percentOfSpacing);\n            } else {\n\n              calculatedRating += remPrcnt/percentOfStar*step;\n              remPrcnt = 0;\n            }\n          }\n        } else {\n\n          /*\n           * If there is not spacing between stars, the fraction of width covered per\n           * `maxValue` is the rating\n           */\n          calculatedRating = calcPrcnt * (options.maxValue);\n        }\n\n        // Round the rating if `halfStar` or `fullStar` options are chosen\n        calculatedRating = round(calculatedRating);\n      }\n\n      if (options.rtl) {\n\n        calculatedRating = maxValue - calculatedRating;\n      }\n\n      return calculatedRating;\n    }\n\n    function setReadOnly (newValue) {\n\n      /*\n       * UnBinds mouse event handlers, called when whenever one changes the\n       * `readOnly` option\n       */\n\n      options.readOnly = newValue;\n\n      $node.attr(\"readonly\", true);\n\n      unbindEvents();\n\n      if (!newValue) {\n\n        $node.removeAttr(\"readonly\");\n\n        bindEvents();\n      }\n\n      return $node;\n    }\n\n    function setRating (newValue) {\n\n      /*\n       * Sets the rating of the Plugin, Called when option `rating` is changed\n       * or, when `rating` method is called\n       */\n\n      var rating = newValue;\n\n      var maxValue = options.maxValue;\n\n      if (typeof rating === \"string\") {\n\n        // If rating is given in percentage, maxValue should be 100\n        if (rating[rating.length - 1] === \"%\") {\n\n          rating = rating.substr(0, rating.length - 1);\n          maxValue = 100;\n\n          setMaxValue(maxValue);\n        }\n\n        rating = parseFloat(rating);\n      }\n\n      checkBounds(rating, minValue, maxValue);\n\n      rating = parseFloat(rating.toFixed(options.precision));\n\n      checkPrecision(parseFloat(rating), minValue, maxValue);\n\n      options.rating = rating;\n\n      showRating();\n\n      if (isInitialized) {\n\n        $node.trigger(\"rateyo.set\", {rating: rating});\n      }\n\n      return $node;\n    }\n\n    function setOnInit (method) {\n\n      /*\n       * set what method to be called on Initialization\n       */\n\n      options.onInit = method;\n\n      return $node;\n    }\n\n    function setOnSet (method) {\n\n      /*\n       * set what method to be called when rating is set\n       */\n\n      options.onSet = method;\n\n      return $node;\n    }\n\n    function setOnChange (method) {\n\n      /*\n       * set what method to be called rating in the UI is changed\n       */\n\n      options.onChange = method;\n\n      return $node;\n    }\n\n    this.rating = function (newValue) {\n\n      /*\n       * rating getter/setter\n       */\n\n      if (!isDefined(newValue)) {\n\n        return options.rating;\n      }\n\n      setRating(newValue);\n\n      return $node;\n    };\n\n    this.destroy = function () {\n\n      /*\n       * Removes the Rating UI by clearing the content, and removing the custom classes\n       */\n\n      if (!options.readOnly) {\n\n        unbindEvents();\n      }\n\n      RateYo.prototype.collection = deleteInstance($node.get(0),\n                                                   this.collection);\n\n      $node.removeClass(\"jq-ry-container\").children().remove();\n\n      return $node;\n    };\n\n    this.method = function (methodName) {\n\n      /*\n       * Method to call the methods of RateYo Instance\n       */\n\n      if (!methodName) {\n\n        throw Error(\"Method name not specified!\");\n      }\n\n      if (!isDefined(this[methodName])) {\n\n        throw Error(\"Method \" + methodName + \" doesn't exist!\");\n      }\n\n      var args = Array.prototype.slice.apply(arguments, []),\n          params = args.slice(1),\n          method = this[methodName];\n\n      return method.apply(this, params);\n    };\n\n    this.option = function (optionName, param) {\n\n      /*\n       * Method to get/set Options\n       */\n\n      if (!isDefined(optionName)) {\n\n        return options;\n      }\n\n      var method;\n\n      switch (optionName) {\n\n        case \"starWidth\":\n\n          method = setStarWidth;\n          break;\n        case \"numStars\":\n\n          method = setNumStars;\n          break;\n        case \"normalFill\":\n\n          method = setNormalFill;\n          break;\n        case \"ratedFill\":\n\n          method = setRatedFill;\n          break;\n        case \"multiColor\":\n\n          method = setMultiColor;\n          break;\n        case \"maxValue\":\n\n          method = setMaxValue;\n          break;\n        case \"precision\":\n\n          method = setPrecision;\n          break;\n        case \"rating\":\n\n          method = setRating;\n          break;\n        case \"halfStar\":\n\n          method = setHalfStar;\n          break;\n        case \"fullStar\":\n\n          method = setFullStar;\n          break;\n        case \"readOnly\":\n\n          method = setReadOnly;\n          break;\n        case \"spacing\":\n\n          method = setSpacing;\n          break;\n\tcase \"rtl\":\n\n          method = setRtl;\n\t  break;\n        case \"onInit\":\n\n          method = setOnInit;\n          break;\n        case \"onSet\":\n\n          method = setOnSet;\n          break;\n        case \"onChange\":\n\n          method = setOnChange;\n          break;\n        default:\n\n          throw Error(\"No such option as \" + optionName);\n      }\n\n      return isDefined(param) ? method(param) : options[optionName];\n    };\n\n    function onMouseEnter (e) {\n\n      /*\n       * If the Mouse Pointer is inside the container, calculate and show the rating\n       * in UI\n       */\n\n      var rating = calculateRating(e).toFixed(options.precision);\n\n      var maxValue = options.maxValue;\n\n      rating = checkPrecision(parseFloat(rating), minValue, maxValue);\n\n      showRating(rating);\n\n      $node.trigger(\"rateyo.change\", {rating: rating});\n    }\n\n    function onMouseLeave () {\n      if (isMobileBrowser()) {\n        return;\n      }\n\n      /*\n       * If mouse leaves, revert the rating in UI to previously set rating,\n       * when empty value is passed to showRating, it will take the previously set\n       * rating\n       */\n\n      showRating();\n\n      $node.trigger(\"rateyo.change\", {rating: options.rating});\n    }\n\n    function onMouseClick (e) {\n\n      /*\n       * On clicking the mouse inside the container, calculate and set the rating\n       */\n\n      var resultantRating = calculateRating(e).toFixed(options.precision);\n      resultantRating = parseFloat(resultantRating);\n\n      that.rating(resultantRating);\n    }\n\n    function onInit(e, data) {\n\n      if(options.onInit && typeof options.onInit === \"function\") {\n\n        /* jshint validthis:true */\n        options.onInit.apply(this, [data.rating, that]);\n      }\n    }\n\n    function onChange (e, data) {\n\n      if(options.onChange && typeof options.onChange === \"function\") {\n\n        /* jshint validthis:true */\n        options.onChange.apply(this, [data.rating, that]);\n      }\n    }\n\n    function onSet (e, data) {\n\n      if(options.onSet && typeof options.onSet === \"function\") {\n\n        /* jshint validthis:true */\n        options.onSet.apply(this, [data.rating, that]);\n      }\n    }\n\n    function bindEvents () {\n\n      $node.on(\"mousemove\", onMouseEnter)\n           .on(\"mouseenter\", onMouseEnter)\n           .on(\"mouseleave\", onMouseLeave)\n           .on(\"click\", onMouseClick)\n           .on(\"rateyo.init\", onInit)\n           .on(\"rateyo.change\", onChange)\n           .on(\"rateyo.set\", onSet);\n    }\n\n    function unbindEvents () {\n\n      $node.off(\"mousemove\", onMouseEnter)\n           .off(\"mouseenter\", onMouseEnter)\n           .off(\"mouseleave\", onMouseLeave)\n           .off(\"click\", onMouseClick)\n           .off(\"rateyo.init\", onInit)\n           .off(\"rateyo.change\", onChange)\n           .off(\"rateyo.set\", onSet);\n    }\n\n    setNumStars(options.numStars);\n    setReadOnly(options.readOnly);\n\n    if (options.rtl) {\n\n      setRtl(options.rtl);\n    }\n\n    this.collection.push(this);\n    this.rating(options.rating, true);\n\n    isInitialized = true;\n    $node.trigger(\"rateyo.init\", {rating: options.rating});\n  }\n\n  RateYo.prototype.collection = [];\n\n  function getInstance (node, collection) {\n\n    /*\n     * Given a HTML element (node) and a collection of RateYo instances,\n     * this function will search through the collection and return the matched\n     * instance having the node\n     */\n\n    var instance;\n\n    $.each(collection, function () {\n\n      if(node === this.node){\n\n        instance = this;\n        return false;\n      }\n    });\n\n    return instance;\n  }\n\n  function deleteInstance (node, collection) {\n\n    /*\n     * Given a HTML element (node) and a collection of RateYo instances,\n     * this function will search through the collection and delete the\n     * instance having the node, and return the modified collection\n     */\n\n    $.each(collection, function (index) {\n\n      if (node === this.node) {\n\n        var firstPart = collection.slice(0, index),\n            secondPart = collection.slice(index+1, collection.length);\n\n        collection = firstPart.concat(secondPart);\n\n        return false;\n      }\n    });\n\n    return collection;\n  }\n\n  function _rateYo (options) {\n\n    var rateYoInstances = RateYo.prototype.collection;\n\n    /* jshint validthis:true */\n    var $nodes = $(this);\n\n    if($nodes.length === 0) {\n\n      return $nodes;\n    }\n\n    var args = Array.prototype.slice.apply(arguments, []);\n\n    if (args.length === 0) {\n\n      //If args length is 0, Initialize the UI with default settings\n      options = args[0] = {};\n    }else if (args.length === 1 && typeof args[0] === \"object\") {\n\n      //If an Object is specified as first argument, it is considered as options\n      options = args[0];\n    }else if (args.length >= 1 && typeof args[0] === \"string\") {\n\n      /*\n       * if there is only one argument, and if its a string, it is supposed to be a\n       * method name, if more than one argument is specified, the remaining arguments\n       * except the first argument, will be passed as a params to the specified method\n       */\n\n      var methodName = args[0],\n          params = args.slice(1);\n\n      var result = [];\n\n      $.each($nodes, function (i, node) {\n\n        var existingInstance = getInstance(node, rateYoInstances);\n\n        if(!existingInstance) {\n\n          throw Error(\"Trying to set options before even initialization\");\n        }\n\n        var method = existingInstance[methodName];\n\n        if (!method) {\n\n          throw Error(\"Method \" + methodName + \" does not exist!\");\n        }\n\n        var returnVal = method.apply(existingInstance, params);\n\n        result.push(returnVal);\n      });\n\n      /*\n       * If the plugin in being called on only one jQuery Element, return only the\n       * first value, to support chaining.\n       */\n      result = result.length === 1? result[0]: result;\n\n      return result;\n    }else {\n\n      throw Error(\"Invalid Arguments\");\n    }\n\n    /*\n     * if only options are passed, extend default options, and if the plugin is not\n     * initialized on a particular jQuery element, initalize RateYo on it\n     */\n    options = $.extend({}, DEFAULTS, options);\n\n    return $.each($nodes, function () {\n\n               var existingInstance = getInstance(this, rateYoInstances);\n\n               if (!existingInstance) {\n\n                 return new RateYo($(this), $.extend({}, options));\n               }\n           });\n  }\n\n  function rateYo () {\n\n    /* jshint validthis:true */\n    return _rateYo.apply(this, Array.prototype.slice.apply(arguments, []));\n  }\n\n  window.RateYo = RateYo;\n  $.fn.rateYo = rateYo;\n\n}(window.jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/rateYo/jquery.rateyo.js","module.exports = ( name ) => {\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/customform.js","require('selectize')\nimport input from './customform/input'\nimport ajaxselect from '../asyncModules/ajaxselect'\nimport taxonomy from '../asyncModules/taxonomy'\nimport dropzoneUploader from '../asyncModules/dropzoneUploader'\nimport '../vendor/jquery.steps'\nimport '../vendor/jquery.validate'\nmodule.exports = ( name ) => {\n  const $root = $( name )\n  const $steps = $root.find( '[data-toggle=\"steps\"]' )\n  const $form = $root.find( '[data-toggle=\"form\"]' )\n  const $templateOrganizationUser = $('#template-organization-user')\n  const childElementSelector = 'input,select,textarea,label,div'\n  let usersId = []\n  $form.validate({\n    errorPlacement: function errorPlacement(error, element) {\n      element.after(error)\n    }\n  })\n  $steps.children( '[role=\"tablist\"]' ).steps({\n    headerTag: '.organization__register__tab',\n    bodyTag: '[role=\"tabpanel\"]',\n    enableAllSteps: true,\n    transitionEffect: 'slideLeft',\n    titleTemplate: '#title#',\n    labels: {\n        cancel: \"Cancelar\",\n        current: \"passo atual:\",\n        pagination: \"Paginação\",\n        finish: \"Salvar\",\n        next: \"Avançar\",\n        previous: \"Voltar\",\n        loading: \"Carregando ...\"\n    },\n    onInit: function ( event, currentIndex ) {\n      const $user = $( '[name=\"user\"]' )\n      const $role = $( '[name=\"permission\"]' )\n      const $formset = $root.find( '[data-toggle=\"formset\"]' )\n      const totalForms = $('#id_' + $formset.data( 'name' ) + '-TOTAL_FORMS')\n      const maxForms = $('#id_' + $formset.data( 'name' ) + '-MAX_NUM_FORMS')\n      const minForms = $('#id_' + $formset.data( 'name' ) + '-MIN_NUM_FORMS')\n      input( $root.find( '[data-toggle=\"input\"]' ))\n      ajaxselect( $('[data-select=\"ajaxselect\"]') )\n      taxonomy( $('[data-select=\"taxonomy\"]') )\n      dropzoneUploader( $('[data-toggle=\"dropzoneUploader\"]') )\n      $formset.find('[data-id]').each(( index, element ) => {\n        usersId.push( $(element).data( 'id' ))\n      })\n\n      $root.find( '[data-toggle=\"add-member\"]' ).on( 'click', ( event ) => {\n        const $this = $( event.currentTarget )\n        const formPrefix = $formset.data( 'name' )\n        const formCount = parseInt(totalForms.val())\n        let userTemplate = $templateOrganizationUser.clone(true)\n        if ($user.val() && $role.val()) {\n          userTemplate.find( '[name $='+$user.attr('name')+']' ).val( $user.val() )\n          userTemplate.find( '[name $='+$role.attr('name')+']' ).val( $role.val() )\n          userTemplate.removeAttr('id')\n          userTemplate.removeProp('id')\n          let userValue = parseInt($user.val(), 10)\n          if ( !(usersId.indexOf(userValue) > -1)) {\n            userTemplate.find( childElementSelector ).each( (index, element) => {\n              updateElementIndex($(element), formPrefix, formCount)\n            })\n            totalForms.val( formCount + 1)\n            $( userTemplate ).find( '[data-target=\"name\"]').text( $user.text())\n            $( userTemplate ).find( '[data-target=\"role\"]').text( $role.find('option:selected').text())\n            $( userTemplate ).find( 'img').attr( 'src', `${location.origin}/perfil/dinamic-profile-image/${$user.val()}/70/`)\n            userTemplate.removeClass( 'hidden' )\n            userTemplate.data( 'id', $user.val())\n            $formset.append( userTemplate )\n            usersId.push(userValue)\n          }\n        }\n      })\n\n      $formset.on( 'click', '.gsticon.gsticon-close', ( event ) => {\n        const $this = $( event.currentTarget )\n        const _user = $this.parent().parent();\n        usersId.some( user => {\n          if ( user == _user.data( 'id' )) {\n            usersId.splice(usersId.indexOf(user), 1)\n            _user.hide()\n          }\n        })\n      })\n    },\n    onStepChanging: function ( event, currentIndex, newIndex ) {\n      $form.validate().settings.ignore = ':disabled,:hidden'\n      return $form.valid()\n    },\n    onFinishing: function ( event, currentIndex ) {\n      $form.validate().settings.ignore = ':disabled,:hidden'\n      return $form.valid()\n    },\n    onFinished: function ( event, currentIndex ) {\n      $form.submit()\n    }\n  })\n};\n\n\nfunction updateElementIndex(elem, prefix, ndx) {\n  const idRegex = new RegExp(prefix + '-(\\\\d+|__prefix__)-'),\n      replacement = prefix + '-' + ndx + '-';\n  if (elem.attr(\"for\")) elem.attr(\"for\", elem.attr(\"for\").replace(idRegex, replacement));\n  if (elem.attr('id')) elem.attr('id', elem.attr('id').replace(idRegex, replacement));\n  if (elem.attr('name')) elem.attr('name', elem.attr('name').replace(idRegex, replacement));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/organization.js","$(document).on('input', '[data-filter=\"textbox\"]', function ( event ) {\n    var $this = $( event.currentTarget );\n    var timeout;\n\n    if ( event.type=='keyup' && event.keyCode!=8 ) return;\n\n    if ( !timeout ) {\n      timeout = setTimeout( function () {\n        $this.closest('form').submit();\n      }, 500 );\n    } else {\n      clearTimeout( timeout );\n    }\n\n    console.log( $this );\n});\n\n$(document).on('change',  '[data-filter=\"select\"]', function( event ) {\n    var $this = $( event.currentTarget );\n        $this.closest('form').submit();\n});\n\n$('[data-toggle=\"filter\"]').on(\"ajaxform.success\", function ( event, data ) {\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./components/professions.js","'use strict';\n\nimport $ from 'jquery';\nimport 'jscroll';\n\n$( '.j-scroll' ).jscroll({\n    autoTrigger: false,\n    loadingHtml: '<div class=\"col-xs-12\"><div class=\"load-async-preload\"></div></div>',\n    contentSelect: '.j-scroll-container',\n    nextSelector: 'a[data-jscroll-next]'\n});\n\n$( '[data-form-send]' ).on( 'change', function onChangeSelectSendVideoForm () {\n  var $self = $(this);\n  var $form = $self.closest( 'form[data-form-send-enables]' );\n  if ( $form.length ) {\n      $form.trigger('submit');\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./components/videos.js"],"sourceRoot":""}