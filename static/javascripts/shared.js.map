{"version":3,"sources":["webpack:///shared.js","webpack:///webpack/bootstrap eef397c6a40a5e08ef44","webpack:///external \"jQuery\"","webpack:///./modules/ideiaEditor/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","parentJsonpFunction","window","chunkIds","moreModules","chunkId","i","callbacks","length","installedChunks","push","apply","shift","3","e","callback","undefined","head","document","getElementsByTagName","script","createElement","type","charset","async","src","p","0","2","appendChild","m","c","jQuery","47","$","fn","refreshEditors","sendFile","files","editor","data","FormData","$editor","each","value","append","csrftoken","getCookie","ajax","url","cache","contentType","processData","success","urls","summernote","error","status","alert","responseJSON","message","beforeSend","xhr","settings","csrfSafeMethod","this","crossDomain","setRequestHeader","$editors","find","editorConfig","hintURI","hasHint","hint","match","search","keyword","getJSON","criteria","communities","template","item","title","content","slug","attr","href","text","term","users","full_name","username","$modalLogin","Object","assign","onImageUpload","onPaste","bufferText","originalEvent","clipboardData","getData","preventDefault","setTimeout","execCommand","onFocus","$parentForm","closest","toLowerCase","modal"],"mappings":"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","file":"shared.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, __webpack_require__);\n/******/ \t\tif(moreModules[0]) {\n/******/ \t\t\tinstalledModules[0] = 0;\n/******/ \t\t\treturn __webpack_require__(0);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t3:0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, __webpack_require__);\n/******/\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.async = true;\n/******/\n/******/ \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"main\",\"2\":\"vendor\"}[chunkId]||chunkId) + \".js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/static/javascripts/\";\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n\n/***/ 47:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {\"use strict\";\n\t\n\t$.fn.refreshEditors = function () {\n\t\n\t  function sendFile(files, editor) {\n\t    var data = new FormData();\n\t    var $editor = $(editor);\n\t    $.each(files, function (i, value) {\n\t      data.append(\"file\" + i, value);\n\t    });\n\t\n\t    var csrftoken = getCookie('csrftoken');\n\t\n\t    $.ajax({\n\t      data: data,\n\t      type: \"POST\",\n\t      url: \"/ideia-summernote/upload\",\n\t      cache: false,\n\t      contentType: false,\n\t      processData: false,\n\t      success: function success(data) {\n\t        $.each(data.urls, function (i, value) {\n\t          $editor.summernote('insertImage', value);\n\t        });\n\t      },\n\t      error: function error(data) {\n\t        if (data.status == 400 || data.status == 403) {\n\t          alert(data.responseJSON.message);\n\t        }\n\t      },\n\t      beforeSend: function beforeSend(xhr, settings) {\n\t        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n\t          xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n\t        }\n\t      }\n\t    });\n\t\n\t    return false;\n\t  }\n\t\n\t  var $editors = this.find('[data-toggle=\"editor\"]');\n\t\n\t  $.each($editors, function (i, value) {\n\t\n\t    var $editor = $(value);\n\t    var editorConfig = $editor.data('config') || {};\n\t    var hintURI = $editor.data('hintUrl');\n\t\n\t    if (editorConfig.hasHint) {\n\t      editorConfig.hint = [{\n\t        match: /#([\\-+\\w| ]+)$/,\n\t        search: function search(keyword, callback) {\n\t          $.getJSON('/community/list-all/', { criteria: keyword }, function (data) {\n\t            callback(data.communities);\n\t          });\n\t        },\n\t        template: function template(item) {\n\t          return item.title;\n\t        },\n\t        content: function content(item) {\n\t          if (item.slug && item.title) {\n\t            return $('<a />').attr({\n\t              href: '/' + item.slug + '/',\n\t              title: item.title\n\t            }).text('#' + item.title)[0];\n\t          }\n\t          return '';\n\t        }\n\t      }];\n\t    }\n\t\n\t    if (editorConfig.hasHint && hintURI) {\n\t      editorConfig.hint.push({\n\t        match: /@([\\-+\\w| ]+)$/,\n\t        search: function search(keyword, callback) {\n\t          $.getJSON(hintURI, { term: keyword }, function (data) {\n\t            callback(data.users);\n\t          });\n\t        },\n\t        template: function template(item) {\n\t          return item.full_name;\n\t        },\n\t        content: function content(item) {\n\t          if (item.username && item.full_name) {\n\t            // A url ainda está fixa, fazer a tradução\n\t            return $('<a />').attr({\n\t              href: \"/perfil/\" + item.username + \"/\",\n\t              title: item.full_name\n\t            }).text(\"@\" + item.full_name)[0];\n\t          }\n\t          return '';\n\t        }\n\t      });\n\t    }\n\t\n\t    var $modalLogin = $(\"#modal-login\");\n\t    Object.assign(editorConfig, {\n\t      callbacks: {\n\t        onImageUpload: function onImageUpload(files) {\n\t          sendFile(files, this);\n\t        },\n\t        onPaste: function onPaste(e) {\n\t          var bufferText = ((e.originalEvent || e).clipboardData || window.clipboardData).getData('Text');\n\t          e.preventDefault();\n\t\n\t          // Firefox fix\n\t          setTimeout(function () {\n\t            document.execCommand('insertText', false, bufferText);\n\t          }, 10);\n\t        },\n\t        onFocus: function onFocus(e) {\n\t          var $parentForm = $editor.closest(\"form\");\n\t          if ($parentForm.data(\"logged\") && $parentForm.data(\"logged\").toLowerCase() == \"false\") {\n\t            $modalLogin.modal(\"show\");\n\t          }\n\t        }\n\t      }\n\t    });\n\t\n\t    $editor.summernote(editorConfig);\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }\n\n/******/ });\n\n\n/** WEBPACK FOOTER **\n ** shared.js\n **/"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n \t\tif(moreModules[0]) {\n \t\t\tinstalledModules[0] = 0;\n \t\t\treturn __webpack_require__(0);\n \t\t}\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t3:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"main\",\"2\":\"vendor\"}[chunkId]||chunkId) + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/javascripts/\";\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eef397c6a40a5e08ef44\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 2\n ** module chunks = 3\n **/","$.fn.refreshEditors = function (){\n\n  function sendFile(files, editor) {\n    var data = new FormData();\n    var $editor = $(editor);\n    $.each(files, function(i, value){\n      data.append(\"file\" + i, value);\n    });\n\n    var csrftoken = getCookie('csrftoken');\n\n    $.ajax({\n      data: data,\n      type: \"POST\",\n      url: \"/ideia-summernote/upload\",\n      cache: false,\n      contentType: false,\n      processData: false,\n      success: function(data) {\n        $.each(data.urls, function(i, value){\n          $editor.summernote('insertImage', value);\n        });\n      },\n      error: function(data){\n        if(data.status ==400 || data.status ==403){\n          alert(data.responseJSON.message);\n        }\n      },\n      beforeSend: function(xhr, settings) {\n        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n          xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n        }\n      }\n    });\n\n    return false;\n  }\n\n  const $editors = this.find('[data-toggle=\"editor\"]');\n\n  $.each($editors, function(i, value) {\n\n    var $editor = $(value);\n    let editorConfig = $editor.data('config') || {};\n    let hintURI = $editor.data('hintUrl');\n\n    if (editorConfig.hasHint) {\n      editorConfig.hint = [{\n        match: /#([\\-+\\w| ]+)$/,\n        search: (keyword, callback) => {\n          $.getJSON('/community/list-all/', { criteria: keyword },\n            function (data) {\n              callback(data.communities);\n            }\n          );\n        },\n        template: item => item.title,\n        content: item => {\n          if (item.slug && item.title) {\n            return $('<a />').attr({\n              href: '/'+item.slug+'/',\n              title: item.title\n            }).text('#'+item.title)[0];\n          }\n          return '';\n        },\n      }];\n    }\n\n    if (editorConfig.hasHint && hintURI) {\n      editorConfig.hint.push({\n        match: /@([\\-+\\w| ]+)$/,\n        search: (keyword, callback) => {\n          $.getJSON(hintURI, { term: keyword },\n            data => {\n              callback(data.users);\n            }\n          );\n        },\n        template: item => item.full_name,\n        content: item => {\n          if (item.username && item.full_name) {\n            // A url ainda está fixa, fazer a tradução\n            return $('<a />').attr({\n              href: `/perfil/${item.username}/`,\n              title: item.full_name\n            }).text(`@${item.full_name}`)[0];\n          }\n          return '';\n        },\n      });\n    }\n\n    var $modalLogin = $(\"#modal-login\");\n    Object.assign(editorConfig, {\n      callbacks: {\n        onImageUpload: function(files) {\n          sendFile(files, this);\n        },\n        onPaste: function (e) {\n            var bufferText = ((e.originalEvent || e).clipboardData || window.clipboardData).getData('Text');\n            e.preventDefault();\n\n            // Firefox fix\n            setTimeout(function () {\n                document.execCommand('insertText', false, bufferText);\n            }, 10);\n        },\n        onFocus: function(e) {\n          var $parentForm = $editor.closest(\"form\");\n          if($parentForm.data(\"logged\") && $parentForm.data(\"logged\").toLowerCase() == \"false\") {\n            $modalLogin.modal(\"show\");\n          }\n        }\n      }\n    });\n\n    $editor.summernote(editorConfig);\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/ideiaEditor/index.js\n **/"],"sourceRoot":""}