{"version":3,"sources":["webpack:///shared.js","webpack:///webpack/bootstrap 5331bad955adc82ddd88","webpack:///external \"jQuery\"","webpack:///./modules/ideiaEditor/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","parentJsonpFunction","window","chunkIds","moreModules","chunkId","i","callbacks","length","installedChunks","push","apply","shift","3","e","callback","undefined","head","document","getElementsByTagName","script","createElement","type","charset","async","src","p","0","2","appendChild","m","c","jQuery","47","$","fn","refreshEditors","sendFile","files","editor","data","FormData","$editor","each","value","append","csrftoken","getCookie","ajax","url","cache","contentType","processData","success","urls","summernote","error","status","alert","responseJSON","message","beforeSend","xhr","settings","csrfSafeMethod","this","crossDomain","setRequestHeader","$editors","find","_this","editorConfig","hintURI","hasHint","hint","match","search","keyword","getJSON","criteria","communities","template","item","thumb_url","title","content","slug","_ret","tempself","setTimeout","trigger","v","attr","href","text","term","users","full_name","username","_ret2","$modalLogin","Object","assign","onImageUpload","onPaste","bufferText","originalEvent","clipboardData","getData","preventDefault","execCommand","onFocus","$parentForm","closest","formData","logged","modal","stopPropagation","onChange","imagesContent","index","image","$image","imageFloat","css","console","log"],"mappings":"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","file":"shared.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, __webpack_require__);\n/******/ \t\tif(moreModules[0]) {\n/******/ \t\t\tinstalledModules[0] = 0;\n/******/ \t\t\treturn __webpack_require__(0);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t3:0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, __webpack_require__);\n/******/\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.async = true;\n/******/\n/******/ \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"main\",\"2\":\"vendor\"}[chunkId]||chunkId) + \".js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/static/javascripts/\";\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n\n/***/ 47:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t$.fn.refreshEditors = function () {\n\t\n\t  function sendFile(files, editor) {\n\t    var data = new FormData();\n\t    var $editor = $(editor);\n\t    $.each(files, function (i, value) {\n\t      data.append('file' + i, value);\n\t    });\n\t\n\t    var csrftoken = getCookie('csrftoken');\n\t\n\t    $.ajax({\n\t      data: data,\n\t      type: 'POST',\n\t      url: '/ideia-summernote/upload',\n\t      cache: false,\n\t      contentType: false,\n\t      processData: false,\n\t      success: function success(data) {\n\t        $.each(data.urls, function (i, value) {\n\t          $editor.summernote('insertImage', value);\n\t        });\n\t      },\n\t      error: function error(data) {\n\t        if (data.status == 400 || data.status == 403) {\n\t          alert(data.responseJSON.message);\n\t        }\n\t      },\n\t      beforeSend: function beforeSend(xhr, settings) {\n\t        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n\t          xhr.setRequestHeader('X-CSRFToken', csrftoken);\n\t        }\n\t      }\n\t    });\n\t\n\t    return false;\n\t  }\n\t\n\t  var $editors = this.find('[data-toggle=\"editor\"]');\n\t\n\t  $.each($editors, function (i, value) {\n\t    var _this = this;\n\t\n\t    var $editor = $(value);\n\t    var editorConfig = $editor.data('config') || {};\n\t    var hintURI = $editor.data('hintUrl');\n\t\n\t    if (editorConfig.hasHint) {\n\t      editorConfig.hint = [{\n\t        match: /#([\\-+\\w| ]+)$/,\n\t        search: function search(keyword, callback) {\n\t          $.getJSON('/community/list-all/', { criteria: keyword }, function (data) {\n\t            callback(data.communities);\n\t          });\n\t        },\n\t        template: function template(item) {\n\t          return '<img src=\"' + item.thumb_url + '\" width=\"16\" height=\"16\" alt=\"' + item.title + '\" /> ' + item.title;\n\t        },\n\t        content: function content(item) {\n\t          if (item.slug && item.title) {\n\t            var _ret = (function () {\n\t              var tempself = $(_this);\n\t\n\t              setTimeout(function () {\n\t                tempself.trigger('summernote.change');\n\t              }, 11);\n\t\n\t              return {\n\t                v: $('<a />').attr({\n\t                  href: '/' + item.slug + '/',\n\t                  title: item.title\n\t                }).text('#' + item.title)[0]\n\t              };\n\t              $editor.val($editor.summernote('code'));\n\t            })();\n\t\n\t            if (typeof _ret === 'object') return _ret.v;\n\t          }\n\t          return '';\n\t        }\n\t      }];\n\t    }\n\t\n\t    if (editorConfig.hasHint && hintURI) {\n\t      editorConfig.hint.push({\n\t        match: /\\B@(\\w*)$/,\n\t        search: function search(keyword, callback) {\n\t          if (keyword) {\n\t            $.getJSON(hintURI, { term: keyword }, function (data) {\n\t              callback(data.users);\n\t            });\n\t          }\n\t        },\n\t        template: function template(item) {\n\t          return '<img src=\"' + item.thumb_url + '\" width=\"16\" height=\"16\" alt=\"' + item.full_name + '\" /> ' + item.full_name;\n\t        },\n\t\n\t        content: function content(item) {\n\t          if (item.username && item.full_name) {\n\t            var _ret2 = (function () {\n\t              // TODO:\n\t              // A url ainda está fixa, fazer a tradução\n\t              var tempself = $(_this);\n\t              setTimeout(function () {\n\t                tempself.trigger('summernote.change');\n\t              }, 11);\n\t              return {\n\t                v: $('<a />').attr({\n\t                  href: '/perfil/' + item.username + '/',\n\t                  title: item.full_name\n\t                }).text('@' + item.full_name)[0]\n\t              };\n\t            })();\n\t\n\t            if (typeof _ret2 === 'object') return _ret2.v;\n\t          }\n\t          return '';\n\t        }\n\t      });\n\t    }\n\t\n\t    var $modalLogin = $('#modal-login');\n\t    Object.assign(editorConfig, {\n\t      callbacks: {\n\t        onImageUpload: function onImageUpload(files) {\n\t          sendFile(files, this);\n\t        },\n\t        onPaste: function onPaste(e) {\n\t          var bufferText = ((e.originalEvent || e).clipboardData || window.clipboardData).getData('Text');\n\t          e.preventDefault();\n\t\n\t          // Firefox fix\n\t          setTimeout(function () {\n\t            document.execCommand('insertText', false, bufferText);\n\t          }, 10);\n\t        },\n\t        onFocus: function onFocus(e) {\n\t          var $parentForm = $editor.closest('form');\n\t          var formData = $parentForm.data();\n\t          if (\"logged\" in formData && !formData.logged) {\n\t            $modalLogin.modal('show');\n\t            e.stopPropagation();\n\t          }\n\t        },\n\t        onChange: function onChange(e) {\n\t          setTimeout(function () {\n\t            var imagesContent = $('.note-editable').find('img');\n\t            $.each(imagesContent, function (index, image) {\n\t              var $image = $(image);\n\t              var imageFloat = $image.css('float');\n\t              console.log(imageFloat);\n\t              if (imageFloat) {\n\t                if (imageFloat == 'left') {\n\t                  $image.css('margin-right', 20);\n\t                } else if (imageFloat == 'right') {\n\t                  $image.css('margin-left', 20);\n\t                }\n\t              }\n\t            });\n\t          }, 10);\n\t        }\n\t      }\n\t    });\n\t\n\t    $editor.summernote(editorConfig);\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// shared.js"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n \t\tif(moreModules[0]) {\n \t\t\tinstalledModules[0] = 0;\n \t\t\treturn __webpack_require__(0);\n \t\t}\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t3:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"main\",\"2\":\"vendor\"}[chunkId]||chunkId) + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/javascripts/\";\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5331bad955adc82ddd88","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 2\n// module chunks = 3","$.fn.refreshEditors = function (){\n\n  function sendFile(files, editor) {\n    var data = new FormData();\n    var $editor = $(editor);\n    $.each(files, function(i, value){\n      data.append('file' + i, value);\n    });\n\n    var csrftoken = getCookie('csrftoken');\n\n    $.ajax({\n      data: data,\n      type: 'POST',\n      url: '/ideia-summernote/upload',\n      cache: false,\n      contentType: false,\n      processData: false,\n      success: function(data) {\n        $.each(data.urls, function(i, value){\n          $editor.summernote('insertImage', value);\n        });\n      },\n      error: function(data){\n        if(data.status ==400 || data.status ==403){\n          alert(data.responseJSON.message);\n        }\n      },\n      beforeSend: function(xhr, settings) {\n        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n          xhr.setRequestHeader('X-CSRFToken', csrftoken);\n        }\n      }\n    });\n\n    return false;\n  }\n\n  const $editors = this.find('[data-toggle=\"editor\"]');\n\n  $.each($editors, function(i, value) {\n\n    var $editor = $(value);\n    let editorConfig = $editor.data('config') || {};\n    let hintURI = $editor.data('hintUrl');\n\n    if (editorConfig.hasHint) {\n      editorConfig.hint = [{\n        match: /#([\\-+\\w| ]+)$/,\n        search: (keyword, callback) => {\n          $.getJSON('/community/list-all/', { criteria: keyword },\n            data => {\n              callback(data.communities);\n            }\n          );\n        },\n        template: item => `<img src=\"${item.thumb_url}\" width=\"16\" height=\"16\" alt=\"${item.title}\" /> ${item.title}`,\n        content: item => {\n          if (item.slug && item.title) {\n            let tempself = $(this);\n\n            setTimeout(function () {\n              tempself.trigger('summernote.change');\n            }, 11);\n\n            return $('<a />').attr({\n              href: `/${item.slug}/`,\n              title: item.title\n            }).text(`#${item.title}`)[0];\n            $editor.val($editor.summernote('code'));\n          }\n          return '';\n        },\n      }];\n    }\n\n    if (editorConfig.hasHint && hintURI) {\n      editorConfig.hint.push({\n        match: /\\B@(\\w*)$/,\n        search: (keyword, callback) => {\n          if (keyword) {\n            $.getJSON(hintURI, { term: keyword },\n              data => {\n                callback(data.users);\n              }\n            );\n          }\n        },\n        template: item => `<img src=\"${item.thumb_url}\" width=\"16\" height=\"16\" alt=\"${item.full_name}\" /> ${item.full_name}`,\n\n        content: item => {\n          if (item.username && item.full_name) {\n            // TODO:\n            // A url ainda está fixa, fazer a tradução\n            let tempself = $(this);\n            setTimeout(function () {\n              tempself.trigger('summernote.change');\n            }, 11);\n            return $('<a />').attr({\n              href: `/perfil/${item.username}/`,\n              title: item.full_name\n            }).text(`@${item.full_name}`)[0];\n          }\n          return '';\n        },\n      });\n    }\n\n    var $modalLogin = $('#modal-login');\n    Object.assign(editorConfig, {\n      callbacks: {\n        onImageUpload: function(files) {\n          sendFile(files, this);\n        },\n        onPaste: function (e) {\n            var bufferText = ((e.originalEvent || e).clipboardData || window.clipboardData).getData('Text');\n            e.preventDefault();\n\n            // Firefox fix\n            setTimeout(function () {\n                document.execCommand('insertText', false, bufferText);\n            }, 10);\n        },\n        onFocus: function(e) {\n          let $parentForm = $editor.closest('form');\n          let formData = $parentForm.data();\n          if(\"logged\" in formData && !formData.logged) {\n            $modalLogin.modal('show');\n            e.stopPropagation();\n          }\n        },\n        onChange: function (e) {\n          setTimeout(function () {\n            var imagesContent = $('.note-editable').find('img');\n            $.each(imagesContent, function (index, image) {\n              var $image = $(image);\n              var imageFloat = $image.css('float');\n              console.log(imageFloat);\n              if (imageFloat) {\n                if (imageFloat == 'left') {\n                  $image.css('margin-right', 20);\n                } else if (imageFloat == 'right') {\n                  $image.css('margin-left', 20);\n                }\n              }\n            });\n          }, 10);\n        },\n      }\n    });\n\n    $editor.summernote(editorConfig);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/ideiaEditor/index.js"],"sourceRoot":""}