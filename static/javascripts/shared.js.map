{"version":3,"sources":["webpack:///shared.js","webpack:///webpack/bootstrap 54628bbfbc12dd198b83","webpack:///external \"jQuery\"","webpack:///./modules/ideiaEditor/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","parentJsonpFunction","window","chunkIds","moreModules","chunkId","i","callbacks","length","installedChunks","push","apply","shift","3","e","callback","undefined","head","document","getElementsByTagName","script","createElement","type","charset","async","src","p","0","2","appendChild","m","c","jQuery","46","$","get","done","data","mentionsItems","communities","mentionTitles","forEach","val","idx","array","title","fn","refreshEditors","sendFile","files","editor","FormData","$editor","each","value","append","csrftoken","getCookie","ajax","url","cache","contentType","processData","success","urls","summernote","error","status","alert","responseJSON","message","beforeSend","xhr","settings","csrfSafeMethod","this","crossDomain","setRequestHeader","$editors","find","editorConfig","hasHint","hint","match","search","keyword","grep","item","toLowerCase","indexOf","content","filter","element","index","slug","attr","href","text","$modalLogin","Object","assign","onImageUpload","onPaste","bufferText","originalEvent","clipboardData","getData","preventDefault","setTimeout","execCommand","onFocus","$parentForm","closest","modal"],"mappings":"CAAS,SAAUA,GCmCnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAtDA,GAAAK,GAAAC,OAAA,YACAA,QAAA,sBAAAC,EAAAC,GAIA,IADA,GAAAV,GAAAW,EAAAC,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BD,EAAAF,EAAAG,GACAG,EAAAJ,IACAE,EAAAG,KAAAC,MAAAJ,EAAAE,EAAAJ,IACAI,EAAAJ,GAAA,CAEA,KAAAX,IAAAU,GACAZ,EAAAE,GAAAU,EAAAV,EAGA,KADAO,KAAAE,EAAAC,GACAG,EAAAC,QACAD,EAAAK,QAAAZ,KAAA,KAAAP,EACA,IAAAW,EAAA,GAEA,MADAT,GAAA,KACAF,EAAA,GAKA,IAAAE,MAKAc,GACAI,EAAA,EA6BApB,GAAAqB,EAAA,SAAAT,EAAAU,GAEA,OAAAN,EAAAJ,GACA,MAAAU,GAAAf,KAAA,KAAAP,EAGA,IAAAuB,SAAAP,EAAAJ,GACAI,EAAAJ,GAAAK,KAAAK,OACI,CAEJN,EAAAJ,IAAAU,EACA,IAAAE,GAAAC,SAAAC,qBAAA,WACAC,EAAAF,SAAAG,cAAA,SACAD,GAAAE,KAAA,kBACAF,EAAAG,QAAA,QACAH,EAAAI,OAAA,EAEAJ,EAAAK,IAAAhC,EAAAiC,EAAA,GAAArB,EAAA,MAAgEsB,EAAA,OAAAC,EAAA,UAAwBvB,OAAA,MACxFY,EAAAY,YAAAT,KAKA3B,EAAAqC,EAAAtC,EAGAC,EAAAsC,EAAApC,EAGAF,EAAAiC,EAAA,yBDMME,EACA,SAAS/B,EAAQD,GEhGvBC,EAAAD,QAAAoC,QFsGMC,GACA,SAASpC,EAAQD,EAASH,IAEH,SAASyC,GAAI,YGzG1CA,GAAEC,IAAI,wBAAwBC,KAAK,SAAUC,GAC3CnC,OAAOoC,cAAgBD,EAAKE,YAC5BrC,OAAOsC,iBACPH,EAAKE,YAAYE,QAAQ,SAAUC,EAAKC,EAAKC,GAC3C1C,OAAOsC,cAAc9B,KAAKgC,EAAIG,WAIlCX,EAAEY,GAAGC,eAAiB,WAEpB,QAASC,GAASC,EAAOC,GACvB,GAAIb,GAAO,GAAIc,UACXC,EAAUlB,EAAEgB,EAChBhB,GAAEmB,KAAKJ,EAAO,SAAS3C,EAAGgD,GACxBjB,EAAKkB,OAAO,OAASjD,EAAGgD,IAG1B,IAAIE,GAAYC,UAAU,YA0B1B,OAxBAvB,GAAEwB,MACArB,KAAMA,EACNf,KAAM,OACNqC,IAAK,2BACLC,OAAO,EACPC,aAAa,EACbC,aAAa,EACbC,QAAS,SAAS1B,GAChBH,EAAEmB,KAAKhB,EAAK2B,KAAM,SAAS1D,EAAGgD,GAC5BF,EAAQa,WAAW,cAAeX,MAGtCY,MAAO,SAAS7B,GACG,KAAdA,EAAK8B,QAA8B,KAAd9B,EAAK8B,QAC3BC,MAAM/B,EAAKgC,aAAaC,UAG5BC,WAAY,SAASC,EAAKC,GACnBC,eAAeD,EAASnD,OAAUqD,KAAKC,aAC1CJ,EAAIK,iBAAiB,cAAerB,OAKnC,EAGT,GAAIsB,GAAWH,KAAKI,KAAK,yBAEzB7C,GAAEmB,KAAKyB,EAAU,SAASxE,EAAGgD,GAE3B,GAAIF,GAAUlB,EAAEoB,GACZ0B,EAAe5B,EAAQf,KAAK,aAE5B2C,GAAaC,UACfD,EAAaE,MACXC,MAAO,iBACPC,OAAQ,SAAUC,EAAStE,GACzBA,EAASmB,EAAEoD,KAAK9C,cAAe,SAAU+C,GACvC,MAAuE,IAAhEA,EAAKC,cAAcC,QAAQJ,EAAQG,eAAiBH,OAG/DK,QAAS,QAAAA,GAAUH,GACjB,GAAIG,GAAUpD,cAAcqD,OAAO,SAAUC,EAASC,EAAOjD,GAC3D,MAAOgD,GAAQ/C,OAAS0C,IACvB,EAEH,OAAIG,GAAQI,MAAQJ,EAAQ7C,MACnBX,EAAE,SAAS6D,MAChBC,KAAM,IAAIN,EAAQI,KAAK,IACvBjD,MAAO6C,EAAQ7C,QACdoD,KAAK,IAAIP,EAAQ7C,OAAO,GAEtB,KAKb,IAAIqD,GAAchE,EAAE,eACpBiE,QAAOC,OAAOpB,GACZzE,WACE8F,cAAe,SAASpD,GACtBD,EAASC,EAAO0B,OAElB2B,QAAS,SAAUxF,GACf,GAAIyF,KAAezF,EAAE0F,eAAiB1F,GAAG2F,eAAiBvG,OAAOuG,eAAeC,QAAQ,OACxF5F,GAAE6F,iBAGFC,WAAW,WACP1F,SAAS2F,YAAY,cAAc,EAAON,IAC3C,KAEPO,QAAS,SAAShG,GAChB,GAAIiG,GAAc3D,EAAQ4D,QAAQ,OAC/BD,GAAY1E,KAAK,WAAyD,SAA5C0E,EAAY1E,KAAK,UAAUmD,eACtDU,EAAYe,MAAM,YAM9B7D,EAAQa,WAAWe,QH6GOhF,KAAKJ,EAASH,EAAoB","file":"shared.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, __webpack_require__);\n/******/ \t\tif(moreModules[0]) {\n/******/ \t\t\tinstalledModules[0] = 0;\n/******/ \t\t\treturn __webpack_require__(0);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t3:0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, __webpack_require__);\n/******/\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.async = true;\n/******/\n/******/ \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"main\",\"2\":\"vendor\"}[chunkId]||chunkId) + \".js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/static/javascripts/\";\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n\n/***/ 46:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\t$.get('/community/list-all/').done(function (data) {\n\t  window.mentionsItems = data.communities;\n\t  window.mentionTitles = [];\n\t  data.communities.forEach(function (val, idx, array) {\n\t    window.mentionTitles.push(val.title);\n\t  });\n\t});\n\t\n\t$.fn.refreshEditors = function () {\n\t\n\t  function sendFile(files, editor) {\n\t    var data = new FormData();\n\t    var $editor = $(editor);\n\t    $.each(files, function (i, value) {\n\t      data.append(\"file\" + i, value);\n\t    });\n\t\n\t    var csrftoken = getCookie('csrftoken');\n\t\n\t    $.ajax({\n\t      data: data,\n\t      type: \"POST\",\n\t      url: \"/ideia-summernote/upload\",\n\t      cache: false,\n\t      contentType: false,\n\t      processData: false,\n\t      success: function success(data) {\n\t        $.each(data.urls, function (i, value) {\n\t          $editor.summernote('insertImage', value);\n\t        });\n\t      },\n\t      error: function error(data) {\n\t        if (data.status == 400 || data.status == 403) {\n\t          alert(data.responseJSON.message);\n\t        }\n\t      },\n\t      beforeSend: function beforeSend(xhr, settings) {\n\t        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n\t          xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n\t        }\n\t      }\n\t    });\n\t\n\t    return false;\n\t  }\n\t\n\t  var $editors = this.find('[data-toggle=\"editor\"]');\n\t\n\t  $.each($editors, function (i, value) {\n\t\n\t    var $editor = $(value);\n\t    var editorConfig = $editor.data('config') || {};\n\t\n\t    if (editorConfig.hasHint) {\n\t      editorConfig.hint = {\n\t        match: /#([\\-+\\w| ]+)$/,\n\t        search: function search(keyword, callback) {\n\t          callback($.grep(mentionTitles, function (item) {\n\t            return item.toLowerCase().indexOf(keyword.toLowerCase() || keyword) == 0;\n\t          }));\n\t        },\n\t        content: function content(item) {\n\t          var content = mentionsItems.filter(function (element, index, array) {\n\t            return element.title == item;\n\t          })[0];\n\t\n\t          if (content.slug && content.title) {\n\t            return $('<a />').attr({\n\t              href: '/' + content.slug + '/',\n\t              title: content.title\n\t            }).text('#' + content.title)[0];\n\t          }\n\t          return '';\n\t        }\n\t      };\n\t    }\n\t    var $modalLogin = $(\"#modal-login\");\n\t    Object.assign(editorConfig, {\n\t      callbacks: {\n\t        onImageUpload: function onImageUpload(files) {\n\t          sendFile(files, this);\n\t        },\n\t        onPaste: function onPaste(e) {\n\t          var bufferText = ((e.originalEvent || e).clipboardData || window.clipboardData).getData('Text');\n\t          e.preventDefault();\n\t\n\t          // Firefox fix\n\t          setTimeout(function () {\n\t            document.execCommand('insertText', false, bufferText);\n\t          }, 10);\n\t        },\n\t        onFocus: function onFocus(e) {\n\t          var $parentForm = $editor.closest(\"form\");\n\t          if ($parentForm.data(\"logged\") && $parentForm.data(\"logged\").toLowerCase() == \"false\") {\n\t            $modalLogin.modal(\"show\");\n\t          }\n\t        }\n\t      }\n\t    });\n\t\n\t    $editor.summernote(editorConfig);\n\t  });\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }\n\n/******/ });\n\n\n/** WEBPACK FOOTER **\n ** shared.js\n **/"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n \t\tif(moreModules[0]) {\n \t\t\tinstalledModules[0] = 0;\n \t\t\treturn __webpack_require__(0);\n \t\t}\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t3:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"main\",\"2\":\"vendor\"}[chunkId]||chunkId) + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/javascripts/\";\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 54628bbfbc12dd198b83\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 2\n ** module chunks = 3\n **/","$.get('/community/list-all/').done(function (data) {\n  window.mentionsItems = data.communities;\n  window.mentionTitles = [];\n  data.communities.forEach(function (val, idx, array) {\n    window.mentionTitles.push(val.title);\n  });\n});\n\n$.fn.refreshEditors = function (){\n\n  function sendFile(files, editor) {\n    var data = new FormData();\n    var $editor = $(editor);\n    $.each(files, function(i, value){\n      data.append(\"file\" + i, value);\n    });\n\n    var csrftoken = getCookie('csrftoken');\n\n    $.ajax({\n      data: data,\n      type: \"POST\",\n      url: \"/ideia-summernote/upload\",\n      cache: false,\n      contentType: false,\n      processData: false,\n      success: function(data) {\n        $.each(data.urls, function(i, value){\n          $editor.summernote('insertImage', value);\n        });\n      },\n      error: function(data){\n        if(data.status ==400 || data.status ==403){\n          alert(data.responseJSON.message);\n        }\n      },\n      beforeSend: function(xhr, settings) {\n        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n          xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n        }\n      }\n    });\n\n    return false;\n  }\n\n  var $editors = this.find('[data-toggle=\"editor\"]');\n\n  $.each($editors, function(i, value){\n\n    var $editor = $(value);\n    var editorConfig = $editor.data('config') || {};\n\n    if (editorConfig.hasHint) {\n      editorConfig.hint = {\n        match: /#([\\-+\\w| ]+)$/,\n        search: function (keyword, callback) {\n          callback($.grep(mentionTitles, function (item) {\n            return item.toLowerCase().indexOf(keyword.toLowerCase() || keyword) == 0;\n          }));\n        },\n        content: function (item) {\n          var content = mentionsItems.filter(function (element, index, array) {\n            return element.title == item;\n          })[0];\n\n          if (content.slug && content.title) {\n            return $('<a />').attr({\n              href: '/'+content.slug+'/',\n              title: content.title\n            }).text('#'+content.title)[0];\n          }\n          return '';\n\n        }\n      }\n    }\n    var $modalLogin = $(\"#modal-login\");\n    Object.assign(editorConfig, {\n      callbacks: {\n        onImageUpload: function(files) {\n          sendFile(files, this);\n        },\n        onPaste: function (e) {\n            var bufferText = ((e.originalEvent || e).clipboardData || window.clipboardData).getData('Text');\n            e.preventDefault();\n\n            // Firefox fix\n            setTimeout(function () {\n                document.execCommand('insertText', false, bufferText);\n            }, 10);\n        },\n        onFocus: function(e){\n          var $parentForm = $editor.closest(\"form\");\n          if($parentForm.data(\"logged\") && $parentForm.data(\"logged\").toLowerCase() == \"false\"){\n                $modalLogin.modal(\"show\");\n          }\n        }\n      }\n    });\n\n    $editor.summernote(editorConfig);\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./modules/ideiaEditor/index.js\n **/"],"sourceRoot":""}