{% extends 'notification/email/content.html' %}

{% load abs_url %}
{% load var_tags %}
{% load avatar_tags %}

{% set utm = "utm_source=email_notificacao_membro&utm_campaign=notificacao_membro&utm_medium=email" %}

{% if notification.target_content_type.model == "article" %}
    {% set action_verb = "comentou" %}
    {% set post_name = notification.target.title %}
    {% set url_next = notification.target.get_absolute_url %}
    {% set show_anchor = False %}
    {% set anchor = "#comments" %}


{% elif notification.target_content_type.model == "question" %}
    {% set action_verb = "respondeu" %}
    {% set post_name = notification.target.title %}
    {% set url_next = notification.target.get_absolute_url %}
    {% set show_anchor = False %}

{% elif notification.target_content_type.model == "comment" %}
    {% set action_verb = "respondeu seu coment√°rio" %}
    {% set post_name = notification.target.content_object.title %}
    {% set url_next = notification.target.content_object.get_absolute_url %}
    {% set show_anchor = True %}

{% elif notification.target_content_type.model == "answer" %}
    {% set action_verb = "comentou sua resposta" %}
    {% set post_name = notification.target.question.title %}
    {% set url_next = notification.target.question.get_absolute_url %}
    {% set show_anchor = True %}

{% endif %}

{% block url %}{{ url_next }}?{{ utm }}{% if show_anchor %}#{{ notification.target_content_type.model }}-{{ notification.target.id }}{% elif anchor %}{{ anchor }}{% endif %}{% endblock %}

{% block content %}

{#    <figure>#}
{#        <img src="{% get_avatar notification.author width=20 height=20 smart=False fit_in=False %}" width="20" height="20" alt="{{ notification.author.get_full_name }}">#}
{#        <figcaption>#}
          <span>{{ notification.author.get_full_name }}</span> {{ action_verb }} em <span>{{ post_name }}</span>
{#        </figcaption>#}
{#      </figure>#}

{% endblock %}